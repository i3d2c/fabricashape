!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("fabricashape",[],e):"object"==typeof exports?exports.fabricashape=e():t.fabricashape=e()}("undefined"!=typeof self?self:this,(function(){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=3)}([function(t,e,i){(function(t){
/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */
var r,n,s,o,a,h,c,l,u,f,d,g,p,v,m,_,y,b,x,C,S,w=w||{version:"3.6.2"};if(e.fabric=w,"undefined"!=typeof document&&"undefined"!=typeof window)document instanceof("undefined"!=typeof HTMLDocument?HTMLDocument:Document)?w.document=document:w.document=document.implementation.createHTMLDocument(""),w.window=window;else{var T=new(i(10).JSDOM)(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;w.document=T.document,w.jsdomImplForWrapper=i(11).implForWrapper,w.nodeCanvas=i(12).Canvas,w.window=T,DOMParser=w.window.DOMParser}function O(t,e){var i=t.canvas,r=e.targetCanvas,n=r.getContext("2d");n.translate(0,r.height),n.scale(1,-1);var s=i.height-r.height;n.drawImage(i,0,s,r.width,r.height,0,0,r.width,r.height)}function P(t,e){var i=e.targetCanvas.getContext("2d"),r=e.destinationWidth,n=e.destinationHeight,s=r*n*4,o=new Uint8Array(this.imageBuffer,0,s),a=new Uint8ClampedArray(this.imageBuffer,0,s);t.readPixels(0,0,r,n,t.RGBA,t.UNSIGNED_BYTE,o);var h=new ImageData(a,r,n);i.putImageData(h,0,0)}w.isTouchSupported="ontouchstart"in w.window||"ontouchstart"in w.document||w.window&&w.window.navigator&&w.window.navigator.maxTouchPoints>0,w.isLikelyNode=void 0!==t&&"undefined"==typeof window,w.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],w.DPI=96,w.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",w.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,w.reNonWord=/[ \n\.,;!\?\-]/,w.fontPaths={},w.iMatrix=[1,0,0,1,0,0],w.svgNS="http://www.w3.org/2000/svg",w.perfLimitSizeTotal=2097152,w.maxCacheSideLimit=4096,w.minCacheSideLimit=256,w.charWidthsCache={},w.textureSize=2048,w.disableStyleCopyPaste=!1,w.enableGLFiltering=!0,w.devicePixelRatio=w.window.devicePixelRatio||w.window.webkitDevicePixelRatio||w.window.mozDevicePixelRatio||1,w.browserShadowBlurConstant=1,w.arcToSegmentsCache={},w.boundsOfCurveCache={},w.cachesBoundsOfCurve=!0,w.forceGLPutImageData=!1,w.initFilterBackend=function(){return w.enableGLFiltering&&w.isWebglSupported&&w.isWebglSupported(w.textureSize)?(console.log("max texture size: "+w.maxTextureSize),new w.WebglFilterBackend({tileSize:w.textureSize})):w.Canvas2dFilterBackend?new w.Canvas2dFilterBackend:void 0},"undefined"!=typeof document&&"undefined"!=typeof window&&(window.fabric=w),function(){function t(t,e){if(this.__eventListeners[t]){var i=this.__eventListeners[t];e?i[i.indexOf(e)]=!1:w.util.array.fill(i,!1)}}function e(t,e){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var i in t)this.on(i,t[i]);else this.__eventListeners[t]||(this.__eventListeners[t]=[]),this.__eventListeners[t].push(e);return this}function i(e,i){if(!this.__eventListeners)return this;if(0===arguments.length)for(e in this.__eventListeners)t.call(this,e);else if(1===arguments.length&&"object"==typeof arguments[0])for(var r in e)t.call(this,r,e[r]);else t.call(this,e,i);return this}function r(t,e){if(!this.__eventListeners)return this;var i=this.__eventListeners[t];if(!i)return this;for(var r=0,n=i.length;r<n;r++)i[r]&&i[r].call(this,e||{});return this.__eventListeners[t]=i.filter((function(t){return!1!==t})),this}w.Observable={observe:e,stopObserving:i,fire:r,on:e,off:i,trigger:r}}(),w.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var t=0,e=arguments.length;t<e;t++)this._onObjectAdded(arguments[t]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(t,e,i){var r=this._objects;return i?r[e]=t:r.splice(e,0,t),this._onObjectAdded&&this._onObjectAdded(t),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var t,e=this._objects,i=!1,r=0,n=arguments.length;r<n;r++)-1!==(t=e.indexOf(arguments[r]))&&(i=!0,e.splice(t,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[r]));return this.renderOnAddRemove&&i&&this.requestRenderAll(),this},forEachObject:function(t,e){for(var i=this.getObjects(),r=0,n=i.length;r<n;r++)t.call(e,i[r],r,i);return this},getObjects:function(t){return void 0===t?this._objects.concat():this._objects.filter((function(e){return e.type===t}))},item:function(t){return this._objects[t]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(t){return this._objects.indexOf(t)>-1},complexity:function(){return this._objects.reduce((function(t,e){return t+=e.complexity?e.complexity():0}),0)}},w.CommonMethods={_setOptions:function(t){for(var e in t)this.set(e,t[e])},_initGradient:function(t,e){!t||!t.colorStops||t instanceof w.Gradient||this.set(e,new w.Gradient(t))},_initPattern:function(t,e,i){!t||!t.source||t instanceof w.Pattern?i&&i():this.set(e,new w.Pattern(t,i))},_initClipping:function(t){if(t.clipTo&&"string"==typeof t.clipTo){var e=w.util.getFunctionBody(t.clipTo);void 0!==e&&(this.clipTo=new Function("ctx",e))}},_setObject:function(t){for(var e in t)this._set(e,t[e])},set:function(t,e){return"object"==typeof t?this._setObject(t):"function"==typeof e&&"clipTo"!==t?this._set(t,e(this.get(t))):this._set(t,e),this},_set:function(t,e){this[t]=e},toggle:function(t){var e=this.get(t);return"boolean"==typeof e&&this.set(t,!e),this},get:function(t){return this[t]}},r=e,n=Math.sqrt,s=Math.atan2,o=Math.pow,a=Math.PI/180,h=Math.PI/2,w.util={cos:function(t){if(0===t)return 1;switch(t<0&&(t=-t),t/h){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},sin:function(t){if(0===t)return 0;var e=1;switch(t<0&&(e=-1),t/h){case 1:return e;case 2:return 0;case 3:return-e}return Math.sin(t)},removeFromArray:function(t,e){var i=t.indexOf(e);return-1!==i&&t.splice(i,1),t},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},degreesToRadians:function(t){return t*a},radiansToDegrees:function(t){return t/a},rotatePoint:function(t,e,i){t.subtractEquals(e);var r=w.util.rotateVector(t,i);return new w.Point(r.x,r.y).addEquals(e)},rotateVector:function(t,e){var i=w.util.sin(e),r=w.util.cos(e);return{x:t.x*r-t.y*i,y:t.x*i+t.y*r}},transformPoint:function(t,e,i){return i?new w.Point(e[0]*t.x+e[2]*t.y,e[1]*t.x+e[3]*t.y):new w.Point(e[0]*t.x+e[2]*t.y+e[4],e[1]*t.x+e[3]*t.y+e[5])},makeBoundingBoxFromPoints:function(t,e){if(e)for(var i=0;i<t.length;i++)t[i]=w.util.transformPoint(t[i],e);var r=[t[0].x,t[1].x,t[2].x,t[3].x],n=w.util.array.min(r),s=w.util.array.max(r)-n,o=[t[0].y,t[1].y,t[2].y,t[3].y],a=w.util.array.min(o);return{left:n,top:a,width:s,height:w.util.array.max(o)-a}},invertTransform:function(t){var e=1/(t[0]*t[3]-t[1]*t[2]),i=[e*t[3],-e*t[1],-e*t[2],e*t[0]],r=w.util.transformPoint({x:t[4],y:t[5]},i,!0);return i[4]=-r.x,i[5]=-r.y,i},toFixed:function(t,e){return parseFloat(Number(t).toFixed(e))},parseUnit:function(t,e){var i=/\D{0,2}$/.exec(t),r=parseFloat(t);switch(e||(e=w.Text.DEFAULT_SVG_FONT_SIZE),i[0]){case"mm":return r*w.DPI/25.4;case"cm":return r*w.DPI/2.54;case"in":return r*w.DPI;case"pt":return r*w.DPI/72;case"pc":return r*w.DPI/72*12;case"em":return r*e;default:return r}},falseFunction:function(){return!1},getKlass:function(t,e){return t=w.util.string.camelize(t.charAt(0).toUpperCase()+t.slice(1)),w.util.resolveNamespace(e)[t]},getSvgAttributes:function(t){var e=["instantiated_by_use","style","id","class"];switch(t){case"linearGradient":e=e.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":e=e.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":e=e.concat(["offset","stop-color","stop-opacity"])}return e},resolveNamespace:function(t){if(!t)return w;var e,i=t.split("."),n=i.length,s=r||w.window;for(e=0;e<n;++e)s=s[i[e]];return s},loadImage:function(t,e,i,r){if(t){var n=w.util.createImage(),s=function(){e&&e.call(i,n),n=n.onload=n.onerror=null};n.onload=s,n.onerror=function(){w.log("Error loading "+n.src),e&&e.call(i,null,!0),n=n.onload=n.onerror=null},0!==t.indexOf("data")&&r&&(n.crossOrigin=r),"data:image/svg"===t.substring(0,14)&&(n.onload=null,w.util.loadImageInDom(n,s)),n.src=t}else e&&e.call(i,t)},loadImageInDom:function(t,e){var i=w.document.createElement("div");i.style.width=i.style.height="1px",i.style.left=i.style.top="-100%",i.style.position="absolute",i.appendChild(t),w.document.querySelector("body").appendChild(i),t.onload=function(){e(),i.parentNode.removeChild(i),i=null}},enlivenObjects:function(t,e,i,r){var n=[],s=0,o=(t=t||[]).length;function a(){++s===o&&e&&e(n.filter((function(t){return t})))}o?t.forEach((function(t,e){t&&t.type?w.util.getKlass(t.type,i).fromObject(t,(function(i,s){s||(n[e]=i),r&&r(t,i,s),a()})):a()})):e&&e(n)},enlivenPatterns:function(t,e){function i(){++n===s&&e&&e(r)}var r=[],n=0,s=(t=t||[]).length;s?t.forEach((function(t,e){t&&t.source?new w.Pattern(t,(function(t){r[e]=t,i()})):(r[e]=t,i())})):e&&e(r)},groupSVGElements:function(t,e,i){var r;return t&&1===t.length?t[0]:(e&&(e.width&&e.height?e.centerPoint={x:e.width/2,y:e.height/2}:(delete e.width,delete e.height)),r=new w.Group(t,e),void 0!==i&&(r.sourcePath=i),r)},populateWithProperties:function(t,e,i){if(i&&"[object Array]"===Object.prototype.toString.call(i))for(var r=0,n=i.length;r<n;r++)i[r]in t&&(e[i[r]]=t[i[r]])},drawDashedLine:function(t,e,i,r,o,a){var h=r-e,c=o-i,l=n(h*h+c*c),u=s(c,h),f=a.length,d=0,g=!0;for(t.save(),t.translate(e,i),t.moveTo(0,0),t.rotate(u),e=0;l>e;)(e+=a[d++%f])>l&&(e=l),t[g?"lineTo":"moveTo"](e,0),g=!g;t.restore()},createCanvasElement:function(){return w.document.createElement("canvas")},copyCanvasElement:function(t){var e=w.util.createCanvasElement();return e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),e},toDataURL:function(t,e,i){return t.toDataURL("image/"+e,i)},createImage:function(){return w.document.createElement("img")},clipContext:function(t,e){e.save(),e.beginPath(),t.clipTo(e),e.clip()},multiplyTransformMatrices:function(t,e,i){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],i?0:t[0]*e[4]+t[2]*e[5]+t[4],i?0:t[1]*e[4]+t[3]*e[5]+t[5]]},qrDecompose:function(t){var e=s(t[1],t[0]),i=o(t[0],2)+o(t[1],2),r=n(i),h=(t[0]*t[3]-t[2]*t[1])/r,c=s(t[0]*t[2]+t[1]*t[3],i);return{angle:e/a,scaleX:r,scaleY:h,skewX:c/a,skewY:0,translateX:t[4],translateY:t[5]}},calcRotateMatrix:function(t){if(!t.angle)return w.iMatrix.concat();var e=w.util.degreesToRadians(t.angle),i=w.util.cos(e),r=w.util.sin(e);return[i,r,-r,i,0,0]},calcDimensionsMatrix:function(t){var e=void 0===t.scaleX?1:t.scaleX,i=void 0===t.scaleY?1:t.scaleY,r=[t.flipX?-e:e,0,0,t.flipY?-i:i,0,0],n=w.util.multiplyTransformMatrices,s=w.util.degreesToRadians;return t.skewX&&(r=n(r,[1,0,Math.tan(s(t.skewX)),1],!0)),t.skewY&&(r=n(r,[1,Math.tan(s(t.skewY)),0,1],!0)),r},composeMatrix:function(t){var e=[1,0,0,1,t.translateX||0,t.translateY||0],i=w.util.multiplyTransformMatrices;return t.angle&&(e=i(e,w.util.calcRotateMatrix(t))),(t.scaleX||t.scaleY||t.skewX||t.skewY||t.flipX||t.flipY)&&(e=i(e,w.util.calcDimensionsMatrix(t))),e},customTransformMatrix:function(t,e,i){return w.util.composeMatrix({scaleX:t,scaleY:e,skewX:i})},resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},saveObjectTransform:function(t){return{scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}},getFunctionBody:function(t){return(String(t).match(/function[^{]*\{([\s\S]*)\}/)||{})[1]},isTransparent:function(t,e,i,r){r>0&&(e>r?e-=r:e=0,i>r?i-=r:i=0);var n,s=!0,o=t.getImageData(e,i,2*r||1,2*r||1),a=o.data.length;for(n=3;n<a&&!1!=(s=o.data[n]<=0);n+=4);return o=null,s},parsePreserveAspectRatioAttribute:function(t){var e,i="meet",r=t.split(" ");return r&&r.length&&("meet"!==(i=r.pop())&&"slice"!==i?(e=i,i="meet"):r.length&&(e=r.pop())),{meetOrSlice:i,alignX:"none"!==e?e.slice(1,4):"none",alignY:"none"!==e?e.slice(5,8):"none"}},clearFabricFontCache:function(t){(t=(t||"").toLowerCase())?w.charWidthsCache[t]&&delete w.charWidthsCache[t]:w.charWidthsCache={}},limitDimsByArea:function(t,e){var i=Math.sqrt(e*t),r=Math.floor(e/i);return{x:Math.floor(i),y:r}},capValue:function(t,e,i){return Math.max(t,Math.min(e,i))},findScaleToFit:function(t,e){return Math.min(e.width/t.width,e.height/t.height)},findScaleToCover:function(t,e){return Math.max(e.width/t.width,e.height/t.height)},matrixToSVG:function(t){return"matrix("+t.map((function(t){return w.util.toFixed(t,w.Object.NUM_FRACTION_DIGITS)})).join(" ")+")"}},function(){var t=Array.prototype.join;function e(e,n,s,o,a,h,c){var l=t.call(arguments);if(w.arcToSegmentsCache[l])return w.arcToSegmentsCache[l];var u=Math.PI,f=c*u/180,d=w.util.sin(f),g=w.util.cos(f),p=0,v=0,m=-g*e*.5-d*n*.5,_=-g*n*.5+d*e*.5,y=(s=Math.abs(s))*s,b=(o=Math.abs(o))*o,x=_*_,C=m*m,S=y*b-y*x-b*C,T=0;if(S<0){var O=Math.sqrt(1-S/(y*b));s*=O,o*=O}else T=(a===h?-1:1)*Math.sqrt(S/(y*x+b*C));var P=T*s*_/o,k=-T*o*m/s,E=g*P-d*k+.5*e,A=d*P+g*k+.5*n,D=r(1,0,(m-P)/s,(_-k)/o),j=r((m-P)/s,(_-k)/o,(-m-P)/s,(-_-k)/o);0===h&&j>0?j-=2*u:1===h&&j<0&&(j+=2*u);for(var M=Math.ceil(Math.abs(j/u*2)),F=[],I=j/M,R=8/3*Math.sin(I/4)*Math.sin(I/4)/Math.sin(I/2),L=D+I,B=0;B<M;B++)F[B]=i(D,L,g,d,s,o,E,A,R,p,v),p=F[B][4],v=F[B][5],D=L,L+=I;return w.arcToSegmentsCache[l]=F,F}function i(t,e,i,r,n,s,o,a,h,c,l){var u=w.util.cos(t),f=w.util.sin(t),d=w.util.cos(e),g=w.util.sin(e),p=i*n*d-r*s*g+o,v=r*n*d+i*s*g+a;return[c+h*(-i*n*f-r*s*u),l+h*(-r*n*f+i*s*u),p+h*(i*n*g+r*s*d),v+h*(r*n*g-i*s*d),p,v]}function r(t,e,i,r){var n=Math.atan2(e,t),s=Math.atan2(r,i);return s>=n?s-n:2*Math.PI-(n-s)}function n(e,i,r,n,s,o,a,h){var c;if(w.cachesBoundsOfCurve&&(c=t.call(arguments),w.boundsOfCurveCache[c]))return w.boundsOfCurveCache[c];var l,u,f,d,g,p,v,m,_=Math.sqrt,y=Math.min,b=Math.max,x=Math.abs,C=[],S=[[],[]];u=6*e-12*r+6*s,l=-3*e+9*r-9*s+3*a,f=3*r-3*e;for(var T=0;T<2;++T)if(T>0&&(u=6*i-12*n+6*o,l=-3*i+9*n-9*o+3*h,f=3*n-3*i),x(l)<1e-12){if(x(u)<1e-12)continue;0<(d=-f/u)&&d<1&&C.push(d)}else(v=u*u-4*f*l)<0||(0<(g=(-u+(m=_(v)))/(2*l))&&g<1&&C.push(g),0<(p=(-u-m)/(2*l))&&p<1&&C.push(p));for(var O,P,k,E=C.length,A=E;E--;)O=(k=1-(d=C[E]))*k*k*e+3*k*k*d*r+3*k*d*d*s+d*d*d*a,S[0][E]=O,P=k*k*k*i+3*k*k*d*n+3*k*d*d*o+d*d*d*h,S[1][E]=P;S[0][A]=e,S[1][A]=i,S[0][A+1]=a,S[1][A+1]=h;var D=[{x:y.apply(null,S[0]),y:y.apply(null,S[1])},{x:b.apply(null,S[0]),y:b.apply(null,S[1])}];return w.cachesBoundsOfCurve&&(w.boundsOfCurveCache[c]=D),D}w.util.drawArc=function(t,i,r,n){for(var s=n[0],o=n[1],a=n[2],h=n[3],c=n[4],l=[[],[],[],[]],u=e(n[5]-i,n[6]-r,s,o,h,c,a),f=0,d=u.length;f<d;f++)l[f][0]=u[f][0]+i,l[f][1]=u[f][1]+r,l[f][2]=u[f][2]+i,l[f][3]=u[f][3]+r,l[f][4]=u[f][4]+i,l[f][5]=u[f][5]+r,t.bezierCurveTo.apply(t,l[f])},w.util.getBoundsOfArc=function(t,i,r,s,o,a,h,c,l){for(var u,f=0,d=0,g=[],p=e(c-t,l-i,r,s,a,h,o),v=0,m=p.length;v<m;v++)u=n(f,d,p[v][0],p[v][1],p[v][2],p[v][3],p[v][4],p[v][5]),g.push({x:u[0].x+t,y:u[0].y+i}),g.push({x:u[1].x+t,y:u[1].y+i}),f=p[v][4],d=p[v][5];return g},w.util.getBoundsOfCurve=n}(),function(){var t=Array.prototype.slice;function e(t,e,i){if(t&&0!==t.length){var r=t.length-1,n=e?t[r][e]:t[r];if(e)for(;r--;)i(t[r][e],n)&&(n=t[r][e]);else for(;r--;)i(t[r],n)&&(n=t[r]);return n}}w.util.array={fill:function(t,e){for(var i=t.length;i--;)t[i]=e;return t},invoke:function(e,i){for(var r=t.call(arguments,2),n=[],s=0,o=e.length;s<o;s++)n[s]=r.length?e[s][i].apply(e[s],r):e[s][i].call(e[s]);return n},min:function(t,i){return e(t,i,(function(t,e){return t<e}))},max:function(t,i){return e(t,i,(function(t,e){return t>=e}))}}}(),function(){function t(e,i,r){if(r)if(!w.isLikelyNode&&i instanceof Element)e=i;else if(i instanceof Array){e=[];for(var n=0,s=i.length;n<s;n++)e[n]=t({},i[n],r)}else if(i&&"object"==typeof i)for(var o in i)"canvas"===o?e[o]=t({},i[o]):i.hasOwnProperty(o)&&(e[o]=t({},i[o],r));else e=i;else for(var o in i)e[o]=i[o];return e}w.util.object={extend:t,clone:function(e,i){return t({},e,i)}},w.util.object.extend(w.util,w.Observable)}(),function(){function t(t,e){var i=t.charCodeAt(e);if(isNaN(i))return"";if(i<55296||i>57343)return t.charAt(e);if(55296<=i&&i<=56319){if(t.length<=e+1)throw"High surrogate without following low surrogate";var r=t.charCodeAt(e+1);if(56320>r||r>57343)throw"High surrogate without following low surrogate";return t.charAt(e)+t.charAt(e+1)}if(0===e)throw"Low surrogate without preceding high surrogate";var n=t.charCodeAt(e-1);if(55296>n||n>56319)throw"Low surrogate without preceding high surrogate";return!1}w.util.string={camelize:function(t){return t.replace(/-+(.)?/g,(function(t,e){return e?e.toUpperCase():""}))},capitalize:function(t,e){return t.charAt(0).toUpperCase()+(e?t.slice(1):t.slice(1).toLowerCase())},escapeXml:function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function(e){var i,r=0,n=[];for(r=0;r<e.length;r++)!1!==(i=t(e,r))&&n.push(i);return n}}}(),function(){var t=Array.prototype.slice,e=function(){},i=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}(),r=function(t,e,r){for(var n in e)n in t.prototype&&"function"==typeof t.prototype[n]&&(e[n]+"").indexOf("callSuper")>-1?t.prototype[n]=function(t){return function(){var i=this.constructor.superclass;this.constructor.superclass=r;var n=e[t].apply(this,arguments);if(this.constructor.superclass=i,"initialize"!==t)return n}}(n):t.prototype[n]=e[n],i&&(e.toString!==Object.prototype.toString&&(t.prototype.toString=e.toString),e.valueOf!==Object.prototype.valueOf&&(t.prototype.valueOf=e.valueOf))};function n(){}function s(e){for(var i=null,r=this;r.constructor.superclass;){var n=r.constructor.superclass.prototype[e];if(r[e]!==n){i=n;break}r=r.constructor.superclass.prototype}return i?arguments.length>1?i.apply(this,t.call(arguments,1)):i.call(this):console.log("tried to callSuper "+e+", method not found in prototype chain",this)}w.util.createClass=function(){var i=null,o=t.call(arguments,0);function a(){this.initialize.apply(this,arguments)}"function"==typeof o[0]&&(i=o.shift()),a.superclass=i,a.subclasses=[],i&&(n.prototype=i.prototype,a.prototype=new n,i.subclasses.push(a));for(var h=0,c=o.length;h<c;h++)r(a,o[h],i);return a.prototype.initialize||(a.prototype.initialize=e),a.prototype.constructor=a,a.prototype.callSuper=s,a}}(),c=!!w.document.createElement("div").attachEvent,w.util.addListener=function(t,e,i,r){t&&t.addEventListener(e,i,!c&&r)},w.util.removeListener=function(t,e,i,r){t&&t.removeEventListener(e,i,!c&&r)},w.util.getPointer=function(t){var e=t.target,i=w.util.getScrollLeftTop(e),r=function(t){var e=t.changedTouches;return e&&e[0]?e[0]:t}(t);return{x:r.clientX+i.left,y:r.clientY+i.top}},l=w.document.createElement("div"),u="string"==typeof l.style.opacity,f="string"==typeof l.style.filter,d=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,g=function(t){return t},u?g=function(t,e){return t.style.opacity=e,t}:f&&(g=function(t,e){var i=t.style;return t.currentStyle&&!t.currentStyle.hasLayout&&(i.zoom=1),d.test(i.filter)?(e=e>=.9999?"":"alpha(opacity="+100*e+")",i.filter=i.filter.replace(d,e)):i.filter+=" alpha(opacity="+100*e+")",t}),w.util.setStyle=function(t,e){var i=t.style;if(!i)return t;if("string"==typeof e)return t.style.cssText+=";"+e,e.indexOf("opacity")>-1?g(t,e.match(/opacity:\s*(\d?\.?\d*)/)[1]):t;for(var r in e)"opacity"===r?g(t,e[r]):i["float"===r||"cssFloat"===r?void 0===i.styleFloat?"cssFloat":"styleFloat":r]=e[r];return t},function(){var t=Array.prototype.slice;var e,i,r,n,s=function(e){return t.call(e,0)};try{e=s(w.document.childNodes)instanceof Array}catch(t){}function o(t,e){var i=w.document.createElement(t);for(var r in e)"class"===r?i.className=e[r]:"for"===r?i.htmlFor=e[r]:i.setAttribute(r,e[r]);return i}function a(t){for(var e=0,i=0,r=w.document.documentElement,n=w.document.body||{scrollLeft:0,scrollTop:0};t&&(t.parentNode||t.host)&&((t=t.parentNode||t.host)===w.document?(e=n.scrollLeft||r.scrollLeft||0,i=n.scrollTop||r.scrollTop||0):(e+=t.scrollLeft||0,i+=t.scrollTop||0),1!==t.nodeType||"fixed"!==t.style.position););return{left:e,top:i}}e||(s=function(t){for(var e=new Array(t.length),i=t.length;i--;)e[i]=t[i];return e}),i=w.document.defaultView&&w.document.defaultView.getComputedStyle?function(t,e){var i=w.document.defaultView.getComputedStyle(t,null);return i?i[e]:void 0}:function(t,e){var i=t.style[e];return!i&&t.currentStyle&&(i=t.currentStyle[e]),i},r=w.document.documentElement.style,n="userSelect"in r?"userSelect":"MozUserSelect"in r?"MozUserSelect":"WebkitUserSelect"in r?"WebkitUserSelect":"KhtmlUserSelect"in r?"KhtmlUserSelect":"",w.util.makeElementUnselectable=function(t){return void 0!==t.onselectstart&&(t.onselectstart=w.util.falseFunction),n?t.style[n]="none":"string"==typeof t.unselectable&&(t.unselectable="on"),t},w.util.makeElementSelectable=function(t){return void 0!==t.onselectstart&&(t.onselectstart=null),n?t.style[n]="":"string"==typeof t.unselectable&&(t.unselectable=""),t},w.util.getScript=function(t,e){var i=w.document.getElementsByTagName("head")[0],r=w.document.createElement("script"),n=!0;r.onload=r.onreadystatechange=function(t){if(n){if("string"==typeof this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)return;n=!1,e(t||w.window.event),r=r.onload=r.onreadystatechange=null}},r.src=t,i.appendChild(r)},w.util.getById=function(t){return"string"==typeof t?w.document.getElementById(t):t},w.util.toArray=s,w.util.makeElement=o,w.util.addClass=function(t,e){t&&-1===(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className+=(t.className?" ":"")+e)},w.util.wrapElement=function(t,e,i){return"string"==typeof e&&(e=o(e,i)),t.parentNode&&t.parentNode.replaceChild(e,t),e.appendChild(t),e},w.util.getScrollLeftTop=a,w.util.getElementOffset=function(t){var e,r,n=t&&t.ownerDocument,s={left:0,top:0},o={left:0,top:0},h={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!n)return o;for(var c in h)o[h[c]]+=parseInt(i(t,c),10)||0;return e=n.documentElement,void 0!==t.getBoundingClientRect&&(s=t.getBoundingClientRect()),r=a(t),{left:s.left+r.left-(e.clientLeft||0)+o.left,top:s.top+r.top-(e.clientTop||0)+o.top}},w.util.getElementStyle=i,w.util.getNodeCanvas=function(t){var e=w.jsdomImplForWrapper(t);return e._canvas||e._image},w.util.cleanUpJsdomNode=function(t){if(w.isLikelyNode){var e=w.jsdomImplForWrapper(t);e&&(e._image=null,e._canvas=null,e._currentSrc=null,e._attributes=null,e._classList=null)}}}(),function(){function t(){}w.util.request=function(e,i){i||(i={});var r=i.method?i.method.toUpperCase():"GET",n=i.onComplete||function(){},s=new w.window.XMLHttpRequest,o=i.body||i.parameters;return s.onreadystatechange=function(){4===s.readyState&&(n(s),s.onreadystatechange=t)},"GET"===r&&(o=null,"string"==typeof i.parameters&&(e=function(t,e){return t+(/\?/.test(t)?"&":"?")+e}(e,i.parameters))),s.open(r,e,!0),"POST"!==r&&"PUT"!==r||s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send(o),s}}(),w.log=console.log,w.warn=console.warn,function(){function t(){return!1}function e(t,e,i,r){return-i*Math.cos(t/r*(Math.PI/2))+i+e}var i=w.window.requestAnimationFrame||w.window.webkitRequestAnimationFrame||w.window.mozRequestAnimationFrame||w.window.oRequestAnimationFrame||w.window.msRequestAnimationFrame||function(t){return w.window.setTimeout(t,1e3/60)},r=w.window.cancelAnimationFrame||w.window.clearTimeout;function n(){return i.apply(w.window,arguments)}w.util.animate=function(i){n((function(r){i||(i={});var s,o=r||+new Date,a=i.duration||500,h=o+a,c=i.onChange||t,l=i.abort||t,u=i.onComplete||t,f=i.easing||e,d="startValue"in i?i.startValue:0,g="endValue"in i?i.endValue:100,p=i.byValue||g-d;i.onStart&&i.onStart(),function t(e){var i=(s=e||+new Date)>h?a:s-o,r=i/a,v=f(i,d,p,a),m=Math.abs((v-d)/p);if(!l())return s>h?(c(g,1,1),void u(g,1,1)):(c(v,m,r),void n(t));u(g,1,1)}(o)}))},w.util.requestAnimFrame=n,w.util.cancelAnimFrame=function(){return r.apply(w.window,arguments)}}(),w.util.animateColor=function(t,e,i,r){var n=new w.Color(t).getSource(),s=new w.Color(e).getSource();r=r||{},w.util.animate(w.util.object.extend(r,{duration:i||500,startValue:n,endValue:s,byValue:s,easing:function(t,e,i,n){var s,o,a,h,c=r.colorEasing?r.colorEasing(t,n):1-Math.cos(t/n*(Math.PI/2));return s=e,o=i,a=c,h="rgba("+parseInt(s[0]+a*(o[0]-s[0]),10)+","+parseInt(s[1]+a*(o[1]-s[1]),10)+","+parseInt(s[2]+a*(o[2]-s[2]),10),h+=","+(s&&o?parseFloat(s[3]+a*(o[3]-s[3])):1),h+=")"}}))},function(){function t(t,e,i,r){return t<Math.abs(e)?(t=e,r=i/4):r=0===e&&0===t?i/(2*Math.PI)*Math.asin(1):i/(2*Math.PI)*Math.asin(e/t),{a:t,c:e,p:i,s:r}}function e(t,e,i){return t.a*Math.pow(2,10*(e-=1))*Math.sin((e*i-t.s)*(2*Math.PI)/t.p)}function i(t,e,i,n){return i-r(n-t,0,i,n)+e}function r(t,e,i,r){return(t/=r)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e}w.util.ease={easeInQuad:function(t,e,i,r){return i*(t/=r)*t+e},easeOutQuad:function(t,e,i,r){return-i*(t/=r)*(t-2)+e},easeInOutQuad:function(t,e,i,r){return(t/=r/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,i,r){return i*(t/=r)*t*t+e},easeOutCubic:function(t,e,i,r){return i*((t=t/r-1)*t*t+1)+e},easeInOutCubic:function(t,e,i,r){return(t/=r/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,i,r){return i*(t/=r)*t*t*t+e},easeOutQuart:function(t,e,i,r){return-i*((t=t/r-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,i,r){return(t/=r/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,i,r){return i*(t/=r)*t*t*t*t+e},easeOutQuint:function(t,e,i,r){return i*((t=t/r-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,i,r){return(t/=r/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,i,r){return-i*Math.cos(t/r*(Math.PI/2))+i+e},easeOutSine:function(t,e,i,r){return i*Math.sin(t/r*(Math.PI/2))+e},easeInOutSine:function(t,e,i,r){return-i/2*(Math.cos(Math.PI*t/r)-1)+e},easeInExpo:function(t,e,i,r){return 0===t?e:i*Math.pow(2,10*(t/r-1))+e},easeOutExpo:function(t,e,i,r){return t===r?e+i:i*(1-Math.pow(2,-10*t/r))+e},easeInOutExpo:function(t,e,i,r){return 0===t?e:t===r?e+i:(t/=r/2)<1?i/2*Math.pow(2,10*(t-1))+e:i/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,i,r){return-i*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOutCirc:function(t,e,i,r){return i*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOutCirc:function(t,e,i,r){return(t/=r/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(i,r,n,s){var o=0;return 0===i?r:1===(i/=s)?r+n:(o||(o=.3*s),-e(t(n,n,o,1.70158),i,s)+r)},easeOutElastic:function(e,i,r,n){var s=0;if(0===e)return i;if(1===(e/=n))return i+r;s||(s=.3*n);var o=t(r,r,s,1.70158);return o.a*Math.pow(2,-10*e)*Math.sin((e*n-o.s)*(2*Math.PI)/o.p)+o.c+i},easeInOutElastic:function(i,r,n,s){var o=0;if(0===i)return r;if(2===(i/=s/2))return r+n;o||(o=s*(.3*1.5));var a=t(n,n,o,1.70158);return i<1?-.5*e(a,i,s)+r:a.a*Math.pow(2,-10*(i-=1))*Math.sin((i*s-a.s)*(2*Math.PI)/a.p)*.5+a.c+r},easeInBack:function(t,e,i,r,n){return void 0===n&&(n=1.70158),i*(t/=r)*t*((n+1)*t-n)+e},easeOutBack:function(t,e,i,r,n){return void 0===n&&(n=1.70158),i*((t=t/r-1)*t*((n+1)*t+n)+1)+e},easeInOutBack:function(t,e,i,r,n){return void 0===n&&(n=1.70158),(t/=r/2)<1?i/2*(t*t*((1+(n*=1.525))*t-n))+e:i/2*((t-=2)*t*((1+(n*=1.525))*t+n)+2)+e},easeInBounce:i,easeOutBounce:r,easeInOutBounce:function(t,e,n,s){return t<s/2?.5*i(2*t,0,n,s)+e:.5*r(2*t-s,0,n,s)+.5*n+e}}}(),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,r=e.util.object.clone,n=e.util.toFixed,s=e.util.parseUnit,o=e.util.multiplyTransformMatrices,a={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform"},h={stroke:"strokeOpacity",fill:"fillOpacity"};function c(t){return t in a?a[t]:t}function l(t,i,r,n){var a,h="[object Array]"===Object.prototype.toString.call(i);if("fill"!==t&&"stroke"!==t||"none"!==i)if("vector-effect"===t)i="non-scaling-stroke"===i;else if("strokeDashArray"===t)i="none"===i?null:i.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===t)i=r&&r.transformMatrix?o(r.transformMatrix,e.parseTransformAttribute(i)):e.parseTransformAttribute(i);else if("visible"===t)i="none"!==i&&"hidden"!==i,r&&!1===r.visible&&(i=!1);else if("opacity"===t)i=parseFloat(i),r&&void 0!==r.opacity&&(i*=r.opacity);else if("textAnchor"===t)i="start"===i?"left":"end"===i?"right":"center";else if("charSpacing"===t)a=s(i,n)/n*1e3;else if("paintFirst"===t){var c=i.indexOf("fill"),l=i.indexOf("stroke");i="fill";(c>-1&&l>-1&&l<c||-1===c&&l>-1)&&(i="stroke")}else{if("href"===t||"xlink:href"===t)return i;a=h?i.map(s):s(i,n)}else i="";return!h&&isNaN(a)?i:a}function u(t){return new RegExp("^("+t.join("|")+")\\b","i")}function f(t,e){var i,r,n,s,o=[];for(n=0,s=e.length;n<s;n++)i=e[n],r=t.getElementsByTagName(i),o=o.concat(Array.prototype.slice.call(r));return o}function d(t,e){var i,r=!0;return(i=g(t,e.pop()))&&e.length&&(r=function(t,e){var i,r=!0;for(;t.parentNode&&1===t.parentNode.nodeType&&e.length;)r&&(i=e.pop()),t=t.parentNode,r=g(t,i);return 0===e.length}(t,e)),i&&r&&0===e.length}function g(t,e){var i,r,n=t.nodeName,s=t.getAttribute("class"),o=t.getAttribute("id");if(i=new RegExp("^"+n,"i"),e=e.replace(i,""),o&&e.length&&(i=new RegExp("#"+o+"(?![a-zA-Z\\-]+)","i"),e=e.replace(i,"")),s&&e.length)for(r=(s=s.split(" ")).length;r--;)i=new RegExp("\\."+s[r]+"(?![a-zA-Z\\-]+)","i"),e=e.replace(i,"");return 0===e.length}function p(t,e){var i;if(t.getElementById&&(i=t.getElementById(e)),i)return i;var r,n,s,o=t.getElementsByTagName("*");for(n=0,s=o.length;n<s;n++)if(e===(r=o[n]).getAttribute("id"))return r}e.svgValidTagNamesRegEx=u(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),e.svgViewBoxElementsRegEx=u(["symbol","image","marker","pattern","view","svg"]),e.svgInvalidAncestorsRegEx=u(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),e.svgValidParentsRegEx=u(["symbol","g","a","svg","clipPath","defs"]),e.cssRules={},e.gradientDefs={},e.clipPaths={},e.parseTransformAttribute=function(){function t(t,i,r){t[r]=Math.tan(e.util.degreesToRadians(i[0]))}var i=e.iMatrix,r=e.reNum,n="(?:\\s+,?\\s*|,\\s*)",s="(?:"+("(?:(matrix)\\s*\\(\\s*("+r+")"+n+"("+r+")"+n+"("+r+")"+n+"("+r+")"+n+"("+r+")"+n+"("+r+")\\s*\\))")+"|"+("(?:(translate)\\s*\\(\\s*("+r+")(?:"+n+"("+r+"))?\\s*\\))")+"|"+("(?:(scale)\\s*\\(\\s*("+r+")(?:"+n+"("+r+"))?\\s*\\))")+"|"+("(?:(rotate)\\s*\\(\\s*("+r+")(?:"+n+"("+r+")"+n+"("+r+"))?\\s*\\))")+"|"+("(?:(skewX)\\s*\\(\\s*("+r+")\\s*\\))")+"|"+("(?:(skewY)\\s*\\(\\s*("+r+")\\s*\\))")+")",o=new RegExp("^\\s*(?:"+("(?:"+s+"(?:"+n+"*"+s+")*)")+"?)\\s*$"),a=new RegExp(s,"g");return function(r){var n=i.concat(),h=[];if(!r||r&&!o.test(r))return n;r.replace(a,(function(r){var o=new RegExp(s).exec(r).filter((function(t){return!!t})),a=o[1],c=o.slice(2).map(parseFloat);switch(a){case"translate":!function(t,e){t[4]=e[0],2===e.length&&(t[5]=e[1])}(n,c);break;case"rotate":c[0]=e.util.degreesToRadians(c[0]),function(t,i){var r=e.util.cos(i[0]),n=e.util.sin(i[0]),s=0,o=0;3===i.length&&(s=i[1],o=i[2]),t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=s-(r*s-n*o),t[5]=o-(n*s+r*o)}(n,c);break;case"scale":!function(t,e){var i=e[0],r=2===e.length?e[1]:e[0];t[0]=i,t[3]=r}(n,c);break;case"skewX":t(n,c,2);break;case"skewY":t(n,c,1);break;case"matrix":n=c}h.push(n.concat()),n=i.concat()}));for(var c=h[0];h.length>1;)h.shift(),c=e.util.multiplyTransformMatrices(c,h[0]);return c}}();var v=new RegExp("^\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*$");function m(t){var i,r,n,o,a,h,c=t.getAttribute("viewBox"),l=1,u=1,f=t.getAttribute("width"),d=t.getAttribute("height"),g=t.getAttribute("x")||0,p=t.getAttribute("y")||0,m=t.getAttribute("preserveAspectRatio")||"",_=!c||!e.svgViewBoxElementsRegEx.test(t.nodeName)||!(c=c.match(v)),y=!f||!d||"100%"===f||"100%"===d,b=_&&y,x={},C="",S=0,w=0;if(x.width=0,x.height=0,x.toBeParsed=b,b)return x;if(_)return x.width=s(f),x.height=s(d),x;if(i=-parseFloat(c[1]),r=-parseFloat(c[2]),n=parseFloat(c[3]),o=parseFloat(c[4]),x.minX=i,x.minY=r,x.viewBoxWidth=n,x.viewBoxHeight=o,y?(x.width=n,x.height=o):(x.width=s(f),x.height=s(d),l=x.width/n,u=x.height/o),"none"!==(m=e.util.parsePreserveAspectRatioAttribute(m)).alignX&&("meet"===m.meetOrSlice&&(u=l=l>u?u:l),"slice"===m.meetOrSlice&&(u=l=l>u?l:u),S=x.width-n*l,w=x.height-o*l,"Mid"===m.alignX&&(S/=2),"Mid"===m.alignY&&(w/=2),"Min"===m.alignX&&(S=0),"Min"===m.alignY&&(w=0)),1===l&&1===u&&0===i&&0===r&&0===g&&0===p)return x;if((g||p)&&(C=" translate("+s(g)+" "+s(p)+") "),a=C+" matrix("+l+" 0 0 "+u+" "+(i*l+S)+" "+(r*u+w)+") ",x.viewboxTransform=e.parseTransformAttribute(a),"svg"===t.nodeName){for(h=t.ownerDocument.createElementNS(e.svgNS,"g");t.firstChild;)h.appendChild(t.firstChild);t.appendChild(h)}else a=(h=t).getAttribute("transform")+a;return h.setAttribute("transform",a),x}function _(t,e){var i=p(t,e.getAttribute("xlink:href").substr(1));if(i&&i.getAttribute("xlink:href")&&_(t,i),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach((function(t){i&&!e.hasAttribute(t)&&i.hasAttribute(t)&&e.setAttribute(t,i.getAttribute(t))})),!e.children.length)for(var r=i.cloneNode(!0);r.firstChild;)e.appendChild(r.firstChild);e.removeAttribute("xlink:href")}e.parseSVGDocument=function(t,i,n,s){if(t){!function(t){for(var i=f(t,["use","svg:use"]),r=0;i.length&&r<i.length;){var n,s,o,a,h=i[r],c=(h.getAttribute("xlink:href")||h.getAttribute("href")).substr(1),l=h.getAttribute("x")||0,u=h.getAttribute("y")||0,d=p(t,c).cloneNode(!0),g=(d.getAttribute("transform")||"")+" translate("+l+", "+u+")",v=i.length,_=e.svgNS;if(m(d),/^svg$/i.test(d.nodeName)){var y=d.ownerDocument.createElementNS(_,"g");for(s=0,a=(o=d.attributes).length;s<a;s++)n=o.item(s),y.setAttributeNS(_,n.nodeName,n.nodeValue);for(;d.firstChild;)y.appendChild(d.firstChild);d=y}for(s=0,a=(o=h.attributes).length;s<a;s++)"x"!==(n=o.item(s)).nodeName&&"y"!==n.nodeName&&"xlink:href"!==n.nodeName&&"href"!==n.nodeName&&("transform"===n.nodeName?g=n.nodeValue+" "+g:d.setAttribute(n.nodeName,n.nodeValue));d.setAttribute("transform",g),d.setAttribute("instantiated_by_use","1"),d.removeAttribute("id"),h.parentNode.replaceChild(d,h),i.length===v&&r++}}(t);var o,a,h=e.Object.__uid++,c=m(t),l=e.util.toArray(t.getElementsByTagName("*"));if(c.crossOrigin=s&&s.crossOrigin,c.svgUid=h,0===l.length&&e.isLikelyNode){var u=[];for(o=0,a=(l=t.selectNodes('//*[name(.)!="svg"]')).length;o<a;o++)u[o]=l[o];l=u}var d=l.filter((function(t){return m(t),e.svgValidTagNamesRegEx.test(t.nodeName.replace("svg:",""))&&!function(t,e){for(;t&&(t=t.parentNode);)if(t.nodeName&&e.test(t.nodeName.replace("svg:",""))&&!t.getAttribute("instantiated_by_use"))return!0;return!1}(t,e.svgInvalidAncestorsRegEx)}));if(!d||d&&!d.length)i&&i([],{});else{var g={};l.filter((function(t){return"clipPath"===t.nodeName.replace("svg:","")})).forEach((function(t){var i=t.getAttribute("id");g[i]=e.util.toArray(t.getElementsByTagName("*")).filter((function(t){return e.svgValidTagNamesRegEx.test(t.nodeName.replace("svg:",""))}))})),e.gradientDefs[h]=e.getGradientDefs(t),e.cssRules[h]=e.getCSSRules(t),e.clipPaths[h]=g,e.parseElements(d,(function(t,r){i&&(i(t,c,r,l),delete e.gradientDefs[h],delete e.cssRules[h],delete e.clipPaths[h])}),r(c),n,s)}}};var y=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+e.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+e.reNum+"))?\\s+(.*)");i(e,{parseFontDeclaration:function(t,e){var i=t.match(y);if(i){var r=i[1],n=i[3],o=i[4],a=i[5],h=i[6];r&&(e.fontStyle=r),n&&(e.fontWeight=isNaN(parseFloat(n))?n:parseFloat(n)),o&&(e.fontSize=s(o)),h&&(e.fontFamily=h),a&&(e.lineHeight="normal"===a?1:a)}},getGradientDefs:function(t){var e,i=f(t,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),r=0,n={};for(r=i.length;r--;)(e=i[r]).getAttribute("xlink:href")&&_(t,e),n[e.getAttribute("id")]=e;return n},parseAttributes:function(t,r,o){if(t){var a,u,f,g={};void 0===o&&(o=t.getAttribute("svgUid")),t.parentNode&&e.svgValidParentsRegEx.test(t.parentNode.nodeName)&&(g=e.parseAttributes(t.parentNode,r,o));var p=r.reduce((function(e,i){return(a=t.getAttribute(i))&&(e[i]=a),e}),{}),v=i(function(t,i){var r={};for(var n in e.cssRules[i])if(d(t,n.split(" ")))for(var s in e.cssRules[i][n])r[s]=e.cssRules[i][n][s];return r}(t,o),e.parseStyleAttribute(t));p=i(p,v),v["clip-path"]&&t.setAttribute("clip-path",v["clip-path"]),u=f=g.fontSize||e.Text.DEFAULT_SVG_FONT_SIZE,p["font-size"]&&(p["font-size"]=u=s(p["font-size"],f));var m,_,y={};for(var b in p)_=l(m=c(b),p[b],g,u),y[m]=_;y&&y.font&&e.parseFontDeclaration(y.font,y);var x=i(g,y);return e.svgValidParentsRegEx.test(t.nodeName)?x:function(t){for(var i in h)if(void 0!==t[h[i]]&&""!==t[i]){if(void 0===t[i]){if(!e.Object.prototype[i])continue;t[i]=e.Object.prototype[i]}if(0!==t[i].indexOf("url(")){var r=new e.Color(t[i]);t[i]=r.setAlpha(n(r.getAlpha()*t[h[i]],2)).toRgba()}}return t}(x)}},parseElements:function(t,i,r,n,s){new e.ElementsParser(t,i,r,n,s).parse()},parseStyleAttribute:function(t){var e={},i=t.getAttribute("style");return i?("string"==typeof i?function(t,e){var i,r;t.replace(/;\s*$/,"").split(";").forEach((function(t){var n=t.split(":");i=n[0].trim().toLowerCase(),r=n[1].trim(),e[i]=r}))}(i,e):function(t,e){var i,r;for(var n in t)void 0!==t[n]&&(i=n.toLowerCase(),r=t[n],e[i]=r)}(i,e),e):e},parsePointsAttribute:function(t){if(!t)return null;var e,i,r=[];for(e=0,i=(t=(t=t.replace(/,/g," ").trim()).split(/\s+/)).length;e<i;e+=2)r.push({x:parseFloat(t[e]),y:parseFloat(t[e+1])});return r},getCSSRules:function(t){var i,r,n=t.getElementsByTagName("style"),s={};for(i=0,r=n.length;i<r;i++){var o=n[i].textContent||n[i].text;""!==(o=o.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&o.match(/[^{]*\{[\s\S]*?\}/g).map((function(t){return t.trim()})).forEach((function(t){var n=t.match(/([\s\S]*?)\s*\{([^}]*)\}/),o={},a=n[2].trim().replace(/;$/,"").split(/\s*;\s*/);for(i=0,r=a.length;i<r;i++){var h=a[i].split(/\s*:\s*/),c=h[0],l=h[1];o[c]=l}(t=n[1]).split(",").forEach((function(t){""!==(t=t.replace(/^svg/i,"").trim())&&(s[t]?e.util.object.extend(s[t],o):s[t]=e.util.object.clone(o))}))}))}return s},loadSVGFromURL:function(t,i,r,n){t=t.replace(/^\n\s*/,"").trim(),new e.util.request(t,{method:"get",onComplete:function(t){var s=t.responseXML;s&&!s.documentElement&&e.window.ActiveXObject&&t.responseText&&((s=new ActiveXObject("Microsoft.XMLDOM")).async="false",s.loadXML(t.responseText.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));if(!s||!s.documentElement)return i&&i(null),!1;e.parseSVGDocument(s.documentElement,(function(t,e,r,n){i&&i(t,e,r,n)}),r,n)}})},loadSVGFromString:function(t,i,r,n){var s;if(t=t.trim(),void 0!==e.window.DOMParser){var o=new e.window.DOMParser;o&&o.parseFromString&&(s=o.parseFromString(t,"text/xml"))}else e.window.ActiveXObject&&((s=new ActiveXObject("Microsoft.XMLDOM")).async="false",s.loadXML(t.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));e.parseSVGDocument(s.documentElement,(function(t,e,r,n){i(t,e,r,n)}),r,n)}})}(e),w.ElementsParser=function(t,e,i,r,n,s){this.elements=t,this.callback=e,this.options=i,this.reviver=r,this.svgUid=i&&i.svgUid||0,this.parsingOptions=n,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=s},(p=w.ElementsParser.prototype).parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},p.createObjects=function(){var t=this;this.elements.forEach((function(e,i){e.setAttribute("svgUid",t.svgUid),t.createObject(e,i)}))},p.findTag=function(t){return w[w.util.string.capitalize(t.tagName.replace("svg:",""))]},p.createObject=function(t,e){var i=this.findTag(t);if(i&&i.fromElement)try{i.fromElement(t,this.createCallback(e,t),this.options)}catch(t){w.log(t)}else this.checkIfDone()},p.createCallback=function(t,e){var i=this;return function(r){var n;i.resolveGradient(r,e,"fill"),i.resolveGradient(r,e,"stroke"),r instanceof w.Image&&r._originalElement&&(n=r.parsePreserveAspectRatioAttribute(e)),r._removeTransformMatrix(n),i.resolveClipPath(r,e),i.reviver&&i.reviver(e,r),i.instances[t]=r,i.checkIfDone()}},p.extractPropertyDefinition=function(t,e,i){var r=t[e],n=this.regexUrl;if(n.test(r)){n.lastIndex=0;var s=n.exec(r)[1];return n.lastIndex=0,w[i][this.svgUid][s]}},p.resolveGradient=function(t,e,i){var r=this.extractPropertyDefinition(t,i,"gradientDefs");if(r){var n=e.getAttribute(i+"-opacity"),s=w.Gradient.fromElement(r,t,n,this.options);t.set(i,s)}},p.createClipPathCallback=function(t,e){return function(t){t._removeTransformMatrix(),t.fillRule=t.clipRule,e.push(t)}},p.resolveClipPath=function(t,e){var i,r,n,s,o=this.extractPropertyDefinition(t,"clipPath","clipPaths");if(o){n=[],r=w.util.invertTransform(t.calcTransformMatrix());for(var a=o[0].parentNode,h=e;h.parentNode&&h.getAttribute("clip-path")!==t.clipPath;)h=h.parentNode;h.parentNode.appendChild(a);for(var c=0;c<o.length;c++)i=o[c],this.findTag(i).fromElement(i,this.createClipPathCallback(t,n),this.options);o=1===n.length?n[0]:new w.Group(n),s=w.util.multiplyTransformMatrices(r,o.calcTransformMatrix()),o.clipPath&&this.resolveClipPath(o,h);var l=w.util.qrDecompose(s);o.flipX=!1,o.flipY=!1,o.set("scaleX",l.scaleX),o.set("scaleY",l.scaleY),o.angle=l.angle,o.skewX=l.skewX,o.skewY=0,o.setPositionByOrigin({x:l.translateX,y:l.translateY},"center","center"),t.clipPath=o}},p.checkIfDone=function(){0==--this.numElements&&(this.instances=this.instances.filter((function(t){return null!=t})),this.callback(this.instances,this.elements))},function(t){"use strict";var e=t.fabric||(t.fabric={});function i(t,e){this.x=t,this.y=e}e.Point?e.warn("fabric.Point is already defined"):(e.Point=i,i.prototype={type:"point",constructor:i,add:function(t){return new i(this.x+t.x,this.y+t.y)},addEquals:function(t){return this.x+=t.x,this.y+=t.y,this},scalarAdd:function(t){return new i(this.x+t,this.y+t)},scalarAddEquals:function(t){return this.x+=t,this.y+=t,this},subtract:function(t){return new i(this.x-t.x,this.y-t.y)},subtractEquals:function(t){return this.x-=t.x,this.y-=t.y,this},scalarSubtract:function(t){return new i(this.x-t,this.y-t)},scalarSubtractEquals:function(t){return this.x-=t,this.y-=t,this},multiply:function(t){return new i(this.x*t,this.y*t)},multiplyEquals:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return new i(this.x/t,this.y/t)},divideEquals:function(t){return this.x/=t,this.y/=t,this},eq:function(t){return this.x===t.x&&this.y===t.y},lt:function(t){return this.x<t.x&&this.y<t.y},lte:function(t){return this.x<=t.x&&this.y<=t.y},gt:function(t){return this.x>t.x&&this.y>t.y},gte:function(t){return this.x>=t.x&&this.y>=t.y},lerp:function(t,e){return void 0===e&&(e=.5),e=Math.max(Math.min(1,e),0),new i(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)},distanceFrom:function(t){var e=this.x-t.x,i=this.y-t.y;return Math.sqrt(e*e+i*i)},midPointFrom:function(t){return this.lerp(t)},min:function(t){return new i(Math.min(this.x,t.x),Math.min(this.y,t.y))},max:function(t){return new i(Math.max(this.x,t.x),Math.max(this.y,t.y))},toString:function(){return this.x+","+this.y},setXY:function(t,e){return this.x=t,this.y=e,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setFromPoint:function(t){return this.x=t.x,this.y=t.y,this},swap:function(t){var e=this.x,i=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=i},clone:function(){return new i(this.x,this.y)}})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});function i(t){this.status=t,this.points=[]}e.Intersection?e.warn("fabric.Intersection is already defined"):(e.Intersection=i,e.Intersection.prototype={constructor:i,appendPoint:function(t){return this.points.push(t),this},appendPoints:function(t){return this.points=this.points.concat(t),this}},e.Intersection.intersectLineLine=function(t,r,n,s){var o,a=(s.x-n.x)*(t.y-n.y)-(s.y-n.y)*(t.x-n.x),h=(r.x-t.x)*(t.y-n.y)-(r.y-t.y)*(t.x-n.x),c=(s.y-n.y)*(r.x-t.x)-(s.x-n.x)*(r.y-t.y);if(0!==c){var l=a/c,u=h/c;0<=l&&l<=1&&0<=u&&u<=1?(o=new i("Intersection")).appendPoint(new e.Point(t.x+l*(r.x-t.x),t.y+l*(r.y-t.y))):o=new i}else o=new i(0===a||0===h?"Coincident":"Parallel");return o},e.Intersection.intersectLinePolygon=function(t,e,r){var n,s,o,a,h=new i,c=r.length;for(a=0;a<c;a++)n=r[a],s=r[(a+1)%c],o=i.intersectLineLine(t,e,n,s),h.appendPoints(o.points);return h.points.length>0&&(h.status="Intersection"),h},e.Intersection.intersectPolygonPolygon=function(t,e){var r,n=new i,s=t.length;for(r=0;r<s;r++){var o=t[r],a=t[(r+1)%s],h=i.intersectLinePolygon(o,a,e);n.appendPoints(h.points)}return n.points.length>0&&(n.status="Intersection"),n},e.Intersection.intersectPolygonRectangle=function(t,r,n){var s=r.min(n),o=r.max(n),a=new e.Point(o.x,s.y),h=new e.Point(s.x,o.y),c=i.intersectLinePolygon(s,a,t),l=i.intersectLinePolygon(a,o,t),u=i.intersectLinePolygon(o,h,t),f=i.intersectLinePolygon(h,s,t),d=new i;return d.appendPoints(c.points),d.appendPoints(l.points),d.appendPoints(u.points),d.appendPoints(f.points),d.points.length>0&&(d.status="Intersection"),d})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});function i(t){t?this._tryParsingColor(t):this.setSource([0,0,0,1])}function r(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}e.Color?e.warn("fabric.Color is already defined."):(e.Color=i,e.Color.prototype={_tryParsingColor:function(t){var e;t in i.colorNameMap&&(t=i.colorNameMap[t]),"transparent"===t&&(e=[255,255,255,0]),e||(e=i.sourceFromHex(t)),e||(e=i.sourceFromRgb(t)),e||(e=i.sourceFromHsl(t)),e||(e=[0,0,0,1]),e&&this.setSource(e)},_rgbToHsl:function(t,i,r){t/=255,i/=255,r/=255;var n,s,o,a=e.util.array.max([t,i,r]),h=e.util.array.min([t,i,r]);if(o=(a+h)/2,a===h)n=s=0;else{var c=a-h;switch(s=o>.5?c/(2-a-h):c/(a+h),a){case t:n=(i-r)/c+(i<r?6:0);break;case i:n=(r-t)/c+2;break;case r:n=(t-i)/c+4}n/=6}return[Math.round(360*n),Math.round(100*s),Math.round(100*o)]},getSource:function(){return this._source},setSource:function(t){this._source=t},toRgb:function(){var t=this.getSource();return"rgb("+t[0]+","+t[1]+","+t[2]+")"},toRgba:function(){var t=this.getSource();return"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")"},toHsl:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsl("+e[0]+","+e[1]+"%,"+e[2]+"%)"},toHsla:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsla("+e[0]+","+e[1]+"%,"+e[2]+"%,"+t[3]+")"},toHex:function(){var t,e,i,r=this.getSource();return t=1===(t=r[0].toString(16)).length?"0"+t:t,e=1===(e=r[1].toString(16)).length?"0"+e:e,i=1===(i=r[2].toString(16)).length?"0"+i:i,t.toUpperCase()+e.toUpperCase()+i.toUpperCase()},toHexa:function(){var t,e=this.getSource();return t=1===(t=(t=Math.round(255*e[3])).toString(16)).length?"0"+t:t,this.toHex()+t.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(t){var e=this.getSource();return e[3]=t,this.setSource(e),this},toGrayscale:function(){var t=this.getSource(),e=parseInt((.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),10),i=t[3];return this.setSource([e,e,e,i]),this},toBlackWhite:function(t){var e=this.getSource(),i=(.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),r=e[3];return t=t||127,i=Number(i)<Number(t)?0:255,this.setSource([i,i,i,r]),this},overlayWith:function(t){t instanceof i||(t=new i(t));var e,r=[],n=this.getAlpha(),s=this.getSource(),o=t.getSource();for(e=0;e<3;e++)r.push(Math.round(.5*s[e]+.5*o[e]));return r[3]=n,this.setSource(r),this}},e.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,e.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,e.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,e.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},e.Color.fromRgb=function(t){return i.fromSource(i.sourceFromRgb(t))},e.Color.sourceFromRgb=function(t){var e=t.match(i.reRGBa);if(e){var r=parseInt(e[1],10)/(/%$/.test(e[1])?100:1)*(/%$/.test(e[1])?255:1),n=parseInt(e[2],10)/(/%$/.test(e[2])?100:1)*(/%$/.test(e[2])?255:1),s=parseInt(e[3],10)/(/%$/.test(e[3])?100:1)*(/%$/.test(e[3])?255:1);return[parseInt(r,10),parseInt(n,10),parseInt(s,10),e[4]?parseFloat(e[4]):1]}},e.Color.fromRgba=i.fromRgb,e.Color.fromHsl=function(t){return i.fromSource(i.sourceFromHsl(t))},e.Color.sourceFromHsl=function(t){var e=t.match(i.reHSLa);if(e){var n,s,o,a=(parseFloat(e[1])%360+360)%360/360,h=parseFloat(e[2])/(/%$/.test(e[2])?100:1),c=parseFloat(e[3])/(/%$/.test(e[3])?100:1);if(0===h)n=s=o=c;else{var l=c<=.5?c*(h+1):c+h-c*h,u=2*c-l;n=r(u,l,a+1/3),s=r(u,l,a),o=r(u,l,a-1/3)}return[Math.round(255*n),Math.round(255*s),Math.round(255*o),e[4]?parseFloat(e[4]):1]}},e.Color.fromHsla=i.fromHsl,e.Color.fromHex=function(t){return i.fromSource(i.sourceFromHex(t))},e.Color.sourceFromHex=function(t){if(t.match(i.reHex)){var e=t.slice(t.indexOf("#")+1),r=3===e.length||4===e.length,n=8===e.length||4===e.length,s=r?e.charAt(0)+e.charAt(0):e.substring(0,2),o=r?e.charAt(1)+e.charAt(1):e.substring(2,4),a=r?e.charAt(2)+e.charAt(2):e.substring(4,6),h=n?r?e.charAt(3)+e.charAt(3):e.substring(6,8):"FF";return[parseInt(s,16),parseInt(o,16),parseInt(a,16),parseFloat((parseInt(h,16)/255).toFixed(2))]}},e.Color.fromSource=function(t){var e=new i;return e.setSource(t),e})}(e),function(){function t(t,e){var i,r,n,s,o=t.getAttribute("style"),a=t.getAttribute("offset")||0;if(a=(a=parseFloat(a)/(/%$/.test(a)?100:1))<0?0:a>1?1:a,o){var h=o.split(/\s*;\s*/);for(""===h[h.length-1]&&h.pop(),s=h.length;s--;){var c=h[s].split(/\s*:\s*/),l=c[0].trim(),u=c[1].trim();"stop-color"===l?i=u:"stop-opacity"===l&&(n=u)}}return i||(i=t.getAttribute("stop-color")||"rgb(0,0,0)"),n||(n=t.getAttribute("stop-opacity")),r=(i=new w.Color(i)).getAlpha(),n=isNaN(parseFloat(n))?1:parseFloat(n),n*=r*e,{offset:a,color:i.toRgb(),opacity:n}}var e=w.util.object.clone;function i(t,e,i,r){var n,s;Object.keys(e).forEach((function(t){"Infinity"===(n=e[t])?s=1:"-Infinity"===n?s=0:(s=parseFloat(e[t],10),"string"==typeof n&&/^(\d+\.\d+)%|(\d+)%$/.test(n)&&(s*=.01,"pixels"===r&&("x1"!==t&&"x2"!==t&&"r2"!==t||(s*=i.viewBoxWidth||i.width),"y1"!==t&&"y2"!==t||(s*=i.viewBoxHeight||i.height)))),e[t]=s}))}w.Gradient=w.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(t){t||(t={}),t.coords||(t.coords={});var e,i=this;Object.keys(t).forEach((function(e){i[e]=t[e]})),this.id?this.id+="_"+w.Object.__uid++:this.id=w.Object.__uid++,e={x1:t.coords.x1||0,y1:t.coords.y1||0,x2:t.coords.x2||0,y2:t.coords.y2||0},"radial"===this.type&&(e.r1=t.coords.r1||0,e.r2=t.coords.r2||0),this.coords=e,this.colorStops=t.colorStops.slice()},addColorStop:function(t){for(var e in t){var i=new w.Color(t[e]);this.colorStops.push({offset:parseFloat(e),color:i.toRgb(),opacity:i.getAlpha()})}return this},toObject:function(t){var e={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return w.util.populateWithProperties(this,e,t),e},toSVG:function(t,i){var r,n,s,o,a=e(this.coords,!0),h=(i=i||{},e(this.colorStops,!0)),c=a.r1>a.r2,l=this.gradientTransform?this.gradientTransform.concat():w.iMatrix.concat(),u=-this.offsetX,f=-this.offsetY,d=!!i.additionalTransform,g="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(h.sort((function(t,e){return t.offset-e.offset})),"objectBoundingBox"===g?(u/=t.width,f/=t.height):(u+=t.width/2,f+=t.height/2),"path"===t.type&&(u-=t.pathOffset.x,f-=t.pathOffset.y),l[4]-=u,l[5]-=f,o='id="SVGID_'+this.id+'" gradientUnits="'+g+'"',o+=' gradientTransform="'+(d?i.additionalTransform+" ":"")+w.util.matrixToSVG(l)+'" ',"linear"===this.type?s=["<linearGradient ",o,' x1="',a.x1,'" y1="',a.y1,'" x2="',a.x2,'" y2="',a.y2,'">\n']:"radial"===this.type&&(s=["<radialGradient ",o,' cx="',c?a.x1:a.x2,'" cy="',c?a.y1:a.y2,'" r="',c?a.r1:a.r2,'" fx="',c?a.x2:a.x1,'" fy="',c?a.y2:a.y1,'">\n']),"radial"===this.type){if(c)for((h=h.concat()).reverse(),r=0,n=h.length;r<n;r++)h[r].offset=1-h[r].offset;var p=Math.min(a.r1,a.r2);if(p>0){var v=p/Math.max(a.r1,a.r2);for(r=0,n=h.length;r<n;r++)h[r].offset+=v*(1-h[r].offset)}}for(r=0,n=h.length;r<n;r++){var m=h[r];s.push("<stop ",'offset="',100*m.offset+"%",'" style="stop-color:',m.color,void 0!==m.opacity?";stop-opacity: "+m.opacity:";",'"/>\n')}return s.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),s.join("")},toLive:function(t,e){var i,r,n,s=w.util.object.clone(this.coords),o=s.x1,a=s.y1,h=s.x2,c=s.y2,l=this.colorStops;if(this.type){for(e instanceof w.Text&&"percentage"===this.gradientUnits&&(o*=e.width,a*=e.height,h*=e.width,c*=e.height),"linear"===this.type?i=t.createLinearGradient(o,a,h,c):"radial"===this.type&&(i=t.createRadialGradient(o,a,s.r1,h,c,s.r2)),r=0,n=l.length;r<n;r++){var u=l[r].color,f=l[r].opacity,d=l[r].offset;void 0!==f&&(u=new w.Color(u).setAlpha(f).toRgba()),i.addColorStop(d,u)}return i}}}),w.util.object.extend(w.Gradient,{fromElement:function(e,r,n,s){var o=parseFloat(n)/(/%$/.test(n)?100:1);o=o<0?0:o>1?1:o,isNaN(o)&&(o=1);var a,h,c,l,u=e.getElementsByTagName("stop"),f="userSpaceOnUse"===e.getAttribute("gradientUnits")?"pixels":"percentage",d=e.getAttribute("gradientTransform")||"",g=[],p=0,v=0;for("linearGradient"===e.nodeName||"LINEARGRADIENT"===e.nodeName?(a="linear",h=function(t){return{x1:t.getAttribute("x1")||0,y1:t.getAttribute("y1")||0,x2:t.getAttribute("x2")||"100%",y2:t.getAttribute("y2")||0}}(e)):(a="radial",h=function(t){return{x1:t.getAttribute("fx")||t.getAttribute("cx")||"50%",y1:t.getAttribute("fy")||t.getAttribute("cy")||"50%",r1:0,x2:t.getAttribute("cx")||"50%",y2:t.getAttribute("cy")||"50%",r2:t.getAttribute("r")||"50%"}}(e)),c=u.length;c--;)g.push(t(u[c],o));return l=w.parseTransformAttribute(d),i(r,h,s,f),"pixels"===f&&(p=-r.left,v=-r.top),new w.Gradient({id:e.getAttribute("id"),type:a,coords:h,colorStops:g,gradientUnits:f,gradientTransform:l,offsetX:p,offsetY:v})},forObject:function(t,e){return e||(e={}),i(t,e.coords,e.gradientUnits,{viewBoxWidth:100,viewBoxHeight:100}),new w.Gradient(e)}})}(),function(){"use strict";var t=w.util.toFixed;w.Pattern=w.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(t,e){if(t||(t={}),this.id=w.Object.__uid++,this.setOptions(t),!t.source||t.source&&"string"!=typeof t.source)e&&e(this);else if(void 0!==w.util.getFunctionBody(t.source))this.source=new Function(w.util.getFunctionBody(t.source)),e&&e(this);else{var i=this;this.source=w.util.createImage(),w.util.loadImage(t.source,(function(t){i.source=t,e&&e(i)}),null,this.crossOrigin)}},toObject:function(e){var i,r,n=w.Object.NUM_FRACTION_DIGITS;return"function"==typeof this.source?i=String(this.source):"string"==typeof this.source.src?i=this.source.src:"object"==typeof this.source&&this.source.toDataURL&&(i=this.source.toDataURL()),r={type:"pattern",source:i,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:t(this.offsetX,n),offsetY:t(this.offsetY,n),patternTransform:this.patternTransform?this.patternTransform.concat():null},w.util.populateWithProperties(this,r,e),r},toSVG:function(t){var e="function"==typeof this.source?this.source():this.source,i=e.width/t.width,r=e.height/t.height,n=this.offsetX/t.width,s=this.offsetY/t.height,o="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(r=1,s&&(r+=Math.abs(s))),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(i=1,n&&(i+=Math.abs(n))),e.src?o=e.src:e.toDataURL&&(o=e.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+n+'" y="'+s+'" width="'+i+'" height="'+r+'">\n<image x="0" y="0" width="'+e.width+'" height="'+e.height+'" xlink:href="'+o+'"></image>\n</pattern>\n'},setOptions:function(t){for(var e in t)this[e]=t[e]},toLive:function(t){var e="function"==typeof this.source?this.source():this.source;if(!e)return"";if(void 0!==e.src){if(!e.complete)return"";if(0===e.naturalWidth||0===e.naturalHeight)return""}return t.createPattern(e,this.repeat)}})}(),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.toFixed;e.Shadow?e.warn("fabric.Shadow is already defined."):(e.Shadow=e.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(t){for(var i in"string"==typeof t&&(t=this._parseShadow(t)),t)this[i]=t[i];this.id=e.Object.__uid++},_parseShadow:function(t){var i=t.trim(),r=e.Shadow.reOffsetsAndBlur.exec(i)||[];return{color:(i.replace(e.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseInt(r[1],10)||0,offsetY:parseInt(r[2],10)||0,blur:parseInt(r[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(t){var r=40,n=40,s=e.Object.NUM_FRACTION_DIGITS,o=e.util.rotateVector({x:this.offsetX,y:this.offsetY},e.util.degreesToRadians(-t.angle)),a=new e.Color(this.color);return t.width&&t.height&&(r=100*i((Math.abs(o.x)+this.blur)/t.width,s)+20,n=100*i((Math.abs(o.y)+this.blur)/t.height,s)+20),t.flipX&&(o.x*=-1),t.flipY&&(o.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+n+'%" height="'+(100+2*n)+'%" x="-'+r+'%" width="'+(100+2*r)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+i(this.blur?this.blur/2:0,s)+'"></feGaussianBlur>\n\t<feOffset dx="'+i(o.x,s)+'" dy="'+i(o.y,s)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+a.toRgb()+'" flood-opacity="'+a.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var t={},i=e.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach((function(e){this[e]!==i[e]&&(t[e]=this[e])}),this),t}}),e.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:px)?(?:\s?|$))?(-?\d+(?:px)?(?:\s?|$))?(\d+(?:px)?)?(?:\s?|$)(?:$|\s)/)}(e),function(){"use strict";if(w.StaticCanvas)w.warn("fabric.StaticCanvas is already defined.");else{var t=w.util.object.extend,e=w.util.getElementOffset,i=w.util.removeFromArray,r=w.util.toFixed,n=w.util.transformPoint,s=w.util.invertTransform,o=w.util.getNodeCanvas,a=w.util.createCanvasElement,h=new Error("Could not initialize `canvas` element");w.StaticCanvas=w.util.createClass(w.CommonMethods,{initialize:function(t,e){e||(e={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(t,e)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,clipTo:null,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:w.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,onBeforeScaleRotate:function(){},enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(t,e){var i=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(t),this._initOptions(e),this._setImageSmoothing(),this.interactive||this._initRetinaScaling(),e.overlayImage&&this.setOverlayImage(e.overlayImage,i),e.backgroundImage&&this.setBackgroundImage(e.backgroundImage,i),e.backgroundColor&&this.setBackgroundColor(e.backgroundColor,i),e.overlayColor&&this.setOverlayColor(e.overlayColor,i),this.calcOffset()},_isRetinaScaling:function(){return 1!==w.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?w.devicePixelRatio:1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var t=w.devicePixelRatio;this.__initRetinaScaling(t,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(t,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(t,e,i){e.setAttribute("width",this.width*t),e.setAttribute("height",this.height*t),i.scale(t,t)},calcOffset:function(){return this._offset=e(this.lowerCanvasEl),this},setOverlayImage:function(t,e,i){return this.__setBgOverlayImage("overlayImage",t,e,i)},setBackgroundImage:function(t,e,i){return this.__setBgOverlayImage("backgroundImage",t,e,i)},setOverlayColor:function(t,e){return this.__setBgOverlayColor("overlayColor",t,e)},setBackgroundColor:function(t,e){return this.__setBgOverlayColor("backgroundColor",t,e)},_setImageSmoothing:function(){var t=this.getContext();t.imageSmoothingEnabled=t.imageSmoothingEnabled||t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled||t.oImageSmoothingEnabled,t.imageSmoothingEnabled=this.imageSmoothingEnabled},__setBgOverlayImage:function(t,e,i,r){return"string"==typeof e?w.util.loadImage(e,(function(e){if(e){var n=new w.Image(e,r);this[t]=n,n.canvas=this}i&&i(e)}),this,r&&r.crossOrigin):(r&&e.setOptions(r),this[t]=e,e&&(e.canvas=this),i&&i(e)),this},__setBgOverlayColor:function(t,e,i){return this[t]=e,this._initGradient(e,t),this._initPattern(e,t,i),this},_createCanvasElement:function(){var t=a();if(!t)throw h;if(t.style||(t.style={}),void 0===t.getContext)throw h;return t},_initOptions:function(t){var e=this.lowerCanvasEl;this._setOptions(t),this.width=this.width||parseInt(e.width,10)||0,this.height=this.height||parseInt(e.height,10)||0,this.lowerCanvasEl.style&&(e.width=this.width,e.height=this.height,e.style.width=this.width+"px",e.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(t){t&&t.getContext?this.lowerCanvasEl=t:this.lowerCanvasEl=w.util.getById(t)||this._createCanvasElement(),w.util.addClass(this.lowerCanvasEl,"lower-canvas"),this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(t,e){return this.setDimensions({width:t},e)},setHeight:function(t,e){return this.setDimensions({height:t},e)},setDimensions:function(t,e){var i;for(var r in e=e||{},t)i=t[r],e.cssOnly||(this._setBackstoreDimension(r,t[r]),i+="px",this.hasLostContext=!0),e.backstoreOnly||this._setCssDimension(r,i);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this._setImageSmoothing(),this.calcOffset(),e.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(t,e){return this.lowerCanvasEl[t]=e,this.upperCanvasEl&&(this.upperCanvasEl[t]=e),this.cacheCanvasEl&&(this.cacheCanvasEl[t]=e),this[t]=e,this},_setCssDimension:function(t,e){return this.lowerCanvasEl.style[t]=e,this.upperCanvasEl&&(this.upperCanvasEl.style[t]=e),this.wrapperEl&&(this.wrapperEl.style[t]=e),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(t){var e,i,r,n=this._activeObject;for(this.viewportTransform=t,i=0,r=this._objects.length;i<r;i++)(e=this._objects[i]).group||e.setCoords(!1,!0);return n&&"activeSelection"===n.type&&n.setCoords(!1,!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(t,e){var i=t,r=this.viewportTransform.slice(0);t=n(t,s(this.viewportTransform)),r[0]=e,r[3]=e;var o=n(t,r);return r[4]+=i.x-o.x,r[5]+=i.y-o.y,this.setViewportTransform(r)},setZoom:function(t){return this.zoomToPoint(new w.Point(0,0),t),this},absolutePan:function(t){var e=this.viewportTransform.slice(0);return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)},relativePan:function(t){return this.absolutePan(new w.Point(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(t){this.stateful&&t.setupState(),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added")},_onObjectRemoved:function(t){this.fire("object:removed",{target:t}),t.fire("removed"),delete t.canvas},clearContext:function(t){return t.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this._objects.length=0,this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var t=this.contextContainer;return this.renderCanvas(t,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=w.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var t={},e=this.width,i=this.height,r=s(this.viewportTransform);return t.tl=n({x:0,y:0},r),t.br=n({x:e,y:i},r),t.tr=new w.Point(t.br.x,t.tl.y),t.bl=new w.Point(t.tl.x,t.br.y),this.vptCoords=t,t},cancelRequestedRender:function(){this.isRendering&&(w.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(t,e){var i=this.viewportTransform,r=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(t),this.fire("before:render",{ctx:t}),this.clipTo&&w.util.clipContext(this,t),this._renderBackground(t),t.save(),t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this._renderObjects(t,e),t.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),this.clipTo&&t.restore(),r&&(r.canvas=this,r.shouldCache(),r._transformDone=!0,r.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(t)),this._renderOverlay(t),this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),this.fire("after:render",{ctx:t})},drawClipPathOnCanvas:function(t){var e=this.viewportTransform,i=this.clipPath;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t.globalCompositeOperation="destination-in",i.transform(t),t.scale(1/i.zoomX,1/i.zoomY),t.drawImage(i._cacheCanvas,-i.cacheTranslationX,-i.cacheTranslationY),t.restore()},_renderObjects:function(t,e){var i,r;for(i=0,r=e.length;i<r;++i)e[i]&&e[i].render(t)},_renderBackgroundOrOverlay:function(t,e){var i=this[e+"Color"],r=this[e+"Image"],n=this.viewportTransform,s=this[e+"Vpt"];if(i||r){if(i){t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(this.width,0),t.lineTo(this.width,this.height),t.lineTo(0,this.height),t.closePath(),t.fillStyle=i.toLive?i.toLive(t,this):i,s&&t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),t.transform(1,0,0,1,i.offsetX||0,i.offsetY||0);var o=i.gradientTransform||i.patternTransform;o&&t.transform(o[0],o[1],o[2],o[3],o[4],o[5]),t.fill(),t.restore()}r&&(t.save(),s&&t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),r.render(t),t.restore())}},_renderBackground:function(t){this._renderBackgroundOrOverlay(t,"background")},_renderOverlay:function(t){this._renderBackgroundOrOverlay(t,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(t){return this._centerObject(t,new w.Point(this.getCenter().left,t.getCenterPoint().y))},centerObjectV:function(t){return this._centerObject(t,new w.Point(t.getCenterPoint().x,this.getCenter().top))},centerObject:function(t){var e=this.getCenter();return this._centerObject(t,new w.Point(e.left,e.top))},viewportCenterObject:function(t){var e=this.getVpCenter();return this._centerObject(t,e)},viewportCenterObjectH:function(t){var e=this.getVpCenter();return this._centerObject(t,new w.Point(e.x,t.getCenterPoint().y)),this},viewportCenterObjectV:function(t){var e=this.getVpCenter();return this._centerObject(t,new w.Point(t.getCenterPoint().x,e.y))},getVpCenter:function(){var t=this.getCenter(),e=s(this.viewportTransform);return n({x:t.left,y:t.top},e)},_centerObject:function(t,e){return t.setPositionByOrigin(e,"center","center"),t.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(t){return this.toDatalessObject(t)},toObject:function(t){return this._toObjectMethod("toObject",t)},toDatalessObject:function(t){return this._toObjectMethod("toDatalessObject",t)},_toObjectMethod:function(e,i){var r=this.clipPath,n={version:w.version,objects:this._toObjects(e,i)};return r&&(n.clipPath=this._toObject(this.clipPath,e,i)),t(n,this.__serializeBgOverlay(e,i)),w.util.populateWithProperties(this,n,i),n},_toObjects:function(t,e){return this._objects.filter((function(t){return!t.excludeFromExport})).map((function(i){return this._toObject(i,t,e)}),this)},_toObject:function(t,e,i){var r;this.includeDefaultValues||(r=t.includeDefaultValues,t.includeDefaultValues=!1);var n=t[e](i);return this.includeDefaultValues||(t.includeDefaultValues=r),n},__serializeBgOverlay:function(t,e){var i={},r=this.backgroundImage,n=this.overlayImage;return this.backgroundColor&&(i.background=this.backgroundColor.toObject?this.backgroundColor.toObject(e):this.backgroundColor),this.overlayColor&&(i.overlay=this.overlayColor.toObject?this.overlayColor.toObject(e):this.overlayColor),r&&!r.excludeFromExport&&(i.backgroundImage=this._toObject(r,t,e)),n&&!n.excludeFromExport&&(i.overlayImage=this._toObject(n,t,e)),i},svgViewportTransformation:!0,toSVG:function(t,e){t||(t={}),t.reviver=e;var i=[];return this._setSVGPreamble(i,t),this._setSVGHeader(i,t),this.clipPath&&i.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(i,"background"),this._setSVGBgOverlayImage(i,"backgroundImage",e),this._setSVGObjects(i,e),this.clipPath&&i.push("</g>\n"),this._setSVGBgOverlayColor(i,"overlay"),this._setSVGBgOverlayImage(i,"overlayImage",e),i.push("</svg>"),i.join("")},_setSVGPreamble:function(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(t,e){var i,n=e.width||this.width,s=e.height||this.height,o='viewBox="0 0 '+this.width+" "+this.height+'" ',a=w.Object.NUM_FRACTION_DIGITS;e.viewBox?o='viewBox="'+e.viewBox.x+" "+e.viewBox.y+" "+e.viewBox.width+" "+e.viewBox.height+'" ':this.svgViewportTransformation&&(i=this.viewportTransform,o='viewBox="'+r(-i[4]/i[0],a)+" "+r(-i[5]/i[3],a)+" "+r(this.width/i[0],a)+" "+r(this.height/i[3],a)+'" '),t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',n,'" ','height="',s,'" ',o,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",w.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(e),"</defs>\n")},createSVGClipPathMarkup:function(t){var e=this.clipPath;return e?(e.clipPathId="CLIPPATH_"+w.Object.__uid++,'<clipPath id="'+e.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(t.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var t=this;return["background","overlay"].map((function(e){var i=t[e+"Color"];if(i&&i.toLive){var r=t[e+"Vpt"],n=t.viewportTransform,s={width:t.width/(r?n[0]:1),height:t.height/(r?n[3]:1)};return i.toSVG(s,{additionalTransform:r?w.util.matrixToSVG(n):""})}})).join("")},createSVGFontFacesMarkup:function(){var t,e,i,r,n,s,o,a,h="",c={},l=w.fontPaths,u=this._objects;for(o=0,a=u.length;o<a;o++)if(e=(t=u[o]).fontFamily,-1!==t.type.indexOf("text")&&!c[e]&&l[e]&&(c[e]=!0,t.styles))for(n in i=t.styles)for(s in r=i[n])!c[e=r[s].fontFamily]&&l[e]&&(c[e]=!0);for(var f in c)h+=["\t\t@font-face {\n","\t\t\tfont-family: '",f,"';\n","\t\t\tsrc: url('",l[f],"');\n","\t\t}\n"].join("");return h&&(h=['\t<style type="text/css">',"<![CDATA[\n",h,"]]>","</style>\n"].join("")),h},_setSVGObjects:function(t,e){var i,r,n,s=this._objects;for(r=0,n=s.length;r<n;r++)(i=s[r]).excludeFromExport||this._setSVGObject(t,i,e)},_setSVGObject:function(t,e,i){t.push(e.toSVG(i))},_setSVGBgOverlayImage:function(t,e,i){this[e]&&!this[e].excludeFromExport&&this[e].toSVG&&t.push(this[e].toSVG(i))},_setSVGBgOverlayColor:function(t,e){var i=this[e+"Color"],r=this.viewportTransform,n=this.width,s=this.height;if(i)if(i.toLive){var o=i.repeat,a=w.util.invertTransform(r),h=this[e+"Vpt"]?w.util.matrixToSVG(a):"";t.push('<rect transform="'+h+" translate(",n/2,",",s/2,')"',' x="',i.offsetX-n/2,'" y="',i.offsetY-s/2,'" ','width="',"repeat-y"===o||"no-repeat"===o?i.source.width:n,'" height="',"repeat-x"===o||"no-repeat"===o?i.source.height:s,'" fill="url(#SVGID_'+i.id+')"',"></rect>\n")}else t.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',i,'"',"></rect>\n")},sendToBack:function(t){if(!t)return this;var e,r,n,s=this._activeObject;if(t===s&&"activeSelection"===t.type)for(e=(n=s._objects).length;e--;)r=n[e],i(this._objects,r),this._objects.unshift(r);else i(this._objects,t),this._objects.unshift(t);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(t){if(!t)return this;var e,r,n,s=this._activeObject;if(t===s&&"activeSelection"===t.type)for(n=s._objects,e=0;e<n.length;e++)r=n[e],i(this._objects,r),this._objects.push(r);else i(this._objects,t),this._objects.push(t);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(t,e){if(!t)return this;var r,n,s,o,a,h=this._activeObject,c=0;if(t===h&&"activeSelection"===t.type)for(a=h._objects,r=0;r<a.length;r++)n=a[r],(s=this._objects.indexOf(n))>0+c&&(o=s-1,i(this._objects,n),this._objects.splice(o,0,n)),c++;else 0!==(s=this._objects.indexOf(t))&&(o=this._findNewLowerIndex(t,s,e),i(this._objects,t),this._objects.splice(o,0,t));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(t,e,i){var r,n;if(i)for(r=e,n=e-1;n>=0;--n){if(t.intersectsWithObject(this._objects[n])||t.isContainedWithinObject(this._objects[n])||this._objects[n].isContainedWithinObject(t)){r=n;break}}else r=e-1;return r},bringForward:function(t,e){if(!t)return this;var r,n,s,o,a,h=this._activeObject,c=0;if(t===h&&"activeSelection"===t.type)for(r=(a=h._objects).length;r--;)n=a[r],(s=this._objects.indexOf(n))<this._objects.length-1-c&&(o=s+1,i(this._objects,n),this._objects.splice(o,0,n)),c++;else(s=this._objects.indexOf(t))!==this._objects.length-1&&(o=this._findNewUpperIndex(t,s,e),i(this._objects,t),this._objects.splice(o,0,t));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(t,e,i){var r,n,s;if(i)for(r=e,n=e+1,s=this._objects.length;n<s;++n){if(t.intersectsWithObject(this._objects[n])||t.isContainedWithinObject(this._objects[n])||this._objects[n].isContainedWithinObject(t)){r=n;break}}else r=e+1;return r},moveTo:function(t,e){return i(this._objects,t),this._objects.splice(e,0,t),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(w.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject((function(t){t.dispose&&t.dispose()})),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,w.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),t(w.StaticCanvas.prototype,w.Observable),t(w.StaticCanvas.prototype,w.Collection),t(w.StaticCanvas.prototype,w.DataURLExporter),t(w.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(t){var e=a();if(!e||!e.getContext)return null;var i=e.getContext("2d");if(!i)return null;switch(t){case"setLineDash":return void 0!==i.setLineDash;default:return null}}}),w.StaticCanvas.prototype.toJSON=w.StaticCanvas.prototype.toObject,w.isLikelyNode&&(w.StaticCanvas.prototype.createPNGStream=function(){var t=o(this.lowerCanvasEl);return t&&t.createPNGStream()},w.StaticCanvas.prototype.createJPEGStream=function(t){var e=o(this.lowerCanvasEl);return e&&e.createJPEGStream(t)})}}(),w.BaseBrush=w.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,setShadow:function(t){return this.shadow=new w.Shadow(t),this},_setBrushStyles:function(){var t=this.canvas.contextTop;t.strokeStyle=this.color,t.lineWidth=this.width,t.lineCap=this.strokeLineCap,t.miterLimit=this.strokeMiterLimit,t.lineJoin=this.strokeLineJoin,w.StaticCanvas.supports("setLineDash")&&t.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(t){var e=this.canvas.viewportTransform;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5])},_setShadow:function(){if(this.shadow){var t=this.canvas,e=this.shadow,i=t.contextTop,r=t.getZoom();t&&t._isRetinaScaling()&&(r*=w.devicePixelRatio),i.shadowColor=e.color,i.shadowBlur=e.blur*r,i.shadowOffsetX=e.offsetX*r,i.shadowOffsetY=e.offsetY*r}},needsFullRender:function(){return new w.Color(this.color).getAlpha()<1||!!this.shadow},_resetShadow:function(){var t=this.canvas.contextTop;t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0}}),w.PencilBrush=w.util.createClass(w.BaseBrush,{decimate:.4,initialize:function(t){this.canvas=t,this._points=[]},_drawSegment:function(t,e,i){var r=e.midPointFrom(i);return t.quadraticCurveTo(e.x,e.y,r.x,r.y),r},onMouseDown:function(t,e){this.canvas._isMainEvent(e.e)&&(this._prepareForDrawing(t),this._captureDrawingPath(t),this._render())},onMouseMove:function(t,e){if(this.canvas._isMainEvent(e.e)&&this._captureDrawingPath(t)&&this._points.length>1)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var i=this._points,r=i.length,n=this.canvas.contextTop;this._saveAndTransform(n),this.oldEnd&&(n.beginPath(),n.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(n,i[r-2],i[r-1],!0),n.stroke(),n.restore()}},onMouseUp:function(t){return!this.canvas._isMainEvent(t.e)||(this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function(t){var e=new w.Point(t.x,t.y);this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)},_addPoint:function(t){return!(this._points.length>1&&t.eq(this._points[this._points.length-1])||(this._points.push(t),0))},_reset:function(){this._points=[],this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(t){var e=new w.Point(t.x,t.y);return this._addPoint(e)},_render:function(){var t,e,i=this.canvas.contextTop,r=this._points[0],n=this._points[1];if(this._saveAndTransform(i),i.beginPath(),2===this._points.length&&r.x===n.x&&r.y===n.y){var s=this.width/1e3;r=new w.Point(r.x,r.y),n=new w.Point(n.x,n.y),r.x-=s,n.x+=s}for(i.moveTo(r.x,r.y),t=1,e=this._points.length;t<e;t++)this._drawSegment(i,r,n),r=this._points[t],n=this._points[t+1];i.lineTo(r.x,r.y),i.stroke(),i.restore()},convertPointsToSVGPath:function(t){var e,i=[],r=this.width/1e3,n=new w.Point(t[0].x,t[0].y),s=new w.Point(t[1].x,t[1].y),o=t.length,a=1,h=0,c=o>2;for(c&&(a=t[2].x<s.x?-1:t[2].x===s.x?0:1,h=t[2].y<s.y?-1:t[2].y===s.y?0:1),i.push("M ",n.x-a*r," ",n.y-h*r," "),e=1;e<o;e++){if(!n.eq(s)){var l=n.midPointFrom(s);i.push("Q ",n.x," ",n.y," ",l.x," ",l.y," ")}n=t[e],e+1<t.length&&(s=t[e+1])}return c&&(a=n.x>t[e-2].x?1:n.x===t[e-2].x?0:-1,h=n.y>t[e-2].y?1:n.y===t[e-2].y?0:-1),i.push("L ",n.x+a*r," ",n.y+h*r),i},createPath:function(t){var e=new w.Path(t,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,e.setShadow(this.shadow)),e},decimatePoints:function(t,e){if(t.length<=2)return t;var i,r=this.canvas.getZoom(),n=Math.pow(e/r,2),s=t.length-1,o=t[0],a=[o];for(i=1;i<s;i++)Math.pow(o.x-t[i].x,2)+Math.pow(o.y-t[i].y,2)>=n&&(o=t[i],a.push(o));return 1===a.length&&a.push(new w.Point(a[0].x,a[0].y)),a},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var t=this.convertPointsToSVGPath(this._points).join("");if("M 0 0 Q 0 0 0 0 L 0 0"!==t){var e=this.createPath(t);this.canvas.clearContext(this.canvas.contextTop),this.canvas.add(e),this.canvas.requestRenderAll(),e.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:e})}else this.canvas.requestRenderAll()}}),w.CircleBrush=w.util.createClass(w.BaseBrush,{width:10,initialize:function(t){this.canvas=t,this.points=[]},drawDot:function(t){var e=this.addPoint(t),i=this.canvas.contextTop;this._saveAndTransform(i),this.dot(i,e),i.restore()},dot:function(t,e){t.fillStyle=e.fill,t.beginPath(),t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.closePath(),t.fill()},onMouseDown:function(t){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(t)},_render:function(){var t,e,i=this.canvas.contextTop,r=this.points;for(this._saveAndTransform(i),t=0,e=r.length;t<e;t++)this.dot(i,r[t]);i.restore()},onMouseMove:function(t){this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(t),this._render()):this.drawDot(t)},onMouseUp:function(){var t,e,i=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var r=[];for(t=0,e=this.points.length;t<e;t++){var n=this.points[t],s=new w.Circle({radius:n.radius,left:n.x,top:n.y,originX:"center",originY:"center",fill:n.fill});this.shadow&&s.setShadow(this.shadow),r.push(s)}var o=new w.Group(r);o.canvas=this.canvas,this.canvas.add(o),this.canvas.fire("path:created",{path:o}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=i,this.canvas.requestRenderAll()},addPoint:function(t){var e=new w.Point(t.x,t.y),i=w.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,r=new w.Color(this.color).setAlpha(w.util.getRandomInt(0,100)/100).toRgba();return e.radius=i,e.fill=r,this.points.push(e),e}}),w.SprayBrush=w.util.createClass(w.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(t){this.canvas=t,this.sprayChunks=[]},onMouseDown:function(t){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(t),this.render(this.sprayChunkPoints)},onMouseMove:function(t){this.addSprayChunk(t),this.render(this.sprayChunkPoints)},onMouseUp:function(){var t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var e=[],i=0,r=this.sprayChunks.length;i<r;i++)for(var n=this.sprayChunks[i],s=0,o=n.length;s<o;s++){var a=new w.Rect({width:n[s].width,height:n[s].width,left:n[s].x+1,top:n[s].y+1,originX:"center",originY:"center",fill:this.color});e.push(a)}this.optimizeOverlapping&&(e=this._getOptimizedRects(e));var h=new w.Group(e);this.shadow&&h.setShadow(this.shadow),this.canvas.add(h),this.canvas.fire("path:created",{path:h}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.requestRenderAll()},_getOptimizedRects:function(t){var e,i,r,n={};for(i=0,r=t.length;i<r;i++)n[e=t[i].left+""+t[i].top]||(n[e]=t[i]);var s=[];for(e in n)s.push(n[e]);return s},render:function(t){var e,i,r=this.canvas.contextTop;for(r.fillStyle=this.color,this._saveAndTransform(r),e=0,i=t.length;e<i;e++){var n=t[e];void 0!==n.opacity&&(r.globalAlpha=n.opacity),r.fillRect(n.x,n.y,n.width,n.width)}r.restore()},_render:function(){var t,e,i=this.canvas.contextTop;for(i.fillStyle=this.color,this._saveAndTransform(i),t=0,e=this.sprayChunks.length;t<e;t++)this.render(this.sprayChunks[t]);i.restore()},addSprayChunk:function(t){this.sprayChunkPoints=[];var e,i,r,n,s=this.width/2;for(n=0;n<this.density;n++){e=w.util.getRandomInt(t.x-s,t.x+s),i=w.util.getRandomInt(t.y-s,t.y+s),r=this.dotWidthVariance?w.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var o=new w.Point(e,i);o.width=r,this.randomOpacity&&(o.opacity=w.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(o)}this.sprayChunks.push(this.sprayChunkPoints)}}),w.PatternBrush=w.util.createClass(w.PencilBrush,{getPatternSrc:function(){var t=w.util.createCanvasElement(),e=t.getContext("2d");return t.width=t.height=25,e.fillStyle=this.color,e.beginPath(),e.arc(10,10,10,0,2*Math.PI,!1),e.closePath(),e.fill(),t},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(t){var e=this.callSuper("createPath",t),i=e._getLeftTopCoords().scalarAdd(e.strokeWidth/2);return e.stroke=new w.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-i.x,offsetY:-i.y}),e}}),function(){var t=w.util.getPointer,e=w.util.degreesToRadians,i=w.util.radiansToDegrees,r=Math.atan2,n=Math.abs,s=w.StaticCanvas.supports("setLineDash");for(var o in w.Canvas=w.util.createClass(w.StaticCanvas,{initialize:function(t,e){e||(e={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(t,e),this._initInteractive(),this._createCacheCanvas()},uniScaleTransform:!1,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=w.PencilBrush&&new w.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var t,e,i,r=this.getActiveObjects();if(r.length>0&&!this.preserveObjectStacking){e=[],i=[];for(var n=0,s=this._objects.length;n<s;n++)t=this._objects[n],-1===r.indexOf(t)?e.push(t):i.push(t);r.length>1&&(this._activeObject._objects=i),e.push.apply(e,i)}else e=this._objects;return e},renderAll:function(){!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop);var t=this.contextContainer;return this.renderCanvas(t,this._chooseObjectsToRender()),this},renderTopLayer:function(t){t.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(t),this.contextTopDirty=!0),t.restore()},renderTop:function(){var t=this.contextTop;return this.clearContext(t),this.renderTopLayer(t),this.fire("after:render"),this},_resetCurrentTransform:function(){var t=this._currentTransform;t.target.set({scaleX:t.original.scaleX,scaleY:t.original.scaleY,skewX:t.original.skewX,skewY:t.original.skewY,left:t.original.left,top:t.original.top}),this._shouldCenterTransform(t.target)?("center"!==t.originX&&("right"===t.originX?t.mouseXSign=-1:t.mouseXSign=1),"center"!==t.originY&&("bottom"===t.originY?t.mouseYSign=-1:t.mouseYSign=1),t.originX="center",t.originY="center"):(t.originX=t.original.originX,t.originY=t.original.originY)},containsPoint:function(t,e,i){var r,n=i||this.getPointer(t,!0);return r=e.group&&e.group===this._activeObject&&"activeSelection"===e.group.type?this._normalizePointer(e.group,n):{x:n.x,y:n.y},e.containsPoint(r)||e._findTargetCorner(n)},_normalizePointer:function(t,e){var i=t.calcTransformMatrix(),r=w.util.invertTransform(i),n=this.restorePointerVpt(e);return w.util.transformPoint(n,r)},isTargetTransparent:function(t,e,i){if(t.shouldCache()&&t._cacheCanvas&&t!==this._activeObject){var r=this._normalizePointer(t,{x:e,y:i}),n=Math.max(t.cacheTranslationX+r.x*t.zoomX,0),s=Math.max(t.cacheTranslationY+r.y*t.zoomY,0);return w.util.isTransparent(t._cacheContext,Math.round(n),Math.round(s),this.targetFindTolerance)}var o=this.contextCache,a=t.selectionBackgroundColor,h=this.viewportTransform;return t.selectionBackgroundColor="",this.clearContext(o),o.save(),o.transform(h[0],h[1],h[2],h[3],h[4],h[5]),t.render(o),o.restore(),t===this._activeObject&&t._renderControls(o,{hasBorders:!1,transparentCorners:!1},{hasBorders:!1}),t.selectionBackgroundColor=a,w.util.isTransparent(o,e,i,this.targetFindTolerance)},_isSelectionKeyPressed:function(t){return"[object Array]"===Object.prototype.toString.call(this.selectionKey)?!!this.selectionKey.find((function(e){return!0===t[e]})):t[this.selectionKey]},_shouldClearSelection:function(t,e){var i=this.getActiveObjects(),r=this._activeObject;return!e||e&&r&&i.length>1&&-1===i.indexOf(e)&&r!==e&&!this._isSelectionKeyPressed(t)||e&&!e.evented||e&&!e.selectable&&r&&r!==e},_shouldCenterTransform:function(t){if(t){var e,i=this._currentTransform;return"scale"===i.action||"scaleX"===i.action||"scaleY"===i.action?e=this.centeredScaling||t.centeredScaling:"rotate"===i.action&&(e=this.centeredRotation||t.centeredRotation),e?!i.altKey:i.altKey}},_getOriginFromCorner:function(t,e){var i={x:t.originX,y:t.originY};return"ml"===e||"tl"===e||"bl"===e?i.x="right":"mr"!==e&&"tr"!==e&&"br"!==e||(i.x="left"),"tl"===e||"mt"===e||"tr"===e?i.y="bottom":"bl"!==e&&"mb"!==e&&"br"!==e||(i.y="top"),i},_getActionFromCorner:function(t,e,i){if(!e||!t)return"drag";switch(e){case"mtr":return"rotate";case"ml":case"mr":return i[this.altActionKey]?"skewY":"scaleX";case"mt":case"mb":return i[this.altActionKey]?"skewX":"scaleY";default:return"scale"}},_setupCurrentTransform:function(t,i,r){if(i){var n=this.getPointer(t),s=i._findTargetCorner(this.getPointer(t,!0)),o=this._getActionFromCorner(r,s,t,i),a=this._getOriginFromCorner(i,s);this._currentTransform={target:i,action:o,corner:s,scaleX:i.scaleX,scaleY:i.scaleY,skewX:i.skewX,skewY:i.skewY,offsetX:n.x-i.left,offsetY:n.y-i.top,originX:a.x,originY:a.y,ex:n.x,ey:n.y,lastX:n.x,lastY:n.y,theta:e(i.angle),width:i.width*i.scaleX,mouseXSign:1,mouseYSign:1,shiftKey:t.shiftKey,altKey:t[this.centeredKey],original:w.util.saveObjectTransform(i)},this._currentTransform.original.originX=a.x,this._currentTransform.original.originY=a.y,this._resetCurrentTransform(),this._beforeTransform(t)}},_translateObject:function(t,e){var i=this._currentTransform,r=i.target,n=t-i.offsetX,s=e-i.offsetY,o=!r.get("lockMovementX")&&r.left!==n,a=!r.get("lockMovementY")&&r.top!==s;return o&&r.set("left",n),a&&r.set("top",s),o||a},_changeSkewTransformOrigin:function(t,e,i){var r="originX",n={0:"center"},s=e.target.skewX,o="left",a="right",h="mt"===e.corner||"ml"===e.corner?1:-1,c=1;t=t>0?1:-1,"y"===i&&(s=e.target.skewY,o="top",a="bottom",r="originY"),n[-1]=o,n[1]=a,e.target.flipX&&(c*=-1),e.target.flipY&&(c*=-1),0===s?(e.skewSign=-h*t*c,e[r]=n[-t]):(s=s>0?1:-1,e.skewSign=s,e[r]=n[s*h*c])},_skewObject:function(t,e,i){var r,n=this._currentTransform,s=n.target,o=s.get("lockSkewingX"),a=s.get("lockSkewingY");if(o&&"x"===i||a&&"y"===i)return!1;var h,c,l=s.getCenterPoint(),u=s.toLocalPoint(new w.Point(t,e),"center","center")[i],f=s.toLocalPoint(new w.Point(n.lastX,n.lastY),"center","center")[i],d=s._getTransformedDimensions();return this._changeSkewTransformOrigin(u-f,n,i),h=s.toLocalPoint(new w.Point(t,e),n.originX,n.originY)[i],c=s.translateToOriginPoint(l,n.originX,n.originY),r=this._setObjectSkew(h,n,i,d),n.lastX=t,n.lastY=e,s.setPositionByOrigin(c,n.originX,n.originY),r},_setObjectSkew:function(t,e,i,r){var n,s,o,a,h,c,l,u,f,d,g=e.target,p=e.skewSign;return"x"===i?(h="y",c="Y",l="X",f=0,d=g.skewY):(h="x",c="X",l="Y",f=g.skewX,d=0),a=g._getTransformedDimensions(f,d),(u=2*Math.abs(t)-a[i])<=2?n=0:(n=p*Math.atan(u/g["scale"+l]/(a[h]/g["scale"+c])),n=w.util.radiansToDegrees(n)),s=g["skew"+l]!==n,g.set("skew"+l,n),0!==g["skew"+c]&&(o=g._getTransformedDimensions(),n=r[h]/o[h]*g["scale"+c],g.set("scale"+c,n)),s},_scaleObject:function(t,e,i){var r=this._currentTransform,n=r.target,s=n.lockScalingX,o=n.lockScalingY,a=n.lockScalingFlip;if(s&&o)return!1;var h,c=n.translateToOriginPoint(n.getCenterPoint(),r.originX,r.originY),l=n.toLocalPoint(new w.Point(t,e),r.originX,r.originY),u=n._getTransformedDimensions();return this._setLocalMouse(l,r),h=this._setObjectScale(l,r,s,o,i,a,u),n.setPositionByOrigin(c,r.originX,r.originY),h},_setObjectScale:function(t,e,i,r,n,s,o){var a=e.target,h=!1,c=!1,l=!1,u=t.x*a.scaleX/o.x,f=t.y*a.scaleY/o.y,d=a.scaleX!==u,g=a.scaleY!==f;if(e.newScaleX=u,e.newScaleY=f,w.Textbox&&"x"===n&&a instanceof w.Textbox){var p=a.width*(t.x/o.x);return p>=a.getMinWidth()&&(l=p!==a.width,a.set("width",p),l)}return s&&u<=0&&u<a.scaleX&&(h=!0,t.x=0),s&&f<=0&&f<a.scaleY&&(c=!0,t.y=0),"equally"!==n||i||r?n?"x"!==n||a.get("lockUniScaling")?"y"!==n||a.get("lockUniScaling")||c||r||a.set("scaleY",f)&&(l=g):h||i||a.set("scaleX",u)&&(l=d):(h||i||a.set("scaleX",u)&&(l=l||d),c||r||a.set("scaleY",f)&&(l=l||g)):l=this._scaleObjectEqually(t,a,e,o),h||c||this._flipObject(e,n),l},_scaleObjectEqually:function(t,e,i,r){var n,s,o,a=t.y+t.x,h=r.y*i.original.scaleY/e.scaleY+r.x*i.original.scaleX/e.scaleX,c=t.x<0?-1:1,l=t.y<0?-1:1;return s=c*Math.abs(i.original.scaleX*a/h),o=l*Math.abs(i.original.scaleY*a/h),n=s!==e.scaleX||o!==e.scaleY,e.set("scaleX",s),e.set("scaleY",o),n},_flipObject:function(t,e){t.newScaleX<0&&"y"!==e&&("left"===t.originX?t.originX="right":"right"===t.originX&&(t.originX="left")),t.newScaleY<0&&"x"!==e&&("top"===t.originY?t.originY="bottom":"bottom"===t.originY&&(t.originY="top"))},_setLocalMouse:function(t,e){var i=e.target,r=this.getZoom(),s=i.padding/r;"right"===e.originX?t.x*=-1:"center"===e.originX&&(t.x*=2*e.mouseXSign,t.x<0&&(e.mouseXSign=-e.mouseXSign)),"bottom"===e.originY?t.y*=-1:"center"===e.originY&&(t.y*=2*e.mouseYSign,t.y<0&&(e.mouseYSign=-e.mouseYSign)),n(t.x)>s?t.x<0?t.x+=s:t.x-=s:t.x=0,n(t.y)>s?t.y<0?t.y+=s:t.y-=s:t.y=0},_rotateObject:function(t,e){var n=this._currentTransform,s=n.target,o=s.translateToOriginPoint(s.getCenterPoint(),n.originX,n.originY);if(s.lockRotation)return!1;var a=r(n.ey-o.y,n.ex-o.x),h=r(e-o.y,t-o.x),c=i(h-a+n.theta),l=!0;if(s.snapAngle>0){var u=s.snapAngle,f=s.snapThreshold||u,d=Math.ceil(c/u)*u,g=Math.floor(c/u)*u;Math.abs(c-g)<f?c=g:Math.abs(c-d)<f&&(c=d)}return c<0&&(c=360+c),c%=360,s.angle===c?l=!1:(s.angle=c,s.setPositionByOrigin(o,n.originX,n.originY)),l},setCursor:function(t){this.upperCanvasEl.style.cursor=t},_drawSelection:function(t){var e=this._groupSelector,i=e.left,r=e.top,o=n(i),a=n(r);if(this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(e.ex-(i>0?0:-i),e.ey-(r>0?0:-r),o,a)),this.selectionLineWidth&&this.selectionBorderColor)if(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,this.selectionDashArray.length>1&&!s){var h=e.ex+.5-(i>0?0:o),c=e.ey+.5-(r>0?0:a);t.beginPath(),w.util.drawDashedLine(t,h,c,h+o,c,this.selectionDashArray),w.util.drawDashedLine(t,h,c+a-1,h+o,c+a-1,this.selectionDashArray),w.util.drawDashedLine(t,h,c,h,c+a,this.selectionDashArray),w.util.drawDashedLine(t,h+o-1,c,h+o-1,c+a,this.selectionDashArray),t.closePath(),t.stroke()}else w.Object.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(e.ex+.5-(i>0?0:o),e.ey+.5-(r>0?0:a),o,a)},findTarget:function(t,e){if(!this.skipTargetFind){var i,r,n=this.getPointer(t,!0),s=this._activeObject,o=this.getActiveObjects();if(this.targets=[],o.length>1&&!e&&s===this._searchPossibleTargets([s],n))return s;if(1===o.length&&s._findTargetCorner(n))return s;if(1===o.length&&s===this._searchPossibleTargets([s],n)){if(!this.preserveObjectStacking)return s;i=s,r=this.targets,this.targets=[]}var a=this._searchPossibleTargets(this._objects,n);return t[this.altSelectionKey]&&a&&i&&a!==i&&(a=i,this.targets=r),a}},_checkTarget:function(t,e,i){if(e&&e.visible&&e.evented&&this.containsPoint(null,e,t)){if(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing)return!0;if(!this.isTargetTransparent(e,i.x,i.y))return!0}},_searchPossibleTargets:function(t,e){for(var i,r,n=t.length;n--;){var s=t[n],o=s.group&&"activeSelection"!==s.group.type?this._normalizePointer(s.group,e):e;if(this._checkTarget(o,s,e)){(i=t[n]).subTargetCheck&&i instanceof w.Group&&(r=this._searchPossibleTargets(i._objects,e))&&this.targets.push(r);break}}return i},restorePointerVpt:function(t){return w.util.transformPoint(t,w.util.invertTransform(this.viewportTransform))},getPointer:function(e,i){if(this._absolutePointer&&!i)return this._absolutePointer;if(this._pointer&&i)return this._pointer;var r,n=t(e),s=this.upperCanvasEl,o=s.getBoundingClientRect(),a=o.width||0,h=o.height||0;a&&h||("top"in o&&"bottom"in o&&(h=Math.abs(o.top-o.bottom)),"right"in o&&"left"in o&&(a=Math.abs(o.right-o.left))),this.calcOffset(),n.x=n.x-this._offset.left,n.y=n.y-this._offset.top,i||(n=this.restorePointerVpt(n));var c=this.getRetinaScaling();return 1!==c&&(n.x/=c,n.y/=c),r=0===a||0===h?{width:1,height:1}:{width:s.width/a,height:s.height/h},{x:n.x*r.width,y:n.y*r.height}},_createUpperCanvas:function(){var t=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),e=this.lowerCanvasEl,i=this.upperCanvasEl;i?i.className="":(i=this._createCanvasElement(),this.upperCanvasEl=i),w.util.addClass(i,"upper-canvas "+t),this.wrapperEl.appendChild(i),this._copyCanvasStyle(e,i),this._applyCanvasStyle(i),this.contextTop=i.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=w.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),w.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),w.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(t){var e=this.width||t.width,i=this.height||t.height;w.util.setStyle(t,{position:"absolute",width:e+"px",height:i+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),t.width=e,t.height=i,w.util.makeElementUnselectable(t)},_copyCanvasStyle:function(t,e){e.style.cssText=t.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var t=this._activeObject;return t?"activeSelection"===t.type&&t._objects?t._objects.slice(0):[t]:[]},_onObjectRemoved:function(t){t===this._activeObject&&(this.fire("before:selection:cleared",{target:t}),this._discardActiveObject(),this.fire("selection:cleared",{target:t}),t.fire("deselected")),t===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",t)},_fireSelectionEvents:function(t,e){var i=!1,r=this.getActiveObjects(),n=[],s=[],o={e:e};t.forEach((function(t){-1===r.indexOf(t)&&(i=!0,t.fire("deselected",o),s.push(t))})),r.forEach((function(e){-1===t.indexOf(e)&&(i=!0,e.fire("selected",o),n.push(e))})),t.length>0&&r.length>0?(o.selected=n,o.deselected=s,o.updated=n[0]||s[0],o.target=this._activeObject,i&&this.fire("selection:updated",o)):r.length>0?(1===r.length&&(o.target=n[0],this.fire("object:selected",o)),o.selected=n,o.target=this._activeObject,this.fire("selection:created",o)):t.length>0&&(o.deselected=s,this.fire("selection:cleared",o))},setActiveObject:function(t,e){var i=this.getActiveObjects();return this._setActiveObject(t,e),this._fireSelectionEvents(i,e),this},_setActiveObject:function(t,e){return this._activeObject!==t&&(!!this._discardActiveObject(e,t)&&(!t.onSelect({e:e})&&(this._activeObject=t,!0)))},_discardActiveObject:function(t,e){var i=this._activeObject;if(i){if(i.onDeselect({e:t,object:e}))return!1;this._activeObject=null}return!0},discardActiveObject:function(t){var e=this.getActiveObjects(),i=this.getActiveObject();return e.length&&this.fire("before:selection:cleared",{target:i,e:t}),this._discardActiveObject(t),this._fireSelectionEvents(e,t),this},dispose:function(){var t=this.wrapperEl;return this.removeListeners(),t.removeChild(this.upperCanvasEl),t.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(t){w.util.cleanUpJsdomNode(this[t]),this[t]=void 0}.bind(this)),t.parentNode&&t.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,w.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(t){var e=this._activeObject;e&&e._renderControls(t)},_toObject:function(t,e,i){var r=this._realizeGroupTransformOnObject(t),n=this.callSuper("_toObject",t,e,i);return this._unwindGroupTransformOnObject(t,r),n},_realizeGroupTransformOnObject:function(t){if(t.group&&"activeSelection"===t.group.type&&this._activeObject===t.group){var e={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach((function(i){e[i]=t[i]})),this._activeObject.realizeTransform(t),e}return null},_unwindGroupTransformOnObject:function(t,e){e&&t.set(e)},_setSVGObject:function(t,e,i){var r=this._realizeGroupTransformOnObject(e);this.callSuper("_setSVGObject",t,e,i),this._unwindGroupTransformOnObject(e,r)},setViewportTransform:function(t){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),w.StaticCanvas.prototype.setViewportTransform.call(this,t)}}),w.StaticCanvas)"prototype"!==o&&(w.Canvas[o]=w.StaticCanvas[o])}(),function(){var t={mt:0,tr:1,mr:2,br:3,mb:4,bl:5,ml:6,tl:7},e=w.util.addListener,i=w.util.removeListener,r={passive:!1};function n(t,e){return t.button&&t.button===e-1}w.util.object.extend(w.Canvas.prototype,{cursorMap:["n-resize","ne-resize","e-resize","se-resize","s-resize","sw-resize","w-resize","nw-resize"],mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(e,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(t,e){var i=this.upperCanvasEl,n=this._getEventPrefix();t(w.window,"resize",this._onResize),t(i,n+"down",this._onMouseDown),t(i,n+"move",this._onMouseMove,r),t(i,n+"out",this._onMouseOut),t(i,n+"enter",this._onMouseEnter),t(i,"wheel",this._onMouseWheel),t(i,"contextmenu",this._onContextMenu),t(i,"dblclick",this._onDoubleClick),t(i,"dragover",this._onDragOver),t(i,"dragenter",this._onDragEnter),t(i,"dragleave",this._onDragLeave),t(i,"drop",this._onDrop),this.enablePointerEvents||t(i,"touchstart",this._onTouchStart,r),"undefined"!=typeof eventjs&&e in eventjs&&(eventjs[e](i,"gesture",this._onGesture),eventjs[e](i,"drag",this._onDrag),eventjs[e](i,"orientation",this._onOrientationChange),eventjs[e](i,"shake",this._onShake),eventjs[e](i,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(i,"remove");var t=this._getEventPrefix();i(w.document,t+"up",this._onMouseUp),i(w.document,"touchend",this._onTouchEnd,r),i(w.document,t+"move",this._onMouseMove,r),i(w.document,"touchmove",this._onMouseMove,r)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(t,e){this.__onTransformGesture&&this.__onTransformGesture(t,e)},_onDrag:function(t,e){this.__onDrag&&this.__onDrag(t,e)},_onMouseWheel:function(t){this.__onMouseWheel(t)},_onMouseOut:function(t){var e=this._hoveredTarget;this.fire("mouse:out",{target:e,e:t}),this._hoveredTarget=null,e&&e.fire("mouseout",{e:t});var i=this;this._hoveredTargets.forEach((function(r){i.fire("mouse:out",{target:e,e:t}),r&&e.fire("mouseout",{e:t})})),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach((function(t){t.isEditing&&t.hiddenTextarea.focus()}))},_onMouseEnter:function(t){this.currentTransform||this.findTarget(t)||(this.fire("mouse:over",{target:null,e:t}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(t,e){this.__onOrientationChange&&this.__onOrientationChange(t,e)},_onShake:function(t,e){this.__onShake&&this.__onShake(t,e)},_onLongPress:function(t,e){this.__onLongPress&&this.__onLongPress(t,e)},_onDragOver:function(t){t.preventDefault();var e=this._simpleEventHandler("dragover",t);this._fireEnterLeaveEvents(e,t)},_onContextMenu:function(t){return this.stopContextMenu&&(t.stopPropagation(),t.preventDefault()),!1},_onDoubleClick:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"dblclick"),this._resetTransformEventData(t)},getPointerId:function(t){var e=t.changedTouches;return e?e[0]&&e[0].identifier:this.enablePointerEvents?t.pointerId:-1},_isMainEvent:function(t){return!0===t.isPrimary||!1!==t.isPrimary&&("touchend"===t.type&&0===t.touches.length||(!t.changedTouches||t.changedTouches[0].identifier===this.mainTouchId))},_onTouchStart:function(t){t.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(t)),this.__onMouseDown(t),this._resetTransformEventData();var n=this.upperCanvasEl,s=this._getEventPrefix();e(w.document,"touchend",this._onTouchEnd,r),e(w.document,"touchmove",this._onMouseMove,r),i(n,s+"down",this._onMouseDown)},_onMouseDown:function(t){this.__onMouseDown(t),this._resetTransformEventData();var n=this.upperCanvasEl,s=this._getEventPrefix();i(n,s+"move",this._onMouseMove,r),e(w.document,s+"up",this._onMouseUp),e(w.document,s+"move",this._onMouseMove,r)},_onTouchEnd:function(t){if(!(t.touches.length>0)){this.__onMouseUp(t),this._resetTransformEventData(),this.mainTouchId=null;var n=this._getEventPrefix();i(w.document,"touchend",this._onTouchEnd,r),i(w.document,"touchmove",this._onMouseMove,r);var s=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout((function(){e(s.upperCanvasEl,n+"down",s._onMouseDown),s._willAddMouseDown=0}),400)}},_onMouseUp:function(t){this.__onMouseUp(t),this._resetTransformEventData();var n=this.upperCanvasEl,s=this._getEventPrefix();this._isMainEvent(t)&&(i(w.document,s+"up",this._onMouseUp),i(w.document,s+"move",this._onMouseMove,r),e(n,s+"move",this._onMouseMove,r))},_onMouseMove:function(t){!this.allowTouchScrolling&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)},_onResize:function(){this.calcOffset()},_shouldRender:function(t){var e=this._activeObject;return!!(!!e!=!!t||e&&t&&e!==t)||(e&&e.isEditing,!1)},__onMouseUp:function(t){var e,i=this._currentTransform,r=this._groupSelector,s=!1,o=!r||0===r.left&&0===r.top;if(this._cacheTransformEventData(t),e=this._target,this._handleEvent(t,"up:before"),!n(t,3))return n(t,2)?(this.fireMiddleClick&&this._handleEvent(t,"up",2,o),void this._resetTransformEventData()):void(this.isDrawingMode&&this._isCurrentlyDrawing?this._onMouseUpInDrawingMode(t):this._isMainEvent(t)&&(i&&(this._finalizeCurrentTransform(t),s=i.actionPerformed),o||(this._maybeGroupObjects(t),s||(s=this._shouldRender(e))),e&&(e.isMoving=!1),this._setCursorFromEvent(t,e),this._handleEvent(t,"up",1,o),this._groupSelector=null,this._currentTransform=null,e&&(e.__corner=0),s?this.requestRenderAll():o||this.renderTop()));this.fireRightClick&&this._handleEvent(t,"up",3,o)},_simpleEventHandler:function(t,e){var i=this.findTarget(e),r=this.targets,n={e:e,target:i,subTargets:r};if(this.fire(t,n),i&&i.fire(t,n),!r)return i;for(var s=0;s<r.length;s++)r[s].fire(t,n);return i},_handleEvent:function(t,e,i,r){var n=this._target,s=this.targets||[],o={e:t,target:n,subTargets:s,button:i||1,isClick:r||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};this.fire("mouse:"+e,o),n&&n.fire("mouse"+e,o);for(var a=0;a<s.length;a++)s[a].fire("mouse"+e,o)},_finalizeCurrentTransform:function(t){var e,i=this._currentTransform,r=i.target,n={e:t,target:r,transform:i};r._scaling&&(r._scaling=!1),r.setCoords(),(i.actionPerformed||this.stateful&&r.hasStateChanged())&&(i.actionPerformed&&(e=this._addEventOptions(n,i),this._fire(e,n)),this._fire("modified",n))},_addEventOptions:function(t,e){var i,r;switch(e.action){case"scaleX":i="scaled",r="x";break;case"scaleY":i="scaled",r="y";break;case"skewX":i="skewed",r="x";break;case"skewY":i="skewed",r="y";break;case"scale":i="scaled",r="equally";break;case"rotate":i="rotated";break;case"drag":i="moved"}return t.by=r,i},_onMouseDownInDrawingMode:function(t){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(t).requestRenderAll(),this.clipTo&&w.util.clipContext(this,this.contextTop);var e=this.getPointer(t);this.freeDrawingBrush.onMouseDown(e,{e:t,pointer:e}),this._handleEvent(t,"down")},_onMouseMoveInDrawingMode:function(t){if(this._isCurrentlyDrawing){var e=this.getPointer(t);this.freeDrawingBrush.onMouseMove(e,{e:t,pointer:e})}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")},_onMouseUpInDrawingMode:function(t){this.clipTo&&this.contextTop.restore();var e=this.getPointer(t);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:t,pointer:e}),this._handleEvent(t,"up")},__onMouseDown:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"down:before");var e=this._target;if(n(t,3))this.fireRightClick&&this._handleEvent(t,"down",3);else if(n(t,2))this.fireMiddleClick&&this._handleEvent(t,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(t);else if(this._isMainEvent(t)&&!this._currentTransform){var i=this._pointer;this._previousPointer=i;var r=this._shouldRender(e),s=this._shouldGroup(t,e);if(this._shouldClearSelection(t,e)?this.discardActiveObject(t):s&&(this._handleGrouping(t,e),e=this._activeObject),!this.selection||e&&(e.selectable||e.isEditing||e===this._activeObject)||(this._groupSelector={ex:i.x,ey:i.y,top:0,left:0}),e){var o=e===this._activeObject;e.selectable&&this.setActiveObject(e,t),e!==this._activeObject||!e.__corner&&s||this._setupCurrentTransform(t,e,o)}this._handleEvent(t,"down"),(r||s)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(t){this._resetTransformEventData(),this._pointer=this.getPointer(t,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(t)||null},_beforeTransform:function(t){var e=this._currentTransform;this.stateful&&e.target.saveState(),this.fire("before:transform",{e:t,transform:e}),e.corner&&this.onBeforeScaleRotate(e.target)},__onMouseMove:function(t){var e,i;if(this._handleEvent(t,"move:before"),this._cacheTransformEventData(t),this.isDrawingMode)this._onMouseMoveInDrawingMode(t);else if(this._isMainEvent(t)){var r=this._groupSelector;r?(i=this._pointer,r.left=i.x-r.ex,r.top=i.y-r.ey,this.renderTop()):this._currentTransform?this._transformObject(t):(e=this.findTarget(t)||null,this._setCursorFromEvent(t,e),this._fireOverOutEvents(e,t)),this._handleEvent(t,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(t,e){var i=this._hoveredTarget,r=this._hoveredTargets,n=this.targets,s=Math.max(r.length,n.length);this.fireSyntheticInOutEvents(t,e,{oldTarget:i,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var o=0;o<s;o++)this.fireSyntheticInOutEvents(n[o],e,{oldTarget:r[o],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=t,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(t,e){var i=this._draggedoverTarget,r=this._hoveredTargets,n=this.targets,s=Math.max(r.length,n.length);this.fireSyntheticInOutEvents(t,e,{oldTarget:i,evtOut:"dragleave",evtIn:"dragenter"});for(var o=0;o<s;o++)this.fireSyntheticInOutEvents(n[o],e,{oldTarget:r[o],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=t},fireSyntheticInOutEvents:function(t,e,i){var r,n,s,o=i.oldTarget,a=o!==t,h=i.canvasEvtIn,c=i.canvasEvtOut;a&&(r={e:e,target:t,previousTarget:o},n={e:e,target:o,nextTarget:t}),s=t&&a,o&&a&&(c&&this.fire(c,n),o.fire(i.evtOut,n)),s&&(h&&this.fire(h,r),t.fire(i.evtIn,r))},__onMouseWheel:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"wheel"),this._resetTransformEventData()},_transformObject:function(t){var e=this.getPointer(t),i=this._currentTransform;i.reset=!1,i.target.isMoving=!0,i.shiftKey=t.shiftKey,i.altKey=t[this.centeredKey],this._beforeScaleTransform(t,i),this._performTransformAction(t,i,e),i.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(t,e,i){var r=i.x,n=i.y,s=e.action,o=!1,a={target:e.target,e:t,transform:e,pointer:i};"rotate"===s?(o=this._rotateObject(r,n))&&this._fire("rotating",a):"scale"===s?(o=this._onScale(t,e,r,n))&&this._fire("scaling",a):"scaleX"===s?(o=this._scaleObject(r,n,"x"))&&this._fire("scaling",a):"scaleY"===s?(o=this._scaleObject(r,n,"y"))&&this._fire("scaling",a):"skewX"===s?(o=this._skewObject(r,n,"x"))&&this._fire("skewing",a):"skewY"===s?(o=this._skewObject(r,n,"y"))&&this._fire("skewing",a):(o=this._translateObject(r,n))&&(this._fire("moving",a),this.setCursor(a.target.moveCursor||this.moveCursor)),e.actionPerformed=e.actionPerformed||o},_fire:function(t,e){this.fire("object:"+t,e),e.target.fire(t,e)},_beforeScaleTransform:function(t,e){if("scale"===e.action||"scaleX"===e.action||"scaleY"===e.action){var i=this._shouldCenterTransform(e.target);(i&&("center"!==e.originX||"center"!==e.originY)||!i&&"center"===e.originX&&"center"===e.originY)&&(this._resetCurrentTransform(),e.reset=!0)}},_onScale:function(t,e,i,r){return this._isUniscalePossible(t,e.target)?(e.currentAction="scale",this._scaleObject(i,r)):(e.reset||"scale"!==e.currentAction||this._resetCurrentTransform(),e.currentAction="scaleEqually",this._scaleObject(i,r,"equally"))},_isUniscalePossible:function(t,e){return(t[this.uniScaleKey]||this.uniScaleTransform)&&!e.get("lockUniScaling")},_setCursorFromEvent:function(t,e){if(!e)return this.setCursor(this.defaultCursor),!1;var i=e.hoverCursor||this.hoverCursor,r=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,n=(!r||!r.contains(e))&&e._findTargetCorner(this.getPointer(t,!0));n?this.setCursor(this.getCornerCursor(n,e,t)):(e.subTargetCheck&&this.targets.concat().reverse().map((function(t){i=t.hoverCursor||i})),this.setCursor(i))},getCornerCursor:function(e,i,r){return this.actionIsDisabled(e,i,r)?this.notAllowedCursor:e in t?this._getRotatedCornerCursor(e,i,r):"mtr"===e&&i.hasRotatingPoint?this.rotationCursor:this.defaultCursor},actionIsDisabled:function(t,e,i){return"mt"===t||"mb"===t?i[this.altActionKey]?e.lockSkewingX:e.lockScalingY:"ml"===t||"mr"===t?i[this.altActionKey]?e.lockSkewingY:e.lockScalingX:"mtr"===t?e.lockRotation:this._isUniscalePossible(i,e)?e.lockScalingX&&e.lockScalingY:e.lockScalingX||e.lockScalingY},_getRotatedCornerCursor:function(e,i,r){var n=Math.round(i.angle%360/45);return n<0&&(n+=8),n+=t[e],r[this.altActionKey]&&t[e]%2==0&&(n+=2),n%=8,this.cursorMap[n]}})}(),v=Math.min,m=Math.max,w.util.object.extend(w.Canvas.prototype,{_shouldGroup:function(t,e){var i=this._activeObject;return i&&this._isSelectionKeyPressed(t)&&e&&e.selectable&&this.selection&&(i!==e||"activeSelection"===i.type)&&!e.onSelect({e:t})},_handleGrouping:function(t,e){var i=this._activeObject;i.__corner||(e!==i||(e=this.findTarget(t,!0))&&e.selectable)&&(i&&"activeSelection"===i.type?this._updateActiveSelection(e,t):this._createActiveSelection(e,t))},_updateActiveSelection:function(t,e){var i=this._activeObject,r=i._objects.slice(0);i.contains(t)?(i.removeWithUpdate(t),this._hoveredTarget=t,this._hoveredTargets=this.targets.concat(),1===i.size()&&this._setActiveObject(i.item(0),e)):(i.addWithUpdate(t),this._hoveredTarget=i,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(r,e)},_createActiveSelection:function(t,e){var i=this.getActiveObjects(),r=this._createGroup(t);this._hoveredTarget=r,this._setActiveObject(r,e),this._fireSelectionEvents(i,e)},_createGroup:function(t){var e=this._objects,i=e.indexOf(this._activeObject)<e.indexOf(t)?[this._activeObject,t]:[t,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new w.ActiveSelection(i,{canvas:this})},_groupSelectedObjects:function(t){var e,i=this._collectObjects(t);1===i.length?this.setActiveObject(i[0],t):i.length>1&&(e=new w.ActiveSelection(i.reverse(),{canvas:this}),this.setActiveObject(e,t))},_collectObjects:function(t){for(var e,i=[],r=this._groupSelector.ex,n=this._groupSelector.ey,s=r+this._groupSelector.left,o=n+this._groupSelector.top,a=new w.Point(v(r,s),v(n,o)),h=new w.Point(m(r,s),m(n,o)),c=!this.selectionFullyContained,l=r===s&&n===o,u=this._objects.length;u--&&!((e=this._objects[u])&&e.selectable&&e.visible&&(c&&e.intersectsWithRect(a,h)||e.isContainedWithinRect(a,h)||c&&e.containsPoint(a)||c&&e.containsPoint(h))&&(i.push(e),l)););return i.length>1&&(i=i.filter((function(e){return!e.onSelect({e:t})}))),i},_maybeGroupObjects:function(t){this.selection&&this._groupSelector&&this._groupSelectedObjects(t),this.setCursor(this.defaultCursor),this._groupSelector=null}}),w.util.object.extend(w.StaticCanvas.prototype,{toDataURL:function(t){t||(t={});var e=t.format||"png",i=t.quality||1,r=(t.multiplier||1)*(t.enableRetinaScaling?this.getRetinaScaling():1),n=this.toCanvasElement(r,t);return w.util.toDataURL(n,e,i)},toCanvasElement:function(t,e){t=t||1;var i=((e=e||{}).width||this.width)*t,r=(e.height||this.height)*t,n=this.getZoom(),s=this.width,o=this.height,a=n*t,h=this.viewportTransform,c=(h[4]-(e.left||0))*t,l=(h[5]-(e.top||0))*t,u=this.interactive,f=[a,0,0,a,c,l],d=this.enableRetinaScaling,g=w.util.createCanvasElement(),p=this.contextTop;return g.width=i,g.height=r,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=f,this.width=i,this.height=r,this.calcViewportBoundaries(),this.renderCanvas(g.getContext("2d"),this._objects),this.viewportTransform=h,this.width=s,this.height=o,this.calcViewportBoundaries(),this.interactive=u,this.enableRetinaScaling=d,this.contextTop=p,g}}),w.util.object.extend(w.StaticCanvas.prototype,{loadFromDatalessJSON:function(t,e,i){return this.loadFromJSON(t,e,i)},loadFromJSON:function(t,e,i){if(t){var r="string"==typeof t?JSON.parse(t):w.util.object.clone(t),n=this,s=r.clipPath,o=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete r.clipPath,this._enlivenObjects(r.objects,(function(t){n.clear(),n._setBgOverlay(r,(function(){s?n._enlivenObjects([s],(function(i){n.clipPath=i[0],n.__setupCanvas.call(n,r,t,o,e)})):n.__setupCanvas.call(n,r,t,o,e)}))}),i),this}},__setupCanvas:function(t,e,i,r){var n=this;e.forEach((function(t,e){n.insertAt(t,e)})),this.renderOnAddRemove=i,delete t.objects,delete t.backgroundImage,delete t.overlayImage,delete t.background,delete t.overlay,this._setOptions(t),this.renderAll(),r&&r()},_setBgOverlay:function(t,e){var i={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(t.backgroundImage||t.overlayImage||t.background||t.overlay){var r=function(){i.backgroundImage&&i.overlayImage&&i.backgroundColor&&i.overlayColor&&e&&e()};this.__setBgOverlay("backgroundImage",t.backgroundImage,i,r),this.__setBgOverlay("overlayImage",t.overlayImage,i,r),this.__setBgOverlay("backgroundColor",t.background,i,r),this.__setBgOverlay("overlayColor",t.overlay,i,r)}else e&&e()},__setBgOverlay:function(t,e,i,r){var n=this;if(!e)return i[t]=!0,void(r&&r());"backgroundImage"===t||"overlayImage"===t?w.util.enlivenObjects([e],(function(e){n[t]=e[0],i[t]=!0,r&&r()})):this["set"+w.util.string.capitalize(t,!0)](e,(function(){i[t]=!0,r&&r()}))},_enlivenObjects:function(t,e,i){t&&0!==t.length?w.util.enlivenObjects(t,(function(t){e&&e(t)}),null,i):e&&e([])},_toDataURL:function(t,e){this.clone((function(i){e(i.toDataURL(t))}))},_toDataURLWithMultiplier:function(t,e,i){this.clone((function(r){i(r.toDataURLWithMultiplier(t,e))}))},clone:function(t,e){var i=JSON.stringify(this.toJSON(e));this.cloneWithoutData((function(e){e.loadFromJSON(i,(function(){t&&t(e)}))}))},cloneWithoutData:function(t){var e=w.util.createCanvasElement();e.width=this.width,e.height=this.height;var i=new w.Canvas(e);i.clipTo=this.clipTo,this.backgroundImage?(i.setBackgroundImage(this.backgroundImage.src,(function(){i.renderAll(),t&&t(i)})),i.backgroundImageOpacity=this.backgroundImageOpacity,i.backgroundImageStretch=this.backgroundImageStretch):t&&t(i)}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,r=e.util.object.clone,n=e.util.toFixed,s=e.util.string.capitalize,o=e.util.degreesToRadians,a=e.StaticCanvas.supports("setLineDash"),h=!e.isLikelyNode;e.Object||(e.Object=e.util.createClass(e.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgba(102,153,255,0.75)",borderDashArray:null,cornerColor:"rgba(102,153,255,0.5)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,transformMatrix:null,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,hasRotatingPoint:!0,rotatingPointOffset:40,perPixelTargetFind:!1,includeDefaultValues:!0,clipTo:null,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockUniScaling:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:h,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow clipTo visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(t){t&&this.setOptions(t)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=e.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(t){var i=e.perfLimitSizeTotal,r=t.width,n=t.height,s=e.maxCacheSideLimit,o=e.minCacheSideLimit;if(r<=s&&n<=s&&r*n<=i)return r<o&&(t.width=o),n<o&&(t.height=o),t;var a=r/n,h=e.util.limitDimsByArea(a,i),c=e.util.capValue,l=c(o,h.x,s),u=c(o,h.y,s);return r>l&&(t.zoomX/=r/l,t.width=l,t.capped=!0),n>u&&(t.zoomY/=n/u,t.height=u,t.capped=!0),t},_getCacheCanvasDimensions:function(){var t=this.getTotalObjectScaling(),e=this._getTransformedDimensions(0,0),i=e.x*t.scaleX/this.scaleX,r=e.y*t.scaleY/this.scaleY;return{width:i+2,height:r+2,zoomX:t.scaleX,zoomY:t.scaleY,x:i,y:r}},_updateCacheCanvas:function(){var t=this.canvas;if(this.noScaleCache&&t&&t._currentTransform){var i=t._currentTransform.target,r=t._currentTransform.action;if(this===i&&r.slice&&"scale"===r.slice(0,5))return!1}var n,s,o=this._cacheCanvas,a=this._limitCacheSize(this._getCacheCanvasDimensions()),h=e.minCacheSideLimit,c=a.width,l=a.height,u=a.zoomX,f=a.zoomY,d=c!==this.cacheWidth||l!==this.cacheHeight,g=this.zoomX!==u||this.zoomY!==f,p=d||g,v=0,m=0,_=!1;if(d){var y=this._cacheCanvas.width,b=this._cacheCanvas.height,x=c>y||l>b;_=x||(c<.9*y||l<.9*b)&&y>h&&b>h,x&&!a.capped&&(c>h||l>h)&&(v=.1*c,m=.1*l)}return!!p&&(_?(o.width=Math.ceil(c+v),o.height=Math.ceil(l+m)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,o.width,o.height)),n=a.x/2,s=a.y/2,this.cacheTranslationX=Math.round(o.width/2-n)+n,this.cacheTranslationY=Math.round(o.height/2-s)+s,this.cacheWidth=c,this.cacheHeight=l,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(u,f),this.zoomX=u,this.zoomY=f,!0)},setOptions:function(t){this._setOptions(t),this._initGradient(t.fill,"fill"),this._initGradient(t.stroke,"stroke"),this._initClipping(t),this._initPattern(t.fill,"fill"),this._initPattern(t.stroke,"stroke")},transform:function(t){var e;e=this.group&&!this.group._transformDone?this.calcTransformMatrix():this.calcOwnMatrix(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5])},toObject:function(t){var i=e.Object.NUM_FRACTION_DIGITS,r={type:this.type,version:e.version,originX:this.originX,originY:this.originY,left:n(this.left,i),top:n(this.top,i),width:n(this.width,i),height:n(this.height,i),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:n(this.strokeWidth,i),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:n(this.strokeMiterLimit,i),scaleX:n(this.scaleX,i),scaleY:n(this.scaleY,i),angle:n(this.angle,i),flipX:this.flipX,flipY:this.flipY,opacity:n(this.opacity,i),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,clipTo:this.clipTo&&String(this.clipTo),backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,transformMatrix:this.transformMatrix?this.transformMatrix.concat():null,skewX:n(this.skewX,i),skewY:n(this.skewY,i)};return this.clipPath&&(r.clipPath=this.clipPath.toObject(t),r.clipPath.inverted=this.clipPath.inverted,r.clipPath.absolutePositioned=this.clipPath.absolutePositioned),e.util.populateWithProperties(this,r,t),this.includeDefaultValues||(r=this._removeDefaultValues(r)),r},toDatalessObject:function(t){return this.toObject(t)},_removeDefaultValues:function(t){var i=e.util.getKlass(t.type).prototype;return i.stateProperties.forEach((function(e){"left"!==e&&"top"!==e&&(t[e]===i[e]&&delete t[e],"[object Array]"===Object.prototype.toString.call(t[e])&&"[object Array]"===Object.prototype.toString.call(i[e])&&0===t[e].length&&0===i[e].length&&delete t[e])})),t},toString:function(){return"#<fabric."+s(this.type)+">"},getObjectScaling:function(){var t=this.scaleX,e=this.scaleY;if(this.group){var i=this.group.getObjectScaling();t*=i.scaleX,e*=i.scaleY}return{scaleX:t,scaleY:e}},getTotalObjectScaling:function(){var t=this.getObjectScaling(),e=t.scaleX,i=t.scaleY;if(this.canvas){var r=this.canvas.getZoom(),n=this.canvas.getRetinaScaling();e*=r*n,i*=r*n}return{scaleX:e,scaleY:i}},getObjectOpacity:function(){var t=this.opacity;return this.group&&(t*=this.group.getObjectOpacity()),t},_set:function(t,i){var r="scaleX"===t||"scaleY"===t,n=this[t]!==i,s=!1;return r&&(i=this._constrainScale(i)),"scaleX"===t&&i<0?(this.flipX=!this.flipX,i*=-1):"scaleY"===t&&i<0?(this.flipY=!this.flipY,i*=-1):"shadow"!==t||!i||i instanceof e.Shadow?"dirty"===t&&this.group&&this.group.set("dirty",i):i=new e.Shadow(i),this[t]=i,n&&(s=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(t)>-1?(this.dirty=!0,s&&this.group.set("dirty",!0)):s&&this.stateProperties.indexOf(t)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:e.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||0===this.width&&0===this.height&&0===this.strokeWidth||!this.visible},render:function(t){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),this.transform(t),this._setOpacity(t),this._setShadow(t,this),this.transformMatrix&&t.transform.apply(t,this.transformMatrix),this.clipTo&&e.util.clipContext(this,t),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(t),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),this.clipTo&&t.restore(),t.restore())},renderCache:function(t){t=t||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,t.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function(){return!("stroke"!==this.paintFirst||!this.hasFill()||!this.hasStroke()||"object"!=typeof this.shadow)||!!this.clipPath},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(t){var i=this.clipPath;if(t.save(),i.inverted?t.globalCompositeOperation="destination-out":t.globalCompositeOperation="destination-in",i.absolutePositioned){var r=e.util.invertTransform(this.calcTransformMatrix());t.transform(r[0],r[1],r[2],r[3],r[4],r[5])}i.transform(t),t.scale(1/i.zoomX,1/i.zoomY),t.drawImage(i._cacheCanvas,-i.cacheTranslationX,-i.cacheTranslationY),t.restore()},drawObject:function(t,e){var i=this.fill,r=this.stroke;e?(this.fill="black",this.stroke="",this._setClippingProperties(t)):(this._renderBackground(t),this._setStrokeStyles(t,this),this._setFillStyles(t,this)),this._render(t),this._drawClipPath(t),this.fill=i,this.stroke=r},_drawClipPath:function(t){var e=this.clipPath;e&&(e.canvas=this.canvas,e.shouldCache(),e._transformDone=!0,e.renderCache({forClipping:!0}),this.drawClipPathOnCache(t))},drawCacheOnCanvas:function(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(t){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!t&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!t){var e=this.cacheWidth/this.zoomX,i=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-e/2,-i/2,e,i)}return!0}return!1},_renderBackground:function(t){if(this.backgroundColor){var e=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t)}},_setOpacity:function(t){this.group&&!this.group._transformDone?t.globalAlpha=this.getObjectOpacity():t.globalAlpha*=this.opacity},_setStrokeStyles:function(t,e){e.stroke&&(t.lineWidth=e.strokeWidth,t.lineCap=e.strokeLineCap,t.lineDashOffset=e.strokeDashOffset,t.lineJoin=e.strokeLineJoin,t.miterLimit=e.strokeMiterLimit,t.strokeStyle=e.stroke.toLive?e.stroke.toLive(t,this):e.stroke)},_setFillStyles:function(t,e){e.fill&&(t.fillStyle=e.fill.toLive?e.fill.toLive(t,this):e.fill)},_setClippingProperties:function(t){t.globalAlpha=1,t.strokeStyle="transparent",t.fillStyle="#000000"},_setLineDash:function(t,e,i){e&&0!==e.length&&(1&e.length&&e.push.apply(e,e),a?t.setLineDash(e):i&&i(t))},_renderControls:function(t,i){var r,n,s,a=this.getViewportTransform(),h=this.calcTransformMatrix();n=void 0!==(i=i||{}).hasBorders?i.hasBorders:this.hasBorders,s=void 0!==i.hasControls?i.hasControls:this.hasControls,h=e.util.multiplyTransformMatrices(a,h),r=e.util.qrDecompose(h),t.save(),t.translate(r.translateX,r.translateY),t.lineWidth=1*this.borderScaleFactor,this.group||(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),i.forActiveSelection?(t.rotate(o(r.angle)),n&&this.drawBordersInGroup(t,r,i)):(t.rotate(o(this.angle)),n&&this.drawBorders(t,i)),s&&this.drawControls(t,i),t.restore()},_setShadow:function(t){if(this.shadow){var i,r=this.shadow,n=this.canvas,s=n&&n.viewportTransform[0]||1,o=n&&n.viewportTransform[3]||1;i=r.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),n&&n._isRetinaScaling()&&(s*=e.devicePixelRatio,o*=e.devicePixelRatio),t.shadowColor=r.color,t.shadowBlur=r.blur*e.browserShadowBlurConstant*(s+o)*(i.scaleX+i.scaleY)/4,t.shadowOffsetX=r.offsetX*s*i.scaleX,t.shadowOffsetY=r.offsetY*o*i.scaleY}},_removeShadow:function(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)},_applyPatternGradientTransform:function(t,e){if(!e||!e.toLive)return{offsetX:0,offsetY:0};var i=e.gradientTransform||e.patternTransform,r=-this.width/2+e.offsetX||0,n=-this.height/2+e.offsetY||0;return"percentage"===e.gradientUnits?t.transform(this.width,0,0,this.height,r,n):t.transform(1,0,0,1,r,n),i&&t.transform(i[0],i[1],i[2],i[3],i[4],i[5]),{offsetX:r,offsetY:n}},_renderPaintInOrder:function(t){"stroke"===this.paintFirst?(this._renderStroke(t),this._renderFill(t)):(this._renderFill(t),this._renderStroke(t))},_render:function(){},_renderFill:function(t){this.fill&&(t.save(),this._applyPatternGradientTransform(t,this.fill),"evenodd"===this.fillRule?t.fill("evenodd"):t.fill(),t.restore())},_renderStroke:function(t){this.stroke&&0!==this.strokeWidth&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this.strokeUniform&&t.scale(1/this.scaleX,1/this.scaleY),this._setLineDash(t,this.strokeDashArray,this._renderDashedStroke),this.stroke.toLive&&"percentage"===this.stroke.gradientUnits?this._applyPatternForTransformedGradient(t,this.stroke):this._applyPatternGradientTransform(t,this.stroke),t.stroke(),t.restore())},_applyPatternForTransformedGradient:function(t,i){var r,n=this._limitCacheSize(this._getCacheCanvasDimensions()),s=e.util.createCanvasElement(),o=this.canvas.getRetinaScaling(),a=n.x/this.scaleX/o,h=n.y/this.scaleY/o;s.width=a,s.height=h,(r=s.getContext("2d")).beginPath(),r.moveTo(0,0),r.lineTo(a,0),r.lineTo(a,h),r.lineTo(0,h),r.closePath(),r.translate(a/2,h/2),r.scale(n.zoomX/this.scaleX/o,n.zoomY/this.scaleY/o),this._applyPatternGradientTransform(r,i),r.fillStyle=i.toLive(t),r.fill(),t.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),t.scale(o*this.scaleX/n.zoomX,o*this.scaleY/n.zoomY),t.strokeStyle=r.createPattern(s,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var t=e.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",t.scaleX),this.set("scaleY",t.scaleY),this.angle=t.angle,this.skewX=t.skewX,this.skewY=0}},_removeTransformMatrix:function(t){var i=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),i=e.util.transformPoint(i,this.transformMatrix)),this.transformMatrix=null,t&&(this.scaleX*=t.scaleX,this.scaleY*=t.scaleY,this.cropX=t.cropX,this.cropY=t.cropY,i.x+=t.offsetLeft,i.y+=t.offsetTop,this.width=t.width,this.height=t.height),this.setPositionByOrigin(i,"center","center")},clone:function(t,i){var r=this.toObject(i);this.constructor.fromObject?this.constructor.fromObject(r,t):e.Object._fromObject("Object",r,t)},cloneAsImage:function(t,i){var r=this.toCanvasElement(i);return t&&t(new e.Image(r)),this},toCanvasElement:function(t){t||(t={});var i=e.util,r=i.saveObjectTransform(this),n=this.group,s=this.shadow,o=Math.abs,a=(t.multiplier||1)*(t.enableRetinaScaling?e.devicePixelRatio:1);delete this.group,t.withoutTransform&&i.resetObjectTransform(this),t.withoutShadow&&(this.shadow=null);var h,c,l,u,f=e.util.createCanvasElement(),d=this.getBoundingRect(!0,!0),g=this.shadow,p={x:0,y:0};g&&(c=g.blur,h=g.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),p.x=2*Math.round(o(g.offsetX)+c)*o(h.scaleX),p.y=2*Math.round(o(g.offsetY)+c)*o(h.scaleY)),l=d.width+p.x,u=d.height+p.y,f.width=Math.ceil(l),f.height=Math.ceil(u);var v=new e.StaticCanvas(f,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===t.format&&(v.backgroundColor="#fff"),this.setPositionByOrigin(new e.Point(v.width/2,v.height/2),"center","center");var m=this.canvas;v.add(this);var _=v.toCanvasElement(a||1,t);return this.shadow=s,this.canvas=m,n&&(this.group=n),this.set(r).setCoords(),v._objects=[],v.dispose(),v=null,_},toDataURL:function(t){return t||(t={}),e.util.toDataURL(this.toCanvasElement(t),t.format||"png",t.quality||1)},isType:function(t){return this.type===t},complexity:function(){return 1},toJSON:function(t){return this.toObject(t)},setGradient:function(t,i){i||(i={});var r={colorStops:[]};return r.type=i.type||(i.r1||i.r2?"radial":"linear"),r.coords={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},r.gradientUnits=i.gradientUnits||"pixels",(i.r1||i.r2)&&(r.coords.r1=i.r1,r.coords.r2=i.r2),r.gradientTransform=i.gradientTransform,e.Gradient.prototype.addColorStop.call(r,i.colorStops),this.set(t,e.Gradient.forObject(this,r))},setPatternFill:function(t,i){return this.set("fill",new e.Pattern(t,i))},setShadow:function(t){return this.set("shadow",t?new e.Shadow(t):null)},setColor:function(t){return this.set("fill",t),this},rotate:function(t){var e=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return e&&this._setOriginToCenter(),this.set("angle",t),e&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(t,i){i=i||this.canvas.getPointer(t);var r=new e.Point(i.x,i.y),n=this._getLeftTopCoords();return this.angle&&(r=e.util.rotatePoint(r,n,o(-this.angle))),{x:r.x-n.x,y:r.y-n.y}},_setupCompositeOperation:function(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)}}),e.util.createAccessors&&e.util.createAccessors(e.Object),i(e.Object.prototype,e.Observable),e.Object.NUM_FRACTION_DIGITS=2,e.Object._fromObject=function(t,i,n,s){var o=e[t];i=r(i,!0),e.util.enlivenPatterns([i.fill,i.stroke],(function(t){void 0!==t[0]&&(i.fill=t[0]),void 0!==t[1]&&(i.stroke=t[1]),e.util.enlivenObjects([i.clipPath],(function(t){i.clipPath=t[0];var e=s?new o(i[s],i):new o(i);n&&n(e)}))}))},e.Object.__uid=0)}(e),_=w.util.degreesToRadians,y={left:-.5,center:0,right:.5},b={top:-.5,center:0,bottom:.5},w.util.object.extend(w.Object.prototype,{translateToGivenOrigin:function(t,e,i,r,n){var s,o,a,h=t.x,c=t.y;return"string"==typeof e?e=y[e]:e-=.5,"string"==typeof r?r=y[r]:r-=.5,"string"==typeof i?i=b[i]:i-=.5,"string"==typeof n?n=b[n]:n-=.5,o=n-i,((s=r-e)||o)&&(a=this._getTransformedDimensions(),h=t.x+s*a.x,c=t.y+o*a.y),new w.Point(h,c)},translateToCenterPoint:function(t,e,i){var r=this.translateToGivenOrigin(t,e,i,"center","center");return this.angle?w.util.rotatePoint(r,t,_(this.angle)):r},translateToOriginPoint:function(t,e,i){var r=this.translateToGivenOrigin(t,"center","center",e,i);return this.angle?w.util.rotatePoint(r,t,_(this.angle)):r},getCenterPoint:function(){var t=new w.Point(this.left,this.top);return this.translateToCenterPoint(t,this.originX,this.originY)},getPointByOrigin:function(t,e){var i=this.getCenterPoint();return this.translateToOriginPoint(i,t,e)},toLocalPoint:function(t,e,i){var r,n,s=this.getCenterPoint();return r=void 0!==e&&void 0!==i?this.translateToGivenOrigin(s,"center","center",e,i):new w.Point(this.left,this.top),n=new w.Point(t.x,t.y),this.angle&&(n=w.util.rotatePoint(n,s,-_(this.angle))),n.subtractEquals(r)},setPositionByOrigin:function(t,e,i){var r=this.translateToCenterPoint(t,e,i),n=this.translateToOriginPoint(r,this.originX,this.originY);this.set("left",n.x),this.set("top",n.y)},adjustPosition:function(t){var e,i,r=_(this.angle),n=this.getScaledWidth(),s=w.util.cos(r)*n,o=w.util.sin(r)*n;e="string"==typeof this.originX?y[this.originX]:this.originX-.5,i="string"==typeof t?y[t]:t-.5,this.left+=s*(i-e),this.top+=o*(i-e),this.setCoords(),this.originX=t},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var t=this.getCenterPoint();this.originX="center",this.originY="center",this.left=t.x,this.top=t.y},_resetOrigin:function(){var t=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=t.x,this.top=t.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}}),function(){var t=w.util.degreesToRadians,e=w.util.multiplyTransformMatrices,i=w.util.transformPoint;w.util.object.extend(w.Object.prototype,{oCoords:null,aCoords:null,ownMatrixCache:null,matrixCache:null,getCoords:function(t,e){this.oCoords||this.setCoords();var i=t?this.aCoords:this.oCoords;return function(t){return[new w.Point(t.tl.x,t.tl.y),new w.Point(t.tr.x,t.tr.y),new w.Point(t.br.x,t.br.y),new w.Point(t.bl.x,t.bl.y)]}(e?this.calcCoords(t):i)},intersectsWithRect:function(t,e,i,r){var n=this.getCoords(i,r);return"Intersection"===w.Intersection.intersectPolygonRectangle(n,t,e).status},intersectsWithObject:function(t,e,i){return"Intersection"===w.Intersection.intersectPolygonPolygon(this.getCoords(e,i),t.getCoords(e,i)).status||t.isContainedWithinObject(this,e,i)||this.isContainedWithinObject(t,e,i)},isContainedWithinObject:function(t,e,i){for(var r=this.getCoords(e,i),n=0,s=t._getImageLines(i?t.calcCoords(e):e?t.aCoords:t.oCoords);n<4;n++)if(!t.containsPoint(r[n],s))return!1;return!0},isContainedWithinRect:function(t,e,i,r){var n=this.getBoundingRect(i,r);return n.left>=t.x&&n.left+n.width<=e.x&&n.top>=t.y&&n.top+n.height<=e.y},containsPoint:function(t,e,i,r){e=e||this._getImageLines(r?this.calcCoords(i):i?this.aCoords:this.oCoords);var n=this._findCrossPoints(t,e);return 0!==n&&n%2==1},isOnScreen:function(t){if(!this.canvas)return!1;for(var e,i=this.canvas.vptCoords.tl,r=this.canvas.vptCoords.br,n=this.getCoords(!0,t),s=0;s<4;s++)if((e=n[s]).x<=r.x&&e.x>=i.x&&e.y<=r.y&&e.y>=i.y)return!0;return!!this.intersectsWithRect(i,r,!0,t)||this._containsCenterOfCanvas(i,r,t)},_containsCenterOfCanvas:function(t,e,i){var r={x:(t.x+e.x)/2,y:(t.y+e.y)/2};return!!this.containsPoint(r,null,!0,i)},isPartiallyOnScreen:function(t){if(!this.canvas)return!1;var e=this.canvas.vptCoords.tl,i=this.canvas.vptCoords.br;return!!this.intersectsWithRect(e,i,!0,t)||this._containsCenterOfCanvas(e,i,t)},_getImageLines:function(t){return{topline:{o:t.tl,d:t.tr},rightline:{o:t.tr,d:t.br},bottomline:{o:t.br,d:t.bl},leftline:{o:t.bl,d:t.tl}}},_findCrossPoints:function(t,e){var i,r,n,s=0;for(var o in e)if(!((n=e[o]).o.y<t.y&&n.d.y<t.y||n.o.y>=t.y&&n.d.y>=t.y||(n.o.x===n.d.x&&n.o.x>=t.x?r=n.o.x:(0,i=(n.d.y-n.o.y)/(n.d.x-n.o.x),r=-(t.y-0*t.x-(n.o.y-i*n.o.x))/(0-i)),r>=t.x&&(s+=1),2!==s)))break;return s},getBoundingRect:function(t,e){var i=this.getCoords(t,e);return w.util.makeBoundingBoxFromPoints(i)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:0===t?1e-4:t},scale:function(t){return this._set("scaleX",t),this._set("scaleY",t),this.setCoords()},scaleToWidth:function(t,e){var i=this.getBoundingRect(e).width/this.getScaledWidth();return this.scale(t/this.width/i)},scaleToHeight:function(t,e){var i=this.getBoundingRect(e).height/this.getScaledHeight();return this.scale(t/this.height/i)},calcCoords:function(r){var n=this._calcRotateMatrix(),s=this._calcTranslateMatrix(),o=e(s,n),a=this.getViewportTransform(),h=r?o:e(a,o),c=this._getTransformedDimensions(),l=c.x/2,u=c.y/2,f=i({x:-l,y:-u},h),d=i({x:l,y:-u},h),g=i({x:-l,y:u},h),p=i({x:l,y:u},h);if(!r){var v=this.padding,m=t(this.angle),_=w.util.cos(m),y=w.util.sin(m),b=_*v,x=y*v,C=b+x,S=b-x;v&&(f.x-=S,f.y-=C,d.x+=C,d.y-=S,g.x-=C,g.y+=S,p.x+=S,p.y+=C);var T=new w.Point((f.x+g.x)/2,(f.y+g.y)/2),O=new w.Point((d.x+f.x)/2,(d.y+f.y)/2),P=new w.Point((p.x+d.x)/2,(p.y+d.y)/2),k=new w.Point((p.x+g.x)/2,(p.y+g.y)/2),E=new w.Point(O.x+y*this.rotatingPointOffset,O.y-_*this.rotatingPointOffset)}var A={tl:f,tr:d,br:p,bl:g};return r||(A.ml=T,A.mt=O,A.mr=P,A.mb=k,A.mtr=E),A},setCoords:function(t,e){return this.oCoords=this.calcCoords(t),e||(this.aCoords=this.calcCoords(!0)),t||this._setCornerCoords&&this._setCornerCoords(),this},_calcRotateMatrix:function(){return w.util.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var t=this.getCenterPoint();return[1,0,0,1,t.x,t.y]},transformMatrixKey:function(t){var e="";return!t&&this.group&&(e=this.group.transformMatrixKey(t)+"_"),e+this.top+"_"+this.left+"_"+this.scaleX+"_"+this.scaleY+"_"+this.skewX+"_"+this.skewY+"_"+this.angle+"_"+this.originX+"_"+this.originY+"_"+this.width+"_"+this.height+"_"+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(t){if(t)return this.calcOwnMatrix();var i=this.transformMatrixKey(),r=this.matrixCache||(this.matrixCache={});if(r.key===i)return r.value;var n=this.calcOwnMatrix();return this.group&&(n=e(this.group.calcTransformMatrix(),n)),r.key=i,r.value=n,n},calcOwnMatrix:function(){var t=this.transformMatrixKey(!0),e=this.ownMatrixCache||(this.ownMatrixCache={});if(e.key===t)return e.value;var i=this._calcTranslateMatrix();return this.translateX=i[4],this.translateY=i[5],e.key=t,e.value=w.util.composeMatrix(this),e.value},_calcDimensionsTransformMatrix:function(t,e,i){return w.util.calcDimensionsMatrix({skewX:t,skewY:e,scaleX:this.scaleX*(i&&this.flipX?-1:1),scaleY:this.scaleY*(i&&this.flipY?-1:1)})},_getNonTransformedDimensions:function(){var t=this.strokeWidth;return{x:this.width+t,y:this.height+t}},_getTransformedDimensions:function(t,e){void 0===t&&(t=this.skewX),void 0===e&&(e=this.skewY);var i,r,n=this._getNonTransformedDimensions(),s=0===t&&0===e;if(this.strokeUniform?(i=this.width,r=this.height):(i=n.x,r=n.y),s)return this._finalizeDimensions(i*this.scaleX,r*this.scaleY);var o=[{x:-(i/=2),y:-(r/=2)},{x:i,y:-r},{x:-i,y:r},{x:i,y:r}],a=w.util.calcDimensionsMatrix({scaleX:this.scaleX,scaleY:this.scaleY,skewX:t,skewY:e}),h=w.util.makeBoundingBoxFromPoints(o,a);return this._finalizeDimensions(h.width,h.height)},_finalizeDimensions:function(t,e){return this.strokeUniform?{x:t+this.strokeWidth,y:e+this.strokeWidth}:{x:t,y:e}},_calculateCurrentDimensions:function(){var t=this.getViewportTransform(),e=this._getTransformedDimensions();return w.util.transformPoint(e,t,!0).scalarAdd(2*this.padding)}})}(),w.util.object.extend(w.Object.prototype,{sendToBack:function(){return this.group?w.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?w.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas.bringToFront(this),this},sendBackwards:function(t){return this.group?w.StaticCanvas.prototype.sendBackwards.call(this.group,this,t):this.canvas.sendBackwards(this,t),this},bringForward:function(t){return this.group?w.StaticCanvas.prototype.bringForward.call(this.group,this,t):this.canvas.bringForward(this,t),this},moveTo:function(t){return this.group&&"activeSelection"!==this.group.type?w.StaticCanvas.prototype.moveTo.call(this.group,this,t):this.canvas.moveTo(this,t),this}}),function(){function t(t,e){if(e){if(e.toLive)return t+": url(#SVGID_"+e.id+"); ";var i=new w.Color(e),r=t+": "+i.toRgb()+"; ",n=i.getAlpha();return 1!==n&&(r+=t+"-opacity: "+n.toString()+"; "),r}return t+": none; "}var e=w.util.toFixed;w.util.object.extend(w.Object.prototype,{getSvgStyles:function(e){var i=this.fillRule?this.fillRule:"nonzero",r=this.strokeWidth?this.strokeWidth:"0",n=this.strokeDashArray?this.strokeDashArray.join(" "):"none",s=this.strokeDashOffset?this.strokeDashOffset:"0",o=this.strokeLineCap?this.strokeLineCap:"butt",a=this.strokeLineJoin?this.strokeLineJoin:"miter",h=this.strokeMiterLimit?this.strokeMiterLimit:"4",c=void 0!==this.opacity?this.opacity:"1",l=this.visible?"":" visibility: hidden;",u=e?"":this.getSvgFilter(),f=t("fill",this.fill);return[t("stroke",this.stroke),"stroke-width: ",r,"; ","stroke-dasharray: ",n,"; ","stroke-linecap: ",o,"; ","stroke-dashoffset: ",s,"; ","stroke-linejoin: ",a,"; ","stroke-miterlimit: ",h,"; ",f,"fill-rule: ",i,"; ","opacity: ",c,";",u,l].join("")},getSvgSpanStyles:function(e,i){var r=e.fontFamily?"font-family: "+(-1===e.fontFamily.indexOf("'")&&-1===e.fontFamily.indexOf('"')?"'"+e.fontFamily+"'":e.fontFamily)+"; ":"",n=e.strokeWidth?"stroke-width: "+e.strokeWidth+"; ":"",s=(r=r,e.fontSize?"font-size: "+e.fontSize+"px; ":""),o=e.fontStyle?"font-style: "+e.fontStyle+"; ":"",a=e.fontWeight?"font-weight: "+e.fontWeight+"; ":"",h=e.fill?t("fill",e.fill):"",c=e.stroke?t("stroke",e.stroke):"",l=this.getSvgTextDecoration(e);return l&&(l="text-decoration: "+l+"; "),[c,n,r,s,o,a,l,h,e.deltaY?"baseline-shift: "+-e.deltaY+"; ":"",i?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(t){return"overline"in t||"underline"in t||"linethrough"in t?(t.overline?"overline ":"")+(t.underline?"underline ":"")+(t.linethrough?"line-through ":""):""},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(t,e){var i=t?this.calcTransformMatrix():this.calcOwnMatrix();return'transform="'+w.util.matrixToSVG(i)+(e||"")+this.getSvgTransformMatrix()+'" '},getSvgTransformMatrix:function(){return this.transformMatrix?" "+w.util.matrixToSVG(this.transformMatrix):""},_setSVGBg:function(t){if(this.backgroundColor){var i=w.Object.NUM_FRACTION_DIGITS;t.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',e(-this.width/2,i),'" y="',e(-this.height/2,i),'" width="',e(this.width,i),'" height="',e(this.height,i),'"></rect>\n')}},toSVG:function(t){return this._createBaseSVGMarkup(this._toSVG(t),{reviver:t})},toClipPathSVG:function(t){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(t),{reviver:t})},_createBaseClipPathSVGMarkup:function(t,e){var i=(e=e||{}).reviver,r=e.additionalTransform||"",n=[this.getSvgTransform(!0,r),this.getSvgCommons()].join(""),s=t.indexOf("COMMON_PARTS");return t[s]=n,i?i(t.join("")):t.join("")},_createBaseSVGMarkup:function(t,e){var i,r,n=(e=e||{}).noStyle,s=e.reviver,o=n?"":'style="'+this.getSvgStyles()+'" ',a=e.withShadow?'style="'+this.getSvgFilter()+'" ':"",h=this.clipPath,c=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",l=h&&h.absolutePositioned,u=this.stroke,f=this.fill,d=this.shadow,g=[],p=t.indexOf("COMMON_PARTS"),v=e.additionalTransform;return h&&(h.clipPathId="CLIPPATH_"+w.Object.__uid++,r='<clipPath id="'+h.clipPathId+'" >\n'+h.toClipPathSVG(s)+"</clipPath>\n"),l&&g.push("<g ",a,this.getSvgCommons()," >\n"),g.push("<g ",this.getSvgTransform(!1),l?"":a+this.getSvgCommons()," >\n"),i=[o,c,n?"":this.addPaintOrder()," ",v?'transform="'+v+'" ':""].join(""),t[p]=i,f&&f.toLive&&g.push(f.toSVG(this)),u&&u.toLive&&g.push(u.toSVG(this)),d&&g.push(d.toSVG(this)),h&&g.push(r),g.push(t.join("")),g.push("</g>\n"),l&&g.push("</g>\n"),s?s(g.join("")):g.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var t=w.util.object.extend;function e(e,i,r){var n={};r.forEach((function(t){n[t]=e[t]})),t(e[i],n,!0)}w.util.object.extend(w.Object.prototype,{hasStateChanged:function(t){var e="_"+(t=t||"stateProperties");return Object.keys(this[e]).length<this[t].length||!function t(e,i,r){if(e===i)return!0;if(Array.isArray(e)){if(!Array.isArray(i)||e.length!==i.length)return!1;for(var n=0,s=e.length;n<s;n++)if(!t(e[n],i[n]))return!1;return!0}if(e&&"object"==typeof e){var o,a=Object.keys(e);if(!i||"object"!=typeof i||!r&&a.length!==Object.keys(i).length)return!1;for(n=0,s=a.length;n<s;n++)if("canvas"!==(o=a[n])&&!t(e[o],i[o]))return!1;return!0}}(this[e],this,!0)},saveState:function(t){var i=t&&t.propertySet||"stateProperties",r="_"+i;return this[r]?(e(this,r,this[i]),t&&t.stateProperties&&e(this,r,t.stateProperties),this):this.setupState(t)},setupState:function(t){var e=(t=t||{}).propertySet||"stateProperties";return t.propertySet=e,this["_"+e]={},this.saveState(t),this}})}(),function(){var t=w.util.degreesToRadians;w.util.object.extend(w.Object.prototype,{_controlsVisibility:null,_findTargetCorner:function(t){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var e,i,r=t.x,n=t.y;for(var s in this.__corner=0,this.oCoords)if(this.isControlVisible(s)&&("mtr"!==s||this.hasRotatingPoint)&&(!this.get("lockUniScaling")||"mt"!==s&&"mr"!==s&&"mb"!==s&&"ml"!==s)&&(i=this._getImageLines(this.oCoords[s].corner),0!==(e=this._findCrossPoints({x:r,y:n},i))&&e%2==1))return this.__corner=s,s;return!1},_setCornerCoords:function(){var e,i,r=this.oCoords,n=t(45-this.angle),s=.707106*this.cornerSize,o=s*w.util.cos(n),a=s*w.util.sin(n);for(var h in r)e=r[h].x,i=r[h].y,r[h].corner={tl:{x:e-a,y:i-o},tr:{x:e+o,y:i-a},bl:{x:e-o,y:i+a},br:{x:e+a,y:i+o}}},drawSelectionBackground:function(e){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;e.save();var i=this.getCenterPoint(),r=this._calculateCurrentDimensions(),n=this.canvas.viewportTransform;return e.translate(i.x,i.y),e.scale(1/n[0],1/n[3]),e.rotate(t(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-r.x/2,-r.y/2,r.x,r.y),e.restore(),this},drawBorders:function(t,e){e=e||{};var i=this._calculateCurrentDimensions(),r=1/this.borderScaleFactor,n=i.x+r,s=i.y+r,o=void 0!==e.hasRotatingPoint?e.hasRotatingPoint:this.hasRotatingPoint,a=void 0!==e.hasControls?e.hasControls:this.hasControls,h=void 0!==e.rotatingPointOffset?e.rotatingPointOffset:this.rotatingPointOffset;if(t.save(),t.strokeStyle=e.borderColor||this.borderColor,this._setLineDash(t,e.borderDashArray||this.borderDashArray,null),t.strokeRect(-n/2,-s/2,n,s),o&&this.isControlVisible("mtr")&&a){var c=-s/2;t.beginPath(),t.moveTo(0,c),t.lineTo(0,c-h),t.stroke()}return t.restore(),this},drawBordersInGroup:function(t,e,i){i=i||{};var r=this._getNonTransformedDimensions(),n=w.util.composeMatrix({scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX}),s=w.util.transformPoint(r,n),o=1/this.borderScaleFactor,a=s.x+o,h=s.y+o;return t.save(),this._setLineDash(t,i.borderDashArray||this.borderDashArray,null),t.strokeStyle=i.borderColor||this.borderColor,t.strokeRect(-a/2,-h/2,a,h),t.restore(),this},drawControls:function(t,e){e=e||{};var i=this._calculateCurrentDimensions(),r=i.x,n=i.y,s=e.cornerSize||this.cornerSize,o=-(r+s)/2,a=-(n+s)/2,h=void 0!==e.transparentCorners?e.transparentCorners:this.transparentCorners,c=void 0!==e.hasRotatingPoint?e.hasRotatingPoint:this.hasRotatingPoint,l=h?"stroke":"fill";return t.save(),t.strokeStyle=t.fillStyle=e.cornerColor||this.cornerColor,this.transparentCorners||(t.strokeStyle=e.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(t,e.cornerDashArray||this.cornerDashArray,null),this._drawControl("tl",t,l,o,a,e),this._drawControl("tr",t,l,o+r,a,e),this._drawControl("bl",t,l,o,a+n,e),this._drawControl("br",t,l,o+r,a+n,e),this.get("lockUniScaling")||(this._drawControl("mt",t,l,o+r/2,a,e),this._drawControl("mb",t,l,o+r/2,a+n,e),this._drawControl("mr",t,l,o+r,a+n/2,e),this._drawControl("ml",t,l,o,a+n/2,e)),c&&this._drawControl("mtr",t,l,o+r/2,a-this.rotatingPointOffset,e),t.restore(),this},_drawControl:function(t,e,i,r,n,s){if(s=s||{},this.isControlVisible(t)){var o=this.cornerSize,a=!this.transparentCorners&&this.cornerStrokeColor;switch(s.cornerStyle||this.cornerStyle){case"circle":e.beginPath(),e.arc(r+o/2,n+o/2,o/2,0,2*Math.PI,!1),e[i](),a&&e.stroke();break;default:this.transparentCorners||e.clearRect(r,n,o,o),e[i+"Rect"](r,n,o,o),a&&e.strokeRect(r,n,o,o)}}},isControlVisible:function(t){return this._getControlsVisibility()[t]},setControlVisible:function(t,e){return this._getControlsVisibility()[t]=e,this},setControlsVisibility:function(t){for(var e in t||(t={}),t)this.setControlVisible(e,t[e]);return this},_getControlsVisibility:function(){return this._controlsVisibility||(this._controlsVisibility={tl:!0,tr:!0,br:!0,bl:!0,ml:!0,mt:!0,mr:!0,mb:!0,mtr:!0}),this._controlsVisibility},onDeselect:function(){},onSelect:function(){}})}(),w.util.object.extend(w.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(t,e){var i=function(){},r=(e=e||{}).onComplete||i,n=e.onChange||i,s=this;return w.util.animate({startValue:t.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(e){t.set("left",e),s.requestRenderAll(),n()},onComplete:function(){t.setCoords(),r()}}),this},fxCenterObjectV:function(t,e){var i=function(){},r=(e=e||{}).onComplete||i,n=e.onChange||i,s=this;return w.util.animate({startValue:t.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(e){t.set("top",e),s.requestRenderAll(),n()},onComplete:function(){t.setCoords(),r()}}),this},fxRemove:function(t,e){var i=function(){},r=(e=e||{}).onComplete||i,n=e.onChange||i,s=this;return w.util.animate({startValue:t.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(e){t.set("opacity",e),s.requestRenderAll(),n()},onComplete:function(){s.remove(t),r()}}),this}}),w.util.object.extend(w.Object.prototype,{animate:function(){if(arguments[0]&&"object"==typeof arguments[0]){var t,e,i=[];for(t in arguments[0])i.push(t);for(var r=0,n=i.length;r<n;r++)t=i[r],e=r!==n-1,this._animate(t,arguments[0][t],arguments[1],e)}else this._animate.apply(this,arguments);return this},_animate:function(t,e,i,r){var n,s=this;e=e.toString(),i=i?w.util.object.clone(i):{},~t.indexOf(".")&&(n=t.split("."));var o=n?this.get(n[0])[n[1]]:this.get(t);"from"in i||(i.from=o),e=~e.indexOf("=")?o+parseFloat(e.replace("=","")):parseFloat(e),w.util.animate({startValue:i.from,endValue:e,byValue:i.by,easing:i.easing,duration:i.duration,abort:i.abort&&function(){return i.abort.call(s)},onChange:function(e,o,a){n?s[n[0]][n[1]]=e:s.set(t,e),r||i.onChange&&i.onChange(e,o,a)},onComplete:function(t,e,n){r||(s.setCoords(),i.onComplete&&i.onComplete(t,e,n))}})}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,r=e.util.object.clone,n={x1:1,x2:1,y1:1,y2:1},s=e.StaticCanvas.supports("setLineDash");function o(t,e){var i=t.origin,r=t.axis1,n=t.axis2,s=t.dimension,o=e.nearest,a=e.center,h=e.farthest;return function(){switch(this.get(i)){case o:return Math.min(this.get(r),this.get(n));case a:return Math.min(this.get(r),this.get(n))+.5*this.get(s);case h:return Math.max(this.get(r),this.get(n))}}}e.Line?e.warn("fabric.Line is already defined"):(e.Line=e.util.createClass(e.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:e.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(t,e){t||(t=[0,0,0,0]),this.callSuper("initialize",e),this.set("x1",t[0]),this.set("y1",t[1]),this.set("x2",t[2]),this.set("y2",t[3]),this._setWidthHeight(e)},_setWidthHeight:function(t){t||(t={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in t?t.left:this._getLeftToOriginX(),this.top="top"in t?t.top:this._getTopToOriginY()},_set:function(t,e){return this.callSuper("_set",t,e),void 0!==n[t]&&this._setWidthHeight(),this},_getLeftToOriginX:o({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:o({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(t){if(t.beginPath(),!this.strokeDashArray||this.strokeDashArray&&s){var e=this.calcLinePoints();t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2)}t.lineWidth=this.strokeWidth;var i=t.strokeStyle;t.strokeStyle=this.stroke||t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=i},_renderDashedStroke:function(t){var i=this.calcLinePoints();t.beginPath(),e.util.drawDashedLine(t,i.x1,i.y1,i.x2,i.y2,this.strokeDashArray),t.closePath()},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(t){return i(this.callSuper("toObject",t),this.calcLinePoints())},_getNonTransformedDimensions:function(){var t=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(t.y-=this.strokeWidth),0===this.height&&(t.x-=this.strokeWidth)),t},calcLinePoints:function(){var t=this.x1<=this.x2?-1:1,e=this.y1<=this.y2?-1:1,i=t*this.width*.5,r=e*this.height*.5;return{x1:i,x2:t*this.width*-.5,y1:r,y2:e*this.height*-.5}},_toSVG:function(){var t=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',t.x1,'" y1="',t.y1,'" x2="',t.x2,'" y2="',t.y2,'" />\n']}}),e.Line.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),e.Line.fromElement=function(t,r,n){n=n||{};var s=e.parseAttributes(t,e.Line.ATTRIBUTE_NAMES),o=[s.x1||0,s.y1||0,s.x2||0,s.y2||0];r(new e.Line(o,i(s,n)))},e.Line.fromObject=function(t,i){var n=r(t,!0);n.points=[t.x1,t.y1,t.x2,t.y2],e.Object._fromObject("Line",n,(function(t){delete t.points,i&&i(t)}),"points")})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=Math.PI;e.Circle?e.warn("fabric.Circle is already defined."):(e.Circle=e.util.createClass(e.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*i,cacheProperties:e.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(t,e){return this.callSuper("_set",t,e),"radius"===t&&this.setRadius(e),this},toObject:function(t){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(t))},_toSVG:function(){var t,r=(this.endAngle-this.startAngle)%(2*i);if(0===r)t=["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,'" />\n'];else{var n=e.util.cos(this.startAngle)*this.radius,s=e.util.sin(this.startAngle)*this.radius,o=e.util.cos(this.endAngle)*this.radius,a=e.util.sin(this.endAngle)*this.radius,h=r>i?"1":"0";t=['<path d="M '+n+" "+s," A "+this.radius+" "+this.radius," 0 ",+h+" 1"," "+o+" "+a,'" ',"COMMON_PARTS"," />\n"]}return t},_render:function(t){t.beginPath(),t.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(t)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(t){return this.radius=t,this.set("width",2*t).set("height",2*t)}}),e.Circle.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),e.Circle.fromElement=function(t,i){var r,n=e.parseAttributes(t,e.Circle.ATTRIBUTE_NAMES);if(!("radius"in(r=n)&&r.radius>=0))throw new Error("value of `r` attribute is required and can not be negative");n.left=(n.left||0)-n.radius,n.top=(n.top||0)-n.radius,i(new e.Circle(n))},e.Circle.fromObject=function(t,i){return e.Object._fromObject("Circle",t,i)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Triangle?e.warn("fabric.Triangle is already defined"):(e.Triangle=e.util.createClass(e.Object,{type:"triangle",width:100,height:100,_render:function(t){var e=this.width/2,i=this.height/2;t.beginPath(),t.moveTo(-e,i),t.lineTo(0,-i),t.lineTo(e,i),t.closePath(),this._renderPaintInOrder(t)},_renderDashedStroke:function(t){var i=this.width/2,r=this.height/2;t.beginPath(),e.util.drawDashedLine(t,-i,r,0,-r,this.strokeDashArray),e.util.drawDashedLine(t,0,-r,i,r,this.strokeDashArray),e.util.drawDashedLine(t,i,r,-i,r,this.strokeDashArray),t.closePath()},_toSVG:function(){var t=this.width/2,e=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-t+" "+e,"0 "+-e,t+" "+e].join(","),'" />']}}),e.Triangle.fromObject=function(t,i){return e.Object._fromObject("Triangle",t,i)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=2*Math.PI;e.Ellipse?e.warn("fabric.Ellipse is already defined."):(e.Ellipse=e.util.createClass(e.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this.set("rx",t&&t.rx||0),this.set("ry",t&&t.ry||0)},_set:function(t,e){switch(this.callSuper("_set",t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(t){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(0,0,this.rx,0,i,!1),t.restore(),this._renderPaintInOrder(t)}}),e.Ellipse.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),e.Ellipse.fromElement=function(t,i){var r=e.parseAttributes(t,e.Ellipse.ATTRIBUTE_NAMES);r.left=(r.left||0)-r.rx,r.top=(r.top||0)-r.ry,i(new e.Ellipse(r))},e.Ellipse.fromObject=function(t,i){return e.Object._fromObject("Ellipse",t,i)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend;e.Rect?e.warn("fabric.Rect is already defined"):(e.Rect=e.util.createClass(e.Object,{stateProperties:e.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(t){var e=this.rx?Math.min(this.rx,this.width/2):0,i=this.ry?Math.min(this.ry,this.height/2):0,r=this.width,n=this.height,s=-this.width/2,o=-this.height/2,a=0!==e||0!==i,h=.4477152502;t.beginPath(),t.moveTo(s+e,o),t.lineTo(s+r-e,o),a&&t.bezierCurveTo(s+r-h*e,o,s+r,o+h*i,s+r,o+i),t.lineTo(s+r,o+n-i),a&&t.bezierCurveTo(s+r,o+n-h*i,s+r-h*e,o+n,s+r-e,o+n),t.lineTo(s+e,o+n),a&&t.bezierCurveTo(s+h*e,o+n,s,o+n-h*i,s,o+n-i),t.lineTo(s,o+i),a&&t.bezierCurveTo(s,o+h*i,s+h*e,o,s+e,o),t.closePath(),this._renderPaintInOrder(t)},_renderDashedStroke:function(t){var i=-this.width/2,r=-this.height/2,n=this.width,s=this.height;t.beginPath(),e.util.drawDashedLine(t,i,r,i+n,r,this.strokeDashArray),e.util.drawDashedLine(t,i+n,r,i+n,r+s,this.strokeDashArray),e.util.drawDashedLine(t,i+n,r+s,i,r+s,this.strokeDashArray),e.util.drawDashedLine(t,i,r+s,i,r,this.strokeDashArray),t.closePath()},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},_toSVG:function(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),e.Rect.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),e.Rect.fromElement=function(t,r,n){if(!t)return r(null);n=n||{};var s=e.parseAttributes(t,e.Rect.ATTRIBUTE_NAMES);s.left=s.left||0,s.top=s.top||0,s.height=s.height||0,s.width=s.width||0;var o=new e.Rect(i(n?e.util.object.clone(n):{},s));o.visible=o.visible&&o.width>0&&o.height>0,r(o)},e.Rect.fromObject=function(t,i){return e.Object._fromObject("Rect",t,i)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,r=e.util.array.min,n=e.util.array.max,s=e.util.toFixed;e.Polyline?e.warn("fabric.Polyline is already defined"):(e.Polyline=e.util.createClass(e.Object,{type:"polyline",points:null,cacheProperties:e.Object.prototype.cacheProperties.concat("points"),initialize:function(t,e){e=e||{},this.points=t||[],this.callSuper("initialize",e),this._setPositionDimensions(e)},_setPositionDimensions:function(t){var e,i=this._calcDimensions(t);this.width=i.width,this.height=i.height,t.fromSVG||(e=this.translateToGivenOrigin({x:i.left-this.strokeWidth/2,y:i.top-this.strokeWidth/2},"left","top",this.originX,this.originY)),void 0===t.left&&(this.left=t.fromSVG?i.left:e.x),void 0===t.top&&(this.top=t.fromSVG?i.top:e.y),this.pathOffset={x:i.left+this.width/2,y:i.top+this.height/2}},_calcDimensions:function(){var t=this.points,e=r(t,"x")||0,i=r(t,"y")||0;return{left:e,top:i,width:(n(t,"x")||0)-e,height:(n(t,"y")||0)-i}},toObject:function(t){return i(this.callSuper("toObject",t),{points:this.points.concat()})},_toSVG:function(){for(var t=[],i=this.pathOffset.x,r=this.pathOffset.y,n=e.Object.NUM_FRACTION_DIGITS,o=0,a=this.points.length;o<a;o++)t.push(s(this.points[o].x-i,n),",",s(this.points[o].y-r,n)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',t.join(""),'" />\n']},commonRender:function(t){var e,i=this.points.length,r=this.pathOffset.x,n=this.pathOffset.y;if(!i||isNaN(this.points[i-1].y))return!1;t.beginPath(),t.moveTo(this.points[0].x-r,this.points[0].y-n);for(var s=0;s<i;s++)e=this.points[s],t.lineTo(e.x-r,e.y-n);return!0},_render:function(t){this.commonRender(t)&&this._renderPaintInOrder(t)},_renderDashedStroke:function(t){var i,r;t.beginPath();for(var n=0,s=this.points.length;n<s;n++)i=this.points[n],r=this.points[n+1]||i,e.util.drawDashedLine(t,i.x,i.y,r.x,r.y,this.strokeDashArray)},complexity:function(){return this.get("points").length}}),e.Polyline.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polyline.fromElementGenerator=function(t){return function(r,n,s){if(!r)return n(null);s||(s={});var o=e.parsePointsAttribute(r.getAttribute("points")),a=e.parseAttributes(r,e[t].ATTRIBUTE_NAMES);a.fromSVG=!0,n(new e[t](o,i(a,s)))}},e.Polyline.fromElement=e.Polyline.fromElementGenerator("Polyline"),e.Polyline.fromObject=function(t,i){return e.Object._fromObject("Polyline",t,i,"points")})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Polygon?e.warn("fabric.Polygon is already defined"):(e.Polygon=e.util.createClass(e.Polyline,{type:"polygon",_render:function(t){this.commonRender(t)&&(t.closePath(),this._renderPaintInOrder(t))},_renderDashedStroke:function(t){this.callSuper("_renderDashedStroke",t),t.closePath()}}),e.Polygon.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polygon.fromElement=e.Polyline.fromElementGenerator("Polygon"),e.Polygon.fromObject=function(t,i){return e.Object._fromObject("Polygon",t,i,"points")})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.array.min,r=e.util.array.max,n=e.util.object.extend,s=Object.prototype.toString,o=e.util.drawArc,a=e.util.toFixed,h={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},c={m:"l",M:"L"};e.Path?e.warn("fabric.Path is already defined"):(e.Path=e.util.createClass(e.Object,{type:"path",path:null,cacheProperties:e.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:e.Object.prototype.stateProperties.concat("path"),initialize:function(t,i){i=i||{},this.callSuper("initialize",i),t||(t=[]);var r="[object Array]"===s.call(t);this.path=r?t:t.match&&t.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi),this.path&&(r||(this.path=this._parsePath()),e.Polyline.prototype._setPositionDimensions.call(this,i))},_renderPathCommands:function(t){var e,i,r,n=null,s=0,a=0,h=0,c=0,l=0,u=0,f=-this.pathOffset.x,d=-this.pathOffset.y;t.beginPath();for(var g=0,p=this.path.length;g<p;++g){switch((e=this.path[g])[0]){case"l":h+=e[1],c+=e[2],t.lineTo(h+f,c+d);break;case"L":h=e[1],c=e[2],t.lineTo(h+f,c+d);break;case"h":h+=e[1],t.lineTo(h+f,c+d);break;case"H":h=e[1],t.lineTo(h+f,c+d);break;case"v":c+=e[1],t.lineTo(h+f,c+d);break;case"V":c=e[1],t.lineTo(h+f,c+d);break;case"m":s=h+=e[1],a=c+=e[2],t.moveTo(h+f,c+d);break;case"M":s=h=e[1],a=c=e[2],t.moveTo(h+f,c+d);break;case"c":i=h+e[5],r=c+e[6],l=h+e[3],u=c+e[4],t.bezierCurveTo(h+e[1]+f,c+e[2]+d,l+f,u+d,i+f,r+d),h=i,c=r;break;case"C":h=e[5],c=e[6],l=e[3],u=e[4],t.bezierCurveTo(e[1]+f,e[2]+d,l+f,u+d,h+f,c+d);break;case"s":i=h+e[3],r=c+e[4],null===n[0].match(/[CcSs]/)?(l=h,u=c):(l=2*h-l,u=2*c-u),t.bezierCurveTo(l+f,u+d,h+e[1]+f,c+e[2]+d,i+f,r+d),l=h+e[1],u=c+e[2],h=i,c=r;break;case"S":i=e[3],r=e[4],null===n[0].match(/[CcSs]/)?(l=h,u=c):(l=2*h-l,u=2*c-u),t.bezierCurveTo(l+f,u+d,e[1]+f,e[2]+d,i+f,r+d),h=i,c=r,l=e[1],u=e[2];break;case"q":i=h+e[3],r=c+e[4],l=h+e[1],u=c+e[2],t.quadraticCurveTo(l+f,u+d,i+f,r+d),h=i,c=r;break;case"Q":i=e[3],r=e[4],t.quadraticCurveTo(e[1]+f,e[2]+d,i+f,r+d),h=i,c=r,l=e[1],u=e[2];break;case"t":i=h+e[1],r=c+e[2],null===n[0].match(/[QqTt]/)?(l=h,u=c):(l=2*h-l,u=2*c-u),t.quadraticCurveTo(l+f,u+d,i+f,r+d),h=i,c=r;break;case"T":i=e[1],r=e[2],null===n[0].match(/[QqTt]/)?(l=h,u=c):(l=2*h-l,u=2*c-u),t.quadraticCurveTo(l+f,u+d,i+f,r+d),h=i,c=r;break;case"a":o(t,h+f,c+d,[e[1],e[2],e[3],e[4],e[5],e[6]+h+f,e[7]+c+d]),h+=e[6],c+=e[7];break;case"A":o(t,h+f,c+d,[e[1],e[2],e[3],e[4],e[5],e[6]+f,e[7]+d]),h=e[6],c=e[7];break;case"z":case"Z":h=s,c=a,t.closePath()}n=e}},_render:function(t){this._renderPathCommands(t),this._renderPaintInOrder(t)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(t){return n(this.callSuper("toObject",t),{path:this.path.map((function(t){return t.slice()}))})},toDatalessObject:function(t){var e=this.toObject(["sourcePath"].concat(t));return e.sourcePath&&delete e.path,e},_toSVG:function(){return["<path ","COMMON_PARTS",'d="',this.path.map((function(t){return t.join(" ")})).join(" "),'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var t=e.Object.NUM_FRACTION_DIGITS;return" translate("+a(-this.pathOffset.x,t)+", "+a(-this.pathOffset.y,t)+")"},toClipPathSVG:function(t){var e=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})},toSVG:function(t){var e=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})},complexity:function(){return this.path.length},_parsePath:function(){for(var t,i,r,n,s,o=[],a=[],l=e.rePathCommand,u=0,f=this.path.length;u<f;u++){for(n=(t=this.path[u]).slice(1).trim(),a.length=0;r=l.exec(n);)a.push(r[0]);s=[t.charAt(0)];for(var d=0,g=a.length;d<g;d++)i=parseFloat(a[d]),isNaN(i)||s.push(i);var p=s[0],v=h[p.toLowerCase()],m=c[p]||p;if(s.length-1>v)for(var _=1,y=s.length;_<y;_+=v)o.push([p].concat(s.slice(_,_+v))),p=m;else o.push(s)}return o},_calcDimensions:function(){for(var t,n,s,o,a=[],h=[],c=null,l=0,u=0,f=0,d=0,g=0,p=0,v=0,m=this.path.length;v<m;++v){switch((t=this.path[v])[0]){case"l":f+=t[1],d+=t[2],o=[];break;case"L":f=t[1],d=t[2],o=[];break;case"h":f+=t[1],o=[];break;case"H":f=t[1],o=[];break;case"v":d+=t[1],o=[];break;case"V":d=t[1],o=[];break;case"m":l=f+=t[1],u=d+=t[2],o=[];break;case"M":l=f=t[1],u=d=t[2],o=[];break;case"c":n=f+t[5],s=d+t[6],g=f+t[3],p=d+t[4],o=e.util.getBoundsOfCurve(f,d,f+t[1],d+t[2],g,p,n,s),f=n,d=s;break;case"C":g=t[3],p=t[4],o=e.util.getBoundsOfCurve(f,d,t[1],t[2],g,p,t[5],t[6]),f=t[5],d=t[6];break;case"s":n=f+t[3],s=d+t[4],null===c[0].match(/[CcSs]/)?(g=f,p=d):(g=2*f-g,p=2*d-p),o=e.util.getBoundsOfCurve(f,d,g,p,f+t[1],d+t[2],n,s),g=f+t[1],p=d+t[2],f=n,d=s;break;case"S":n=t[3],s=t[4],null===c[0].match(/[CcSs]/)?(g=f,p=d):(g=2*f-g,p=2*d-p),o=e.util.getBoundsOfCurve(f,d,g,p,t[1],t[2],n,s),f=n,d=s,g=t[1],p=t[2];break;case"q":n=f+t[3],s=d+t[4],g=f+t[1],p=d+t[2],o=e.util.getBoundsOfCurve(f,d,g,p,g,p,n,s),f=n,d=s;break;case"Q":g=t[1],p=t[2],o=e.util.getBoundsOfCurve(f,d,g,p,g,p,t[3],t[4]),f=t[3],d=t[4];break;case"t":n=f+t[1],s=d+t[2],null===c[0].match(/[QqTt]/)?(g=f,p=d):(g=2*f-g,p=2*d-p),o=e.util.getBoundsOfCurve(f,d,g,p,g,p,n,s),f=n,d=s;break;case"T":n=t[1],s=t[2],null===c[0].match(/[QqTt]/)?(g=f,p=d):(g=2*f-g,p=2*d-p),o=e.util.getBoundsOfCurve(f,d,g,p,g,p,n,s),f=n,d=s;break;case"a":o=e.util.getBoundsOfArc(f,d,t[1],t[2],t[3],t[4],t[5],t[6]+f,t[7]+d),f+=t[6],d+=t[7];break;case"A":o=e.util.getBoundsOfArc(f,d,t[1],t[2],t[3],t[4],t[5],t[6],t[7]),f=t[6],d=t[7];break;case"z":case"Z":f=l,d=u}c=t,o.forEach((function(t){a.push(t.x),h.push(t.y)})),a.push(f),h.push(d)}var _=i(a)||0,y=i(h)||0;return{left:_,top:y,width:(r(a)||0)-_,height:(r(h)||0)-y}}}),e.Path.fromObject=function(t,i){if("string"==typeof t.sourcePath){var r=t.sourcePath;e.loadSVGFromURL(r,(function(e){var r=e[0];r.setOptions(t),i&&i(r)}))}else e.Object._fromObject("Path",t,i,"path")},e.Path.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(["d"]),e.Path.fromElement=function(t,i,r){var s=e.parseAttributes(t,e.Path.ATTRIBUTE_NAMES);s.fromSVG=!0,i(new e.Path(s.d,n(s,r)))})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.array.min,r=e.util.array.max;e.Group||(e.Group=e.util.createClass(e.Object,e.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(t,e,i){e=e||{},this._objects=[],i&&this.callSuper("initialize",e),this._objects=t||[];for(var r=this._objects.length;r--;)this._objects[r].group=this;if(i)this._updateObjectsACoords();else{var n=e&&e.centerPoint;void 0!==e.originX&&(this.originX=e.originX),void 0!==e.originY&&(this.originY=e.originY),n||this._calcBounds(),this._updateObjectsCoords(n),delete e.centerPoint,this.callSuper("initialize",e)}this.setCoords()},_updateObjectsACoords:function(){for(var t=this._objects.length;t--;)this._objects[t].setCoords(!0,!0)},_updateObjectsCoords:function(t){t=t||this.getCenterPoint();for(var e=this._objects.length;e--;)this._updateObjectCoords(this._objects[e],t)},_updateObjectCoords:function(t,e){var i=t.left,r=t.top;t.set({left:i-e.x,top:r-e.y}),t.group=this,t.setCoords(!0,!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(t){return this._restoreObjectsState(),e.util.resetObjectTransform(this),t&&(this._objects.push(t),t.group=this,t._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},removeWithUpdate:function(t){return this._restoreObjectsState(),e.util.resetObjectTransform(this),this.remove(t),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(t){this.dirty=!0,t.group=this,t._set("canvas",this.canvas)},_onObjectRemoved:function(t){this.dirty=!0,delete t.group},_set:function(t,i){var r=this._objects.length;if(this.useSetOnGroup)for(;r--;)this._objects[r].setOnGroup(t,i);if("canvas"===t)for(;r--;)this._objects[r]._set(t,i);e.Object.prototype._set.call(this,t,i)},toObject:function(t){var i=this.includeDefaultValues,r=this._objects.map((function(e){var r=e.includeDefaultValues;e.includeDefaultValues=i;var n=e.toObject(t);return e.includeDefaultValues=r,n})),n=e.Object.prototype.toObject.call(this,t);return n.objects=r,n},toDatalessObject:function(t){var i,r=this.sourcePath;if(r)i=r;else{var n=this.includeDefaultValues;i=this._objects.map((function(e){var i=e.includeDefaultValues;e.includeDefaultValues=n;var r=e.toDatalessObject(t);return e.includeDefaultValues=i,r}))}var s=e.Object.prototype.toDatalessObject.call(this,t);return s.objects=i,s},render:function(t){this._transformDone=!0,this.callSuper("render",t),this._transformDone=!1},shouldCache:function(){var t=e.Object.prototype.shouldCache.call(this);if(t)for(var i=0,r=this._objects.length;i<r;i++)if(this._objects[i].willDrawShadow())return this.ownCaching=!1,!1;return t},willDrawShadow:function(){if(this.shadow)return e.Object.prototype.willDrawShadow.call(this);for(var t=0,i=this._objects.length;t<i;t++)if(this._objects[t].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(t){for(var e=0,i=this._objects.length;e<i;e++)this._objects[e].render(t);this._drawClipPath(t)},isCacheDirty:function(t){if(this.callSuper("isCacheDirty",t))return!0;if(!this.statefullCache)return!1;for(var e=0,i=this._objects.length;e<i;e++)if(this._objects[e].isCacheDirty(!0)){if(this._cacheCanvas){var r=this.cacheWidth/this.zoomX,n=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-r/2,-n/2,r,n)}return!0}return!1},_restoreObjectsState:function(){return this._objects.forEach(this._restoreObjectState,this),this},realizeTransform:function(t){var i=t.calcTransformMatrix(),r=e.util.qrDecompose(i),n=new e.Point(r.translateX,r.translateY);return t.flipX=!1,t.flipY=!1,t.set("scaleX",r.scaleX),t.set("scaleY",r.scaleY),t.skewX=r.skewX,t.skewY=r.skewY,t.angle=r.angle,t.setPositionByOrigin(n,"center","center"),t},_restoreObjectState:function(t){return this.realizeTransform(t),t.setCoords(),delete t.group,this},destroy:function(){return this._objects.forEach((function(t){t.set("dirty",!0)})),this._restoreObjectsState()},toActiveSelection:function(){if(this.canvas){var t=this._objects,i=this.canvas;this._objects=[];var r=this.toObject();delete r.objects;var n=new e.ActiveSelection([]);return n.set(r),n.type="activeSelection",i.remove(this),t.forEach((function(t){t.group=n,t.dirty=!0,i.add(t)})),n.canvas=i,n._objects=t,i._activeObject=n,n.setCoords(),n}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject((function(t){t.setCoords(!0,!0)})),this},_calcBounds:function(t){for(var e,i,r,n=[],s=[],o=["tr","br","bl","tl"],a=0,h=this._objects.length,c=o.length;a<h;++a)for((e=this._objects[a]).setCoords(!0),r=0;r<c;r++)i=o[r],n.push(e.oCoords[i].x),s.push(e.oCoords[i].y);this._getBounds(n,s,t)},_getBounds:function(t,n,s){var o=new e.Point(i(t),i(n)),a=new e.Point(r(t),r(n)),h=o.y||0,c=o.x||0,l=a.x-o.x||0,u=a.y-o.y||0;this.width=l,this.height=u,s||this.setPositionByOrigin({x:c,y:h},"left","top")},_toSVG:function(t){for(var e=["<g ","COMMON_PARTS"," >\n"],i=0,r=this._objects.length;i<r;i++)e.push("\t\t",this._objects[i].toSVG(t));return e.push("</g>\n"),e},getSvgStyles:function(){var t=void 0!==this.opacity&&1!==this.opacity?"opacity: "+this.opacity+";":"",e=this.visible?"":" visibility: hidden;";return[t,this.getSvgFilter(),e].join("")},toClipPathSVG:function(t){for(var e=[],i=0,r=this._objects.length;i<r;i++)e.push("\t",this._objects[i].toClipPathSVG(t));return this._createBaseClipPathSVGMarkup(e,{reviver:t})}}),e.Group.fromObject=function(t,i){var r=t.objects,n=e.util.object.clone(t,!0);delete n.objects,"string"!=typeof r?e.util.enlivenObjects(r,(function(r){e.util.enlivenObjects([t.clipPath],(function(n){var s=e.util.object.clone(t,!0);s.clipPath=n[0],delete s.objects,i&&i(new e.Group(r,s,!0))}))})):e.loadSVGFromURL(r,(function(s){var o=e.util.groupSVGElements(s,t,r);o.set(n),i&&i(o)}))})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});e.ActiveSelection||(e.ActiveSelection=e.util.createClass(e.Group,{type:"activeSelection",initialize:function(t,i){i=i||{},this._objects=t||[];for(var r=this._objects.length;r--;)this._objects[r].group=this;i.originX&&(this.originX=i.originX),i.originY&&(this.originY=i.originY),this._calcBounds(),this._updateObjectsCoords(),e.Object.prototype.initialize.call(this,i),this.setCoords()},toGroup:function(){var t=this._objects.concat();this._objects=[];var i=e.Object.prototype.toObject.call(this),r=new e.Group([]);if(delete i.type,r.set(i),t.forEach((function(t){t.canvas.remove(t),t.group=r})),r._objects=t,!this.canvas)return r;var n=this.canvas;return n.add(r),n._activeObject=r,r.setCoords(),r},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(t,e,i){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",t,e),void 0===(i=i||{}).hasControls&&(i.hasControls=!1),void 0===i.hasRotatingPoint&&(i.hasRotatingPoint=!1),i.forActiveSelection=!0;for(var r=0,n=this._objects.length;r<n;r++)this._objects[r]._renderControls(t,i);t.restore()}}),e.ActiveSelection.fromObject=function(t,i){e.util.enlivenObjects(t.objects,(function(r){delete t.objects,i&&i(new e.ActiveSelection(r,t,!0))}))})}(e),function(t){"use strict";var e=w.util.object.extend;t.fabric||(t.fabric={}),t.fabric.Image?w.warn("fabric.Image is already defined."):(w.Image=w.util.createClass(w.Object,{type:"image",crossOrigin:"",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:w.Object.prototype.stateProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,initialize:function(t,e){e||(e={}),this.filters=[],this.cacheKey="texture"+w.Object.__uid++,this.callSuper("initialize",e),this._initElement(t,e)},getElement:function(){return this._element||{}},setElement:function(t,e){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=t,this._originalElement=t,this._initConfig(e),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(t){var e=w.filterBackend;e&&e.evictCachesForKey&&e.evictCachesForKey(t)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(t){w.util.cleanUpJsdomNode(this[t]),this[t]=void 0}.bind(this))},setCrossOrigin:function(t){return this.crossOrigin=t,this._element.crossOrigin=t,this},getOriginalSize:function(){var t=this.getElement();return{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}},_stroke:function(t){if(this.stroke&&0!==this.strokeWidth){var e=this.width/2,i=this.height/2;t.beginPath(),t.moveTo(-e,-i),t.lineTo(e,-i),t.lineTo(e,i),t.lineTo(-e,i),t.lineTo(-e,-i),t.closePath()}},_renderDashedStroke:function(t){var e=-this.width/2,i=-this.height/2,r=this.width,n=this.height;t.save(),this._setStrokeStyles(t,this),t.beginPath(),w.util.drawDashedLine(t,e,i,e+r,i,this.strokeDashArray),w.util.drawDashedLine(t,e+r,i,e+r,i+n,this.strokeDashArray),w.util.drawDashedLine(t,e+r,i+n,e,i+n,this.strokeDashArray),w.util.drawDashedLine(t,e,i+n,e,i,this.strokeDashArray),t.closePath(),t.restore()},toObject:function(t){var i=[];this.filters.forEach((function(t){t&&i.push(t.toObject())}));var r=e(this.callSuper("toObject",["crossOrigin","cropX","cropY"].concat(t)),{src:this.getSrc(),filters:i});return this.resizeFilter&&(r.resizeFilter=this.resizeFilter.toObject()),r},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var t,e=[],i=[],r=-this.width/2,n=-this.height/2,s="";if(this.hasCrop()){var o=w.Object.__uid++;e.push('<clipPath id="imageCrop_'+o+'">\n','\t<rect x="'+r+'" y="'+n+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),s=' clip-path="url(#imageCrop_'+o+')" '}if(i.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',r-this.cropX,'" y="',n-this.cropY,'" width="',this._element.width||this._element.naturalWidth,'" height="',this._element.height||this._element.height,'"',s,"></image>\n"),this.stroke||this.strokeDashArray){var a=this.fill;this.fill=null,t=["\t<rect ",'x="',r,'" y="',n,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=a}return e="fill"!==this.paintFirst?e.concat(t,i):e.concat(i,t)},getSrc:function(t){var e=t?this._element:this._originalElement;return e?e.toDataURL?e.toDataURL():this.srcFromAttribute?e.getAttribute("src"):e.src:this.src||""},setSrc:function(t,e,i){return w.util.loadImage(t,(function(t){this.setElement(t,i),this._setWidthHeight(),e&&e(this)}),this,i&&i.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var t=this.resizeFilter,e=this.minimumScaleTrigger,i=this.getTotalObjectScaling(),r=i.scaleX,n=i.scaleY,s=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!t||r>e&&n>e)return this._element=s,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=r,void(this._lastScaleY=n);w.filterBackend||(w.filterBackend=w.initFilterBackend());var o=w.util.createCanvasElement(),a=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,h=s.width,c=s.height;o.width=h,o.height=c,this._element=o,this._lastScaleX=t.scaleX=r,this._lastScaleY=t.scaleY=n,w.filterBackend.applyFilters([t],s,h,c,this._element,a),this._filterScalingX=o.width/this._originalElement.width,this._filterScalingY=o.height/this._originalElement.height},applyFilters:function(t){if(t=(t=t||this.filters||[]).filter((function(t){return t&&!t.isNeutralState()})),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===t.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var e=this._originalElement,i=e.naturalWidth||e.width,r=e.naturalHeight||e.height;if(this._element===this._originalElement){var n=w.util.createCanvasElement();n.width=i,n.height=r,this._element=n,this._filteredEl=n}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,i,r),this._lastScaleX=1,this._lastScaleY=1;return w.filterBackend||(w.filterBackend=w.initFilterBackend()),w.filterBackend.applyFilters(t,this._originalElement,i,r,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(t){!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(t),this._renderPaintInOrder(t)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(t){var e=this._element,i=this.width,r=this.height,n=Math.min(e.naturalWidth||e.width,i*this._filterScalingX),s=Math.min(e.naturalHeight||e.height,r*this._filterScalingY),o=-i/2,a=-r/2,h=Math.max(0,this.cropX*this._filterScalingX),c=Math.max(0,this.cropY*this._filterScalingY);e&&t.drawImage(e,h,c,n,s,o,a,i,r)},_needsResize:function(){var t=this.getTotalObjectScaling();return t.scaleX!==this._lastScaleX||t.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(t,e){this.setElement(w.util.getById(t),e),w.util.addClass(this.getElement(),w.Image.CSS_CANVAS)},_initConfig:function(t){t||(t={}),this.setOptions(t),this._setWidthHeight(t),this._element&&this.crossOrigin&&(this._element.crossOrigin=this.crossOrigin)},_initFilters:function(t,e){t&&t.length?w.util.enlivenObjects(t,(function(t){e&&e(t)}),"fabric.Image.filters"):e&&e()},_setWidthHeight:function(t){t||(t={});var e=this.getElement();this.width=t.width||e.naturalWidth||e.width||0,this.height=t.height||e.naturalHeight||e.height||0},parsePreserveAspectRatioAttribute:function(){var t,e=w.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),i=this._element.width,r=this._element.height,n=1,s=1,o=0,a=0,h=0,c=0,l=this.width,u=this.height,f={width:l,height:u};return!e||"none"===e.alignX&&"none"===e.alignY?(n=l/i,s=u/r):("meet"===e.meetOrSlice&&(t=(l-i*(n=s=w.util.findScaleToFit(this._element,f)))/2,"Min"===e.alignX&&(o=-t),"Max"===e.alignX&&(o=t),t=(u-r*s)/2,"Min"===e.alignY&&(a=-t),"Max"===e.alignY&&(a=t)),"slice"===e.meetOrSlice&&(t=i-l/(n=s=w.util.findScaleToCover(this._element,f)),"Mid"===e.alignX&&(h=t/2),"Max"===e.alignX&&(h=t),t=r-u/s,"Mid"===e.alignY&&(c=t/2),"Max"===e.alignY&&(c=t),i=l/n,r=u/s)),{width:i,height:r,scaleX:n,scaleY:s,offsetLeft:o,offsetTop:a,cropX:h,cropY:c}}}),w.Image.CSS_CANVAS="canvas-img",w.Image.prototype.getSvgSrc=w.Image.prototype.getSrc,w.Image.fromObject=function(t,e){var i=w.util.object.clone(t);w.util.loadImage(i.src,(function(t,r){r?e&&e(null,r):w.Image.prototype._initFilters.call(i,i.filters,(function(r){i.filters=r||[],w.Image.prototype._initFilters.call(i,[i.resizeFilter],(function(r){i.resizeFilter=r[0],w.util.enlivenObjects([i.clipPath],(function(r){i.clipPath=r[0];var n=new w.Image(t,i);e(n)}))}))}))}),null,i.crossOrigin)},w.Image.fromURL=function(t,e,i){w.util.loadImage(t,(function(t){e&&e(new w.Image(t,i))}),null,i&&i.crossOrigin)},w.Image.ATTRIBUTE_NAMES=w.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin".split(" ")),w.Image.fromElement=function(t,i,r){var n=w.parseAttributes(t,w.Image.ATTRIBUTE_NAMES);w.Image.fromURL(n["xlink:href"],i,e(r?w.util.object.clone(r):{},n))})}(e),w.util.object.extend(w.Object.prototype,{_getAngleValueForStraighten:function(){var t=this.angle%360;return t>0?90*Math.round((t-1)/90):90*Math.round(t/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(t){var e=function(){},i=(t=t||{}).onComplete||e,r=t.onChange||e,n=this;return w.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(t){n.rotate(t),r()},onComplete:function(){n.setCoords(),i()}}),this}}),w.util.object.extend(w.StaticCanvas.prototype,{straightenObject:function(t){return t.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(t){return t.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){"use strict";function t(t,e){var i="precision "+e+" float;\nvoid main(){}",r=t.createShader(t.FRAGMENT_SHADER);return t.shaderSource(r,i),t.compileShader(r),!!t.getShaderParameter(r,t.COMPILE_STATUS)}function e(t){t&&t.tileSize&&(this.tileSize=t.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}w.isWebglSupported=function(e){if(w.isLikelyNode)return!1;e=e||w.WebglFilterBackend.prototype.tileSize;var i=document.createElement("canvas"),r=i.getContext("webgl")||i.getContext("experimental-webgl"),n=!1;if(r){w.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),n=w.maxTextureSize>=e;for(var s=["highp","mediump","lowp"],o=0;o<3;o++)if(t(r,s[o])){w.webGlPrecision=s[o];break}}return this.isSupported=n,n},w.WebglFilterBackend=e,e.prototype={tileSize:2048,resources:{},setupGLContext:function(t,e){this.dispose(),this.createWebGLCanvas(t,e),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(t,e)},chooseFastestCopyGLTo2DMethod:function(t,e){var i,r=void 0!==window.performance;try{new ImageData(1,1),i=!0}catch(t){i=!1}var n="undefined"!=typeof ArrayBuffer,s="undefined"!=typeof Uint8ClampedArray;if(r&&i&&n&&s){var o=w.util.createCanvasElement(),a=new ArrayBuffer(t*e*4);if(w.forceGLPutImageData)return this.imageBuffer=a,void(this.copyGLTo2D=P);var h,c,l={imageBuffer:a,destinationWidth:t,destinationHeight:e,targetCanvas:o};o.width=t,o.height=e,h=window.performance.now(),O.call(l,this.gl,l),c=window.performance.now()-h,h=window.performance.now(),P.call(l,this.gl,l),c>window.performance.now()-h?(this.imageBuffer=a,this.copyGLTo2D=P):this.copyGLTo2D=O}},createWebGLCanvas:function(t,e){var i=w.util.createCanvasElement();i.width=t,i.height=e;var r={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},n=i.getContext("webgl",r);n||(n=i.getContext("experimental-webgl",r)),n&&(n.clearColor(0,0,0,0),this.canvas=i,this.gl=n)},applyFilters:function(t,e,i,r,n,s){var o,a=this.gl;s&&(o=this.getCachedTexture(s,e));var h={originalWidth:e.width||e.originalWidth,originalHeight:e.height||e.originalHeight,sourceWidth:i,sourceHeight:r,destinationWidth:i,destinationHeight:r,context:a,sourceTexture:this.createTexture(a,i,r,!o&&e),targetTexture:this.createTexture(a,i,r),originalTexture:o||this.createTexture(a,i,r,!o&&e),passes:t.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:n},c=a.createFramebuffer();return a.bindFramebuffer(a.FRAMEBUFFER,c),t.forEach((function(t){t&&t.applyTo(h)})),function(t){var e=t.targetCanvas,i=e.width,r=e.height,n=t.destinationWidth,s=t.destinationHeight;i===n&&r===s||(e.width=n,e.height=s)}(h),this.copyGLTo2D(a,h),a.bindTexture(a.TEXTURE_2D,null),a.deleteTexture(h.sourceTexture),a.deleteTexture(h.targetTexture),a.deleteFramebuffer(c),n.getContext("2d").setTransform(1,0,0,1,0,0),h},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(t,e,i,r){var n=t.createTexture();return t.bindTexture(t.TEXTURE_2D,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),r?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,i,0,t.RGBA,t.UNSIGNED_BYTE,null),n},getCachedTexture:function(t,e){if(this.textureCache[t])return this.textureCache[t];var i=this.createTexture(this.gl,e.width,e.height,e);return this.textureCache[t]=i,i},evictCachesForKey:function(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])},copyGLTo2D:O,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var t=this.gl,e={renderer:"",vendor:""};if(!t)return e;var i=t.getExtension("WEBGL_debug_renderer_info");if(i){var r=t.getParameter(i.UNMASKED_RENDERER_WEBGL),n=t.getParameter(i.UNMASKED_VENDOR_WEBGL);r&&(e.renderer=r.toLowerCase()),n&&(e.vendor=n.toLowerCase())}return this.gpuInfo=e,e}}}(),function(){"use strict";var t=function(){};function e(){}w.Canvas2dFilterBackend=e,e.prototype={evictCachesForKey:t,dispose:t,clearWebGLCaches:t,resources:{},applyFilters:function(t,e,i,r,n){var s=n.getContext("2d");s.drawImage(e,0,0,i,r);var o={sourceWidth:i,sourceHeight:r,imageData:s.getImageData(0,0,i,r),originalEl:e,originalImageData:s.getImageData(0,0,i,r),canvasEl:n,ctx:s,filterBackend:this};return t.forEach((function(t){t.applyTo(o)})),o.imageData.width===i&&o.imageData.height===r||(n.width=o.imageData.width,n.height=o.imageData.height),s.putImageData(o.imageData,0,0),o}}}(),w.Image=w.Image||{},w.Image.filters=w.Image.filters||{},w.Image.filters.BaseFilter=w.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(t){t&&this.setOptions(t)},setOptions:function(t){for(var e in t)this[e]=t[e]},createProgram:function(t,e,i){e=e||this.fragmentSource,i=i||this.vertexSource,"highp"!==w.webGlPrecision&&(e=e.replace(/precision highp float/g,"precision "+w.webGlPrecision+" float"));var r=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(r,i),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+t.getShaderInfoLog(r));var n=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(n,e),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+t.getShaderInfoLog(n));var s=t.createProgram();if(t.attachShader(s,r),t.attachShader(s,n),t.linkProgram(s),!t.getProgramParameter(s,t.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+t.getProgramInfoLog(s));var o=this.getAttributeLocations(t,s),a=this.getUniformLocations(t,s)||{};return a.uStepW=t.getUniformLocation(s,"uStepW"),a.uStepH=t.getUniformLocation(s,"uStepH"),{program:s,attributeLocations:o,uniformLocations:a}},getAttributeLocations:function(t,e){return{aPosition:t.getAttribLocation(e,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(t,e,i){var r=e.aPosition,n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n),t.enableVertexAttribArray(r),t.vertexAttribPointer(r,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW)},_setupFrameBuffer:function(t){var e,i,r=t.context;t.passes>1?(e=t.destinationWidth,i=t.destinationHeight,t.sourceWidth===e&&t.sourceHeight===i||(r.deleteTexture(t.targetTexture),t.targetTexture=t.filterBackend.createTexture(r,e,i)),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t.targetTexture,0)):(r.bindFramebuffer(r.FRAMEBUFFER,null),r.finish())},_swapTextures:function(t){t.passes--,t.pass++;var e=t.targetTexture;t.targetTexture=t.sourceTexture,t.sourceTexture=e},isNeutralState:function(){var t=this.mainParameter,e=w.Image.filters[this.type].prototype;if(t){if(Array.isArray(e[t])){for(var i=e[t].length;i--;)if(this[t][i]!==e[t][i])return!1;return!0}return e[t]===this[t]}return!1},applyTo:function(t){t.webgl?(this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)},retrieveShader:function(t){return t.programCache.hasOwnProperty(this.type)||(t.programCache[this.type]=this.createProgram(t.context)),t.programCache[this.type]},applyToWebGL:function(t){var e=t.context,i=this.retrieveShader(t);0===t.pass&&t.originalTexture?e.bindTexture(e.TEXTURE_2D,t.originalTexture):e.bindTexture(e.TEXTURE_2D,t.sourceTexture),e.useProgram(i.program),this.sendAttributeData(e,i.attributeLocations,t.aPosition),e.uniform1f(i.uniformLocations.uStepW,1/t.sourceWidth),e.uniform1f(i.uniformLocations.uStepH,1/t.sourceHeight),this.sendUniformData(e,i.uniformLocations),e.viewport(0,0,t.destinationWidth,t.destinationHeight),e.drawArrays(e.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(t,e,i){t.activeTexture(i),t.bindTexture(t.TEXTURE_2D,e),t.activeTexture(t.TEXTURE0)},unbindAdditionalTexture:function(t,e){t.activeTexture(e),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(t){this[this.mainParameter]=t},sendUniformData:function(){},createHelpLayer:function(t){if(!t.helpLayer){var e=document.createElement("canvas");e.width=t.sourceWidth,e.height=t.sourceHeight,t.helpLayer=e}},toObject:function(){var t={type:this.type},e=this.mainParameter;return e&&(t[e]=this[e]),t},toJSON:function(){return this.toObject()}}),w.Image.filters.BaseFilter.fromObject=function(t,e){var i=new w.Image.filters[t.type](t);return e&&e(i),i},function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,r=e.util.createClass;i.ColorMatrix=r(i.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(t){this.callSuper("initialize",t),this.matrix=this.matrix.slice(0)},applyTo2d:function(t){var e,i,r,n,s,o=t.imageData.data,a=o.length,h=this.matrix,c=this.colorsOnly;for(s=0;s<a;s+=4)e=o[s],i=o[s+1],r=o[s+2],c?(o[s]=e*h[0]+i*h[1]+r*h[2]+255*h[4],o[s+1]=e*h[5]+i*h[6]+r*h[7]+255*h[9],o[s+2]=e*h[10]+i*h[11]+r*h[12]+255*h[14]):(n=o[s+3],o[s]=e*h[0]+i*h[1]+r*h[2]+n*h[3]+255*h[4],o[s+1]=e*h[5]+i*h[6]+r*h[7]+n*h[8]+255*h[9],o[s+2]=e*h[10]+i*h[11]+r*h[12]+n*h[13]+255*h[14],o[s+3]=e*h[15]+i*h[16]+r*h[17]+n*h[18]+255*h[19])},getUniformLocations:function(t,e){return{uColorMatrix:t.getUniformLocation(e,"uColorMatrix"),uConstants:t.getUniformLocation(e,"uConstants")}},sendUniformData:function(t,e){var i=this.matrix,r=[i[0],i[1],i[2],i[3],i[5],i[6],i[7],i[8],i[10],i[11],i[12],i[13],i[15],i[16],i[17],i[18]],n=[i[4],i[9],i[14],i[19]];t.uniformMatrix4fv(e.uColorMatrix,!1,r),t.uniform4fv(e.uConstants,n)}}),e.Image.filters.ColorMatrix.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,r=e.util.createClass;i.Brightness=r(i.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(t){if(0!==this.brightness){var e,i=t.imageData.data,r=i.length,n=Math.round(255*this.brightness);for(e=0;e<r;e+=4)i[e]=i[e]+n,i[e+1]=i[e+1]+n,i[e+2]=i[e+2]+n}},getUniformLocations:function(t,e){return{uBrightness:t.getUniformLocation(e,"uBrightness")}},sendUniformData:function(t,e){t.uniform1f(e.uBrightness,this.brightness)}}),e.Image.filters.Brightness.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,r=e.Image.filters,n=e.util.createClass;r.Convolute=n(r.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(t){var e=Math.sqrt(this.matrix.length),i=this.type+"_"+e+"_"+(this.opaque?1:0),r=this.fragmentSource[i];return t.programCache.hasOwnProperty(i)||(t.programCache[i]=this.createProgram(t.context,r)),t.programCache[i]},applyTo2d:function(t){var e,i,r,n,s,o,a,h,c,l,u,f,d,g=t.imageData,p=g.data,v=this.matrix,m=Math.round(Math.sqrt(v.length)),_=Math.floor(m/2),y=g.width,b=g.height,x=t.ctx.createImageData(y,b),C=x.data,S=this.opaque?1:0;for(u=0;u<b;u++)for(l=0;l<y;l++){for(s=4*(u*y+l),e=0,i=0,r=0,n=0,d=0;d<m;d++)for(f=0;f<m;f++)o=l+f-_,(a=u+d-_)<0||a>=b||o<0||o>=y||(h=4*(a*y+o),c=v[d*m+f],e+=p[h]*c,i+=p[h+1]*c,r+=p[h+2]*c,S||(n+=p[h+3]*c));C[s]=e,C[s+1]=i,C[s+2]=r,C[s+3]=S?p[s+3]:n}t.imageData=x},getUniformLocations:function(t,e){return{uMatrix:t.getUniformLocation(e,"uMatrix"),uOpaque:t.getUniformLocation(e,"uOpaque"),uHalfSize:t.getUniformLocation(e,"uHalfSize"),uSize:t.getUniformLocation(e,"uSize")}},sendUniformData:function(t,e){t.uniform1fv(e.uMatrix,this.matrix)},toObject:function(){return i(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),e.Image.filters.Convolute.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,r=e.util.createClass;i.Grayscale=r(i.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(t){var e,i,r=t.imageData.data,n=r.length,s=this.mode;for(e=0;e<n;e+=4)"average"===s?i=(r[e]+r[e+1]+r[e+2])/3:"lightness"===s?i=(Math.min(r[e],r[e+1],r[e+2])+Math.max(r[e],r[e+1],r[e+2]))/2:"luminosity"===s&&(i=.21*r[e]+.72*r[e+1]+.07*r[e+2]),r[e]=i,r[e+1]=i,r[e+2]=i},retrieveShader:function(t){var e=this.type+"_"+this.mode;if(!t.programCache.hasOwnProperty(e)){var i=this.fragmentSource[this.mode];t.programCache[e]=this.createProgram(t.context,i)}return t.programCache[e]},getUniformLocations:function(t,e){return{uMode:t.getUniformLocation(e,"uMode")}},sendUniformData:function(t,e){t.uniform1i(e.uMode,1)},isNeutralState:function(){return!1}}),e.Image.filters.Grayscale.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,r=e.util.createClass;i.Invert=r(i.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(t){var e,i=t.imageData.data,r=i.length;for(e=0;e<r;e+=4)i[e]=255-i[e],i[e+1]=255-i[e+1],i[e+2]=255-i[e+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(t,e){return{uInvert:t.getUniformLocation(e,"uInvert")}},sendUniformData:function(t,e){t.uniform1i(e.uInvert,this.invert)}}),e.Image.filters.Invert.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,r=e.Image.filters,n=e.util.createClass;r.Noise=n(r.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(t){if(0!==this.noise){var e,i,r=t.imageData.data,n=r.length,s=this.noise;for(e=0,n=r.length;e<n;e+=4)i=(.5-Math.random())*s,r[e]+=i,r[e+1]+=i,r[e+2]+=i}},getUniformLocations:function(t,e){return{uNoise:t.getUniformLocation(e,"uNoise"),uSeed:t.getUniformLocation(e,"uSeed")}},sendUniformData:function(t,e){t.uniform1f(e.uNoise,this.noise/255),t.uniform1f(e.uSeed,Math.random())},toObject:function(){return i(this.callSuper("toObject"),{noise:this.noise})}}),e.Image.filters.Noise.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,r=e.util.createClass;i.Pixelate=r(i.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(t){var e,i,r,n,s,o,a,h,c,l,u,f=t.imageData,d=f.data,g=f.height,p=f.width;for(i=0;i<g;i+=this.blocksize)for(r=0;r<p;r+=this.blocksize)for(n=d[e=4*i*p+4*r],s=d[e+1],o=d[e+2],a=d[e+3],l=Math.min(i+this.blocksize,g),u=Math.min(r+this.blocksize,p),h=i;h<l;h++)for(c=r;c<u;c++)d[e=4*h*p+4*c]=n,d[e+1]=s,d[e+2]=o,d[e+3]=a},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(t,e){return{uBlocksize:t.getUniformLocation(e,"uBlocksize"),uStepW:t.getUniformLocation(e,"uStepW"),uStepH:t.getUniformLocation(e,"uStepH")}},sendUniformData:function(t,e){t.uniform1f(e.uBlocksize,this.blocksize)}}),e.Image.filters.Pixelate.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.extend,r=e.Image.filters,n=e.util.createClass;r.RemoveColor=n(r.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(t){var i,r,n,s,o=t.imageData.data,a=255*this.distance,h=new e.Color(this.color).getSource(),c=[h[0]-a,h[1]-a,h[2]-a],l=[h[0]+a,h[1]+a,h[2]+a];for(i=0;i<o.length;i+=4)r=o[i],n=o[i+1],s=o[i+2],r>c[0]&&n>c[1]&&s>c[2]&&r<l[0]&&n<l[1]&&s<l[2]&&(o[i+3]=0)},getUniformLocations:function(t,e){return{uLow:t.getUniformLocation(e,"uLow"),uHigh:t.getUniformLocation(e,"uHigh")}},sendUniformData:function(t,i){var r=new e.Color(this.color).getSource(),n=parseFloat(this.distance),s=[0+r[0]/255-n,0+r[1]/255-n,0+r[2]/255-n,1],o=[r[0]/255+n,r[1]/255+n,r[2]/255+n,1];t.uniform4fv(i.uLow,s),t.uniform4fv(i.uHigh,o)},toObject:function(){return i(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),e.Image.filters.RemoveColor.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,r=e.util.createClass,n={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var s in n)i[s]=r(i.ColorMatrix,{type:s,matrix:n[s],mainParameter:!1,colorsOnly:!0}),e.Image.filters[s].fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric,i=e.Image.filters,r=e.util.createClass;i.BlendColor=r(i.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(t){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[t]+"}\n}"},retrieveShader:function(t){var e,i=this.type+"_"+this.mode;return t.programCache.hasOwnProperty(i)||(e=this.buildSource(this.mode),t.programCache[i]=this.createProgram(t.context,e)),t.programCache[i]},applyTo2d:function(t){var i,r,n,s,o,a,h,c=t.imageData.data,l=c.length,u=1-this.alpha;i=(h=new e.Color(this.color).getSource())[0]*this.alpha,r=h[1]*this.alpha,n=h[2]*this.alpha;for(var f=0;f<l;f+=4)switch(s=c[f],o=c[f+1],a=c[f+2],this.mode){case"multiply":c[f]=s*i/255,c[f+1]=o*r/255,c[f+2]=a*n/255;break;case"screen":c[f]=255-(255-s)*(255-i)/255,c[f+1]=255-(255-o)*(255-r)/255,c[f+2]=255-(255-a)*(255-n)/255;break;case"add":c[f]=s+i,c[f+1]=o+r,c[f+2]=a+n;break;case"diff":case"difference":c[f]=Math.abs(s-i),c[f+1]=Math.abs(o-r),c[f+2]=Math.abs(a-n);break;case"subtract":c[f]=s-i,c[f+1]=o-r,c[f+2]=a-n;break;case"darken":c[f]=Math.min(s,i),c[f+1]=Math.min(o,r),c[f+2]=Math.min(a,n);break;case"lighten":c[f]=Math.max(s,i),c[f+1]=Math.max(o,r),c[f+2]=Math.max(a,n);break;case"overlay":c[f]=i<128?2*s*i/255:255-2*(255-s)*(255-i)/255,c[f+1]=r<128?2*o*r/255:255-2*(255-o)*(255-r)/255,c[f+2]=n<128?2*a*n/255:255-2*(255-a)*(255-n)/255;break;case"exclusion":c[f]=i+s-2*i*s/255,c[f+1]=r+o-2*r*o/255,c[f+2]=n+a-2*n*a/255;break;case"tint":c[f]=i+s*u,c[f+1]=r+o*u,c[f+2]=n+a*u}},getUniformLocations:function(t,e){return{uColor:t.getUniformLocation(e,"uColor")}},sendUniformData:function(t,i){var r=new e.Color(this.color).getSource();r[0]=this.alpha*r[0]/255,r[1]=this.alpha*r[1]/255,r[2]=this.alpha*r[2]/255,r[3]=this.alpha,t.uniform4fv(i.uColor,r)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),e.Image.filters.BlendColor.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric,i=e.Image.filters,r=e.util.createClass;i.BlendImage=r(i.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(t){var e=this.type+"_"+this.mode,i=this.fragmentSource[this.mode];return t.programCache.hasOwnProperty(e)||(t.programCache[e]=this.createProgram(t.context,i)),t.programCache[e]},applyToWebGL:function(t){var e=t.context,i=this.createTexture(t.filterBackend,this.image);this.bindAdditionalTexture(e,i,e.TEXTURE1),this.callSuper("applyToWebGL",t),this.unbindAdditionalTexture(e,e.TEXTURE1)},createTexture:function(t,e){return t.getCachedTexture(e.cacheKey,e._element)},calculateMatrix:function(){var t=this.image,e=t._element.width,i=t._element.height;return[1/t.scaleX,0,0,0,1/t.scaleY,0,-t.left/e,-t.top/i,1]},applyTo2d:function(t){var i,r,n,s,o,a,h,c,l,u,f,d=t.imageData,g=t.filterBackend.resources,p=d.data,v=p.length,m=d.width,_=d.height,y=this.image;g.blendImage||(g.blendImage=e.util.createCanvasElement()),u=(l=g.blendImage).getContext("2d"),l.width!==m||l.height!==_?(l.width=m,l.height=_):u.clearRect(0,0,m,_),u.setTransform(y.scaleX,0,0,y.scaleY,y.left,y.top),u.drawImage(y._element,0,0,m,_),f=u.getImageData(0,0,m,_).data;for(var b=0;b<v;b+=4)switch(o=p[b],a=p[b+1],h=p[b+2],c=p[b+3],i=f[b],r=f[b+1],n=f[b+2],s=f[b+3],this.mode){case"multiply":p[b]=o*i/255,p[b+1]=a*r/255,p[b+2]=h*n/255,p[b+3]=c*s/255;break;case"mask":p[b+3]=s}},getUniformLocations:function(t,e){return{uTransformMatrix:t.getUniformLocation(e,"uTransformMatrix"),uImage:t.getUniformLocation(e,"uImage")}},sendUniformData:function(t,e){var i=this.calculateMatrix();t.uniform1i(e.uImage,1),t.uniformMatrix3fv(e.uTransformMatrix,!1,i)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),e.Image.filters.BlendImage.fromObject=function(t,i){e.Image.fromObject(t.image,(function(r){var n=e.util.object.clone(t);n.image=r,i(new e.Image.filters.BlendImage(n))}))}}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=Math.pow,r=Math.floor,n=Math.sqrt,s=Math.abs,o=Math.round,a=Math.sin,h=Math.ceil,c=e.Image.filters,l=e.util.createClass;c.Resize=l(c.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(t,e){return{uDelta:t.getUniformLocation(e,"uDelta"),uTaps:t.getUniformLocation(e,"uTaps")}},sendUniformData:function(t,e){t.uniform2fv(e.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),t.uniform1fv(e.uTaps,this.taps)},retrieveShader:function(t){var e=this.getFilterWindow(),i=this.type+"_"+e;if(!t.programCache.hasOwnProperty(i)){var r=this.generateShader(e);t.programCache[i]=this.createProgram(t.context,r)}return t.programCache[i]},getFilterWindow:function(){var t=this.tempScale;return Math.ceil(this.lanczosLobes/t)},getTaps:function(){for(var t=this.lanczosCreate(this.lanczosLobes),e=this.tempScale,i=this.getFilterWindow(),r=new Array(i),n=1;n<=i;n++)r[n-1]=t(n*e);return r},generateShader:function(t){for(var e=new Array(t),i=this.fragmentSourceTOP,r=1;r<=t;r++)e[r-1]=r+".0 * uDelta";return i+="uniform float uTaps["+t+"];\n",i+="void main() {\n",i+="  vec4 color = texture2D(uTexture, vTexCoord);\n",i+="  float sum = 1.0;\n",e.forEach((function(t,e){i+="  color += texture2D(uTexture, vTexCoord + "+t+") * uTaps["+e+"];\n",i+="  color += texture2D(uTexture, vTexCoord - "+t+") * uTaps["+e+"];\n",i+="  sum += 2.0 * uTaps["+e+"];\n"})),i+="  gl_FragColor = color / sum;\n",i+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(t){t.webgl?(t.passes++,this.width=t.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=t.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),t.destinationWidth=this.dW,this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t),t.sourceWidth=t.destinationWidth,this.height=t.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),t.destinationHeight=this.dH,this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t),t.sourceHeight=t.destinationHeight):this.applyTo2d(t)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(t){return function(e){if(e>=t||e<=-t)return 0;if(e<1.1920929e-7&&e>-1.1920929e-7)return 1;var i=(e*=Math.PI)/t;return a(e)/e*a(i)/i}},applyTo2d:function(t){var e=t.imageData,i=this.scaleX,r=this.scaleY;this.rcpScaleX=1/i,this.rcpScaleY=1/r;var n,s=e.width,a=e.height,h=o(s*i),c=o(a*r);"sliceHack"===this.resizeType?n=this.sliceByTwo(t,s,a,h,c):"hermite"===this.resizeType?n=this.hermiteFastResize(t,s,a,h,c):"bilinear"===this.resizeType?n=this.bilinearFiltering(t,s,a,h,c):"lanczos"===this.resizeType&&(n=this.lanczosResize(t,s,a,h,c)),t.imageData=n},sliceByTwo:function(t,i,n,s,o){var a,h,c=t.imageData,l=!1,u=!1,f=.5*i,d=.5*n,g=e.filterBackend.resources,p=0,v=0,m=i,_=0;for(g.sliceByTwo||(g.sliceByTwo=document.createElement("canvas")),((a=g.sliceByTwo).width<1.5*i||a.height<n)&&(a.width=1.5*i,a.height=n),(h=a.getContext("2d")).clearRect(0,0,1.5*i,n),h.putImageData(c,0,0),s=r(s),o=r(o);!l||!u;)i=f,n=d,s<r(.5*f)?f=r(.5*f):(f=s,l=!0),o<r(.5*d)?d=r(.5*d):(d=o,u=!0),h.drawImage(a,p,v,i,n,m,_,f,d),p=m,v=_,_+=d;return h.getImageData(p,v,s,o)},lanczosResize:function(t,e,o,a,c){var l=t.imageData.data,u=t.ctx.createImageData(a,c),f=u.data,d=this.lanczosCreate(this.lanczosLobes),g=this.rcpScaleX,p=this.rcpScaleY,v=2/this.rcpScaleX,m=2/this.rcpScaleY,_=h(g*this.lanczosLobes/2),y=h(p*this.lanczosLobes/2),b={},x={},C={};return function t(h){var S,w,T,O,P,k,E,A,D,j,M;for(x.x=(h+.5)*g,C.x=r(x.x),S=0;S<c;S++){for(x.y=(S+.5)*p,C.y=r(x.y),P=0,k=0,E=0,A=0,D=0,w=C.x-_;w<=C.x+_;w++)if(!(w<0||w>=e)){j=r(1e3*s(w-x.x)),b[j]||(b[j]={});for(var F=C.y-y;F<=C.y+y;F++)F<0||F>=o||(M=r(1e3*s(F-x.y)),b[j][M]||(b[j][M]=d(n(i(j*v,2)+i(M*m,2))/1e3)),(T=b[j][M])>0&&(P+=T,k+=T*l[O=4*(F*e+w)],E+=T*l[O+1],A+=T*l[O+2],D+=T*l[O+3]))}f[O=4*(S*a+h)]=k/P,f[O+1]=E/P,f[O+2]=A/P,f[O+3]=D/P}return++h<a?t(h):u}(0)},bilinearFiltering:function(t,e,i,n,s){var o,a,h,c,l,u,f,d,g,p=0,v=this.rcpScaleX,m=this.rcpScaleY,_=4*(e-1),y=t.imageData.data,b=t.ctx.createImageData(n,s),x=b.data;for(h=0;h<s;h++)for(c=0;c<n;c++)for(l=v*c-(o=r(v*c)),u=m*h-(a=r(m*h)),g=4*(a*e+o),f=0;f<4;f++)d=y[g+f]*(1-l)*(1-u)+y[g+4+f]*l*(1-u)+y[g+_+f]*u*(1-l)+y[g+_+4+f]*l*u,x[p++]=d;return b},hermiteFastResize:function(t,e,i,o,a){for(var c=this.rcpScaleX,l=this.rcpScaleY,u=h(c/2),f=h(l/2),d=t.imageData.data,g=t.ctx.createImageData(o,a),p=g.data,v=0;v<a;v++)for(var m=0;m<o;m++){for(var _=4*(m+v*o),y=0,b=0,x=0,C=0,S=0,w=0,T=0,O=(v+.5)*l,P=r(v*l);P<(v+1)*l;P++)for(var k=s(O-(P+.5))/f,E=(m+.5)*c,A=k*k,D=r(m*c);D<(m+1)*c;D++){var j=s(E-(D+.5))/u,M=n(A+j*j);M>1&&M<-1||(y=2*M*M*M-3*M*M+1)>0&&(T+=y*d[(j=4*(D+P*e))+3],x+=y,d[j+3]<255&&(y=y*d[j+3]/250),C+=y*d[j],S+=y*d[j+1],w+=y*d[j+2],b+=y)}p[_]=C/b,p[_+1]=S/b,p[_+2]=w/b,p[_+3]=T/x}return g},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),e.Image.filters.Resize.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,r=e.util.createClass;i.Contrast=r(i.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(t){if(0!==this.contrast){var e,i=t.imageData.data,r=i.length,n=Math.floor(255*this.contrast),s=259*(n+255)/(255*(259-n));for(e=0;e<r;e+=4)i[e]=s*(i[e]-128)+128,i[e+1]=s*(i[e+1]-128)+128,i[e+2]=s*(i[e+2]-128)+128}},getUniformLocations:function(t,e){return{uContrast:t.getUniformLocation(e,"uContrast")}},sendUniformData:function(t,e){t.uniform1f(e.uContrast,this.contrast)}}),e.Image.filters.Contrast.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,r=e.util.createClass;i.Saturation=r(i.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(t){if(0!==this.saturation){var e,i,r=t.imageData.data,n=r.length,s=-this.saturation;for(e=0;e<n;e+=4)i=Math.max(r[e],r[e+1],r[e+2]),r[e]+=i!==r[e]?(i-r[e])*s:0,r[e+1]+=i!==r[e+1]?(i-r[e+1])*s:0,r[e+2]+=i!==r[e+2]?(i-r[e+2])*s:0}},getUniformLocations:function(t,e){return{uSaturation:t.getUniformLocation(e,"uSaturation")}},sendUniformData:function(t,e){t.uniform1f(e.uSaturation,-this.saturation)}}),e.Image.filters.Saturation.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,r=e.util.createClass;i.Blur=r(i.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(t){t.webgl?(this.aspectRatio=t.sourceWidth/t.sourceHeight,t.passes++,this._setupFrameBuffer(t),this.horizontal=!0,this.applyToWebGL(t),this._swapTextures(t),this._setupFrameBuffer(t),this.horizontal=!1,this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)},applyTo2d:function(t){t.imageData=this.simpleBlur(t)},simpleBlur:function(t){var i,r,n=t.filterBackend.resources,s=t.imageData.width,o=t.imageData.height;n.blurLayer1||(n.blurLayer1=e.util.createCanvasElement(),n.blurLayer2=e.util.createCanvasElement()),i=n.blurLayer1,r=n.blurLayer2,i.width===s&&i.height===o||(r.width=i.width=s,r.height=i.height=o);var a,h,c,l,u=i.getContext("2d"),f=r.getContext("2d"),d=.06*this.blur*.5;for(u.putImageData(t.imageData,0,0),f.clearRect(0,0,s,o),l=-15;l<=15;l++)c=d*(h=l/15)*s+(a=(Math.random()-.5)/4),f.globalAlpha=1-Math.abs(h),f.drawImage(i,c,a),u.drawImage(r,0,0),f.globalAlpha=1,f.clearRect(0,0,r.width,r.height);for(l=-15;l<=15;l++)c=d*(h=l/15)*o+(a=(Math.random()-.5)/4),f.globalAlpha=1-Math.abs(h),f.drawImage(i,a,c),u.drawImage(r,0,0),f.globalAlpha=1,f.clearRect(0,0,r.width,r.height);t.ctx.drawImage(i,0,0);var g=t.ctx.getImageData(0,0,i.width,i.height);return u.globalAlpha=1,u.clearRect(0,0,i.width,i.height),g},getUniformLocations:function(t,e){return{delta:t.getUniformLocation(e,"uDelta")}},sendUniformData:function(t,e){var i=this.chooseRightDelta();t.uniform2fv(e.delta,i)},chooseRightDelta:function(){var t,e=1,i=[0,0];return this.horizontal?this.aspectRatio>1&&(e=1/this.aspectRatio):this.aspectRatio<1&&(e=this.aspectRatio),t=e*this.blur*.12,this.horizontal?i[0]=t:i[1]=t,i}}),i.Blur.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,r=e.util.createClass;i.Gamma=r(i.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(t){this.gamma=[1,1,1],i.BaseFilter.prototype.initialize.call(this,t)},applyTo2d:function(t){var e,i=t.imageData.data,r=this.gamma,n=i.length,s=1/r[0],o=1/r[1],a=1/r[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),e=0,n=256;e<n;e++)this.rVals[e]=255*Math.pow(e/255,s),this.gVals[e]=255*Math.pow(e/255,o),this.bVals[e]=255*Math.pow(e/255,a);for(e=0,n=i.length;e<n;e+=4)i[e]=this.rVals[i[e]],i[e+1]=this.gVals[i[e+1]],i[e+2]=this.bVals[i[e+2]]},getUniformLocations:function(t,e){return{uGamma:t.getUniformLocation(e,"uGamma")}},sendUniformData:function(t,e){t.uniform3fv(e.uGamma,this.gamma)}}),e.Image.filters.Gamma.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,r=e.util.createClass;i.Composed=r(i.BaseFilter,{type:"Composed",subFilters:[],initialize:function(t){this.callSuper("initialize",t),this.subFilters=this.subFilters.slice(0)},applyTo:function(t){t.passes+=this.subFilters.length-1,this.subFilters.forEach((function(e){e.applyTo(t)}))},toObject:function(){return e.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map((function(t){return t.toObject()}))})},isNeutralState:function(){return!this.subFilters.some((function(t){return!t.isNeutralState()}))}}),e.Image.filters.Composed.fromObject=function(t,i){var r=(t.subFilters||[]).map((function(t){return new e.Image.filters[t.type](t)})),n=new e.Image.filters.Composed({subFilters:r});return i&&i(n),n}}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.Image.filters,r=e.util.createClass;i.HueRotation=r(i.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var t=this.rotation*Math.PI,i=e.util.cos(t),r=e.util.sin(t),n=Math.sqrt(1/3)*r,s=1-i;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=i+s/3,this.matrix[1]=1/3*s-n,this.matrix[2]=1/3*s+n,this.matrix[5]=1/3*s+n,this.matrix[6]=i+1/3*s,this.matrix[7]=1/3*s-n,this.matrix[10]=1/3*s-n,this.matrix[11]=1/3*s+n,this.matrix[12]=i+1/3*s},isNeutralState:function(t){return this.calculateMatrix(),i.BaseFilter.prototype.isNeutralState.call(this,t)},applyTo:function(t){this.calculateMatrix(),i.BaseFilter.prototype.applyTo.call(this,t)}}),e.Image.filters.HueRotation.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),i=e.util.object.clone;e.Text?e.warn("fabric.Text is already defined"):(e.Text=e.util.createClass(e.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:e.Object.prototype.stateProperties.concat("fontFamily","fontWeight","fontSize","text","underline","overline","linethrough","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles"),cacheProperties:e.Object.prototype.cacheProperties.concat("fontFamily","fontWeight","fontSize","text","underline","overline","linethrough","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles"),stroke:null,shadow:null,_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(t,e){this.styles=e&&e.styles||{},this.text=t,this.__skipDimension=!0,this.callSuper("initialize",e),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},getMeasuringContext:function(){return e._measuringContext||(e._measuringContext=this.canvas&&this.canvas.contextCache||e.util.createCanvasElement().getContext("2d")),e._measuringContext},_splitText:function(){var t=this._splitTextIntoLines(this.text);return this.textLines=t.lines,this._textLines=t.graphemeLines,this._unwrappedTextLines=t._unwrappedLines,this._text=t.graphemeText,t},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var t,e,i,r,n,s,o,a=0,h=this._textLines.length;a<h;a++)if(("justify"===this.textAlign||a!==h-1&&!this.isEndOfWrapping(a))&&(r=0,n=this._textLines[a],(e=this.getLineWidth(a))<this.width&&(o=this.textLines[a].match(this._reSpacesAndTabs)))){i=o.length,t=(this.width-e)/i;for(var c=0,l=n.length;c<=l;c++)s=this.__charBounds[a][c],this._reSpaceAndTab.test(n[c])?(s.width+=t,s.kernedWidth+=t,s.left+=r,r+=t):s.left+=r}},isEndOfWrapping:function(t){return t===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var t=this.callSuper("_getCacheCanvasDimensions"),e=this.fontSize;return t.width+=e*t.zoomX,t.height+=e*t.zoomY,t},_render:function(t){this._setTextStyles(t),this._renderTextLinesBackground(t),this._renderTextDecoration(t,"underline"),this._renderText(t),this._renderTextDecoration(t,"overline"),this._renderTextDecoration(t,"linethrough")},_renderText:function(t){"stroke"===this.paintFirst?(this._renderTextStroke(t),this._renderTextFill(t)):(this._renderTextFill(t),this._renderTextStroke(t))},_setTextStyles:function(t,e,i){t.textBaseline="alphabetic",t.font=this._getFontDeclaration(e,i)},calcTextWidth:function(){for(var t=this.getLineWidth(0),e=1,i=this._textLines.length;e<i;e++){var r=this.getLineWidth(e);r>t&&(t=r)}return t},_renderTextLine:function(t,e,i,r,n,s){this._renderChars(t,e,i,r,n,s)},_renderTextLinesBackground:function(t){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var e,i,r,n,s,o,a=0,h=t.fillStyle,c=this._getLeftOffset(),l=this._getTopOffset(),u=0,f=0,d=0,g=this._textLines.length;d<g;d++)if(e=this.getHeightOfLine(d),this.textBackgroundColor||this.styleHas("textBackgroundColor",d)){r=this._textLines[d],i=this._getLineLeftOffset(d),f=0,u=0,n=this.getValueOfPropertyAt(d,0,"textBackgroundColor");for(var p=0,v=r.length;p<v;p++)s=this.__charBounds[d][p],(o=this.getValueOfPropertyAt(d,p,"textBackgroundColor"))!==n?(t.fillStyle=n,n&&t.fillRect(c+i+u,l+a,f,e/this.lineHeight),u=s.left,f=s.width,n=o):f+=s.kernedWidth;o&&(t.fillStyle=o,t.fillRect(c+i+u,l+a,f,e/this.lineHeight)),a+=e}else a+=e;t.fillStyle=h,this._removeShadow(t)}},getFontCache:function(t){var i=t.fontFamily.toLowerCase();e.charWidthsCache[i]||(e.charWidthsCache[i]={});var r=e.charWidthsCache[i],n=t.fontStyle.toLowerCase()+"_"+(t.fontWeight+"").toLowerCase();return r[n]||(r[n]={}),r[n]},_applyCharStyles:function(t,e,i,r,n){this._setFillStyles(e,n),this._setStrokeStyles(e,n),e.font=this._getFontDeclaration(n)},_measureChar:function(t,e,i,r){var n,s,o,a,h=this.getFontCache(e),c=i+t,l=this._getFontDeclaration(e)===this._getFontDeclaration(r),u=e.fontSize/this.CACHE_FONT_SIZE;if(i&&void 0!==h[i]&&(o=h[i]),void 0!==h[t]&&(a=n=h[t]),l&&void 0!==h[c]&&(a=(s=h[c])-o),void 0===n||void 0===o||void 0===s){var f=this.getMeasuringContext();this._setTextStyles(f,e,!0)}return void 0===n&&(a=n=f.measureText(t).width,h[t]=n),void 0===o&&l&&i&&(o=f.measureText(i).width,h[i]=o),l&&void 0===s&&(s=f.measureText(c).width,h[c]=s,a=s-o),{width:n*u,kernedWidth:a*u}},getHeightOfChar:function(t,e){return this.getValueOfPropertyAt(t,e,"fontSize")},measureLine:function(t){var e=this._measureLine(t);return 0!==this.charSpacing&&(e.width-=this._getWidthOfCharSpacing()),e.width<0&&(e.width=0),e},_measureLine:function(t){var e,i,r,n,s=0,o=this._textLines[t],a=new Array(o.length);for(this.__charBounds[t]=a,e=0;e<o.length;e++)i=o[e],n=this._getGraphemeBox(i,t,e,r),a[e]=n,s+=n.kernedWidth,r=i;return a[e]={left:n?n.left+n.width:0,width:0,kernedWidth:0,height:this.fontSize},{width:s,numOfSpaces:0}},_getGraphemeBox:function(t,e,i,r,n){var s,o=this.getCompleteStyleDeclaration(e,i),a=r?this.getCompleteStyleDeclaration(e,i-1):{},h=this._measureChar(t,o,r,a),c=h.kernedWidth,l=h.width;0!==this.charSpacing&&(l+=s=this._getWidthOfCharSpacing(),c+=s);var u={width:l,left:0,height:o.fontSize,kernedWidth:c,deltaY:o.deltaY};if(i>0&&!n){var f=this.__charBounds[e][i-1];u.left=f.left+f.width+h.kernedWidth-h.width}return u},getHeightOfLine:function(t){if(this.__lineHeights[t])return this.__lineHeights[t];for(var e=this._textLines[t],i=this.getHeightOfChar(t,0),r=1,n=e.length;r<n;r++)i=Math.max(this.getHeightOfChar(t,r),i);return this.__lineHeights[t]=i*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var t,e=0,i=0,r=this._textLines.length;i<r;i++)t=this.getHeightOfLine(i),e+=i===r-1?t/this.lineHeight:t;return e},_getLeftOffset:function(){return-this.width/2},_getTopOffset:function(){return-this.height/2},_applyPatternGradientTransform:function(t,e){if(!e||!e.toLive)return{offsetX:0,offsetY:0};var i=-this.width/2+e.offsetX||0,r=-this.height/2+e.offsetY||0;return t.transform(1,0,0,1,i,r),{offsetX:i,offsetY:r}},_renderTextCommon:function(t,e){t.save();for(var i=0,r=this._getLeftOffset(),n=this._getTopOffset(),s=this._applyPatternGradientTransform(t,"fillText"===e?this.fill:this.stroke),o=0,a=this._textLines.length;o<a;o++){var h=this.getHeightOfLine(o),c=h/this.lineHeight,l=this._getLineLeftOffset(o);this._renderTextLine(e,t,this._textLines[o],r+l-s.offsetX,n+i+c-s.offsetY,o),i+=h}t.restore()},_renderTextFill:function(t){(this.fill||this.styleHas("fill"))&&this._renderTextCommon(t,"fillText")},_renderTextStroke:function(t){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())},_renderChars:function(t,e,i,r,n,s){var o,a,h,c,l=this.getHeightOfLine(s),u=-1!==this.textAlign.indexOf("justify"),f="",d=0,g=!u&&0===this.charSpacing&&this.isEmptyStyles(s);if(e.save(),n-=l*this._fontSizeFraction/this.lineHeight,g)return this._renderChar(t,e,s,0,this.textLines[s],r,n,l),void e.restore();for(var p=0,v=i.length-1;p<=v;p++)c=p===v||this.charSpacing,f+=i[p],h=this.__charBounds[s][p],0===d?(r+=h.kernedWidth-h.width,d+=h.width):d+=h.kernedWidth,u&&!c&&this._reSpaceAndTab.test(i[p])&&(c=!0),c||(o=o||this.getCompleteStyleDeclaration(s,p),a=this.getCompleteStyleDeclaration(s,p+1),c=this._hasStyleChanged(o,a)),c&&(this._renderChar(t,e,s,p,f,r,n,l),f="",o=a,r+=d,d=0);e.restore()},_renderChar:function(t,e,i,r,n,s,o){var a=this._getStyleDeclaration(i,r),h=this.getCompleteStyleDeclaration(i,r),c="fillText"===t&&h.fill,l="strokeText"===t&&h.stroke&&h.strokeWidth;(l||c)&&(a&&e.save(),this._applyCharStyles(t,e,i,r,h),a&&a.textBackgroundColor&&this._removeShadow(e),a&&a.deltaY&&(o+=a.deltaY),c&&e.fillText(n,s,o),l&&e.strokeText(n,s,o),a&&e.restore())},setSuperscript:function(t,e){return this._setScript(t,e,this.superscript)},setSubscript:function(t,e){return this._setScript(t,e,this.subscript)},_setScript:function(t,e,i){var r=this.get2DCursorLocation(t,!0),n=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"fontSize"),s=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"deltaY"),o={fontSize:n*i.size,deltaY:s+n*i.baseline};return this.setSelectionStyles(o,t,e),this},_hasStyleChanged:function(t,e){return t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.deltaY!==e.deltaY},_hasStyleChangedForSvg:function(t,e){return this._hasStyleChanged(t,e)||t.overline!==e.overline||t.underline!==e.underline||t.linethrough!==e.linethrough},_getLineLeftOffset:function(t){var e=this.getLineWidth(t);return"center"===this.textAlign?(this.width-e)/2:"right"===this.textAlign?this.width-e:"justify-center"===this.textAlign&&this.isEndOfWrapping(t)?(this.width-e)/2:"justify-right"===this.textAlign&&this.isEndOfWrapping(t)?this.width-e:0},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var t=this._forceClearCache;return t||(t=this.hasStateChanged("_dimensionAffectingProps")),t&&(this.dirty=!0,this._forceClearCache=!1),t},getLineWidth:function(t){return this.__lineWidths[t]?this.__lineWidths[t]:(e=""===this._textLines[t]?0:this.measureLine(t).width,this.__lineWidths[t]=e,e);var e},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(t,e,i){var r=this._getStyleDeclaration(t,e);return r&&void 0!==r[i]?r[i]:this[i]},_renderTextDecoration:function(t,e){if(this[e]||this.styleHas(e)){for(var i,r,n,s,o,a,h,c,l,u,f,d,g,p,v,m,_=this._getLeftOffset(),y=this._getTopOffset(),b=this._getWidthOfCharSpacing(),x=0,C=this._textLines.length;x<C;x++)if(i=this.getHeightOfLine(x),this[e]||this.styleHas(e,x)){h=this._textLines[x],p=i/this.lineHeight,s=this._getLineLeftOffset(x),u=0,f=0,c=this.getValueOfPropertyAt(x,0,e),m=this.getValueOfPropertyAt(x,0,"fill"),l=y+p*(1-this._fontSizeFraction),r=this.getHeightOfChar(x,0),o=this.getValueOfPropertyAt(x,0,"deltaY");for(var S=0,w=h.length;S<w;S++)d=this.__charBounds[x][S],g=this.getValueOfPropertyAt(x,S,e),v=this.getValueOfPropertyAt(x,S,"fill"),n=this.getHeightOfChar(x,S),a=this.getValueOfPropertyAt(x,S,"deltaY"),(g!==c||v!==m||n!==r||a!==o)&&f>0?(t.fillStyle=m,c&&m&&t.fillRect(_+s+u,l+this.offsets[e]*r+o,f,this.fontSize/15),u=d.left,f=d.width,c=g,m=v,r=n,o=a):f+=d.kernedWidth;t.fillStyle=v,g&&v&&t.fillRect(_+s+u,l+this.offsets[e]*r+o,f-b,this.fontSize/15),y+=i}else y+=i;this._removeShadow(t)}},_getFontDeclaration:function(t,i){var r=t||this,n=this.fontFamily,s=e.Text.genericFonts.indexOf(n.toLowerCase())>-1,o=void 0===n||n.indexOf("'")>-1||n.indexOf(",")>-1||n.indexOf('"')>-1||s?r.fontFamily:'"'+r.fontFamily+'"';return[e.isLikelyNode?r.fontWeight:r.fontStyle,e.isLikelyNode?r.fontStyle:r.fontWeight,i?this.CACHE_FONT_SIZE+"px":r.fontSize+"px",o].join(" ")},render:function(t){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",t)))},_splitTextIntoLines:function(t){for(var i=t.split(this._reNewline),r=new Array(i.length),n=["\n"],s=[],o=0;o<i.length;o++)r[o]=e.util.string.graphemeSplit(i[o]),s=s.concat(r[o],n);return s.pop(),{_unwrappedLines:r,lines:i,graphemeText:s,graphemeLines:r}},toObject:function(t){var e=["text","fontSize","fontWeight","fontFamily","fontStyle","lineHeight","underline","overline","linethrough","textAlign","textBackgroundColor","charSpacing"].concat(t),r=this.callSuper("toObject",e);return r.styles=i(this.styles,!0),r},set:function(t,e){this.callSuper("set",t,e);var i=!1;if("object"==typeof t)for(var r in t)i=i||-1!==this._dimensionAffectingProps.indexOf(r);else i=-1!==this._dimensionAffectingProps.indexOf(t);return i&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),e.Text.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),e.Text.DEFAULT_SVG_FONT_SIZE=16,e.Text.fromElement=function(t,r,n){if(!t)return r(null);var s=e.parseAttributes(t,e.Text.ATTRIBUTE_NAMES),o=s.textAnchor||"left";if((n=e.util.object.extend(n?i(n):{},s)).top=n.top||0,n.left=n.left||0,s.textDecoration){var a=s.textDecoration;-1!==a.indexOf("underline")&&(n.underline=!0),-1!==a.indexOf("overline")&&(n.overline=!0),-1!==a.indexOf("line-through")&&(n.linethrough=!0),delete n.textDecoration}"dx"in s&&(n.left+=s.dx),"dy"in s&&(n.top+=s.dy),"fontSize"in n||(n.fontSize=e.Text.DEFAULT_SVG_FONT_SIZE);var h="";"textContent"in t?h=t.textContent:"firstChild"in t&&null!==t.firstChild&&"data"in t.firstChild&&null!==t.firstChild.data&&(h=t.firstChild.data),h=h.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var c=n.strokeWidth;n.strokeWidth=0;var l=new e.Text(h,n),u=l.getScaledHeight()/l.height,f=((l.height+l.strokeWidth)*l.lineHeight-l.height)*u,d=l.getScaledHeight()+f,g=0;"center"===o&&(g=l.getScaledWidth()/2),"right"===o&&(g=l.getScaledWidth()),l.set({left:l.left-g,top:l.top-(d-l.fontSize*(.07+l._fontSizeFraction))/l.lineHeight,strokeWidth:void 0!==c?c:1}),r(l)},e.Text.fromObject=function(t,i){return e.Object._fromObject("Text",t,i,"text")},e.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],e.util.createAccessors&&e.util.createAccessors(e.Text))}(e),w.util.object.extend(w.Text.prototype,{isEmptyStyles:function(t){if(!this.styles)return!0;if(void 0!==t&&!this.styles[t])return!0;var e=void 0===t?this.styles:{line:this.styles[t]};for(var i in e)for(var r in e[i])for(var n in e[i][r])return!1;return!0},styleHas:function(t,e){if(!this.styles||!t||""===t)return!1;if(void 0!==e&&!this.styles[e])return!1;var i=void 0===e?this.styles:{0:this.styles[e]};for(var r in i)for(var n in i[r])if(void 0!==i[r][n][t])return!0;return!1},cleanStyle:function(t){if(!this.styles||!t||""===t)return!1;var e,i,r=this.styles,n=0,s=!0,o=0;for(var a in r){for(var h in e=0,r[a]){var c;n++,(c=r[a][h]).hasOwnProperty(t)?(i?c[t]!==i&&(s=!1):i=c[t],c[t]===this[t]&&delete c[t]):s=!1,0!==Object.keys(c).length?e++:delete r[a][h]}0===e&&delete r[a]}for(var l=0;l<this._textLines.length;l++)o+=this._textLines[l].length;s&&n===o&&(this[t]=i,this.removeStyle(t))},removeStyle:function(t){if(this.styles&&t&&""!==t){var e,i,r,n=this.styles;for(i in n){for(r in e=n[i])delete e[r][t],0===Object.keys(e[r]).length&&delete e[r];0===Object.keys(e).length&&delete n[i]}}},_extendStyles:function(t,e){var i=this.get2DCursorLocation(t);this._getLineStyle(i.lineIndex)||this._setLineStyle(i.lineIndex),this._getStyleDeclaration(i.lineIndex,i.charIndex)||this._setStyleDeclaration(i.lineIndex,i.charIndex,{}),w.util.object.extend(this._getStyleDeclaration(i.lineIndex,i.charIndex),e)},get2DCursorLocation:function(t,e){void 0===t&&(t=this.selectionStart);for(var i=e?this._unwrappedTextLines:this._textLines,r=i.length,n=0;n<r;n++){if(t<=i[n].length)return{lineIndex:n,charIndex:t};t-=i[n].length+this.missingNewlineOffset(n)}return{lineIndex:n-1,charIndex:i[n-1].length<t?i[n-1].length:t}},getSelectionStyles:function(t,e,i){void 0===t&&(t=this.selectionStart||0),void 0===e&&(e=this.selectionEnd||t);for(var r=[],n=t;n<e;n++)r.push(this.getStyleAtPosition(n,i));return r},getStyleAtPosition:function(t,e){var i=this.get2DCursorLocation(t);return(e?this.getCompleteStyleDeclaration(i.lineIndex,i.charIndex):this._getStyleDeclaration(i.lineIndex,i.charIndex))||{}},setSelectionStyles:function(t,e,i){void 0===e&&(e=this.selectionStart||0),void 0===i&&(i=this.selectionEnd||e);for(var r=e;r<i;r++)this._extendStyles(r,t);return this._forceClearCache=!0,this},_getStyleDeclaration:function(t,e){var i=this.styles&&this.styles[t];return i?i[e]:null},getCompleteStyleDeclaration:function(t,e){for(var i,r=this._getStyleDeclaration(t,e)||{},n={},s=0;s<this._styleProperties.length;s++)n[i=this._styleProperties[s]]=void 0===r[i]?this[i]:r[i];return n},_setStyleDeclaration:function(t,e,i){this.styles[t][e]=i},_deleteStyleDeclaration:function(t,e){delete this.styles[t][e]},_getLineStyle:function(t){return!!this.styles[t]},_setLineStyle:function(t){this.styles[t]={}},_deleteLineStyle:function(t){delete this.styles[t]}}),function(){function t(t){t.textDecoration&&(t.textDecoration.indexOf("underline")>-1&&(t.underline=!0),t.textDecoration.indexOf("line-through")>-1&&(t.linethrough=!0),t.textDecoration.indexOf("overline")>-1&&(t.overline=!0),delete t.textDecoration)}w.IText=w.util.createClass(w.Text,w.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"#333",cursorDelay:1e3,cursorDuration:600,caching:!0,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(t,e){this.callSuper("initialize",t,e),this.initBehavior()},setSelectionStart:function(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)},setSelectionEnd:function(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)},_updateAndFire:function(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(t){this.clearContextTop(),this.callSuper("render",t),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(t){this.callSuper("_render",t)},clearContextTop:function(t){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var e=this.canvas.contextTop,i=this.canvas.viewportTransform;e.save(),e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),this.transform(e),this.transformMatrix&&e.transform.apply(e,this.transformMatrix),this._clearTextArea(e),t||e.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var t=this._getCursorBoundaries(),e=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(t,e):this.renderSelection(t,e),e.restore()}},_clearTextArea:function(t){var e=this.width+4,i=this.height+4;t.clearRect(-e/2,-i/2,e,i)},_getCursorBoundaries:function(t){void 0===t&&(t=this.selectionStart);var e=this._getLeftOffset(),i=this._getTopOffset(),r=this._getCursorBoundariesOffsets(t);return{left:e,top:i,leftOffset:r.left,topOffset:r.top}},_getCursorBoundariesOffsets:function(t){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var e,i,r,n,s=0,o=0,a=this.get2DCursorLocation(t);r=a.charIndex,i=a.lineIndex;for(var h=0;h<i;h++)s+=this.getHeightOfLine(h);e=this._getLineLeftOffset(i);var c=this.__charBounds[i][r];return c&&(o=c.left),0!==this.charSpacing&&r===this._textLines[i].length&&(o-=this._getWidthOfCharSpacing()),n={top:s,left:e+(o>0?o:0)},this.cursorOffsetCache=n,this.cursorOffsetCache},renderCursor:function(t,e){var i=this.get2DCursorLocation(),r=i.lineIndex,n=i.charIndex>0?i.charIndex-1:0,s=this.getValueOfPropertyAt(r,n,"fontSize"),o=this.scaleX*this.canvas.getZoom(),a=this.cursorWidth/o,h=t.topOffset,c=this.getValueOfPropertyAt(r,n,"deltaY");h+=(1-this._fontSizeFraction)*this.getHeightOfLine(r)/this.lineHeight-s*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(t,e),e.fillStyle=this.getValueOfPropertyAt(r,n,"fill"),e.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,e.fillRect(t.left+t.leftOffset-a/2,h+t.top+c,a,s)},renderSelection:function(t,e){for(var i=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,r=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,n=-1!==this.textAlign.indexOf("justify"),s=this.get2DCursorLocation(i),o=this.get2DCursorLocation(r),a=s.lineIndex,h=o.lineIndex,c=s.charIndex<0?0:s.charIndex,l=o.charIndex<0?0:o.charIndex,u=a;u<=h;u++){var f,d=this._getLineLeftOffset(u)||0,g=this.getHeightOfLine(u),p=0,v=0;if(u===a&&(p=this.__charBounds[a][c].left),u>=a&&u<h)v=n&&!this.isEndOfWrapping(u)?this.width:this.getLineWidth(u)||5;else if(u===h)if(0===l)v=this.__charBounds[h][l].left;else{var m=this._getWidthOfCharSpacing();v=this.__charBounds[h][l-1].left+this.__charBounds[h][l-1].width-m}f=g,(this.lineHeight<1||u===h&&this.lineHeight>1)&&(g/=this.lineHeight),this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",e.fillRect(t.left+d+p,t.top+t.topOffset+g,v-p,1)):(e.fillStyle=this.selectionColor,e.fillRect(t.left+d+p,t.top+t.topOffset,v-p,g)),t.topOffset+=f}},getCurrentCharFontSize:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fontSize")},getCurrentCharColor:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fill")},_getCurrentCharIndex:function(){var t=this.get2DCursorLocation(this.selectionStart,!0),e=t.charIndex>0?t.charIndex-1:0;return{l:t.lineIndex,c:e}}}),w.IText.fromObject=function(e,i){if(t(e),e.styles)for(var r in e.styles)for(var n in e.styles[r])t(e.styles[r][n]);w.Object._fromObject("IText",e,i,"text")}}(),x=w.util.object.clone,w.util.object.extend(w.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var t=this;this.on("added",(function(){var e=t.canvas;e&&(e._hasITextHandlers||(e._hasITextHandlers=!0,t._initCanvasHandlers(e)),e._iTextInstances=e._iTextInstances||[],e._iTextInstances.push(t))}))},initRemovedHandler:function(){var t=this;this.on("removed",(function(){var e=t.canvas;e&&(e._iTextInstances=e._iTextInstances||[],w.util.removeFromArray(e._iTextInstances,t),0===e._iTextInstances.length&&(e._hasITextHandlers=!1,t._removeCanvasHandlers(e)))}))},_initCanvasHandlers:function(t){t._mouseUpITextHandler=function(){t._iTextInstances&&t._iTextInstances.forEach((function(t){t.__isMousedown=!1}))},t.on("mouse:up",t._mouseUpITextHandler)},_removeCanvasHandlers:function(t){t.off("mouse:up",t._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(t,e,i,r){var n;return n={isAborted:!1,abort:function(){this.isAborted=!0}},t.animate("_currentCursorOpacity",e,{duration:i,onComplete:function(){n.isAborted||t[r]()},onChange:function(){t.canvas&&t.selectionStart===t.selectionEnd&&t.renderCursorOrSelection()},abort:function(){return n.isAborted}}),n},_onTickComplete:function(){var t=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout((function(){t._currentTickCompleteState=t._animateCursor(t,0,this.cursorDuration/2,"_tick")}),100)},initDelayedCursor:function(t){var e=this,i=t?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout((function(){e._tick()}),i)},abortCursorAnimation:function(){var t=this._currentTickState||this._currentTickCompleteState,e=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,t&&e&&e.clearContext(e.contextTop||e.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(t){var e=0,i=t-1;if(this._reSpace.test(this._text[i]))for(;this._reSpace.test(this._text[i]);)e++,i--;for(;/\S/.test(this._text[i])&&i>-1;)e++,i--;return t-e},findWordBoundaryRight:function(t){var e=0,i=t;if(this._reSpace.test(this._text[i]))for(;this._reSpace.test(this._text[i]);)e++,i++;for(;/\S/.test(this._text[i])&&i<this._text.length;)e++,i++;return t+e},findLineBoundaryLeft:function(t){for(var e=0,i=t-1;!/\n/.test(this._text[i])&&i>-1;)e++,i--;return t-e},findLineBoundaryRight:function(t){for(var e=0,i=t;!/\n/.test(this._text[i])&&i<this._text.length;)e++,i++;return t+e},searchWordBoundary:function(t,e){for(var i=this._text,r=this._reSpace.test(i[t])?t-1:t,n=i[r],s=w.reNonWord;!s.test(n)&&r>0&&r<i.length;)n=i[r+=e];return s.test(n)&&(r+=1===e?0:1),r},selectWord:function(t){t=t||this.selectionStart;var e=this.searchWordBoundary(t,-1),i=this.searchWordBoundary(t,1);this.selectionStart=e,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(t){t=t||this.selectionStart;var e=this.findLineBoundaryLeft(t),i=this.findLineBoundaryRight(t);return this.selectionStart=e,this.selectionEnd=i,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(t){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(t),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(t){t._iTextInstances&&t._iTextInstances.forEach((function(t){t.selected=!1,t.isEditing&&t.exitEditing()}))},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(t){if(this.__isMousedown&&this.isEditing){var e=this.getSelectionStartFromPointer(t.e),i=this.selectionStart,r=this.selectionEnd;(e===this.__selectionStartOnMouseDown&&i!==r||i!==e&&r!==e)&&(e>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=e):(this.selectionStart=e,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===i&&this.selectionEnd===r||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(t,e,i){var r=i.slice(0,t),n=w.util.string.graphemeSplit(r).length;if(t===e)return{selectionStart:n,selectionEnd:n};var s=i.slice(t,e);return{selectionStart:n,selectionEnd:n+w.util.string.graphemeSplit(s).length}},fromGraphemeToStringSelection:function(t,e,i){var r=i.slice(0,t).join("").length;return t===e?{selectionStart:r,selectionEnd:r}:{selectionStart:r,selectionEnd:r+i.slice(t,e).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var t=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=t.selectionStart,this.hiddenTextarea.selectionEnd=t.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var t=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=t.selectionEnd,this.inCompositionMode||(this.selectionStart=t.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var t=this._calcTextareaPosition();this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var t=this.inCompositionMode?this.compositionStart:this.selectionStart,e=this._getCursorBoundaries(t),i=this.get2DCursorLocation(t),r=i.lineIndex,n=i.charIndex,s=this.getValueOfPropertyAt(r,n,"fontSize")*this.lineHeight,o=e.leftOffset,a=this.calcTransformMatrix(),h={x:e.left+o,y:e.top+e.topOffset+s},c=this.canvas.getRetinaScaling(),l=this.canvas.upperCanvasEl,u=l.width/c,f=l.height/c,d=u-s,g=f-s,p=l.clientWidth/u,v=l.clientHeight/f;return h=w.util.transformPoint(h,a),(h=w.util.transformPoint(h,this.canvas.viewportTransform)).x*=p,h.y*=v,h.x<0&&(h.x=0),h.x>d&&(h.x=d),h.y<0&&(h.y=0),h.y>g&&(h.y=g),h.x+=this.canvas._offset.left,h.y+=this.canvas._offset.top,{left:h.x+"px",top:h.y+"px",fontSize:s+"px",charHeight:s}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var t=this._textBeforeEdit!==this.text;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,this.hiddenTextarea&&(this.hiddenTextarea.blur&&this.hiddenTextarea.blur(),this.canvas&&this.hiddenTextarea.parentNode.removeChild(this.hiddenTextarea),this.hiddenTextarea=null),this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),t&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),t&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var t in this.styles)this._textLines[t]||delete this.styles[t]},removeStyleFromTo:function(t,e){var i,r,n=this.get2DCursorLocation(t,!0),s=this.get2DCursorLocation(e,!0),o=n.lineIndex,a=n.charIndex,h=s.lineIndex,c=s.charIndex;if(o!==h){if(this.styles[o])for(i=a;i<this._unwrappedTextLines[o].length;i++)delete this.styles[o][i];if(this.styles[h])for(i=c;i<this._unwrappedTextLines[h].length;i++)(r=this.styles[h][i])&&(this.styles[o]||(this.styles[o]={}),this.styles[o][a+i-c]=r);for(i=o+1;i<=h;i++)delete this.styles[i];this.shiftLineStyles(h,o-h)}else if(this.styles[o]){r=this.styles[o];var l,u,f=c-a;for(i=a;i<c;i++)delete r[i];for(u in this.styles[o])(l=parseInt(u,10))>=c&&(r[l-f]=r[u],delete r[u])}},shiftLineStyles:function(t,e){var i=x(this.styles);for(var r in this.styles){var n=parseInt(r,10);n>t&&(this.styles[n+e]=i[n],i[n-e]||delete this.styles[n])}},restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(t,e,i,r){var n,s={},o=!1;for(var a in i||(i=1),this.shiftLineStyles(t,i),this.styles[t]&&(n=this.styles[t][0===e?e:e-1]),this.styles[t]){var h=parseInt(a,10);h>=e&&(o=!0,s[h-e]=this.styles[t][a],delete this.styles[t][a])}for(o?this.styles[t+i]=s:delete this.styles[t+i];i>1;)i--,r&&r[i]?this.styles[t+i]={0:x(r[i])}:n?this.styles[t+i]={0:x(n)}:delete this.styles[t+i];this._forceClearCache=!0},insertCharStyleObject:function(t,e,i,r){this.styles||(this.styles={});var n=this.styles[t],s=n?x(n):{};for(var o in i||(i=1),s){var a=parseInt(o,10);a>=e&&(n[a+i]=s[a],s[a-i]||delete n[a])}if(this._forceClearCache=!0,r)for(;i--;)Object.keys(r[i]).length&&(this.styles[t]||(this.styles[t]={}),this.styles[t][e+i]=x(r[i]));else if(n)for(var h=n[e?e-1:1];h&&i--;)this.styles[t][e+i]=x(h)},insertNewStyleBlock:function(t,e,i){for(var r=this.get2DCursorLocation(e,!0),n=[0],s=0,o=0;o<t.length;o++)"\n"===t[o]?n[++s]=0:n[s]++;for(n[0]>0&&(this.insertCharStyleObject(r.lineIndex,r.charIndex,n[0],i),i=i&&i.slice(n[0]+1)),s&&this.insertNewlineStyleObject(r.lineIndex,r.charIndex+n[0],s),o=1;o<s;o++)n[o]>0?this.insertCharStyleObject(r.lineIndex+o,0,n[o],i):i&&(this.styles[r.lineIndex+o][0]=i[0]),i=i&&i.slice(n[o]+1);n[o]>0&&this.insertCharStyleObject(r.lineIndex+o,0,n[o],i)},setSelectionStartEndWithShift:function(t,e,i){i<=t?(e===t?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=t),this.selectionStart=i):i>t&&i<e?"right"===this._selectionDirection?this.selectionEnd=i:this.selectionStart=i:(e===t?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=e),this.selectionEnd=i)},setSelectionInBoundaries:function(){var t=this.text.length;this.selectionStart>t?this.selectionStart=t:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>t?this.selectionEnd=t:this.selectionEnd<0&&(this.selectionEnd=0)}}),w.util.object.extend(w.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(t){if(this.canvas){this.__newClickTime=+new Date;var e=t.pointer;this.isTripleClick(e)&&(this.fire("tripleclick",t),this._stopEvent(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y},_stopEvent:function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(t){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(t.e))},tripleClickHandler:function(t){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(t.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(t){!this.canvas||!this.editable||t.e.button&&1!==t.e.button||(this.__isMousedown=!0,this.selected&&this.setCursorByClick(t.e),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(t){!this.canvas||!this.editable||t.e.button&&1!==t.e.button||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(t){if(this.__isMousedown=!1,!(!this.editable||this.group||t.transform&&t.transform.actionPerformed||t.e.button&&1!==t.e.button)){if(this.canvas){var e=this.canvas._activeObject;if(e&&e!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(t.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(t){var e=this.getSelectionStartFromPointer(t),i=this.selectionStart,r=this.selectionEnd;t.shiftKey?this.setSelectionStartEndWithShift(i,r,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(t){for(var e=this.getLocalPointer(t),i=0,r=0,n=0,s=0,o=0,a=0,h=this._textLines.length;a<h&&n<=e.y;a++)n+=this.getHeightOfLine(a)*this.scaleY,o=a,a>0&&(s+=this._textLines[a-1].length+this.missingNewlineOffset(a-1));r=this._getLineLeftOffset(o)*this.scaleX;for(var c=0,l=this._textLines[o].length;c<l&&(i=r,(r+=this.__charBounds[o][c].kernedWidth*this.scaleX)<=e.x);c++)s++;return this._getNewSelectionStartFromOffset(e,i,r,s,l)},_getNewSelectionStartFromOffset:function(t,e,i,r,n){var s=t.x-e,o=i-t.x,a=r+(o>s||o<0?0:1);return this.flipX&&(a=n-a),a>this._text.length&&(a=this._text.length),a}}),w.util.object.extend(w.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=w.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var t=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+t.top+"; left: "+t.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; paddingtop: "+t.fontSize+";",w.document.body.appendChild(this.hiddenTextarea),w.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),w.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),w.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),w.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),w.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),w.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),w.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),w.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),w.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(w.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(t){if(this.isEditing&&!this.inCompositionMode){if(t.keyCode in this.keysMap)this[this.keysMap[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown)||!t.ctrlKey&&!t.metaKey)return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),t.keyCode>=33&&t.keyCode<=40?(this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(t){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(t){var e=this.fromPaste;if(this.fromPaste=!1,t&&t.stopPropagation(),this.isEditing){var i,r,n=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,s=this._text.length,o=n.length,a=o-s;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var h=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),c=this.selectionStart>h.selectionStart;this.selectionStart!==this.selectionEnd?(i=this._text.slice(this.selectionStart,this.selectionEnd),a+=this.selectionEnd-this.selectionStart):o<s&&(i=c?this._text.slice(this.selectionEnd+a,this.selectionEnd):this._text.slice(this.selectionStart,this.selectionStart-a)),r=n.slice(h.selectionEnd-a,h.selectionEnd),i&&i.length&&(this.selectionStart!==this.selectionEnd?this.removeStyleFromTo(this.selectionStart,this.selectionEnd):c?this.removeStyleFromTo(this.selectionEnd-i.length,this.selectionEnd):this.removeStyleFromTo(this.selectionEnd,this.selectionEnd+i.length)),r.length&&(e&&r.join("")===w.copiedText&&!w.disableStyleCopyPaste?this.insertNewStyleBlock(r,this.selectionStart,w.copiedTextStyle):this.insertNewStyleBlock(r,this.selectionStart)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(t){this.compositionStart=t.target.selectionStart,this.compositionEnd=t.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(w.copiedText=this.getSelectedText(),w.disableStyleCopyPaste?w.copiedTextStyle=null:w.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(t){return t&&t.clipboardData||w.window.clipboardData},_getWidthBeforeCursor:function(t,e){var i,r=this._getLineLeftOffset(t);return e>0&&(r+=(i=this.__charBounds[t][e-1]).left+i.width),r},getDownCursorOffset:function(t,e){var i=this._getSelectionForOffset(t,e),r=this.get2DCursorLocation(i),n=r.lineIndex;if(n===this._textLines.length-1||t.metaKey||34===t.keyCode)return this._text.length-i;var s=r.charIndex,o=this._getWidthBeforeCursor(n,s),a=this._getIndexOnLine(n+1,o);return this._textLines[n].slice(s).length+a+1+this.missingNewlineOffset(n)},_getSelectionForOffset:function(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(t,e){var i=this._getSelectionForOffset(t,e),r=this.get2DCursorLocation(i),n=r.lineIndex;if(0===n||t.metaKey||33===t.keyCode)return-i;var s=r.charIndex,o=this._getWidthBeforeCursor(n,s),a=this._getIndexOnLine(n-1,o),h=this._textLines[n].slice(0,s),c=this.missingNewlineOffset(n-1);return-this._textLines[n-1].length+a-h.length+(1-c)},_getIndexOnLine:function(t,e){for(var i,r,n=this._textLines[t],s=this._getLineLeftOffset(t),o=0,a=0,h=n.length;a<h;a++)if((s+=i=this.__charBounds[t][a].width)>e){r=!0;var c=s-i,l=s,u=Math.abs(c-e);o=Math.abs(l-e)<u?a:a-1;break}return r||(o=n.length-1),o},moveCursorDown:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",t)},moveCursorUp:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",t)},_moveCursorUpOrDown:function(t,e){var i=this["get"+t+"CursorOffset"](e,"right"===this._selectionDirection);e.shiftKey?this.moveCursorWithShift(i):this.moveCursorWithoutShift(i),0!==i&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(t){var e="left"===this._selectionDirection?this.selectionStart+t:this.selectionEnd+t;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e),0!==t},moveCursorWithoutShift:function(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),0!==t},moveCursorLeft:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",t)},_move:function(t,e,i){var r;if(t.altKey)r=this["findWordBoundary"+i](this[e]);else{if(!t.metaKey&&35!==t.keyCode&&36!==t.keyCode)return this[e]+="Left"===i?-1:1,!0;r=this["findLineBoundary"+i](this[e])}if(void 0!==typeof r&&this[e]!==r)return this[e]=r,!0},_moveLeft:function(t,e){return this._move(t,e,"Left")},_moveRight:function(t,e){return this._move(t,e,"Right")},moveCursorLeftWithoutShift:function(t){var e=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(e=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,e},moveCursorLeftWithShift:function(t){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(t,"selectionStart")):void 0},moveCursorRight:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",t)},_moveCursorLeftOrRight:function(t,e){var i="moveCursor"+t+"With";this._currentCursorOpacity=1,e.shiftKey?i+="Shift":i+="outShift",this[i](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(t){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(t,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(t){var e=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(e=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e},removeChars:function(t,e){void 0===e&&(e=t+1),this.removeStyleFromTo(t,e),this._text.splice(t,e-t),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(t,e,i,r){void 0===r&&(r=i),r>i&&this.removeStyleFromTo(i,r);var n=w.util.string.graphemeSplit(t);this.insertNewStyleBlock(n,i,e),this._text=[].concat(this._text.slice(0,i),n,this._text.slice(r)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),C=w.util.toFixed,S=/  +/g,w.util.object.extend(w.Text.prototype,{_toSVG:function(){var t=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(t.textTop,t.textLeft);return this._wrapSVGTextAndBg(e)},toSVG:function(t){return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(t){var e=this.getSvgTextDecoration(this);return[t.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",e?'text-decoration="'+e+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",t.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(t,e){var i,r=[],n=[],s=t;this._setSVGBg(n);for(var o=0,a=this._textLines.length;o<a;o++)i=this._getLineLeftOffset(o),(this.textBackgroundColor||this.styleHas("textBackgroundColor",o))&&this._setSVGTextLineBg(n,o,e+i,s),this._setSVGTextLineText(r,o,e+i,s),s+=this.getHeightOfLine(o);return{textSpans:r,textBgRects:n}},_createTextCharSpan:function(t,e,i,r){var n=t!==t.trim()||t.match(S),s=this.getSvgSpanStyles(e,n),o=s?'style="'+s+'"':"",a=e.deltaY,h="",c=w.Object.NUM_FRACTION_DIGITS;return a&&(h=' dy="'+C(a,c)+'" '),['<tspan x="',C(i,c),'" y="',C(r,c),'" ',h,o,">",w.util.string.escapeXml(t),"</tspan>"].join("")},_setSVGTextLineText:function(t,e,i,r){var n,s,o,a,h,c=this.getHeightOfLine(e),l=-1!==this.textAlign.indexOf("justify"),u="",f=0,d=this._textLines[e];r+=c*(1-this._fontSizeFraction)/this.lineHeight;for(var g=0,p=d.length-1;g<=p;g++)h=g===p||this.charSpacing,u+=d[g],o=this.__charBounds[e][g],0===f?(i+=o.kernedWidth-o.width,f+=o.width):f+=o.kernedWidth,l&&!h&&this._reSpaceAndTab.test(d[g])&&(h=!0),h||(n=n||this.getCompleteStyleDeclaration(e,g),s=this.getCompleteStyleDeclaration(e,g+1),h=this._hasStyleChangedForSvg(n,s)),h&&(a=this._getStyleDeclaration(e,g)||{},t.push(this._createTextCharSpan(u,a,i,r)),u="",n=s,i+=f,f=0)},_pushTextBgRect:function(t,e,i,r,n,s){var o=w.Object.NUM_FRACTION_DIGITS;t.push("\t\t<rect ",this._getFillAttributes(e),' x="',C(i,o),'" y="',C(r,o),'" width="',C(n,o),'" height="',C(s,o),'"></rect>\n')},_setSVGTextLineBg:function(t,e,i,r){for(var n,s,o=this._textLines[e],a=this.getHeightOfLine(e)/this.lineHeight,h=0,c=0,l=this.getValueOfPropertyAt(e,0,"textBackgroundColor"),u=0,f=o.length;u<f;u++)n=this.__charBounds[e][u],(s=this.getValueOfPropertyAt(e,u,"textBackgroundColor"))!==l?(l&&this._pushTextBgRect(t,l,i+c,r,h,a),c=n.left,h=n.width,l=s):h+=n.kernedWidth;s&&this._pushTextBgRect(t,s,i+c,r,h,a)},_getFillAttributes:function(t){var e=t&&"string"==typeof t?new w.Color(t):"";return e&&e.getSource()&&1!==e.getAlpha()?'opacity="'+e.getAlpha()+'" fill="'+e.setAlpha(1).toRgb()+'"':'fill="'+t+'"'},_getSVGLineTopOffset:function(t){for(var e,i=0,r=0;r<t;r++)i+=this.getHeightOfLine(r);return e=this.getHeightOfLine(r),{lineTop:i,offset:(this._fontSizeMult-this._fontSizeFraction)*e/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(t){return w.Object.prototype.getSvgStyles.call(this,t)+" white-space: pre;"}}),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Textbox=e.util.createClass(e.IText,e.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:e.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(t){for(var e=0,i=0,r=0,n={},s=0;s<t.graphemeLines.length;s++)"\n"===t.graphemeText[r]&&s>0?(i=0,r++,e++):!this.splitByGrapheme&&this._reSpaceAndTab.test(t.graphemeText[r])&&s>0&&(i++,r++),n[s]={line:e,offset:i},r+=t.graphemeLines[s].length,i+=t.graphemeLines[s].length;return n},styleHas:function(t,i){if(this._styleMap&&!this.isWrapping){var r=this._styleMap[i];r&&(i=r.line)}return e.Text.prototype.styleHas.call(this,t,i)},isEmptyStyles:function(t){if(!this.styles)return!0;var e,i,r=0,n=!1,s=this._styleMap[t],o=this._styleMap[t+1];for(var a in s&&(t=s.line,r=s.offset),o&&(n=o.line===t,e=o.offset),i=void 0===t?this.styles:{line:this.styles[t]})for(var h in i[a])if(h>=r&&(!n||h<e))for(var c in i[a][h])return!1;return!0},_getStyleDeclaration:function(t,e){if(this._styleMap&&!this.isWrapping){var i=this._styleMap[t];if(!i)return null;t=i.line,e=i.offset+e}return this.callSuper("_getStyleDeclaration",t,e)},_setStyleDeclaration:function(t,e,i){var r=this._styleMap[t];t=r.line,e=r.offset+e,this.styles[t][e]=i},_deleteStyleDeclaration:function(t,e){var i=this._styleMap[t];t=i.line,e=i.offset+e,delete this.styles[t][e]},_getLineStyle:function(t){var e=this._styleMap[t];return!!this.styles[e.line]},_setLineStyle:function(t){var e=this._styleMap[t];this.styles[e.line]={}},_wrapText:function(t,e){var i,r=[];for(this.isWrapping=!0,i=0;i<t.length;i++)r=r.concat(this._wrapLine(t[i],i,e));return this.isWrapping=!1,r},_measureWord:function(t,e,i){var r,n=0;i=i||0;for(var s=0,o=t.length;s<o;s++){n+=this._getGraphemeBox(t[s],e,s+i,r,!0).kernedWidth,r=t[s]}return n},_wrapLine:function(t,i,r,n){var s=0,o=this.splitByGrapheme,a=[],h=[],c=o?e.util.string.graphemeSplit(t):t.split(this._wordJoiners),l="",u=0,f=o?"":" ",d=0,g=0,p=0,v=!0,m=o?0:this._getWidthOfCharSpacing();n=n||0;0===c.length&&c.push([]),r-=n;for(var _=0;_<c.length;_++)l=o?c[_]:e.util.string.graphemeSplit(c[_]),d=this._measureWord(l,i,u),u+=l.length,(s+=g+d-m)>=r&&!v?(a.push(h),h=[],s=d,v=!0):s+=m,v||o||h.push(f),h=h.concat(l),g=this._measureWord([f],i,u),u++,v=!1,d>p&&(p=d);return _&&a.push(h),p+n>this.dynamicMinWidth&&(this.dynamicMinWidth=p-m+n),a},isEndOfWrapping:function(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line},missingNewlineOffset:function(t){return this.splitByGrapheme?this.isEndOfWrapping(t)?1:0:1},_splitTextIntoLines:function(t){for(var i=e.Text.prototype._splitTextIntoLines.call(this,t),r=this._wrapText(i.lines,this.width),n=new Array(r.length),s=0;s<r.length;s++)n[s]=r[s].join("");return i.lines=n,i.graphemeLines=r,i},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var t={};for(var e in this._styleMap)this._textLines[e]&&(t[this._styleMap[e].line]=1);for(var e in this.styles)t[e]||delete this.styles[e]},toObject:function(t){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(t))}}),e.Textbox.fromObject=function(t,i){return e.Object._fromObject("Textbox",t,i,"text")}}(e)}).call(this,i(5).Buffer)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Line=void 0;var r=i(0),n=i(2),s=r.fabric.util.createClass(r.fabric.Rect,{type:"line",components:[],hasControls:!0,initialize:function(t){var e=this;t||(t={}),this.callSuper("initialize",t),this.bodyFill=t.fill||"",t.hasOwnProperty("bodyFill")&&(this.bodyFill=t.bodyFill),this.bodyText=t.text||"",t.hasOwnProperty("bodyText")&&(this.bodyText=t.bodyText),n.Constants.RECT_DISABLED_CONTROLS.forEach((function(t){e.setControlVisible(t,!1)})),this.set("fill","transparent"),this.on({added:this._initComponents,modified:this._setComponentsPosition,scaling:this._setComponentsPosition,moving:this._setComponentsPosition,rotating:this._setComponentsPosition})},_initComponents:function(){this.text=new r.fabric.Text("",{visible:!1}),this.body=new r.fabric.Rect({width:this.width,height:this.height,top:this.top,left:this.left,fill:this.bodyFill}),this.components=[this.text,this.body],this._setupComponents(),this.setText(this.bodyText)},_setupComponents:function(){var t=this;this.components.forEach((function(e){e.set({excludeFromExport:!0,hasControls:!1,selectable:!1}),t.canvas.add(e),e.sendBackwards()}))},_setComponentsPosition:function(){var t=this.height*this.scaleY,e=this.width*this.scaleX,i=this.getBoundingRect();this.text&&this.text.set({top:i.top+.5*(i.height-this.text.height),left:i.left+.5*(i.width-this.text.width)}),this.body.set({top:this.top,left:this.left,width:e,height:t,angle:this.angle})},getComponents:function(){return this.components},setText:function(t){this.bodyText=t,"m"!==t.slice(-1)&&(t+="m"),this.text.set({text:t}),this._setComponentsPosition()},_render:function(t){this.callSuper("_render",t)},clear:function(){this.canvas.remove(this.components)},toObject:function(){return r.fabric.util.object.extend(this.callSuper("toObject"),{bodyFill:this.get("bodyFill"),bodyText:this.get("bodyText")})}});e.Line=s,r.fabric.Line=s,r.fabric.Line.fromObject=function(t,e){return r.fabric.Object._fromObject("Line",t,e)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Constants=void 0;e.Constants={RECT_DISABLED_CONTROLS:["tl","tr","bl","br","mt","mb"]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Arrowline",{enumerable:!0,get:function(){return r.Arrowline}}),Object.defineProperty(e,"Canvas",{enumerable:!0,get:function(){return n.Canvas}}),Object.defineProperty(e,"Line",{enumerable:!0,get:function(){return s.Line}}),Object.defineProperty(e,"Constants",{enumerable:!0,get:function(){return o.Constants}});var r=i(4),n=i(13),s=i(1),o=i(2)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Arrowline=void 0;var r=i(0),n=i(1),s=r.fabric.util.createClass(n.Line,{type:"arrowline",_initComponents:function(){this.text=new r.fabric.Text(this.bodyText,{backgroundColor:"white"}),this.body=new r.fabric.Rect({fill:this.bodyFill}),this.leftTriangle=new r.fabric.Triangle({fill:this.bodyFill}),this.rightTriangle=new r.fabric.Triangle({fill:this.bodyFill}),this._setComponentsPosition(),this.components=[this.body,this.leftTriangle,this.rightTriangle,this.text],this._setupComponents(),this.setText(this.bodyText)},_setComponentsPosition:function(){var t=Math.PI/180,e=this.height*this.scaleY,i=this.width*this.scaleX,r=Math.cos(this.angle*t),n=Math.sin(this.angle*t),s=this.getBoundingRect();this.text.set({top:s.top+.5*(s.height-this.text.height),left:s.left+.5*(s.width-this.text.width),fontSize:18}),this.body.set({top:this.top+e*n+e/4*r,left:this.left+e*r-e/4*n,width:i-2*e,height:e/2,angle:this.angle}),this.leftTriangle.set({top:this.top+e*r,left:this.left-e*n,width:e,height:e,angle:this.angle-90}),this.rightTriangle.set({top:this.top+i*n,left:this.left+i*r,width:e,height:e,angle:this.angle+90})}});e.Arrowline=s,r.fabric.Arrowline=s,r.fabric.Arrowline.fromObject=function(t,e){return r.fabric.Object._fromObject("Arrowline",t,e)}},function(t,e,i){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=i(7),n=i(8),s=i(9);function o(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return h.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=h.prototype:(null===t&&(t=new h(e)),t.length=e),t}function h(t,e,i){if(!(h.TYPED_ARRAY_SUPPORT||this instanceof h))return new h(t,e,i);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}return c(this,t,e,i)}function c(t,e,i,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,i,r){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===i&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,i):new Uint8Array(e,i,r);h.TYPED_ARRAY_SUPPORT?(t=e).__proto__=h.prototype:t=f(t,e);return t}(t,e,i,r):"string"==typeof e?function(t,e,i){"string"==typeof i&&""!==i||(i="utf8");if(!h.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var r=0|g(e,i),n=(t=a(t,r)).write(e,i);n!==r&&(t=t.slice(0,n));return t}(t,e,i):function(t,e){if(h.isBuffer(e)){var i=0|d(e.length);return 0===(t=a(t,i)).length||e.copy(t,0,0,i),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?a(t,0):f(t,e);if("Buffer"===e.type&&s(e.data))return f(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e){if(l(e),t=a(t,e<0?0:0|d(e)),!h.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function f(t,e){var i=e.length<0?0:0|d(e.length);t=a(t,i);for(var r=0;r<i;r+=1)t[r]=255&e[r];return t}function d(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function g(t,e){if(h.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return X(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return U(t).length;default:if(r)return X(t).length;e=(""+e).toLowerCase(),r=!0}}function p(t,e,i){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return E(this,e,i);case"utf8":case"utf-8":return O(this,e,i);case"ascii":return P(this,e,i);case"latin1":case"binary":return k(this,e,i);case"base64":return T(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,i);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function v(t,e,i){var r=t[e];t[e]=t[i],t[i]=r}function m(t,e,i,r,n){if(0===t.length)return-1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=n?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(n)return-1;i=t.length-1}else if(i<0){if(!n)return-1;i=0}if("string"==typeof e&&(e=h.from(e,r)),h.isBuffer(e))return 0===e.length?-1:_(t,e,i,r,n);if("number"==typeof e)return e&=255,h.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):_(t,[e],i,r,n);throw new TypeError("val must be string, number or Buffer")}function _(t,e,i,r,n){var s,o=1,a=t.length,h=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o=2,a/=2,h/=2,i/=2}function c(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(n){var l=-1;for(s=i;s<a;s++)if(c(t,s)===c(e,-1===l?0:s-l)){if(-1===l&&(l=s),s-l+1===h)return l*o}else-1!==l&&(s-=s-l),l=-1}else for(i+h>a&&(i=a-h),s=i;s>=0;s--){for(var u=!0,f=0;f<h;f++)if(c(t,s+f)!==c(e,f)){u=!1;break}if(u)return s}return-1}function y(t,e,i,r){i=Number(i)||0;var n=t.length-i;r?(r=Number(r))>n&&(r=n):r=n;var s=e.length;if(s%2!=0)throw new TypeError("Invalid hex string");r>s/2&&(r=s/2);for(var o=0;o<r;++o){var a=parseInt(e.substr(2*o,2),16);if(isNaN(a))return o;t[i+o]=a}return o}function b(t,e,i,r){return W(X(e,t.length-i),t,i,r)}function x(t,e,i,r){return W(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,r)}function C(t,e,i,r){return x(t,e,i,r)}function S(t,e,i,r){return W(U(e),t,i,r)}function w(t,e,i,r){return W(function(t,e){for(var i,r,n,s=[],o=0;o<t.length&&!((e-=2)<0);++o)i=t.charCodeAt(o),r=i>>8,n=i%256,s.push(n),s.push(r);return s}(e,t.length-i),t,i,r)}function T(t,e,i){return 0===e&&i===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,i))}function O(t,e,i){i=Math.min(t.length,i);for(var r=[],n=e;n<i;){var s,o,a,h,c=t[n],l=null,u=c>239?4:c>223?3:c>191?2:1;if(n+u<=i)switch(u){case 1:c<128&&(l=c);break;case 2:128==(192&(s=t[n+1]))&&(h=(31&c)<<6|63&s)>127&&(l=h);break;case 3:s=t[n+1],o=t[n+2],128==(192&s)&&128==(192&o)&&(h=(15&c)<<12|(63&s)<<6|63&o)>2047&&(h<55296||h>57343)&&(l=h);break;case 4:s=t[n+1],o=t[n+2],a=t[n+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&(h=(15&c)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&h<1114112&&(l=h)}null===l?(l=65533,u=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),n+=u}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var i="",r=0;for(;r<e;)i+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return i}(r)}e.Buffer=h,e.SlowBuffer=function(t){+t!=t&&(t=0);return h.alloc(+t)},e.INSPECT_MAX_BYTES=50,h.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=o(),h.poolSize=8192,h._augment=function(t){return t.__proto__=h.prototype,t},h.from=function(t,e,i){return c(null,t,e,i)},h.TYPED_ARRAY_SUPPORT&&(h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0})),h.alloc=function(t,e,i){return function(t,e,i,r){return l(e),e<=0?a(t,e):void 0!==i?"string"==typeof r?a(t,e).fill(i,r):a(t,e).fill(i):a(t,e)}(null,t,e,i)},h.allocUnsafe=function(t){return u(null,t)},h.allocUnsafeSlow=function(t){return u(null,t)},h.isBuffer=function(t){return!(null==t||!t._isBuffer)},h.compare=function(t,e){if(!h.isBuffer(t)||!h.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,r=e.length,n=0,s=Math.min(i,r);n<s;++n)if(t[n]!==e[n]){i=t[n],r=e[n];break}return i<r?-1:r<i?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,e){if(!s(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var r=h.allocUnsafe(e),n=0;for(i=0;i<t.length;++i){var o=t[i];if(!h.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,n),n+=o.length}return r},h.byteLength=g,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},h.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},h.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},h.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):p.apply(this,arguments)},h.prototype.equals=function(t){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===h.compare(this,t)},h.prototype.inspect=function(){var t="",i=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},h.prototype.compare=function(t,e,i,r,n){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===r&&(r=0),void 0===n&&(n=this.length),e<0||i>t.length||r<0||n>this.length)throw new RangeError("out of range index");if(r>=n&&e>=i)return 0;if(r>=n)return-1;if(e>=i)return 1;if(this===t)return 0;for(var s=(n>>>=0)-(r>>>=0),o=(i>>>=0)-(e>>>=0),a=Math.min(s,o),c=this.slice(r,n),l=t.slice(e,i),u=0;u<a;++u)if(c[u]!==l[u]){s=c[u],o=l[u];break}return s<o?-1:o<s?1:0},h.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},h.prototype.indexOf=function(t,e,i){return m(this,t,e,i,!0)},h.prototype.lastIndexOf=function(t,e,i){return m(this,t,e,i,!1)},h.prototype.write=function(t,e,i,r){if(void 0===e)r="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)r=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===r&&(r="utf8")):(r=i,i=void 0)}var n=this.length-e;if((void 0===i||i>n)&&(i=n),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var s=!1;;)switch(r){case"hex":return y(this,t,e,i);case"utf8":case"utf-8":return b(this,t,e,i);case"ascii":return x(this,t,e,i);case"latin1":case"binary":return C(this,t,e,i);case"base64":return S(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,t,e,i);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),s=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(t,e,i){var r="";i=Math.min(t.length,i);for(var n=e;n<i;++n)r+=String.fromCharCode(127&t[n]);return r}function k(t,e,i){var r="";i=Math.min(t.length,i);for(var n=e;n<i;++n)r+=String.fromCharCode(t[n]);return r}function E(t,e,i){var r=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>r)&&(i=r);for(var n="",s=e;s<i;++s)n+=Y(t[s]);return n}function A(t,e,i){for(var r=t.slice(e,i),n="",s=0;s<r.length;s+=2)n+=String.fromCharCode(r[s]+256*r[s+1]);return n}function D(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function j(t,e,i,r,n,s){if(!h.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(i+r>t.length)throw new RangeError("Index out of range")}function M(t,e,i,r){e<0&&(e=65535+e+1);for(var n=0,s=Math.min(t.length-i,2);n<s;++n)t[i+n]=(e&255<<8*(r?n:1-n))>>>8*(r?n:1-n)}function F(t,e,i,r){e<0&&(e=4294967295+e+1);for(var n=0,s=Math.min(t.length-i,4);n<s;++n)t[i+n]=e>>>8*(r?n:3-n)&255}function I(t,e,i,r,n,s){if(i+r>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function R(t,e,i,r,s){return s||I(t,0,i,4),n.write(t,e,i,r,23,4),i+4}function L(t,e,i,r,s){return s||I(t,0,i,8),n.write(t,e,i,r,52,8),i+8}h.prototype.slice=function(t,e){var i,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),h.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=h.prototype;else{var n=e-t;i=new h(n,void 0);for(var s=0;s<n;++s)i[s]=this[s+t]}return i},h.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||D(t,e,this.length);for(var r=this[t],n=1,s=0;++s<e&&(n*=256);)r+=this[t+s]*n;return r},h.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||D(t,e,this.length);for(var r=this[t+--e],n=1;e>0&&(n*=256);)r+=this[t+--e]*n;return r},h.prototype.readUInt8=function(t,e){return e||D(t,1,this.length),this[t]},h.prototype.readUInt16LE=function(t,e){return e||D(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUInt16BE=function(t,e){return e||D(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUInt32LE=function(t,e){return e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h.prototype.readUInt32BE=function(t,e){return e||D(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||D(t,e,this.length);for(var r=this[t],n=1,s=0;++s<e&&(n*=256);)r+=this[t+s]*n;return r>=(n*=128)&&(r-=Math.pow(2,8*e)),r},h.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||D(t,e,this.length);for(var r=e,n=1,s=this[t+--r];r>0&&(n*=256);)s+=this[t+--r]*n;return s>=(n*=128)&&(s-=Math.pow(2,8*e)),s},h.prototype.readInt8=function(t,e){return e||D(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},h.prototype.readInt16LE=function(t,e){e||D(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},h.prototype.readInt16BE=function(t,e){e||D(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},h.prototype.readInt32LE=function(t,e){return e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,e){return e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readFloatLE=function(t,e){return e||D(t,4,this.length),n.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,e){return e||D(t,4,this.length),n.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,e){return e||D(t,8,this.length),n.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,e){return e||D(t,8,this.length),n.read(this,t,!1,52,8)},h.prototype.writeUIntLE=function(t,e,i,r){(t=+t,e|=0,i|=0,r)||j(this,t,e,i,Math.pow(2,8*i)-1,0);var n=1,s=0;for(this[e]=255&t;++s<i&&(n*=256);)this[e+s]=t/n&255;return e+i},h.prototype.writeUIntBE=function(t,e,i,r){(t=+t,e|=0,i|=0,r)||j(this,t,e,i,Math.pow(2,8*i)-1,0);var n=i-1,s=1;for(this[e+n]=255&t;--n>=0&&(s*=256);)this[e+n]=t/s&255;return e+i},h.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||j(this,t,e,1,255,0),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},h.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||j(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},h.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||j(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},h.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||j(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):F(this,t,e,!0),e+4},h.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||j(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},h.prototype.writeIntLE=function(t,e,i,r){if(t=+t,e|=0,!r){var n=Math.pow(2,8*i-1);j(this,t,e,i,n-1,-n)}var s=0,o=1,a=0;for(this[e]=255&t;++s<i&&(o*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+i},h.prototype.writeIntBE=function(t,e,i,r){if(t=+t,e|=0,!r){var n=Math.pow(2,8*i-1);j(this,t,e,i,n-1,-n)}var s=i-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+i},h.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||j(this,t,e,1,127,-128),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},h.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||j(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},h.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||j(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},h.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||j(this,t,e,4,2147483647,-2147483648),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):F(this,t,e,!0),e+4},h.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||j(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},h.prototype.writeFloatLE=function(t,e,i){return R(this,t,e,!0,i)},h.prototype.writeFloatBE=function(t,e,i){return R(this,t,e,!1,i)},h.prototype.writeDoubleLE=function(t,e,i){return L(this,t,e,!0,i)},h.prototype.writeDoubleBE=function(t,e,i){return L(this,t,e,!1,i)},h.prototype.copy=function(t,e,i,r){if(i||(i=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<i&&(r=i),r===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-i&&(r=t.length-e+i);var n,s=r-i;if(this===t&&i<e&&e<r)for(n=s-1;n>=0;--n)t[n+e]=this[n+i];else if(s<1e3||!h.TYPED_ARRAY_SUPPORT)for(n=0;n<s;++n)t[n+e]=this[n+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+s),e);return s},h.prototype.fill=function(t,e,i,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),1===t.length){var n=t.charCodeAt(0);n<256&&(t=n)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!h.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var s;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(s=e;s<i;++s)this[s]=t;else{var o=h.isBuffer(t)?t:X(new h(t,r).toString()),a=o.length;for(s=0;s<i-e;++s)this[s+e]=o[s%a]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function Y(t){return t<16?"0"+t.toString(16):t.toString(16)}function X(t,e){var i;e=e||1/0;for(var r=t.length,n=null,s=[],o=0;o<r;++o){if((i=t.charCodeAt(o))>55295&&i<57344){if(!n){if(i>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(e-=3)>-1&&s.push(239,191,189);continue}n=i;continue}if(i<56320){(e-=3)>-1&&s.push(239,191,189),n=i;continue}i=65536+(n-55296<<10|i-56320)}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,i<128){if((e-=1)<0)break;s.push(i)}else if(i<2048){if((e-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function U(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(B,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function W(t,e,i,r){for(var n=0;n<r&&!(n+i>=e.length||n>=t.length);++n)e[n+i]=t[n];return n}}).call(this,i(6))},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";e.byteLength=function(t){var e=c(t),i=e[0],r=e[1];return 3*(i+r)/4-r},e.toByteArray=function(t){var e,i,r=c(t),o=r[0],a=r[1],h=new s(function(t,e,i){return 3*(e+i)/4-i}(0,o,a)),l=0,u=a>0?o-4:o;for(i=0;i<u;i+=4)e=n[t.charCodeAt(i)]<<18|n[t.charCodeAt(i+1)]<<12|n[t.charCodeAt(i+2)]<<6|n[t.charCodeAt(i+3)],h[l++]=e>>16&255,h[l++]=e>>8&255,h[l++]=255&e;2===a&&(e=n[t.charCodeAt(i)]<<2|n[t.charCodeAt(i+1)]>>4,h[l++]=255&e);1===a&&(e=n[t.charCodeAt(i)]<<10|n[t.charCodeAt(i+1)]<<4|n[t.charCodeAt(i+2)]>>2,h[l++]=e>>8&255,h[l++]=255&e);return h},e.fromByteArray=function(t){for(var e,i=t.length,n=i%3,s=[],o=0,a=i-n;o<a;o+=16383)s.push(l(t,o,o+16383>a?a:o+16383));1===n?(e=t[i-1],s.push(r[e>>2]+r[e<<4&63]+"==")):2===n&&(e=(t[i-2]<<8)+t[i-1],s.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return s.join("")};for(var r=[],n=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,h=o.length;a<h;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function l(t,e,i){for(var n,s,o=[],a=e;a<i;a+=3)n=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(r[(s=n)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,i,r,n){var s,o,a=8*n-r-1,h=(1<<a)-1,c=h>>1,l=-7,u=i?n-1:0,f=i?-1:1,d=t[e+u];for(u+=f,s=d&(1<<-l)-1,d>>=-l,l+=a;l>0;s=256*s+t[e+u],u+=f,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=r;l>0;o=256*o+t[e+u],u+=f,l-=8);if(0===s)s=1-c;else{if(s===h)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,r),s-=c}return(d?-1:1)*o*Math.pow(2,s-r)},e.write=function(t,e,i,r,n,s){var o,a,h,c=8*s-n-1,l=(1<<c)-1,u=l>>1,f=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:s-1,g=r?1:-1,p=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-o))<1&&(o--,h*=2),(e+=o+u>=1?f/h:f*Math.pow(2,1-u))*h>=2&&(o++,h/=2),o+u>=l?(a=0,o=l):o+u>=1?(a=(e*h-1)*Math.pow(2,n),o+=u):(a=e*Math.pow(2,u-1)*Math.pow(2,n),o=0));n>=8;t[i+d]=255&a,d+=g,a/=256,n-=8);for(o=o<<n|a,c+=n;c>0;t[i+d]=255&o,d+=g,o/=256,c-=8);t[i+d-g]|=128*p}},function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},function(t,e){},function(t,e){},function(t,e){},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Canvas=void 0;var r=i(0),n=i(1);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){function e(t){var i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))).domElemendId=t,i.scale={value:null,shape:null},i.customBackgroundImage=null,i}var i,s,c;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,t),i=e,(s=[{key:"getImage",value:function(){return this.customBackgroundImage}},{key:"setImage",value:function(t){this.customBackgroundImage=t}},{key:"setImageFromFile",value:function(t){var e=this,i=new FileReader;i.onload=function(){var t=document.createElement("img");t.src=i.result,e.customBackgroundImage=new r.fabric.Image(t),e.customBackgroundImage.scale(e.height/e.customBackgroundImage.height),e.add(e.customBackgroundImage),e.renderAll()},i.readAsDataURL(t)}},{key:"lockImage",value:function(){this.sendToBack(this.customBackgroundImage),this.customBackgroundImage.hasControls=!1,this.customBackgroundImage.selectable=!1,this.customBackgroundImage.hoverCursor="default",this.discardActiveObject(),this.renderAll()}},{key:"_lockObjectsToBoundaries",value:function(){this.on("object:moving",(function(t){var e=t.target;e.currentHeight>this.height||e.currentWidth>this.width||(e.setCoords(),(e.getBoundingRect().top<0||e.getBoundingRect().left<0)&&(e.top=Math.max(e.top,e.top-e.getBoundingRect().top),e.left=Math.max(e.left,e.left-e.getBoundingRect().left)),(e.getBoundingRect().top+e.getBoundingRect().height>this.height||e.getBoundingRect().left+e.getBoundingRect().width>this.width)&&(e.top=Math.min(e.top,this.height-e.getBoundingRect().height+e.top-e.getBoundingRect().top),e.left=Math.min(e.left,this.width-e.getBoundingRect().width+e.left-e.getBoundingRect().left)))}))}},{key:"setScale",value:function(t){t.shape&&(this.scale.shape=t.shape,this.scale.shape.hasControls=!1),t.value&&(this.scale.value=t.value)}},{key:"getScale",value:function(){return this.scale}},{key:"lockScale",value:function(){this.scale.shape.hasControls=!1}},{key:"remove",value:function(t){console.log("biche"),Array.isArray(t)?t.forEach((function(t){t.hasOwnProperty("clear")&&t.clear()})):t.hasOwnProperty("clear")&&t.clear(),this.callSuper("remove",t)}},{key:"clearScale",value:function(){console.log("clear scales ujbjg"),this.scale.shape&&(console.log("clear scale"),this.clear(),this.remove(this.scale.shape))}},{key:"createScaledLine",value:function(t){var e=this.scale.shape.width*this.scale.shape.scaleX/this.scale.value;return t.top=t.top*e,t.left=t.left*e,t.width=t.width*e,t.height=t.stroke*e,new n.Line(t)}}])&&o(i.prototype,s),c&&o(i,c),e}(r.fabric.Canvas);e.Canvas=c}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mYWJyaWNhc2hhcGUvd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovL2ZhYnJpY2FzaGFwZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9mYWJyaWNhc2hhcGUvLi9ub2RlX21vZHVsZXMvZmFicmljL2Rpc3QvZmFicmljLmpzIiwid2VicGFjazovL2ZhYnJpY2FzaGFwZS8uL3NyYy9saW5lLmpzIiwid2VicGFjazovL2ZhYnJpY2FzaGFwZS8uL3NyYy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vZmFicmljYXNoYXBlLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL2ZhYnJpY2FzaGFwZS8uL3NyYy9hcnJvd2xpbmUuanMiLCJ3ZWJwYWNrOi8vZmFicmljYXNoYXBlLy4vbm9kZV9tb2R1bGVzL2J1ZmZlci9pbmRleC5qcyIsIndlYnBhY2s6Ly9mYWJyaWNhc2hhcGUvKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovL2ZhYnJpY2FzaGFwZS8uL25vZGVfbW9kdWxlcy9iYXNlNjQtanMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vZmFicmljYXNoYXBlLy4vbm9kZV9tb2R1bGVzL2llZWU3NTQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vZmFicmljYXNoYXBlLy4vbm9kZV9tb2R1bGVzL2lzYXJyYXkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vZmFicmljYXNoYXBlLy4vc3JjL2NhbnZhcy5qcyJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJkZWZpbmUiLCJhbWQiLCJzZWxmIiwidGhpcyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJnbG9iYWwiLCJzcXJ0IiwiYXRhbjIiLCJwb3ciLCJQaUJ5MTgwIiwiUGlCeTIiLCJjb3VsZFVzZUF0dGFjaEV2ZW50IiwicGFyc2VFbCIsInN1cHBvcnRzT3BhY2l0eSIsInN1cHBvcnRzRmlsdGVycyIsInJlT3BhY2l0eSIsInNldE9wYWNpdHkiLCJwcm90byIsIm1pbiIsIm1heCIsImRlZ3JlZXNUb1JhZGlhbnMiLCJvcmlnaW5YT2Zmc2V0Iiwib3JpZ2luWU9mZnNldCIsImNsb25lIiwidG9GaXhlZCIsIm11bHRpcGxlU3BhY2VzUmVnZXgiLCJmYWJyaWMiLCJ2ZXJzaW9uIiwiZG9jdW1lbnQiLCJ3aW5kb3ciLCJIVE1MRG9jdW1lbnQiLCJEb2N1bWVudCIsImltcGxlbWVudGF0aW9uIiwiY3JlYXRlSFRNTERvY3VtZW50IiwidmlydHVhbFdpbmRvdyIsIkpTRE9NIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZmVhdHVyZXMiLCJGZXRjaEV4dGVybmFsUmVzb3VyY2VzIiwicmVzb3VyY2VzIiwianNkb21JbXBsRm9yV3JhcHBlciIsImltcGxGb3JXcmFwcGVyIiwibm9kZUNhbnZhcyIsIkNhbnZhcyIsIkRPTVBhcnNlciIsImNvcHlHTFRvMkREcmF3SW1hZ2UiLCJnbCIsInBpcGVsaW5lU3RhdGUiLCJnbENhbnZhcyIsImNhbnZhcyIsInRhcmdldENhbnZhcyIsImN0eCIsImdldENvbnRleHQiLCJ0cmFuc2xhdGUiLCJoZWlnaHQiLCJzY2FsZSIsInNvdXJjZVkiLCJkcmF3SW1hZ2UiLCJ3aWR0aCIsImNvcHlHTFRvMkRQdXRJbWFnZURhdGEiLCJkV2lkdGgiLCJkZXN0aW5hdGlvbldpZHRoIiwiZEhlaWdodCIsImRlc3RpbmF0aW9uSGVpZ2h0IiwibnVtQnl0ZXMiLCJ1OCIsIlVpbnQ4QXJyYXkiLCJpbWFnZUJ1ZmZlciIsInU4Q2xhbXBlZCIsIlVpbnQ4Q2xhbXBlZEFycmF5IiwicmVhZFBpeGVscyIsIlJHQkEiLCJVTlNJR05FRF9CWVRFIiwiaW1nRGF0YSIsIkltYWdlRGF0YSIsInB1dEltYWdlRGF0YSIsImlzVG91Y2hTdXBwb3J0ZWQiLCJuYXZpZ2F0b3IiLCJtYXhUb3VjaFBvaW50cyIsImlzTGlrZWx5Tm9kZSIsIkJ1ZmZlciIsIlNIQVJFRF9BVFRSSUJVVEVTIiwiRFBJIiwicmVOdW0iLCJyZVBhdGhDb21tYW5kIiwicmVOb25Xb3JkIiwiZm9udFBhdGhzIiwiaU1hdHJpeCIsInN2Z05TIiwicGVyZkxpbWl0U2l6ZVRvdGFsIiwibWF4Q2FjaGVTaWRlTGltaXQiLCJtaW5DYWNoZVNpZGVMaW1pdCIsImNoYXJXaWR0aHNDYWNoZSIsInRleHR1cmVTaXplIiwiZGlzYWJsZVN0eWxlQ29weVBhc3RlIiwiZW5hYmxlR0xGaWx0ZXJpbmciLCJkZXZpY2VQaXhlbFJhdGlvIiwid2Via2l0RGV2aWNlUGl4ZWxSYXRpbyIsIm1vekRldmljZVBpeGVsUmF0aW8iLCJicm93c2VyU2hhZG93Qmx1ckNvbnN0YW50IiwiYXJjVG9TZWdtZW50c0NhY2hlIiwiYm91bmRzT2ZDdXJ2ZUNhY2hlIiwiY2FjaGVzQm91bmRzT2ZDdXJ2ZSIsImZvcmNlR0xQdXRJbWFnZURhdGEiLCJpbml0RmlsdGVyQmFja2VuZCIsImlzV2ViZ2xTdXBwb3J0ZWQiLCJjb25zb2xlIiwibG9nIiwibWF4VGV4dHVyZVNpemUiLCJXZWJnbEZpbHRlckJhY2tlbmQiLCJ0aWxlU2l6ZSIsIkNhbnZhczJkRmlsdGVyQmFja2VuZCIsIl9yZW1vdmVFdmVudExpc3RlbmVyIiwiZXZlbnROYW1lIiwiaGFuZGxlciIsIl9fZXZlbnRMaXN0ZW5lcnMiLCJldmVudExpc3RlbmVyIiwiaW5kZXhPZiIsInV0aWwiLCJhcnJheSIsImZpbGwiLCJvYnNlcnZlIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicHJvcCIsIm9uIiwicHVzaCIsInN0b3BPYnNlcnZpbmciLCJmaXJlIiwib3B0aW9ucyIsImxpc3RlbmVyc0ZvckV2ZW50IiwibGVuIiwiZmlsdGVyIiwiT2JzZXJ2YWJsZSIsIm9mZiIsInRyaWdnZXIiLCJDb2xsZWN0aW9uIiwiX29iamVjdHMiLCJhZGQiLCJhcHBseSIsIl9vbk9iamVjdEFkZGVkIiwicmVuZGVyT25BZGRSZW1vdmUiLCJyZXF1ZXN0UmVuZGVyQWxsIiwiaW5zZXJ0QXQiLCJpbmRleCIsIm5vblNwbGljaW5nIiwib2JqZWN0cyIsInNwbGljZSIsInJlbW92ZSIsInNvbWV0aGluZ1JlbW92ZWQiLCJfb25PYmplY3RSZW1vdmVkIiwiZm9yRWFjaE9iamVjdCIsImNhbGxiYWNrIiwiY29udGV4dCIsImdldE9iamVjdHMiLCJ0eXBlIiwiY29uY2F0IiwiaXRlbSIsImlzRW1wdHkiLCJzaXplIiwiY29udGFpbnMiLCJjb21wbGV4aXR5IiwicmVkdWNlIiwibWVtbyIsImN1cnJlbnQiLCJDb21tb25NZXRob2RzIiwiX3NldE9wdGlvbnMiLCJzZXQiLCJfaW5pdEdyYWRpZW50IiwiZmlsbGVyIiwiY29sb3JTdG9wcyIsIkdyYWRpZW50IiwiX2luaXRQYXR0ZXJuIiwic291cmNlIiwiUGF0dGVybiIsIl9pbml0Q2xpcHBpbmciLCJjbGlwVG8iLCJmdW5jdGlvbkJvZHkiLCJnZXRGdW5jdGlvbkJvZHkiLCJGdW5jdGlvbiIsIl9zZXRPYmplY3QiLCJvYmoiLCJfc2V0IiwidG9nZ2xlIiwiTWF0aCIsIlBJIiwiY29zIiwiYW5nbGUiLCJzaW4iLCJzaWduIiwicmVtb3ZlRnJvbUFycmF5IiwiaWR4IiwiZ2V0UmFuZG9tSW50IiwiZmxvb3IiLCJyYW5kb20iLCJkZWdyZWVzIiwicmFkaWFuc1RvRGVncmVlcyIsInJhZGlhbnMiLCJyb3RhdGVQb2ludCIsInBvaW50Iiwib3JpZ2luIiwic3VidHJhY3RFcXVhbHMiLCJ2Iiwicm90YXRlVmVjdG9yIiwiUG9pbnQiLCJ4IiwieSIsImFkZEVxdWFscyIsInZlY3RvciIsInRyYW5zZm9ybVBvaW50IiwiaWdub3JlT2Zmc2V0IiwibWFrZUJvdW5kaW5nQm94RnJvbVBvaW50cyIsInBvaW50cyIsInRyYW5zZm9ybSIsInhQb2ludHMiLCJtaW5YIiwieVBvaW50cyIsIm1pblkiLCJsZWZ0IiwidG9wIiwiaW52ZXJ0VHJhbnNmb3JtIiwiYSIsIm51bWJlciIsImZyYWN0aW9uRGlnaXRzIiwicGFyc2VGbG9hdCIsIk51bWJlciIsInBhcnNlVW5pdCIsImZvbnRTaXplIiwidW5pdCIsImV4ZWMiLCJUZXh0IiwiREVGQVVMVF9TVkdfRk9OVF9TSVpFIiwiZmFsc2VGdW5jdGlvbiIsImdldEtsYXNzIiwibmFtZXNwYWNlIiwic3RyaW5nIiwiY2FtZWxpemUiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwicmVzb2x2ZU5hbWVzcGFjZSIsImdldFN2Z0F0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwicGFydHMiLCJzcGxpdCIsImxvYWRJbWFnZSIsInVybCIsImNyb3NzT3JpZ2luIiwiaW1nIiwiY3JlYXRlSW1hZ2UiLCJvbkxvYWRDYWxsYmFjayIsIm9ubG9hZCIsIm9uZXJyb3IiLCJzcmMiLCJzdWJzdHJpbmciLCJsb2FkSW1hZ2VJbkRvbSIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJzdHlsZSIsInBvc2l0aW9uIiwiYXBwZW5kQ2hpbGQiLCJxdWVyeVNlbGVjdG9yIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiZW5saXZlbk9iamVjdHMiLCJyZXZpdmVyIiwiZW5saXZlbmVkT2JqZWN0cyIsIm51bUxvYWRlZE9iamVjdHMiLCJudW1Ub3RhbE9iamVjdHMiLCJvbkxvYWRlZCIsImZvckVhY2giLCJmcm9tT2JqZWN0IiwiZXJyb3IiLCJlbmxpdmVuUGF0dGVybnMiLCJwYXR0ZXJucyIsIm51bUxvYWRlZFBhdHRlcm5zIiwibnVtUGF0dGVybnMiLCJlbmxpdmVuZWRQYXR0ZXJucyIsInBhdHRlcm4iLCJncm91cFNWR0VsZW1lbnRzIiwiZWxlbWVudHMiLCJwYXRoIiwiY2VudGVyUG9pbnQiLCJHcm91cCIsInNvdXJjZVBhdGgiLCJwb3B1bGF0ZVdpdGhQcm9wZXJ0aWVzIiwiZGVzdGluYXRpb24iLCJwcm9wZXJ0aWVzIiwidG9TdHJpbmciLCJkcmF3RGFzaGVkTGluZSIsIngyIiwieTIiLCJkYSIsImR4IiwiZHkiLCJyb3QiLCJkYyIsImRpIiwiZHJhdyIsInNhdmUiLCJtb3ZlVG8iLCJyb3RhdGUiLCJyZXN0b3JlIiwiY3JlYXRlQ2FudmFzRWxlbWVudCIsImNvcHlDYW52YXNFbGVtZW50IiwibmV3Q2FudmFzIiwidG9EYXRhVVJMIiwiY2FudmFzRWwiLCJmb3JtYXQiLCJxdWFsaXR5IiwiY2xpcENvbnRleHQiLCJyZWNlaXZlciIsImJlZ2luUGF0aCIsImNsaXAiLCJtdWx0aXBseVRyYW5zZm9ybU1hdHJpY2VzIiwiYiIsImlzMngyIiwicXJEZWNvbXBvc2UiLCJkZW5vbSIsInNjYWxlWCIsInNjYWxlWSIsInNrZXdYIiwic2tld1kiLCJ0cmFuc2xhdGVYIiwidHJhbnNsYXRlWSIsImNhbGNSb3RhdGVNYXRyaXgiLCJ0aGV0YSIsImNhbGNEaW1lbnNpb25zTWF0cml4Iiwic2NhbGVNYXRyaXgiLCJmbGlwWCIsImZsaXBZIiwibXVsdGlwbHkiLCJ0YW4iLCJjb21wb3NlTWF0cml4IiwibWF0cml4IiwiY3VzdG9tVHJhbnNmb3JtTWF0cml4IiwicmVzZXRPYmplY3RUcmFuc2Zvcm0iLCJ0YXJnZXQiLCJzYXZlT2JqZWN0VHJhbnNmb3JtIiwiZm4iLCJTdHJpbmciLCJtYXRjaCIsImlzVHJhbnNwYXJlbnQiLCJ0b2xlcmFuY2UiLCJfaXNUcmFuc3BhcmVudCIsImltYWdlRGF0YSIsImdldEltYWdlRGF0YSIsImRhdGEiLCJwYXJzZVByZXNlcnZlQXNwZWN0UmF0aW9BdHRyaWJ1dGUiLCJhdHRyaWJ1dGUiLCJhbGlnbiIsIm1lZXRPclNsaWNlIiwiYXNwZWN0UmF0aW9BdHRycyIsInBvcCIsImFsaWduWCIsImFsaWduWSIsImNsZWFyRmFicmljRm9udENhY2hlIiwiZm9udEZhbWlseSIsInRvTG93ZXJDYXNlIiwibGltaXREaW1zQnlBcmVhIiwiYXIiLCJtYXhpbXVtQXJlYSIsInJvdWdoV2lkdGgiLCJwZXJmTGltaXRTaXplWSIsImNhcFZhbHVlIiwiZmluZFNjYWxlVG9GaXQiLCJmaW5kU2NhbGVUb0NvdmVyIiwibWF0cml4VG9TVkciLCJtYXAiLCJOVU1fRlJBQ1RJT05fRElHSVRTIiwiam9pbiIsIl9qb2luIiwiQXJyYXkiLCJhcmNUb1NlZ21lbnRzIiwidG9YIiwidG9ZIiwicngiLCJyeSIsImxhcmdlIiwic3dlZXAiLCJyb3RhdGVYIiwiYXJnc1N0cmluZyIsInRoIiwic2luVGgiLCJjb3NUaCIsImZyb21YIiwiZnJvbVkiLCJweCIsInB5IiwicngyIiwiYWJzIiwicnkyIiwicHkyIiwicHgyIiwicGwiLCJjeCIsImN5IiwiY3gxIiwiY3kxIiwibVRoZXRhIiwiY2FsY1ZlY3RvckFuZ2xlIiwiZHRoZXRhIiwic2VnbWVudHMiLCJjZWlsIiwicmVzdWx0IiwibURlbHRhIiwibVQiLCJ0aDMiLCJzZWdtZW50VG9CZXppZXIiLCJ0aDIiLCJjb3N0aDIiLCJzaW50aDIiLCJjb3N0aDMiLCJzaW50aDMiLCJ1eCIsInV5IiwidngiLCJ2eSIsInRhIiwidGIiLCJnZXRCb3VuZHNPZkN1cnZlIiwieDAiLCJ5MCIsIngxIiwieTEiLCJ4MyIsInkzIiwidDEiLCJ0MiIsImIyYWMiLCJzcXJ0YjJhYyIsInR2YWx1ZXMiLCJib3VuZHMiLCJtdCIsImoiLCJqbGVuIiwiZHJhd0FyYyIsImZ4IiwiZnkiLCJjb29yZHMiLCJzZWdzIiwic2Vnc05vcm0iLCJiZXppZXJDdXJ2ZVRvIiwiZ2V0Qm91bmRzT2ZBcmMiLCJ0eCIsInR5IiwiYm91bmQiLCJmaW5kIiwiYnlQcm9wZXJ0eSIsImNvbmRpdGlvbiIsImsiLCJpbnZva2UiLCJtZXRob2QiLCJhcmdzIiwidmFsdWUxIiwidmFsdWUyIiwiZXh0ZW5kIiwiZGVlcCIsIkVsZW1lbnQiLCJnZXRXaG9sZUNoYXIiLCJzdHIiLCJjb2RlIiwiY2hhckNvZGVBdCIsImlzTmFOIiwibmV4dCIsInByZXYiLCJyZXBsYWNlIiwiY2hhcmFjdGVyIiwiY2FwaXRhbGl6ZSIsImZpcnN0TGV0dGVyT25seSIsImVzY2FwZVhtbCIsImdyYXBoZW1lU3BsaXQiLCJ0ZXh0c3RyaW5nIiwiY2hyIiwiZ3JhcGhlbWVzIiwiZW1wdHlGdW5jdGlvbiIsIklTX0RPTlRFTlVNX0JVR0dZIiwiYWRkTWV0aG9kcyIsImtsYXNzIiwicGFyZW50Iiwic3VwZXJjbGFzcyIsImNvbnN0cnVjdG9yIiwicmV0dXJuVmFsdWUiLCJ2YWx1ZU9mIiwiU3ViY2xhc3MiLCJjYWxsU3VwZXIiLCJtZXRob2ROYW1lIiwicGFyZW50TWV0aG9kIiwiX3RoaXMiLCJzdXBlckNsYXNzTWV0aG9kIiwiY3JlYXRlQ2xhc3MiLCJpbml0aWFsaXplIiwic2hpZnQiLCJzdWJjbGFzc2VzIiwiYXR0YWNoRXZlbnQiLCJhZGRMaXN0ZW5lciIsImVsZW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZ2V0UG9pbnRlciIsImV2ZW50Iiwic2Nyb2xsIiwiZ2V0U2Nyb2xsTGVmdFRvcCIsIl9ldnQiLCJ0b3VjaFByb3AiLCJjaGFuZ2VkVG91Y2hlcyIsImdldFRvdWNoSW5mbyIsImNsaWVudFgiLCJjbGllbnRZIiwib3BhY2l0eSIsImVzIiwiY3VycmVudFN0eWxlIiwiaGFzTGF5b3V0Iiwiem9vbSIsInRlc3QiLCJzZXRTdHlsZSIsInN0eWxlcyIsImVsZW1lbnRTdHlsZSIsImNzc1RleHQiLCJzdHlsZUZsb2F0IiwiX3NsaWNlIiwic2xpY2VDYW5Db252ZXJ0Tm9kZWxpc3RzIiwiZ2V0RWxlbWVudFN0eWxlIiwic2VsZWN0UHJvcCIsInRvQXJyYXkiLCJhcnJheUxpa2UiLCJjaGlsZE5vZGVzIiwiZXJyIiwibWFrZUVsZW1lbnQiLCJ0YWdOYW1lIiwiZWwiLCJjbGFzc05hbWUiLCJodG1sRm9yIiwic2V0QXR0cmlidXRlIiwiZG9jRWxlbWVudCIsImRvY3VtZW50RWxlbWVudCIsImJvZHkiLCJzY3JvbGxMZWZ0Iiwic2Nyb2xsVG9wIiwiaG9zdCIsIm5vZGVUeXBlIiwiYXJyIiwiZGVmYXVsdFZpZXciLCJnZXRDb21wdXRlZFN0eWxlIiwiYXR0ciIsInVuZGVmaW5lZCIsIm1ha2VFbGVtZW50VW5zZWxlY3RhYmxlIiwib25zZWxlY3RzdGFydCIsInVuc2VsZWN0YWJsZSIsIm1ha2VFbGVtZW50U2VsZWN0YWJsZSIsImdldFNjcmlwdCIsImhlYWRFbCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwic2NyaXB0RWwiLCJsb2FkaW5nIiwib25yZWFkeXN0YXRlY2hhbmdlIiwiZSIsInJlYWR5U3RhdGUiLCJnZXRCeUlkIiwiaWQiLCJnZXRFbGVtZW50QnlJZCIsImFkZENsYXNzIiwid3JhcEVsZW1lbnQiLCJ3cmFwcGVyIiwicmVwbGFjZUNoaWxkIiwiZ2V0RWxlbWVudE9mZnNldCIsImRvY0VsZW0iLCJzY3JvbGxMZWZ0VG9wIiwiZG9jIiwib3duZXJEb2N1bWVudCIsImJveCIsIm9mZnNldCIsIm9mZnNldEF0dHJpYnV0ZXMiLCJib3JkZXJMZWZ0V2lkdGgiLCJib3JkZXJUb3BXaWR0aCIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1RvcCIsInBhcnNlSW50IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2xpZW50TGVmdCIsImNsaWVudFRvcCIsImdldE5vZGVDYW52YXMiLCJpbXBsIiwiX2NhbnZhcyIsIl9pbWFnZSIsImNsZWFuVXBKc2RvbU5vZGUiLCJfY3VycmVudFNyYyIsIl9hdHRyaWJ1dGVzIiwiX2NsYXNzTGlzdCIsImVtcHR5Rm4iLCJyZXF1ZXN0Iiwib25Db21wbGV0ZSIsInhociIsIlhNTEh0dHBSZXF1ZXN0IiwicGFyYW1ldGVycyIsInBhcmFtIiwiYWRkUGFyYW1Ub1VybCIsIm9wZW4iLCJzZXRSZXF1ZXN0SGVhZGVyIiwic2VuZCIsIndhcm4iLCJub29wIiwiZGVmYXVsdEVhc2luZyIsIl9yZXF1ZXN0QW5pbUZyYW1lIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwib1JlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic2V0VGltZW91dCIsIl9jYW5jZWxBbmltRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImNsZWFyVGltZW91dCIsInJlcXVlc3RBbmltRnJhbWUiLCJhbmltYXRlIiwidGltZXN0YW1wIiwidGltZSIsInN0YXJ0IiwiRGF0ZSIsImR1cmF0aW9uIiwiZmluaXNoIiwib25DaGFuZ2UiLCJhYm9ydCIsImVhc2luZyIsInN0YXJ0VmFsdWUiLCJlbmRWYWx1ZSIsImJ5VmFsdWUiLCJvblN0YXJ0IiwidGljayIsInRpY2t0aW1lIiwiY3VycmVudFRpbWUiLCJ0aW1lUGVyYyIsInZhbHVlUGVyYyIsImNhbmNlbEFuaW1GcmFtZSIsImFuaW1hdGVDb2xvciIsImZyb21Db2xvciIsInRvQ29sb3IiLCJzdGFydENvbG9yIiwiQ29sb3IiLCJnZXRTb3VyY2UiLCJlbmRDb2xvciIsImJlZ2luIiwiZW5kIiwicG9zIiwiY29sb3IiLCJwb3NWYWx1ZSIsImNvbG9yRWFzaW5nIiwibm9ybWFsaXplIiwiYXNpbiIsImVsYXN0aWMiLCJvcHRzIiwiZWFzZUluQm91bmNlIiwiZWFzZU91dEJvdW5jZSIsImVhc2UiLCJlYXNlSW5RdWFkIiwiZWFzZU91dFF1YWQiLCJlYXNlSW5PdXRRdWFkIiwiZWFzZUluQ3ViaWMiLCJlYXNlT3V0Q3ViaWMiLCJlYXNlSW5PdXRDdWJpYyIsImVhc2VJblF1YXJ0IiwiZWFzZU91dFF1YXJ0IiwiZWFzZUluT3V0UXVhcnQiLCJlYXNlSW5RdWludCIsImVhc2VPdXRRdWludCIsImVhc2VJbk91dFF1aW50IiwiZWFzZUluU2luZSIsImVhc2VPdXRTaW5lIiwiZWFzZUluT3V0U2luZSIsImVhc2VJbkV4cG8iLCJlYXNlT3V0RXhwbyIsImVhc2VJbk91dEV4cG8iLCJlYXNlSW5DaXJjIiwiZWFzZU91dENpcmMiLCJlYXNlSW5PdXRDaXJjIiwiZWFzZUluRWxhc3RpYyIsImVhc2VPdXRFbGFzdGljIiwiZWFzZUluT3V0RWxhc3RpYyIsImVhc2VJbkJhY2siLCJlYXNlT3V0QmFjayIsImVhc2VJbk91dEJhY2siLCJlYXNlSW5PdXRCb3VuY2UiLCJhdHRyaWJ1dGVzTWFwIiwiZGlzcGxheSIsInZpc2liaWxpdHkiLCJjb2xvckF0dHJpYnV0ZXMiLCJzdHJva2UiLCJub3JtYWxpemVBdHRyIiwibm9ybWFsaXplVmFsdWUiLCJwYXJlbnRBdHRyaWJ1dGVzIiwicGFyc2VkIiwiaXNBcnJheSIsInRyYW5zZm9ybU1hdHJpeCIsInBhcnNlVHJhbnNmb3JtQXR0cmlidXRlIiwidmlzaWJsZSIsImZpbGxJbmRleCIsInN0cm9rZUluZGV4IiwiZ2V0U3ZnUmVnZXgiLCJSZWdFeHAiLCJfZ2V0TXVsdGlwbGVOb2RlcyIsIm5vZGVOYW1lcyIsIm5vZGVOYW1lIiwibm9kZUxpc3QiLCJub2RlQXJyYXkiLCJlbGVtZW50TWF0Y2hlc1J1bGUiLCJzZWxlY3RvcnMiLCJmaXJzdE1hdGNoaW5nIiwicGFyZW50TWF0Y2hpbmciLCJzZWxlY3Rvck1hdGNoZXMiLCJzZWxlY3RvciIsImRvZXNTb21lUGFyZW50TWF0Y2giLCJtYXRjaGVyIiwiY2xhc3NOYW1lcyIsImdldEF0dHJpYnV0ZSIsImVsZW1lbnRCeUlkIiwibm9kZSIsIm5vZGVsaXN0Iiwic3ZnVmFsaWRUYWdOYW1lc1JlZ0V4Iiwic3ZnVmlld0JveEVsZW1lbnRzUmVnRXgiLCJzdmdJbnZhbGlkQW5jZXN0b3JzUmVnRXgiLCJzdmdWYWxpZFBhcmVudHNSZWdFeCIsImNzc1J1bGVzIiwiZ3JhZGllbnREZWZzIiwiY2xpcFBhdGhzIiwic2tld01hdHJpeCIsImNvbW1hV3NwIiwicmVUcmFuc2Zvcm1MaXN0IiwicmVUcmFuc2Zvcm0iLCJhdHRyaWJ1dGVWYWx1ZSIsIm1hdHJpY2VzIiwib3BlcmF0aW9uIiwidHJhbnNsYXRlTWF0cml4Iiwicm90YXRlTWF0cml4IiwibXVsdGlwbGllclgiLCJtdWx0aXBsaWVyWSIsImNvbWJpbmVkTWF0cml4IiwicmVWaWV3Qm94QXR0clZhbHVlIiwiYXBwbHlWaWV3Ym94VHJhbnNmb3JtIiwidmlld0JveFdpZHRoIiwidmlld0JveEhlaWdodCIsInZpZXdCb3hBdHRyIiwid2lkdGhBdHRyIiwiaGVpZ2h0QXR0ciIsInByZXNlcnZlQXNwZWN0UmF0aW8iLCJtaXNzaW5nVmlld0JveCIsIm1pc3NpbmdEaW1BdHRyIiwidG9CZVBhcnNlZCIsInBhcnNlZERpbSIsIndpZHRoRGlmZiIsImhlaWdodERpZmYiLCJ2aWV3Ym94VHJhbnNmb3JtIiwiY3JlYXRlRWxlbWVudE5TIiwiZmlyc3RDaGlsZCIsInJlY3Vyc2l2ZWx5UGFyc2VHcmFkaWVudHNYbGluayIsImdyYWRpZW50IiwicmVmZXJlbmNlZEdyYWRpZW50Iiwic3Vic3RyIiwiaGFzQXR0cmlidXRlIiwiY2hpbGRyZW4iLCJyZWZlcmVuY2VDbG9uZSIsImNsb25lTm9kZSIsInJlbW92ZUF0dHJpYnV0ZSIsInBhcnNlU1ZHRG9jdW1lbnQiLCJwYXJzaW5nT3B0aW9ucyIsImF0dHJzIiwieGxpbmsiLCJlbDIiLCJjdXJyZW50VHJhbnMiLCJvbGRMZW5ndGgiLCJlbDMiLCJzZXRBdHRyaWJ1dGVOUyIsIm5vZGVWYWx1ZSIsInBhcnNlVXNlRGlyZWN0aXZlcyIsInN2Z1VpZCIsIl9fdWlkIiwiZGVzY2VuZGFudHMiLCJzZWxlY3ROb2RlcyIsImhhc0FuY2VzdG9yV2l0aE5vZGVOYW1lIiwiZ2V0R3JhZGllbnREZWZzIiwiZ2V0Q1NTUnVsZXMiLCJwYXJzZUVsZW1lbnRzIiwiaW5zdGFuY2VzIiwicmVGb250RGVjbGFyYXRpb24iLCJwYXJzZUZvbnREZWNsYXJhdGlvbiIsIm9TdHlsZSIsImZvbnRTdHlsZSIsImZvbnRXZWlnaHQiLCJsaW5lSGVpZ2h0IiwiZWxMaXN0IiwicGFyc2VBdHRyaWJ1dGVzIiwicGFyZW50Rm9udFNpemUiLCJvd25BdHRyaWJ1dGVzIiwiY3NzQXR0cnMiLCJydWxlIiwiZ2V0R2xvYmFsU3R5bGVzRm9yRWxlbWVudCIsInBhcnNlU3R5bGVBdHRyaWJ1dGUiLCJub3JtYWxpemVkQXR0ciIsIm5vcm1hbGl6ZWRWYWx1ZSIsIm5vcm1hbGl6ZWRTdHlsZSIsImZvbnQiLCJtZXJnZWRBdHRycyIsInNldEFscGhhIiwiZ2V0QWxwaGEiLCJ0b1JnYmEiLCJfc2V0U3Ryb2tlRmlsbE9wYWNpdHkiLCJFbGVtZW50c1BhcnNlciIsInBhcnNlIiwiY2h1bmsiLCJwYWlyIiwidHJpbSIsInBhcnNlU3R5bGVTdHJpbmciLCJwYXJzZVN0eWxlT2JqZWN0IiwicGFyc2VQb2ludHNBdHRyaWJ1dGUiLCJwYXJzZWRQb2ludHMiLCJhbGxSdWxlcyIsInN0eWxlQ29udGVudHMiLCJ0ZXh0Q29udGVudCIsInRleHQiLCJydWxlT2JqIiwicHJvcGVydHlWYWx1ZVBhaXJzIiwiX3J1bGUiLCJsb2FkU1ZHRnJvbVVSTCIsInhtbCIsInJlc3BvbnNlWE1MIiwiQWN0aXZlWE9iamVjdCIsInJlc3BvbnNlVGV4dCIsImFzeW5jIiwibG9hZFhNTCIsInJlc3VsdHMiLCJfb3B0aW9ucyIsImFsbEVsZW1lbnRzIiwibG9hZFNWR0Zyb21TdHJpbmciLCJwYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJyZWdleFVybCIsIm51bUVsZW1lbnRzIiwiY3JlYXRlT2JqZWN0cyIsImNyZWF0ZU9iamVjdCIsImZpbmRUYWciLCJmcm9tRWxlbWVudCIsImNyZWF0ZUNhbGxiYWNrIiwiY2hlY2tJZkRvbmUiLCJyZXNvbHZlR3JhZGllbnQiLCJJbWFnZSIsIl9vcmlnaW5hbEVsZW1lbnQiLCJfcmVtb3ZlVHJhbnNmb3JtTWF0cml4IiwicmVzb2x2ZUNsaXBQYXRoIiwiZXh0cmFjdFByb3BlcnR5RGVmaW5pdGlvbiIsInN0b3JhZ2UiLCJyZWdleCIsImxhc3RJbmRleCIsImdyYWRpZW50RGVmIiwib3BhY2l0eUF0dHIiLCJjcmVhdGVDbGlwUGF0aENhbGxiYWNrIiwiY29udGFpbmVyIiwiX25ld09iaiIsImZpbGxSdWxlIiwiY2xpcFJ1bGUiLCJ1c2luZ0VsZW1lbnQiLCJvYmpUcmFuc2Zvcm1JbnYiLCJnVHJhbnNmb3JtIiwiY2xpcFBhdGgiLCJjYWxjVHJhbnNmb3JtTWF0cml4IiwiY2xpcFBhdGhUYWciLCJjbGlwUGF0aE93bmVyIiwic2V0UG9zaXRpb25CeU9yaWdpbiIsInRoYXQiLCJzY2FsYXJBZGQiLCJzY2FsYXIiLCJzY2FsYXJBZGRFcXVhbHMiLCJzdWJ0cmFjdCIsInNjYWxhclN1YnRyYWN0Iiwic2NhbGFyU3VidHJhY3RFcXVhbHMiLCJtdWx0aXBseUVxdWFscyIsImRpdmlkZSIsImRpdmlkZUVxdWFscyIsImVxIiwibHQiLCJsdGUiLCJndCIsImd0ZSIsImxlcnAiLCJkaXN0YW5jZUZyb20iLCJtaWRQb2ludEZyb20iLCJzZXRYWSIsInNldFgiLCJzZXRZIiwic2V0RnJvbVBvaW50Iiwic3dhcCIsIkludGVyc2VjdGlvbiIsInN0YXR1cyIsImFwcGVuZFBvaW50IiwiYXBwZW5kUG9pbnRzIiwiaW50ZXJzZWN0TGluZUxpbmUiLCJhMSIsImEyIiwiYjEiLCJiMiIsInVhVCIsInViVCIsInVCIiwidWEiLCJ1YiIsImludGVyc2VjdExpbmVQb2x5Z29uIiwiaW50ZXIiLCJpbnRlcnNlY3RQb2x5Z29uUG9seWdvbiIsInBvaW50czEiLCJwb2ludHMyIiwiaW50ZXJzZWN0UG9seWdvblJlY3RhbmdsZSIsInIxIiwicjIiLCJ0b3BSaWdodCIsImJvdHRvbUxlZnQiLCJpbnRlcjEiLCJpbnRlcjIiLCJpbnRlcjMiLCJpbnRlcjQiLCJfdHJ5UGFyc2luZ0NvbG9yIiwic2V0U291cmNlIiwiaHVlMnJnYiIsInEiLCJjb2xvck5hbWVNYXAiLCJzb3VyY2VGcm9tSGV4Iiwic291cmNlRnJvbVJnYiIsInNvdXJjZUZyb21Ic2wiLCJfcmdiVG9Ic2wiLCJnIiwiaCIsInJvdW5kIiwiX3NvdXJjZSIsInRvUmdiIiwidG9Ic2wiLCJoc2wiLCJ0b0hzbGEiLCJ0b0hleCIsInRvSGV4YSIsImFscGhhIiwidG9HcmF5c2NhbGUiLCJhdmVyYWdlIiwiY3VycmVudEFscGhhIiwidG9CbGFja1doaXRlIiwidGhyZXNob2xkIiwib3ZlcmxheVdpdGgiLCJvdGhlckNvbG9yIiwib3RoZXJTb3VyY2UiLCJyZVJHQmEiLCJyZUhTTGEiLCJyZUhleCIsImFsaWNlYmx1ZSIsImFudGlxdWV3aGl0ZSIsImFxdWEiLCJhcXVhbWFyaW5lIiwiYXp1cmUiLCJiZWlnZSIsImJpc3F1ZSIsImJsYWNrIiwiYmxhbmNoZWRhbG1vbmQiLCJibHVlIiwiYmx1ZXZpb2xldCIsImJyb3duIiwiYnVybHl3b29kIiwiY2FkZXRibHVlIiwiY2hhcnRyZXVzZSIsImNob2NvbGF0ZSIsImNvcmFsIiwiY29ybmZsb3dlcmJsdWUiLCJjb3Juc2lsayIsImNyaW1zb24iLCJjeWFuIiwiZGFya2JsdWUiLCJkYXJrY3lhbiIsImRhcmtnb2xkZW5yb2QiLCJkYXJrZ3JheSIsImRhcmtncmV5IiwiZGFya2dyZWVuIiwiZGFya2toYWtpIiwiZGFya21hZ2VudGEiLCJkYXJrb2xpdmVncmVlbiIsImRhcmtvcmFuZ2UiLCJkYXJrb3JjaGlkIiwiZGFya3JlZCIsImRhcmtzYWxtb24iLCJkYXJrc2VhZ3JlZW4iLCJkYXJrc2xhdGVibHVlIiwiZGFya3NsYXRlZ3JheSIsImRhcmtzbGF0ZWdyZXkiLCJkYXJrdHVycXVvaXNlIiwiZGFya3Zpb2xldCIsImRlZXBwaW5rIiwiZGVlcHNreWJsdWUiLCJkaW1ncmF5IiwiZGltZ3JleSIsImRvZGdlcmJsdWUiLCJmaXJlYnJpY2siLCJmbG9yYWx3aGl0ZSIsImZvcmVzdGdyZWVuIiwiZnVjaHNpYSIsImdhaW5zYm9ybyIsImdob3N0d2hpdGUiLCJnb2xkIiwiZ29sZGVucm9kIiwiZ3JheSIsImdyZXkiLCJncmVlbiIsImdyZWVueWVsbG93IiwiaG9uZXlkZXciLCJob3RwaW5rIiwiaW5kaWFucmVkIiwiaW5kaWdvIiwiaXZvcnkiLCJraGFraSIsImxhdmVuZGVyIiwibGF2ZW5kZXJibHVzaCIsImxhd25ncmVlbiIsImxlbW9uY2hpZmZvbiIsImxpZ2h0Ymx1ZSIsImxpZ2h0Y29yYWwiLCJsaWdodGN5YW4iLCJsaWdodGdvbGRlbnJvZHllbGxvdyIsImxpZ2h0Z3JheSIsImxpZ2h0Z3JleSIsImxpZ2h0Z3JlZW4iLCJsaWdodHBpbmsiLCJsaWdodHNhbG1vbiIsImxpZ2h0c2VhZ3JlZW4iLCJsaWdodHNreWJsdWUiLCJsaWdodHNsYXRlZ3JheSIsImxpZ2h0c2xhdGVncmV5IiwibGlnaHRzdGVlbGJsdWUiLCJsaWdodHllbGxvdyIsImxpbWUiLCJsaW1lZ3JlZW4iLCJsaW5lbiIsIm1hZ2VudGEiLCJtYXJvb24iLCJtZWRpdW1hcXVhbWFyaW5lIiwibWVkaXVtYmx1ZSIsIm1lZGl1bW9yY2hpZCIsIm1lZGl1bXB1cnBsZSIsIm1lZGl1bXNlYWdyZWVuIiwibWVkaXVtc2xhdGVibHVlIiwibWVkaXVtc3ByaW5nZ3JlZW4iLCJtZWRpdW10dXJxdW9pc2UiLCJtZWRpdW12aW9sZXRyZWQiLCJtaWRuaWdodGJsdWUiLCJtaW50Y3JlYW0iLCJtaXN0eXJvc2UiLCJtb2NjYXNpbiIsIm5hdmFqb3doaXRlIiwibmF2eSIsIm9sZGxhY2UiLCJvbGl2ZSIsIm9saXZlZHJhYiIsIm9yYW5nZSIsIm9yYW5nZXJlZCIsIm9yY2hpZCIsInBhbGVnb2xkZW5yb2QiLCJwYWxlZ3JlZW4iLCJwYWxldHVycXVvaXNlIiwicGFsZXZpb2xldHJlZCIsInBhcGF5YXdoaXAiLCJwZWFjaHB1ZmYiLCJwZXJ1IiwicGluayIsInBsdW0iLCJwb3dkZXJibHVlIiwicHVycGxlIiwicmViZWNjYXB1cnBsZSIsInJlZCIsInJvc3licm93biIsInJveWFsYmx1ZSIsInNhZGRsZWJyb3duIiwic2FsbW9uIiwic2FuZHlicm93biIsInNlYWdyZWVuIiwic2Vhc2hlbGwiLCJzaWVubmEiLCJzaWx2ZXIiLCJza3libHVlIiwic2xhdGVibHVlIiwic2xhdGVncmF5Iiwic2xhdGVncmV5Iiwic25vdyIsInNwcmluZ2dyZWVuIiwic3RlZWxibHVlIiwidGVhbCIsInRoaXN0bGUiLCJ0b21hdG8iLCJ0dXJxdW9pc2UiLCJ2aW9sZXQiLCJ3aGVhdCIsIndoaXRlIiwid2hpdGVzbW9rZSIsInllbGxvdyIsInllbGxvd2dyZWVuIiwiZnJvbVJnYiIsImZyb21Tb3VyY2UiLCJmcm9tUmdiYSIsImZyb21Ic2wiLCJmcm9tSHNsYSIsImZyb21IZXgiLCJpc1Nob3J0Tm90YXRpb24iLCJpc1JHQmEiLCJvQ29sb3IiLCJnZXRDb2xvclN0b3AiLCJtdWx0aXBsaWVyIiwiY29sb3JBbHBoYSIsImtleVZhbHVlUGFpcnMiLCJfX2NvbnZlcnRQZXJjZW50VW5pdHNUb1ZhbHVlcyIsImluc3RhbmNlIiwic3ZnT3B0aW9ucyIsImdyYWRpZW50VW5pdHMiLCJwcm9wVmFsdWUiLCJmaW5hbFZhbHVlIiwia2V5cyIsIm9mZnNldFgiLCJvZmZzZXRZIiwiZ3JhZGllbnRUcmFuc2Zvcm0iLCJvcHRpb24iLCJhZGRDb2xvclN0b3AiLCJ0b09iamVjdCIsInByb3BlcnRpZXNUb0luY2x1ZGUiLCJ0b1NWRyIsIm1hcmt1cCIsImNvbW1vbkF0dHJpYnV0ZXMiLCJuZWVkc1N3YXAiLCJ3aXRoVmlld3BvcnQiLCJhZGRpdGlvbmFsVHJhbnNmb3JtIiwic29ydCIsInBhdGhPZmZzZXQiLCJyZXZlcnNlIiwibWluUmFkaXVzIiwicGVyY2VudGFnZVNoaWZ0IiwiY29sb3JTdG9wIiwidG9MaXZlIiwic3RvcHMiLCJjcmVhdGVMaW5lYXJHcmFkaWVudCIsImNyZWF0ZVJhZGlhbEdyYWRpZW50IiwiY29sb3JTdG9wRWxzIiwiZ2V0TGluZWFyQ29vcmRzIiwiZ2V0UmFkaWFsQ29vcmRzIiwiZm9yT2JqZWN0IiwicmVwZWF0IiwicGF0dGVyblRyYW5zZm9ybSIsInNldE9wdGlvbnMiLCJwYXR0ZXJuU291cmNlIiwicGF0dGVybldpZHRoIiwicGF0dGVybkhlaWdodCIsInBhdHRlcm5PZmZzZXRYIiwicGF0dGVybk9mZnNldFkiLCJwYXR0ZXJuSW1nU3JjIiwiY29tcGxldGUiLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwiY3JlYXRlUGF0dGVybiIsIlNoYWRvdyIsImJsdXIiLCJhZmZlY3RTdHJva2UiLCJpbmNsdWRlRGVmYXVsdFZhbHVlcyIsIm5vblNjYWxpbmciLCJfcGFyc2VTaGFkb3ciLCJzaGFkb3ciLCJzaGFkb3dTdHIiLCJvZmZzZXRzQW5kQmx1ciIsInJlT2Zmc2V0c0FuZEJsdXIiLCJmQm94WCIsImZCb3hZIiwiU3RhdGljQ2FudmFzIiwiQ0FOVkFTX0lOSVRfRVJST1IiLCJFcnJvciIsInJlbmRlckFuZFJlc2V0Qm91bmQiLCJyZW5kZXJBbmRSZXNldCIsInJlcXVlc3RSZW5kZXJBbGxCb3VuZCIsIl9pbml0U3RhdGljIiwiYmFja2dyb3VuZENvbG9yIiwiYmFja2dyb3VuZEltYWdlIiwib3ZlcmxheUNvbG9yIiwib3ZlcmxheUltYWdlIiwic3RhdGVmdWwiLCJjb250cm9sc0Fib3ZlT3ZlcmxheSIsImFsbG93VG91Y2hTY3JvbGxpbmciLCJpbWFnZVNtb290aGluZ0VuYWJsZWQiLCJ2aWV3cG9ydFRyYW5zZm9ybSIsImJhY2tncm91bmRWcHQiLCJvdmVybGF5VnB0Iiwib25CZWZvcmVTY2FsZVJvdGF0ZSIsImVuYWJsZVJldGluYVNjYWxpbmciLCJ2cHRDb29yZHMiLCJza2lwT2Zmc2NyZWVuIiwiY2IiLCJfY3JlYXRlTG93ZXJDYW52YXMiLCJfaW5pdE9wdGlvbnMiLCJfc2V0SW1hZ2VTbW9vdGhpbmciLCJpbnRlcmFjdGl2ZSIsIl9pbml0UmV0aW5hU2NhbGluZyIsInNldE92ZXJsYXlJbWFnZSIsInNldEJhY2tncm91bmRJbWFnZSIsInNldEJhY2tncm91bmRDb2xvciIsInNldE92ZXJsYXlDb2xvciIsImNhbGNPZmZzZXQiLCJfaXNSZXRpbmFTY2FsaW5nIiwiZ2V0UmV0aW5hU2NhbGluZyIsInNjYWxlUmF0aW8iLCJfX2luaXRSZXRpbmFTY2FsaW5nIiwibG93ZXJDYW52YXNFbCIsImNvbnRleHRDb250YWluZXIiLCJ1cHBlckNhbnZhc0VsIiwiY29udGV4dFRvcCIsIl9vZmZzZXQiLCJpbWFnZSIsIl9fc2V0QmdPdmVybGF5SW1hZ2UiLCJfX3NldEJnT3ZlcmxheUNvbG9yIiwid2Via2l0SW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwibW96SW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwibXNJbWFnZVNtb290aGluZ0VuYWJsZWQiLCJvSW1hZ2VTbW9vdGhpbmdFbmFibGVkIiwiX2NyZWF0ZUNhbnZhc0VsZW1lbnQiLCJfYXBwbHlDYW52YXNTdHlsZSIsImdldFdpZHRoIiwiZ2V0SGVpZ2h0Iiwic2V0V2lkdGgiLCJzZXREaW1lbnNpb25zIiwic2V0SGVpZ2h0IiwiZGltZW5zaW9ucyIsImNzc1ZhbHVlIiwiY3NzT25seSIsIl9zZXRCYWNrc3RvcmVEaW1lbnNpb24iLCJoYXNMb3N0Q29udGV4dCIsImJhY2tzdG9yZU9ubHkiLCJfc2V0Q3NzRGltZW5zaW9uIiwiX2lzQ3VycmVudGx5RHJhd2luZyIsImZyZWVEcmF3aW5nQnJ1c2giLCJfc2V0QnJ1c2hTdHlsZXMiLCJjYWNoZUNhbnZhc0VsIiwid3JhcHBlckVsIiwiZ2V0Wm9vbSIsInNldFZpZXdwb3J0VHJhbnNmb3JtIiwidnB0IiwiYWN0aXZlT2JqZWN0IiwiX2FjdGl2ZU9iamVjdCIsImdyb3VwIiwic2V0Q29vcmRzIiwiY2FsY1ZpZXdwb3J0Qm91bmRhcmllcyIsInpvb21Ub1BvaW50IiwiYmVmb3JlIiwiYWZ0ZXIiLCJzZXRab29tIiwiYWJzb2x1dGVQYW4iLCJyZWxhdGl2ZVBhbiIsImdldEVsZW1lbnQiLCJzZXR1cFN0YXRlIiwiY2xlYXJDb250ZXh0IiwiY2xlYXJSZWN0IiwiY2xlYXIiLCJfaGFzSVRleHRIYW5kbGVycyIsIl9tb3VzZVVwSVRleHRIYW5kbGVyIiwiX2lUZXh0SW5zdGFuY2VzIiwicmVuZGVyQWxsIiwiY2FudmFzVG9EcmF3T24iLCJyZW5kZXJDYW52YXMiLCJpc1JlbmRlcmluZyIsImlWcHQiLCJ0bCIsImJyIiwidHIiLCJibCIsImNhbmNlbFJlcXVlc3RlZFJlbmRlciIsIl9yZW5kZXJCYWNrZ3JvdW5kIiwiX3JlbmRlck9iamVjdHMiLCJkcmF3Q29udHJvbHMiLCJzaG91bGRDYWNoZSIsIl90cmFuc2Zvcm1Eb25lIiwicmVuZGVyQ2FjaGUiLCJmb3JDbGlwcGluZyIsImRyYXdDbGlwUGF0aE9uQ2FudmFzIiwiX3JlbmRlck92ZXJsYXkiLCJnbG9iYWxDb21wb3NpdGVPcGVyYXRpb24iLCJ6b29tWCIsInpvb21ZIiwiX2NhY2hlQ2FudmFzIiwiY2FjaGVUcmFuc2xhdGlvblgiLCJjYWNoZVRyYW5zbGF0aW9uWSIsInJlbmRlciIsIl9yZW5kZXJCYWNrZ3JvdW5kT3JPdmVybGF5IiwibmVlZHNWcHQiLCJsaW5lVG8iLCJjbG9zZVBhdGgiLCJmaWxsU3R5bGUiLCJnZXRDZW50ZXIiLCJjZW50ZXJPYmplY3RIIiwiX2NlbnRlck9iamVjdCIsImdldENlbnRlclBvaW50IiwiY2VudGVyT2JqZWN0ViIsImNlbnRlck9iamVjdCIsImNlbnRlciIsInZpZXdwb3J0Q2VudGVyT2JqZWN0IiwidnBDZW50ZXIiLCJnZXRWcENlbnRlciIsInZpZXdwb3J0Q2VudGVyT2JqZWN0SCIsInZpZXdwb3J0Q2VudGVyT2JqZWN0ViIsInRvRGF0YWxlc3NKU09OIiwidG9EYXRhbGVzc09iamVjdCIsIl90b09iamVjdE1ldGhvZCIsIl90b09iamVjdHMiLCJfdG9PYmplY3QiLCJfX3NlcmlhbGl6ZUJnT3ZlcmxheSIsImV4Y2x1ZGVGcm9tRXhwb3J0Iiwib3JpZ2luYWxWYWx1ZSIsImJnSW1hZ2UiLCJvdmVybGF5IiwiYmFja2dyb3VuZCIsInN2Z1ZpZXdwb3J0VHJhbnNmb3JtYXRpb24iLCJfc2V0U1ZHUHJlYW1ibGUiLCJfc2V0U1ZHSGVhZGVyIiwiY2xpcFBhdGhJZCIsIl9zZXRTVkdCZ092ZXJsYXlDb2xvciIsIl9zZXRTVkdCZ092ZXJsYXlJbWFnZSIsIl9zZXRTVkdPYmplY3RzIiwic3VwcHJlc3NQcmVhbWJsZSIsImVuY29kaW5nIiwidmlld0JveCIsImNyZWF0ZVNWR0ZvbnRGYWNlc01hcmt1cCIsImNyZWF0ZVNWR1JlZkVsZW1lbnRzTWFya3VwIiwiY3JlYXRlU1ZHQ2xpcFBhdGhNYXJrdXAiLCJ0b0NsaXBQYXRoU1ZHIiwic2hvdWxkVHJhbnNmb3JtIiwicm93Iiwicm93SW5kZXgiLCJjaGFySW5kZXgiLCJmb250TGlzdCIsIl9zZXRTVkdPYmplY3QiLCJmaW5hbFdpZHRoIiwiZmluYWxIZWlnaHQiLCJzZW5kVG9CYWNrIiwib2JqcyIsImFjdGl2ZVNlbGVjdGlvbiIsInVuc2hpZnQiLCJicmluZ1RvRnJvbnQiLCJzZW5kQmFja3dhcmRzIiwiaW50ZXJzZWN0aW5nIiwibmV3SWR4Iiwib2Jqc01vdmVkIiwiX2ZpbmROZXdMb3dlckluZGV4IiwiaW50ZXJzZWN0c1dpdGhPYmplY3QiLCJpc0NvbnRhaW5lZFdpdGhpbk9iamVjdCIsImJyaW5nRm9yd2FyZCIsIl9maW5kTmV3VXBwZXJJbmRleCIsImRpc3Bvc2UiLCJEYXRhVVJMRXhwb3J0ZXIiLCJFTVBUWV9KU09OIiwic3VwcG9ydHMiLCJzZXRMaW5lRGFzaCIsInRvSlNPTiIsImNyZWF0ZVBOR1N0cmVhbSIsImNyZWF0ZUpQRUdTdHJlYW0iLCJCYXNlQnJ1c2giLCJzdHJva2VMaW5lQ2FwIiwic3Ryb2tlTGluZUpvaW4iLCJzdHJva2VNaXRlckxpbWl0Iiwic3Ryb2tlRGFzaEFycmF5Iiwic2V0U2hhZG93Iiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJsaW5lQ2FwIiwibWl0ZXJMaW1pdCIsImxpbmVKb2luIiwiX3NhdmVBbmRUcmFuc2Zvcm0iLCJfc2V0U2hhZG93Iiwic2hhZG93Q29sb3IiLCJzaGFkb3dCbHVyIiwic2hhZG93T2Zmc2V0WCIsInNoYWRvd09mZnNldFkiLCJuZWVkc0Z1bGxSZW5kZXIiLCJfcmVzZXRTaGFkb3ciLCJQZW5jaWxCcnVzaCIsImRlY2ltYXRlIiwiX3BvaW50cyIsIl9kcmF3U2VnbWVudCIsInAxIiwicDIiLCJtaWRQb2ludCIsInF1YWRyYXRpY0N1cnZlVG8iLCJvbk1vdXNlRG93biIsInBvaW50ZXIiLCJfaXNNYWluRXZlbnQiLCJfcHJlcGFyZUZvckRyYXdpbmciLCJfY2FwdHVyZURyYXdpbmdQYXRoIiwiX3JlbmRlciIsIm9uTW91c2VNb3ZlIiwib2xkRW5kIiwib25Nb3VzZVVwIiwiX2ZpbmFsaXplQW5kQWRkUGF0aCIsIl9yZXNldCIsIl9hZGRQb2ludCIsInBvaW50ZXJQb2ludCIsImNvbnZlcnRQb2ludHNUb1NWR1BhdGgiLCJtdWx0U2lnblgiLCJtdWx0U2lnblkiLCJtYW55UG9pbnRzIiwiY3JlYXRlUGF0aCIsInBhdGhEYXRhIiwiUGF0aCIsInN0cm9rZVdpZHRoIiwiZGVjaW1hdGVQb2ludHMiLCJkaXN0YW5jZSIsImFkanVzdGVkRGlzdGFuY2UiLCJsYXN0UG9pbnQiLCJuZXdQb2ludHMiLCJDaXJjbGVCcnVzaCIsImRyYXdEb3QiLCJhZGRQb2ludCIsImRvdCIsImFyYyIsInJhZGl1cyIsIm9yaWdpbmFsUmVuZGVyT25BZGRSZW1vdmUiLCJjaXJjbGVzIiwiY2lyY2xlIiwiQ2lyY2xlIiwib3JpZ2luWCIsIm9yaWdpblkiLCJjaXJjbGVSYWRpdXMiLCJjaXJjbGVDb2xvciIsIlNwcmF5QnJ1c2giLCJkZW5zaXR5IiwiZG90V2lkdGgiLCJkb3RXaWR0aFZhcmlhbmNlIiwicmFuZG9tT3BhY2l0eSIsIm9wdGltaXplT3ZlcmxhcHBpbmciLCJzcHJheUNodW5rcyIsImFkZFNwcmF5Q2h1bmsiLCJzcHJheUNodW5rUG9pbnRzIiwicmVjdHMiLCJpbGVuIiwic3ByYXlDaHVuayIsInJlY3QiLCJSZWN0IiwiX2dldE9wdGltaXplZFJlY3RzIiwidW5pcXVlUmVjdHMiLCJ1bmlxdWVSZWN0c0FycmF5IiwiZ2xvYmFsQWxwaGEiLCJmaWxsUmVjdCIsIlBhdHRlcm5CcnVzaCIsImdldFBhdHRlcm5TcmMiLCJwYXR0ZXJuQ2FudmFzIiwicGF0dGVybkN0eCIsImdldFBhdHRlcm5TcmNGdW5jdGlvbiIsImdldFBhdHRlcm4iLCJ0b3BMZWZ0IiwiX2dldExlZnRUb3BDb29yZHMiLCJzdXBwb3J0TGluZURhc2giLCJfaW5pdEludGVyYWN0aXZlIiwiX2NyZWF0ZUNhY2hlQ2FudmFzIiwidW5pU2NhbGVUcmFuc2Zvcm0iLCJ1bmlTY2FsZUtleSIsImNlbnRlcmVkU2NhbGluZyIsImNlbnRlcmVkUm90YXRpb24iLCJjZW50ZXJlZEtleSIsImFsdEFjdGlvbktleSIsInNlbGVjdGlvbiIsInNlbGVjdGlvbktleSIsImFsdFNlbGVjdGlvbktleSIsInNlbGVjdGlvbkNvbG9yIiwic2VsZWN0aW9uRGFzaEFycmF5Iiwic2VsZWN0aW9uQm9yZGVyQ29sb3IiLCJzZWxlY3Rpb25MaW5lV2lkdGgiLCJzZWxlY3Rpb25GdWxseUNvbnRhaW5lZCIsImhvdmVyQ3Vyc29yIiwibW92ZUN1cnNvciIsImRlZmF1bHRDdXJzb3IiLCJmcmVlRHJhd2luZ0N1cnNvciIsInJvdGF0aW9uQ3Vyc29yIiwibm90QWxsb3dlZEN1cnNvciIsImNvbnRhaW5lckNsYXNzIiwicGVyUGl4ZWxUYXJnZXRGaW5kIiwidGFyZ2V0RmluZFRvbGVyYW5jZSIsInNraXBUYXJnZXRGaW5kIiwiaXNEcmF3aW5nTW9kZSIsInByZXNlcnZlT2JqZWN0U3RhY2tpbmciLCJzbmFwQW5nbGUiLCJzbmFwVGhyZXNob2xkIiwic3RvcENvbnRleHRNZW51IiwiZmlyZVJpZ2h0Q2xpY2siLCJmaXJlTWlkZGxlQ2xpY2siLCJ0YXJnZXRzIiwiX2hvdmVyZWRUYXJnZXQiLCJfaG92ZXJlZFRhcmdldHMiLCJfY3VycmVudFRyYW5zZm9ybSIsIl9ncm91cFNlbGVjdG9yIiwiX2luaXRXcmFwcGVyRWxlbWVudCIsIl9jcmVhdGVVcHBlckNhbnZhcyIsIl9pbml0RXZlbnRMaXN0ZW5lcnMiLCJfY2hvb3NlT2JqZWN0c1RvUmVuZGVyIiwib2Jqc1RvUmVuZGVyIiwiYWN0aXZlR3JvdXBPYmplY3RzIiwiYWN0aXZlT2JqZWN0cyIsImdldEFjdGl2ZU9iamVjdHMiLCJjb250ZXh0VG9wRGlydHkiLCJyZW5kZXJUb3BMYXllciIsIl9kcmF3U2VsZWN0aW9uIiwicmVuZGVyVG9wIiwiX3Jlc2V0Q3VycmVudFRyYW5zZm9ybSIsIm9yaWdpbmFsIiwiX3Nob3VsZENlbnRlclRyYW5zZm9ybSIsIm1vdXNlWFNpZ24iLCJtb3VzZVlTaWduIiwiY29udGFpbnNQb2ludCIsInh5IiwiX25vcm1hbGl6ZVBvaW50ZXIiLCJfZmluZFRhcmdldENvcm5lciIsImludmVydGVkTSIsInZwdFBvaW50ZXIiLCJyZXN0b3JlUG9pbnRlclZwdCIsImlzVGFyZ2V0VHJhbnNwYXJlbnQiLCJub3JtYWxpemVkUG9pbnRlciIsInRhcmdldFJlbGF0aXZlWCIsInRhcmdldFJlbGF0aXZlWSIsIl9jYWNoZUNvbnRleHQiLCJjb250ZXh0Q2FjaGUiLCJvcmlnaW5hbENvbG9yIiwic2VsZWN0aW9uQmFja2dyb3VuZENvbG9yIiwiX3JlbmRlckNvbnRyb2xzIiwiaGFzQm9yZGVycyIsInRyYW5zcGFyZW50Q29ybmVycyIsIl9pc1NlbGVjdGlvbktleVByZXNzZWQiLCJfc2hvdWxkQ2xlYXJTZWxlY3Rpb24iLCJldmVudGVkIiwic2VsZWN0YWJsZSIsImNlbnRlclRyYW5zZm9ybSIsImFjdGlvbiIsImFsdEtleSIsIl9nZXRPcmlnaW5Gcm9tQ29ybmVyIiwiY29ybmVyIiwiX2dldEFjdGlvbkZyb21Db3JuZXIiLCJhbHJlYWR5U2VsZWN0ZWQiLCJfc2V0dXBDdXJyZW50VHJhbnNmb3JtIiwiZXgiLCJleSIsImxhc3RYIiwibGFzdFkiLCJzaGlmdEtleSIsIl9iZWZvcmVUcmFuc2Zvcm0iLCJfdHJhbnNsYXRlT2JqZWN0IiwibmV3TGVmdCIsIm5ld1RvcCIsIm1vdmVYIiwibW92ZVkiLCJfY2hhbmdlU2tld1RyYW5zZm9ybU9yaWdpbiIsIm1vdXNlTW92ZSIsImJ5Iiwib3JpZ2lucyIsIjAiLCJza2V3Iiwib3JpZ2luQSIsIm9yaWdpbkIiLCJmbGlwU2lnbiIsInNrZXdTaWduIiwiX3NrZXdPYmplY3QiLCJza2V3ZWQiLCJsb2NrU2tld2luZ1giLCJsb2NrU2tld2luZ1kiLCJhY3R1YWxNb3VzZUJ5T3JpZ2luIiwiY29uc3RyYWludFBvc2l0aW9uIiwiYWN0dWFsTW91c2VCeUNlbnRlciIsInRvTG9jYWxQb2ludCIsImxhc3RNb3VzZUJ5Q2VudGVyIiwiZGltIiwiX2dldFRyYW5zZm9ybWVkRGltZW5zaW9ucyIsInRyYW5zbGF0ZVRvT3JpZ2luUG9pbnQiLCJfc2V0T2JqZWN0U2tldyIsImxvY2FsTW91c2UiLCJfZGltIiwibmV3VmFsdWUiLCJuZXdEaW0iLCJkaW1Ob1NrZXciLCJvdGhlckJ5IiwiX290aGVyQnkiLCJfYnkiLCJuZXdEaW1Nb3VzZSIsImF0YW4iLCJfc2NhbGVPYmplY3QiLCJsb2NrU2NhbGluZ1giLCJsb2NrU2NhbGluZ1kiLCJsb2NrU2NhbGluZ0ZsaXAiLCJzY2FsZWQiLCJfc2V0TG9jYWxNb3VzZSIsIl9zZXRPYmplY3RTY2FsZSIsImZvcmJpZFNjYWxpbmdYIiwiZm9yYmlkU2NhbGluZ1kiLCJjaGFuZ2VYIiwiY2hhbmdlWSIsIm5ld1NjYWxlWCIsIm5ld1NjYWxlWSIsIlRleHRib3giLCJ3IiwiZ2V0TWluV2lkdGgiLCJfc2NhbGVPYmplY3RFcXVhbGx5IiwiX2ZsaXBPYmplY3QiLCJkaXN0IiwibGFzdERpc3QiLCJzaWduWCIsInNpZ25ZIiwicGFkZGluZyIsIl9yb3RhdGVPYmplY3QiLCJsb2NrUm90YXRpb24iLCJsYXN0QW5nbGUiLCJjdXJBbmdsZSIsImhhc1JvdGF0ZWQiLCJyaWdodEFuZ2xlTG9ja2VkIiwibGVmdEFuZ2xlTG9ja2VkIiwic2V0Q3Vyc29yIiwiY3Vyc29yIiwiZ3JvdXBTZWxlY3RvciIsImFsZWZ0IiwiYXRvcCIsIl9zZXRMaW5lRGFzaCIsInN0cm9rZVJlY3QiLCJmaW5kVGFyZ2V0Iiwic2tpcEdyb3VwIiwiYWN0aXZlVGFyZ2V0IiwiYWN0aXZlVGFyZ2V0U3VicyIsImFPYmplY3RzIiwiX3NlYXJjaFBvc3NpYmxlVGFyZ2V0cyIsIl9jaGVja1RhcmdldCIsImdsb2JhbFBvaW50ZXIiLCJpc0VkaXRpbmciLCJzdWJUYXJnZXQiLCJvYmpUb0NoZWNrIiwicG9pbnRlclRvVXNlIiwic3ViVGFyZ2V0Q2hlY2siLCJpZ25vcmVab29tIiwiX2Fic29sdXRlUG9pbnRlciIsIl9wb2ludGVyIiwiY3NzU2NhbGUiLCJib3VuZHNXaWR0aCIsImJvdW5kc0hlaWdodCIsImJvdHRvbSIsInJpZ2h0IiwicmV0aW5hU2NhbGluZyIsImxvd2VyQ2FudmFzQ2xhc3MiLCJfY29weUNhbnZhc1N0eWxlIiwiZnJvbUVsIiwidG9FbCIsImdldFNlbGVjdGlvbkNvbnRleHQiLCJnZXRTZWxlY3Rpb25FbGVtZW50IiwiZ2V0QWN0aXZlT2JqZWN0IiwiYWN0aXZlIiwiX2Rpc2NhcmRBY3RpdmVPYmplY3QiLCJfZmlyZVNlbGVjdGlvbkV2ZW50cyIsIm9sZE9iamVjdHMiLCJzb21ldGhpbmdDaGFuZ2VkIiwiYWRkZWQiLCJyZW1vdmVkIiwib3B0Iiwib2xkT2JqZWN0Iiwic2VsZWN0ZWQiLCJkZXNlbGVjdGVkIiwidXBkYXRlZCIsInNldEFjdGl2ZU9iamVjdCIsImN1cnJlbnRBY3RpdmVzIiwiX3NldEFjdGl2ZU9iamVjdCIsIm9uU2VsZWN0Iiwib25EZXNlbGVjdCIsImRpc2NhcmRBY3RpdmVPYmplY3QiLCJyZW1vdmVMaXN0ZW5lcnMiLCJvcmlnaW5hbFByb3BlcnRpZXMiLCJfcmVhbGl6ZUdyb3VwVHJhbnNmb3JtT25PYmplY3QiLCJfdW53aW5kR3JvdXBUcmFuc2Zvcm1Pbk9iamVjdCIsIm9yaWdpbmFsVmFsdWVzIiwicmVhbGl6ZVRyYW5zZm9ybSIsImNsZWFyQ29udGV4dFRvcCIsImN1cnNvck9mZnNldCIsIm1yIiwibWIiLCJtbCIsImFkZEV2ZW50T3B0aW9ucyIsInBhc3NpdmUiLCJjaGVja0NsaWNrIiwiYnV0dG9uIiwiY3Vyc29yTWFwIiwibWFpblRvdWNoSWQiLCJfYmluZEV2ZW50cyIsImFkZE9yUmVtb3ZlIiwiX2dldEV2ZW50UHJlZml4IiwiZW5hYmxlUG9pbnRlckV2ZW50cyIsImZ1bmN0b3IiLCJldmVudGpzRnVuY3RvciIsImNhbnZhc0VsZW1lbnQiLCJldmVudFR5cGVQcmVmaXgiLCJfb25SZXNpemUiLCJfb25Nb3VzZURvd24iLCJfb25Nb3VzZU1vdmUiLCJfb25Nb3VzZU91dCIsIl9vbk1vdXNlRW50ZXIiLCJfb25Nb3VzZVdoZWVsIiwiX29uQ29udGV4dE1lbnUiLCJfb25Eb3VibGVDbGljayIsIl9vbkRyYWdPdmVyIiwiX29uRHJhZ0VudGVyIiwiX29uRHJhZ0xlYXZlIiwiX29uRHJvcCIsIl9vblRvdWNoU3RhcnQiLCJldmVudGpzIiwiX29uR2VzdHVyZSIsIl9vbkRyYWciLCJfb25PcmllbnRhdGlvbkNoYW5nZSIsIl9vblNoYWtlIiwiX29uTG9uZ1ByZXNzIiwiX29uTW91c2VVcCIsIl9vblRvdWNoRW5kIiwiZXZlbnRzQm91bmQiLCJfc2ltcGxlRXZlbnRIYW5kbGVyIiwiX19vblRyYW5zZm9ybUdlc3R1cmUiLCJfX29uRHJhZyIsIl9fb25Nb3VzZVdoZWVsIiwiX3RhcmdldCIsImhpZGRlblRleHRhcmVhIiwiZm9jdXMiLCJjdXJyZW50VHJhbnNmb3JtIiwiX19vbk9yaWVudGF0aW9uQ2hhbmdlIiwiX19vblNoYWtlIiwiX19vbkxvbmdQcmVzcyIsInByZXZlbnREZWZhdWx0IiwiX2ZpcmVFbnRlckxlYXZlRXZlbnRzIiwic3RvcFByb3BhZ2F0aW9uIiwiX2NhY2hlVHJhbnNmb3JtRXZlbnREYXRhIiwiX2hhbmRsZUV2ZW50IiwiX3Jlc2V0VHJhbnNmb3JtRXZlbnREYXRhIiwiZ2V0UG9pbnRlcklkIiwiZXZ0IiwiaWRlbnRpZmllciIsInBvaW50ZXJJZCIsImlzUHJpbWFyeSIsInRvdWNoZXMiLCJfX29uTW91c2VEb3duIiwiX19vbk1vdXNlVXAiLCJfd2lsbEFkZE1vdXNlRG93biIsIl9fb25Nb3VzZU1vdmUiLCJfc2hvdWxkUmVuZGVyIiwic2hvdWxkUmVuZGVyIiwiaXNDbGljayIsIl9vbk1vdXNlVXBJbkRyYXdpbmdNb2RlIiwiX2ZpbmFsaXplQ3VycmVudFRyYW5zZm9ybSIsImFjdGlvblBlcmZvcm1lZCIsIl9tYXliZUdyb3VwT2JqZWN0cyIsImlzTW92aW5nIiwiX3NldEN1cnNvckZyb21FdmVudCIsIl9fY29ybmVyIiwiZXZlbnRUeXBlIiwic3ViVGFyZ2V0cyIsImFic29sdXRlUG9pbnRlciIsIl9zY2FsaW5nIiwiaGFzU3RhdGVDaGFuZ2VkIiwiX2FkZEV2ZW50T3B0aW9ucyIsIl9maXJlIiwiX29uTW91c2VEb3duSW5EcmF3aW5nTW9kZSIsIl9vbk1vdXNlTW92ZUluRHJhd2luZ01vZGUiLCJfcHJldmlvdXNQb2ludGVyIiwic2hvdWxkR3JvdXAiLCJfc2hvdWxkR3JvdXAiLCJfaGFuZGxlR3JvdXBpbmciLCJzYXZlU3RhdGUiLCJfdHJhbnNmb3JtT2JqZWN0IiwiX2ZpcmVPdmVyT3V0RXZlbnRzIiwiZmlyZVN5bnRoZXRpY0luT3V0RXZlbnRzIiwib2xkVGFyZ2V0IiwiZXZ0T3V0IiwiY2FudmFzRXZ0T3V0IiwiZXZ0SW4iLCJjYW52YXNFdnRJbiIsIl9kcmFnZ2Vkb3ZlclRhcmdldCIsImNvbmZpZyIsImluT3B0Iiwib3V0T3B0IiwiaW5GaXJlcyIsInRhcmdldENoYW5nZWQiLCJwcmV2aW91c1RhcmdldCIsIm5leHRUYXJnZXQiLCJyZXNldCIsIl9iZWZvcmVTY2FsZVRyYW5zZm9ybSIsIl9wZXJmb3JtVHJhbnNmb3JtQWN0aW9uIiwiX29uU2NhbGUiLCJfaXNVbmlzY2FsZVBvc3NpYmxlIiwiY3VycmVudEFjdGlvbiIsImdldENvcm5lckN1cnNvciIsImFjdGlvbklzRGlzYWJsZWQiLCJfZ2V0Um90YXRlZENvcm5lckN1cnNvciIsImhhc1JvdGF0aW5nUG9pbnQiLCJfdXBkYXRlQWN0aXZlU2VsZWN0aW9uIiwiX2NyZWF0ZUFjdGl2ZVNlbGVjdGlvbiIsImN1cnJlbnRBY3RpdmVPYmplY3RzIiwicmVtb3ZlV2l0aFVwZGF0ZSIsImFkZFdpdGhVcGRhdGUiLCJfY3JlYXRlR3JvdXAiLCJncm91cE9iamVjdHMiLCJleGl0RWRpdGluZyIsIkFjdGl2ZVNlbGVjdGlvbiIsIl9ncm91cFNlbGVjdGVkT2JqZWN0cyIsImFHcm91cCIsIl9jb2xsZWN0T2JqZWN0cyIsImN1cnJlbnRPYmplY3QiLCJzZWxlY3Rpb25YMVkxIiwic2VsZWN0aW9uWDJZMiIsImFsbG93SW50ZXJzZWN0IiwiaW50ZXJzZWN0c1dpdGhSZWN0IiwiaXNDb250YWluZWRXaXRoaW5SZWN0IiwidG9DYW52YXNFbGVtZW50IiwiY3JvcHBpbmciLCJzY2FsZWRXaWR0aCIsInNjYWxlZEhlaWdodCIsIm9yaWdpbmFsV2lkdGgiLCJvcmlnaW5hbEhlaWdodCIsIm5ld1pvb20iLCJ2cCIsIm9yaWdpbmFsSW50ZXJhY3RpdmUiLCJuZXdWcCIsIm9yaWdpbmFsUmV0aW5hIiwib3JpZ2luYWxDb250ZXh0VG9wIiwibG9hZEZyb21EYXRhbGVzc0pTT04iLCJqc29uIiwibG9hZEZyb21KU09OIiwic2VyaWFsaXplZCIsIkpTT04iLCJfZW5saXZlbk9iamVjdHMiLCJfc2V0QmdPdmVybGF5IiwiZW5saXZlbmVkQ2FudmFzQ2xpcCIsIl9fc2V0dXBDYW52YXMiLCJsb2FkZWQiLCJjYklmTG9hZGVkIiwiX19zZXRCZ092ZXJsYXkiLCJlbmxpdmVkT2JqZWN0IiwiX3RvRGF0YVVSTCIsIl90b0RhdGFVUkxXaXRoTXVsdGlwbGllciIsInRvRGF0YVVSTFdpdGhNdWx0aXBsaWVyIiwic3RyaW5naWZ5IiwiY2xvbmVXaXRob3V0RGF0YSIsImJhY2tncm91bmRJbWFnZU9wYWNpdHkiLCJiYWNrZ3JvdW5kSW1hZ2VTdHJldGNoIiwic3VwcG9ydHNMaW5lRGFzaCIsIm9iamVjdENhY2hpbmciLCJjb3JuZXJTaXplIiwiYm9yZGVyQ29sb3IiLCJib3JkZXJEYXNoQXJyYXkiLCJjb3JuZXJDb2xvciIsImNvcm5lclN0cm9rZUNvbG9yIiwiY29ybmVyU3R5bGUiLCJjb3JuZXJEYXNoQXJyYXkiLCJzdHJva2VEYXNoT2Zmc2V0IiwiYm9yZGVyT3BhY2l0eVdoZW5Nb3ZpbmciLCJib3JkZXJTY2FsZUZhY3RvciIsIm1pblNjYWxlTGltaXQiLCJoYXNDb250cm9scyIsInJvdGF0aW5nUG9pbnRPZmZzZXQiLCJsb2NrTW92ZW1lbnRYIiwibG9ja01vdmVtZW50WSIsImxvY2tVbmlTY2FsaW5nIiwic3RhdGVmdWxsQ2FjaGUiLCJub1NjYWxlQ2FjaGUiLCJzdHJva2VVbmlmb3JtIiwiZGlydHkiLCJwYWludEZpcnN0Iiwic3RhdGVQcm9wZXJ0aWVzIiwiY2FjaGVQcm9wZXJ0aWVzIiwiaW52ZXJ0ZWQiLCJhYnNvbHV0ZVBvc2l0aW9uZWQiLCJfY2FjaGVQcm9wZXJ0aWVzIiwiX3VwZGF0ZUNhY2hlQ2FudmFzIiwiX2xpbWl0Q2FjaGVTaXplIiwiZGltcyIsImxpbWl0ZWREaW1zIiwiY2FwcGVkIiwiX2dldENhY2hlQ2FudmFzRGltZW5zaW9ucyIsIm9iamVjdFNjYWxlIiwiZ2V0VG90YWxPYmplY3RTY2FsaW5nIiwibmVlZGVkWCIsIm5lZWRlZFkiLCJkcmF3aW5nV2lkdGgiLCJkcmF3aW5nSGVpZ2h0IiwibWluQ2FjaGVTaXplIiwiZGltZW5zaW9uc0NoYW5nZWQiLCJjYWNoZVdpZHRoIiwiY2FjaGVIZWlnaHQiLCJ6b29tQ2hhbmdlZCIsInNob3VsZFJlZHJhdyIsImFkZGl0aW9uYWxXaWR0aCIsImFkZGl0aW9uYWxIZWlnaHQiLCJzaG91bGRSZXNpemVDYW52YXMiLCJjYW52YXNXaWR0aCIsImNhbnZhc0hlaWdodCIsInNpemVHcm93aW5nIiwic2V0VHJhbnNmb3JtIiwiY2FsY093bk1hdHJpeCIsIl9yZW1vdmVEZWZhdWx0VmFsdWVzIiwiZ2V0T2JqZWN0U2NhbGluZyIsInNjYWxpbmciLCJyZXRpbmEiLCJnZXRPYmplY3RPcGFjaXR5Iiwic2hvdWxkQ29uc3RyYWluVmFsdWUiLCJpc0NoYW5nZWQiLCJncm91cE5lZWRzVXBkYXRlIiwiX2NvbnN0cmFpblNjYWxlIiwiaXNPbkFDYWNoZSIsInNldE9uR3JvdXAiLCJnZXRWaWV3cG9ydFRyYW5zZm9ybSIsImlzTm90VmlzaWJsZSIsImlzT25TY3JlZW4iLCJfc2V0dXBDb21wb3NpdGVPcGVyYXRpb24iLCJkcmF3U2VsZWN0aW9uQmFja2dyb3VuZCIsIl9zZXRPcGFjaXR5IiwiZHJhd0NhY2hlT25DYW52YXMiLCJfcmVtb3ZlQ2FjaGVDYW52YXMiLCJkcmF3T2JqZWN0IiwicHJvcGVydHlTZXQiLCJpc0NhY2hlRGlydHkiLCJoYXNTdHJva2UiLCJoYXNGaWxsIiwibmVlZHNJdHNPd25DYWNoZSIsIm93bkNhY2hpbmciLCJ3aWxsRHJhd1NoYWRvdyIsImRyYXdDbGlwUGF0aE9uQ2FjaGUiLCJvcmlnaW5hbEZpbGwiLCJvcmlnaW5hbFN0cm9rZSIsIl9zZXRDbGlwcGluZ1Byb3BlcnRpZXMiLCJfc2V0U3Ryb2tlU3R5bGVzIiwiX3NldEZpbGxTdHlsZXMiLCJfZHJhd0NsaXBQYXRoIiwic2tpcENhbnZhcyIsIl9nZXROb25UcmFuc2Zvcm1lZERpbWVuc2lvbnMiLCJfcmVtb3ZlU2hhZG93IiwiZGVjbCIsImxpbmVEYXNoT2Zmc2V0IiwiZGFzaEFycmF5IiwiYWx0ZXJuYXRpdmUiLCJzdHlsZU92ZXJyaWRlIiwiZHJhd0JvcmRlcnMiLCJmb3JBY3RpdmVTZWxlY3Rpb24iLCJkcmF3Qm9yZGVyc0luR3JvdXAiLCJtdWx0WCIsIm11bHRZIiwiX2FwcGx5UGF0dGVybkdyYWRpZW50VHJhbnNmb3JtIiwiX3JlbmRlclBhaW50SW5PcmRlciIsIl9yZW5kZXJTdHJva2UiLCJfcmVuZGVyRmlsbCIsIl9yZW5kZXJEYXNoZWRTdHJva2UiLCJfYXBwbHlQYXR0ZXJuRm9yVHJhbnNmb3JtZWRHcmFkaWVudCIsInBDdHgiLCJwQ2FudmFzIiwiX2ZpbmRDZW50ZXJGcm9tRWxlbWVudCIsIl9hc3NpZ25UcmFuc2Zvcm1NYXRyaXhQcm9wcyIsInByZXNlcnZlQXNwZWN0UmF0aW9PcHRpb25zIiwiY3JvcFgiLCJjcm9wWSIsIm9mZnNldExlZnQiLCJvZmZzZXRUb3AiLCJvYmplY3RGb3JtIiwiX2Zyb21PYmplY3QiLCJjbG9uZUFzSW1hZ2UiLCJ1dGlscyIsIm9yaWdQYXJhbXMiLCJvcmlnaW5hbEdyb3VwIiwib3JpZ2luYWxTaGFkb3ciLCJ3aXRob3V0VHJhbnNmb3JtIiwid2l0aG91dFNoYWRvdyIsImJvdW5kaW5nUmVjdCIsImdldEJvdW5kaW5nUmVjdCIsInNoYWRvd09mZnNldCIsIm9yaWdpbmFsQ2FudmFzIiwiaXNUeXBlIiwic2V0R3JhZGllbnQiLCJzZXRQYXR0ZXJuRmlsbCIsInNldENvbG9yIiwic2hvdWxkQ2VudGVyT3JpZ2luIiwiX3NldE9yaWdpblRvQ2VudGVyIiwiX3Jlc2V0T3JpZ2luIiwiY2VudGVySCIsInZpZXdwb3J0Q2VudGVySCIsImNlbnRlclYiLCJ2aWV3cG9ydENlbnRlclYiLCJ2aWV3cG9ydENlbnRlciIsImdldExvY2FsUG9pbnRlciIsInBDbGlja2VkIiwib2JqZWN0TGVmdFRvcCIsImNyZWF0ZUFjY2Vzc29ycyIsImV4dHJhUGFyYW0iLCJlbmxpdmVkUHJvcHMiLCJ0cmFuc2xhdGVUb0dpdmVuT3JpZ2luIiwiZnJvbU9yaWdpblgiLCJmcm9tT3JpZ2luWSIsInRvT3JpZ2luWCIsInRvT3JpZ2luWSIsInRyYW5zbGF0ZVRvQ2VudGVyUG9pbnQiLCJsZWZ0VG9wIiwiZ2V0UG9pbnRCeU9yaWdpbiIsImFkanVzdFBvc2l0aW9uIiwidG8iLCJvZmZzZXRGcm9tIiwib2Zmc2V0VG8iLCJoeXBvdEZ1bGwiLCJnZXRTY2FsZWRXaWR0aCIsInhGdWxsIiwieUZ1bGwiLCJfb3JpZ2luYWxPcmlnaW5YIiwiX29yaWdpbmFsT3JpZ2luWSIsIm9yaWdpblBvaW50IiwibXVsdGlwbHlNYXRyaWNlcyIsIm9Db29yZHMiLCJhQ29vcmRzIiwib3duTWF0cml4Q2FjaGUiLCJtYXRyaXhDYWNoZSIsImdldENvb3JkcyIsImFic29sdXRlIiwiY2FsY3VsYXRlIiwiY2FsY0Nvb3JkcyIsInBvaW50VEwiLCJwb2ludEJSIiwib3RoZXIiLCJsaW5lcyIsIl9nZXRJbWFnZUxpbmVzIiwiX2ZpbmRDcm9zc1BvaW50cyIsIl9jb250YWluc0NlbnRlck9mQ2FudmFzIiwiaXNQYXJ0aWFsbHlPblNjcmVlbiIsInRvcGxpbmUiLCJyaWdodGxpbmUiLCJib3R0b21saW5lIiwibGVmdGxpbmUiLCJ4aSIsImlMaW5lIiwieGNvdW50IiwibGluZUtleSIsImdldFNjYWxlZEhlaWdodCIsInNjYWxlVG9XaWR0aCIsImJvdW5kaW5nUmVjdEZhY3RvciIsInNjYWxlVG9IZWlnaHQiLCJfY2FsY1JvdGF0ZU1hdHJpeCIsIl9jYWxjVHJhbnNsYXRlTWF0cml4Iiwic3RhcnRNYXRyaXgiLCJmaW5hbE1hdHJpeCIsImNvc1AiLCJzaW5QIiwiY29zUFNpblAiLCJjb3NQTWludXNTaW5QIiwibXRyIiwic2tpcEFic29sdXRlIiwiX3NldENvcm5lckNvb3JkcyIsInRyYW5zZm9ybU1hdHJpeEtleSIsInByZWZpeCIsImNhY2hlIiwidE1hdHJpeCIsIl9jYWxjRGltZW5zaW9uc1RyYW5zZm9ybU1hdHJpeCIsImZsaXBwaW5nIiwiZGltWCIsImRpbVkiLCJub1NrZXciLCJfZmluYWxpemVEaW1lbnNpb25zIiwiYmJveCIsIl9jYWxjdWxhdGVDdXJyZW50RGltZW5zaW9ucyIsImdldFN2Z0NvbG9yU3RyaW5nIiwiZ2V0U3ZnU3R5bGVzIiwic2tpcFNoYWRvdyIsImdldFN2Z0ZpbHRlciIsImdldFN2Z1NwYW5TdHlsZXMiLCJ1c2VXaGl0ZVNwYWNlIiwidGV4dERlY29yYXRpb24iLCJnZXRTdmdUZXh0RGVjb3JhdGlvbiIsImRlbHRhWSIsIm92ZXJsaW5lIiwidW5kZXJsaW5lIiwibGluZXRocm91Z2giLCJnZXRTdmdDb21tb25zIiwiZ2V0U3ZnVHJhbnNmb3JtIiwiZnVsbCIsImdldFN2Z1RyYW5zZm9ybU1hdHJpeCIsIl9zZXRTVkdCZyIsInRleHRCZ1JlY3RzIiwiX2dldEZpbGxBdHRyaWJ1dGVzIiwiX2NyZWF0ZUJhc2VTVkdNYXJrdXAiLCJfdG9TVkciLCJfY3JlYXRlQmFzZUNsaXBQYXRoU1ZHTWFya3VwIiwib2JqZWN0TWFya3VwIiwiY29tbW9uUGllY2VzIiwiY2xpcFBhdGhNYXJrdXAiLCJub1N0eWxlIiwic3R5bGVJbmZvIiwic2hhZG93SW5mbyIsIndpdGhTaGFkb3ciLCJ2ZWN0b3JFZmZlY3QiLCJhYnNvbHV0ZUNsaXBQYXRoIiwiYWRkUGFpbnRPcmRlciIsInNhdmVQcm9wcyIsInByb3BzIiwidG1wT2JqIiwiZGFzaGVkUHJvcGVydHlTZXQiLCJfaXNFcXVhbCIsIm9yaWdWYWx1ZSIsImN1cnJlbnRWYWx1ZSIsImZpcnN0UGFzcyIsIl9jb250cm9sc1Zpc2liaWxpdHkiLCJpc0NvbnRyb2xWaXNpYmxlIiwibmV3VGhldGEiLCJjb3JuZXJIeXBvdGVudXNlIiwiY29zSGFsZk9mZnNldCIsInNpbkhhbGZPZmZzZXQiLCJ3aCIsImRyYXdSb3RhdGluZ1BvaW50Iiwicm90YXRlSGVpZ2h0Iiwic2NhbGVPZmZzZXQiLCJfZHJhd0NvbnRyb2wiLCJjb250cm9sIiwiY29udHJvbE5hbWUiLCJfZ2V0Q29udHJvbHNWaXNpYmlsaXR5Iiwic2V0Q29udHJvbFZpc2libGUiLCJzZXRDb250cm9sc1Zpc2liaWxpdHkiLCJGWF9EVVJBVElPTiIsImZ4Q2VudGVyT2JqZWN0SCIsImNhbGxiYWNrcyIsImVtcHR5IiwiZnhDZW50ZXJPYmplY3RWIiwiZnhSZW1vdmUiLCJza2lwQ2FsbGJhY2tzIiwicHJvcHNUb0FuaW1hdGUiLCJfYW5pbWF0ZSIsInByb3BQYWlyIiwiZnJvbSIsInZhbHVlUHJvZ3Jlc3MiLCJ0aW1lUHJvZ3Jlc3MiLCJjb29yZFByb3BzIiwibWFrZUVkZ2VUb09yaWdpbkdldHRlciIsInByb3BlcnR5TmFtZXMiLCJvcmlnaW5WYWx1ZXMiLCJheGlzMSIsImF4aXMyIiwiZGltZW5zaW9uIiwibmVhcmVzdCIsImZhcnRoZXN0IiwiTGluZSIsIl9zZXRXaWR0aEhlaWdodCIsIl9nZXRMZWZ0VG9PcmlnaW5YIiwiX2dldFRvcFRvT3JpZ2luWSIsImNhbGNMaW5lUG9pbnRzIiwib3JpZ1N0cm9rZVN0eWxlIiwieE11bHQiLCJ5TXVsdCIsIkFUVFJJQlVURV9OQU1FUyIsInBhcnNlZEF0dHJpYnV0ZXMiLCJwaSIsInN0YXJ0QW5nbGUiLCJlbmRBbmdsZSIsInNldFJhZGl1cyIsInN2Z1N0cmluZyIsInN0YXJ0WCIsInN0YXJ0WSIsImVuZFgiLCJlbmRZIiwibGFyZ2VGbGFnIiwiZ2V0UmFkaXVzWCIsImdldFJhZGl1c1kiLCJUcmlhbmdsZSIsIndpZHRoQnkyIiwiaGVpZ2h0QnkyIiwicGlCeTIiLCJFbGxpcHNlIiwiZ2V0UngiLCJnZXRSeSIsIl9pbml0UnhSeSIsImlzUm91bmRlZCIsIlBvbHlsaW5lIiwiX3NldFBvc2l0aW9uRGltZW5zaW9ucyIsImNvcnJlY3RMZWZ0VG9wIiwiY2FsY0RpbSIsIl9jYWxjRGltZW5zaW9ucyIsImZyb21TVkciLCJkaWZmWCIsImRpZmZZIiwiY29tbW9uUmVuZGVyIiwiZnJvbUVsZW1lbnRHZW5lcmF0b3IiLCJfY2xhc3MiLCJQb2x5Z29uIiwiX3RvU3RyaW5nIiwiY29tbWFuZExlbmd0aHMiLCJyZXBlYXRlZENvbW1hbmRzIiwiTSIsImZyb21BcnJheSIsIl9wYXJzZVBhdGgiLCJfcmVuZGVyUGF0aENvbW1hbmRzIiwidGVtcFgiLCJ0ZW1wWSIsInByZXZpb3VzIiwic3VicGF0aFN0YXJ0WCIsInN1YnBhdGhTdGFydFkiLCJjb250cm9sWCIsImNvbnRyb2xZIiwiX2dldE9mZnNldFRyYW5zZm9ybSIsImRpZ2l0cyIsImN1cnJlbnRQYXRoIiwiY29vcmRzU3RyIiwiY29vcmRzUGFyc2VkIiwicmUiLCJjb21tYW5kIiwiY29tbWFuZExlbmd0aCIsInJlcGVhdGVkQ29tbWFuZCIsImtsZW4iLCJhWCIsImFZIiwicGF0aFVybCIsInVzZVNldE9uR3JvdXAiLCJpc0FscmVhZHlHcm91cGVkIiwiX3VwZGF0ZU9iamVjdHNBQ29vcmRzIiwiX2NhbGNCb3VuZHMiLCJfdXBkYXRlT2JqZWN0c0Nvb3JkcyIsIl91cGRhdGVPYmplY3RDb29yZHMiLCJvYmplY3RMZWZ0Iiwib2JqZWN0VG9wIiwiX3Jlc3RvcmVPYmplY3RzU3RhdGUiLCJfaW5jbHVkZURlZmF1bHRWYWx1ZXMiLCJvYmpzVG9PYmplY3QiLCJvcmlnaW5hbERlZmF1bHRzIiwiX29iaiIsIm93bkNhY2hlIiwiX3Jlc3RvcmVPYmplY3RTdGF0ZSIsImRlc3Ryb3kiLCJ0b0FjdGl2ZVNlbGVjdGlvbiIsInVuZ3JvdXBPbkNhbnZhcyIsInNldE9iamVjdHNDb29yZHMiLCJvbmx5V2lkdGhIZWlnaHQiLCJpTGVuIiwiakxlbiIsIl9nZXRCb3VuZHMiLCJtaW5YWSIsIm1heFhZIiwiZW5saXZlZENsaXBQYXRoIiwidG9Hcm91cCIsIm5ld0dyb3VwIiwiY2hpbGRyZW5PdmVycmlkZSIsInNyY0Zyb21BdHRyaWJ1dGUiLCJfbGFzdFNjYWxlWCIsIl9sYXN0U2NhbGVZIiwiX2ZpbHRlclNjYWxpbmdYIiwiX2ZpbHRlclNjYWxpbmdZIiwibWluaW11bVNjYWxlVHJpZ2dlciIsImNhY2hlS2V5IiwiZmlsdGVycyIsIl9pbml0RWxlbWVudCIsIl9lbGVtZW50Iiwic2V0RWxlbWVudCIsInJlbW92ZVRleHR1cmUiLCJfaW5pdENvbmZpZyIsImFwcGx5RmlsdGVycyIsInJlc2l6ZUZpbHRlciIsImFwcGx5UmVzaXplRmlsdGVycyIsImJhY2tlbmQiLCJmaWx0ZXJCYWNrZW5kIiwiZXZpY3RDYWNoZXNGb3JLZXkiLCJzZXRDcm9zc09yaWdpbiIsImdldE9yaWdpbmFsU2l6ZSIsIl9zdHJva2UiLCJmaWx0ZXJPYmoiLCJnZXRTcmMiLCJoYXNDcm9wIiwic3Ryb2tlU3ZnIiwiaW1hZ2VNYXJrdXAiLCJnZXRTdmdTcmMiLCJvcmlnRmlsbCIsImZpbHRlcmVkIiwic2V0U3JjIiwibWluaW11bVNjYWxlIiwiZWxlbWVudFRvRmlsdGVyIiwiX2ZpbHRlcmVkRWwiLCJzb3VyY2VXaWR0aCIsInNvdXJjZUhlaWdodCIsImlzTmV1dHJhbFN0YXRlIiwiaW1nRWxlbWVudCIsIl9uZWVkc1Jlc2l6ZSIsImVsZW1lbnRUb0RyYXciLCJzVyIsInNIIiwic1giLCJzWSIsIl9yZXNldFdpZHRoSGVpZ2h0IiwiQ1NTX0NBTlZBUyIsIl9pbml0RmlsdGVycyIsInBBUiIsInJXaWR0aCIsInJIZWlnaHQiLCJwV2lkdGgiLCJwSGVpZ2h0IiwiX29iamVjdCIsInJlc2l6ZUZpbHRlcnMiLCJmcm9tVVJMIiwiaW1nT3B0aW9ucyIsIl9nZXRBbmdsZVZhbHVlRm9yU3RyYWlnaHRlbiIsInN0cmFpZ2h0ZW4iLCJmeFN0cmFpZ2h0ZW4iLCJzdHJhaWdodGVuT2JqZWN0IiwiZnhTdHJhaWdodGVuT2JqZWN0IiwidGVzdFByZWNpc2lvbiIsInByZWNpc2lvbiIsImZyYWdtZW50U291cmNlIiwiZnJhZ21lbnRTaGFkZXIiLCJjcmVhdGVTaGFkZXIiLCJGUkFHTUVOVF9TSEFERVIiLCJzaGFkZXJTb3VyY2UiLCJjb21waWxlU2hhZGVyIiwiZ2V0U2hhZGVyUGFyYW1ldGVyIiwiQ09NUElMRV9TVEFUVVMiLCJzZXR1cEdMQ29udGV4dCIsImNhcHR1cmVHUFVJbmZvIiwiaXNTdXBwb3J0ZWQiLCJnZXRQYXJhbWV0ZXIiLCJNQVhfVEVYVFVSRV9TSVpFIiwicHJlY2lzaW9ucyIsIndlYkdsUHJlY2lzaW9uIiwiY3JlYXRlV2ViR0xDYW52YXMiLCJhUG9zaXRpb24iLCJGbG9hdDMyQXJyYXkiLCJjaG9vc2VGYXN0ZXN0Q29weUdMVG8yRE1ldGhvZCIsImNhblVzZUltYWdlRGF0YSIsImNhbk1lYXN1cmVQZXJmIiwicGVyZm9ybWFuY2UiLCJjYW5Vc2VBcnJheUJ1ZmZlciIsIkFycmF5QnVmZmVyIiwiY2FuVXNlVWludDhDbGFtcGVkIiwiY29weUdMVG8yRCIsInN0YXJ0VGltZSIsImRyYXdJbWFnZVRpbWUiLCJ0ZXN0Q29udGV4dCIsIm5vdyIsImdsT3B0aW9ucyIsInByZW11bHRpcGxpZWRBbHBoYSIsImRlcHRoIiwic3RlbmNpbCIsImFudGlhbGlhcyIsImNsZWFyQ29sb3IiLCJjYWNoZWRUZXh0dXJlIiwiZ2V0Q2FjaGVkVGV4dHVyZSIsInNvdXJjZVRleHR1cmUiLCJjcmVhdGVUZXh0dXJlIiwidGFyZ2V0VGV4dHVyZSIsIm9yaWdpbmFsVGV4dHVyZSIsInBhc3NlcyIsIndlYmdsIiwicHJvZ3JhbUNhY2hlIiwicGFzcyIsInRlbXBGYm8iLCJjcmVhdGVGcmFtZWJ1ZmZlciIsImJpbmRGcmFtZWJ1ZmZlciIsIkZSQU1FQlVGRkVSIiwiYXBwbHlUbyIsInJlc2l6ZUNhbnZhc0lmTmVlZGVkIiwiYmluZFRleHR1cmUiLCJURVhUVVJFXzJEIiwiZGVsZXRlVGV4dHVyZSIsImRlbGV0ZUZyYW1lYnVmZmVyIiwiY2xlYXJXZWJHTENhY2hlcyIsInRleHR1cmVDYWNoZSIsInRleHR1cmVJbWFnZVNvdXJjZSIsInRleHR1cmUiLCJ0ZXhQYXJhbWV0ZXJpIiwiVEVYVFVSRV9NQUdfRklMVEVSIiwiTkVBUkVTVCIsIlRFWFRVUkVfTUlOX0ZJTFRFUiIsIlRFWFRVUkVfV1JBUF9TIiwiQ0xBTVBfVE9fRURHRSIsIlRFWFRVUkVfV1JBUF9UIiwidGV4SW1hZ2UyRCIsInVuaXF1ZUlkIiwiZ3B1SW5mbyIsInJlbmRlcmVyIiwidmVuZG9yIiwiZXh0IiwiZ2V0RXh0ZW5zaW9uIiwiVU5NQVNLRURfUkVOREVSRVJfV0VCR0wiLCJVTk1BU0tFRF9WRU5ET1JfV0VCR0wiLCJzb3VyY2VFbGVtZW50Iiwib3JpZ2luYWxFbCIsIm9yaWdpbmFsSW1hZ2VEYXRhIiwiQmFzZUZpbHRlciIsInZlcnRleFNvdXJjZSIsImNyZWF0ZVByb2dyYW0iLCJ2ZXJ0ZXhTaGFkZXIiLCJWRVJURVhfU0hBREVSIiwiZ2V0U2hhZGVySW5mb0xvZyIsInByb2dyYW0iLCJhdHRhY2hTaGFkZXIiLCJsaW5rUHJvZ3JhbSIsImdldFByb2dyYW1QYXJhbWV0ZXIiLCJMSU5LX1NUQVRVUyIsImdldFByb2dyYW1JbmZvTG9nIiwiYXR0cmlidXRlTG9jYXRpb25zIiwiZ2V0QXR0cmlidXRlTG9jYXRpb25zIiwidW5pZm9ybUxvY2F0aW9ucyIsImdldFVuaWZvcm1Mb2NhdGlvbnMiLCJ1U3RlcFciLCJnZXRVbmlmb3JtTG9jYXRpb24iLCJ1U3RlcEgiLCJnZXRBdHRyaWJMb2NhdGlvbiIsInNlbmRBdHRyaWJ1dGVEYXRhIiwiYVBvc2l0aW9uRGF0YSIsImF0dHJpYnV0ZUxvY2F0aW9uIiwiYnVmZmVyIiwiY3JlYXRlQnVmZmVyIiwiYmluZEJ1ZmZlciIsIkFSUkFZX0JVRkZFUiIsImVuYWJsZVZlcnRleEF0dHJpYkFycmF5IiwidmVydGV4QXR0cmliUG9pbnRlciIsIkZMT0FUIiwiYnVmZmVyRGF0YSIsIlNUQVRJQ19EUkFXIiwiX3NldHVwRnJhbWVCdWZmZXIiLCJmcmFtZWJ1ZmZlclRleHR1cmUyRCIsIkNPTE9SX0FUVEFDSE1FTlQwIiwiX3N3YXBUZXh0dXJlcyIsInRlbXAiLCJtYWluIiwibWFpblBhcmFtZXRlciIsImFwcGx5VG9XZWJHTCIsImFwcGx5VG8yZCIsInJldHJpZXZlU2hhZGVyIiwic2hhZGVyIiwidXNlUHJvZ3JhbSIsInVuaWZvcm0xZiIsInNlbmRVbmlmb3JtRGF0YSIsInZpZXdwb3J0IiwiZHJhd0FycmF5cyIsIlRSSUFOR0xFX1NUUklQIiwiYmluZEFkZGl0aW9uYWxUZXh0dXJlIiwidGV4dHVyZVVuaXQiLCJhY3RpdmVUZXh0dXJlIiwiVEVYVFVSRTAiLCJ1bmJpbmRBZGRpdGlvbmFsVGV4dHVyZSIsImdldE1haW5QYXJhbWV0ZXIiLCJzZXRNYWluUGFyYW1ldGVyIiwiY3JlYXRlSGVscExheWVyIiwiaGVscExheWVyIiwibWFpblAiLCJDb2xvck1hdHJpeCIsImNvbG9yc09ubHkiLCJ1Q29sb3JNYXRyaXgiLCJ1Q29uc3RhbnRzIiwiY29uc3RhbnRzIiwidW5pZm9ybU1hdHJpeDRmdiIsInVuaWZvcm00ZnYiLCJCcmlnaHRuZXNzIiwiYnJpZ2h0bmVzcyIsInVCcmlnaHRuZXNzIiwiQ29udm9sdXRlIiwib3BhcXVlIiwiQ29udm9sdXRlXzNfMSIsIkNvbnZvbHV0ZV8zXzAiLCJDb252b2x1dGVfNV8xIiwiQ29udm9sdXRlXzVfMCIsIkNvbnZvbHV0ZV83XzEiLCJDb252b2x1dGVfN18wIiwiQ29udm9sdXRlXzlfMSIsIkNvbnZvbHV0ZV85XzAiLCJkc3RPZmYiLCJzY3giLCJzY3kiLCJzcmNPZmYiLCJ3dCIsIndlaWdodHMiLCJzaWRlIiwiaGFsZlNpZGUiLCJzdyIsInNoIiwib3V0cHV0IiwiY3JlYXRlSW1hZ2VEYXRhIiwiZHN0IiwiYWxwaGFGYWMiLCJ1TWF0cml4IiwidU9wYXF1ZSIsInVIYWxmU2l6ZSIsInVTaXplIiwidW5pZm9ybTFmdiIsIkdyYXlzY2FsZSIsImxpZ2h0bmVzcyIsImx1bWlub3NpdHkiLCJ1TW9kZSIsInVuaWZvcm0xaSIsIkludmVydCIsImludmVydCIsInVJbnZlcnQiLCJOb2lzZSIsIm5vaXNlIiwicmFuZCIsInVOb2lzZSIsInVTZWVkIiwiUGl4ZWxhdGUiLCJibG9ja3NpemUiLCJfaSIsIl9qIiwiX2lMZW4iLCJfakxlbiIsInVCbG9ja3NpemUiLCJSZW1vdmVDb2xvciIsInVzZUFscGhhIiwibG93QyIsImhpZ2hDIiwidUxvdyIsInVIaWdoIiwiQnJvd25pZSIsIlZpbnRhZ2UiLCJLb2RhY2hyb21lIiwiVGVjaG5pY29sb3IiLCJQb2xhcm9pZCIsIlNlcGlhIiwiQmxhY2tXaGl0ZSIsIkJsZW5kQ29sb3IiLCJzY3JlZW4iLCJkaWZmIiwibGlnaHRlbiIsImRhcmtlbiIsImV4Y2x1c2lvbiIsInRpbnQiLCJidWlsZFNvdXJjZSIsInRnIiwiYWxwaGExIiwidUNvbG9yIiwiQmxlbmRJbWFnZSIsIm1hc2siLCJURVhUVVJFMSIsImNhbGN1bGF0ZU1hdHJpeCIsImNhbnZhczEiLCJibGVuZERhdGEiLCJibGVuZEltYWdlIiwidVRyYW5zZm9ybU1hdHJpeCIsInVJbWFnZSIsInVuaWZvcm1NYXRyaXgzZnYiLCJSZXNpemUiLCJyZXNpemVUeXBlIiwibGFuY3pvc0xvYmVzIiwidURlbHRhIiwidVRhcHMiLCJ1bmlmb3JtMmZ2IiwiaG9yaXpvbnRhbCIsInRhcHMiLCJmaWx0ZXJXaW5kb3ciLCJnZXRGaWx0ZXJXaW5kb3ciLCJnZW5lcmF0ZVNoYWRlciIsInRlbXBTY2FsZSIsImdldFRhcHMiLCJsb2JlRnVuY3Rpb24iLCJsYW5jem9zQ3JlYXRlIiwib2Zmc2V0cyIsImZyYWdtZW50U291cmNlVE9QIiwiZFciLCJkSCIsImxvYmVzIiwieHgiLCJyY3BTY2FsZVgiLCJyY3BTY2FsZVkiLCJuZXdEYXRhIiwib1ciLCJvSCIsInNsaWNlQnlUd28iLCJoZXJtaXRlRmFzdFJlc2l6ZSIsImJpbGluZWFyRmlsdGVyaW5nIiwibGFuY3pvc1Jlc2l6ZSIsInRtcENhbnZhcyIsImRvbmVXIiwiZG9uZUgiLCJzdGVwVyIsInN0ZXBIIiwiZFgiLCJkWSIsInNyY0RhdGEiLCJkZXN0SW1nIiwiZGVzdERhdGEiLCJsYW5jem9zIiwicmF0aW9YIiwicmF0aW9ZIiwicmNwUmF0aW9YIiwicmNwUmF0aW9ZIiwicmFuZ2UyWCIsInJhbmdlMlkiLCJjYWNoZUxhbmMiLCJpY2VudGVyIiwicHJvY2VzcyIsInUiLCJ3ZWlnaHQiLCJmWCIsImZZIiwieERpZmYiLCJ5RGlmZiIsImNobmwiLCJvcmlnUGl4IiwidzQiLCJwaXhlbHMiLCJkZXN0SW1hZ2UiLCJkZXN0UGl4ZWxzIiwicmF0aW9XIiwicmF0aW9IIiwicmF0aW9XSGFsZiIsInJhdGlvSEhhbGYiLCJpbWcyIiwiZGF0YTIiLCJ3ZWlnaHRzQWxwaGEiLCJneFIiLCJneEciLCJneEIiLCJneEEiLCJjZW50ZXJZIiwieXkiLCJjZW50ZXJYIiwidzAiLCJDb250cmFzdCIsImNvbnRyYXN0IiwiY29udHJhc3RGIiwidUNvbnRyYXN0IiwiU2F0dXJhdGlvbiIsInNhdHVyYXRpb24iLCJhZGp1c3QiLCJ1U2F0dXJhdGlvbiIsIkJsdXIiLCJhc3BlY3RSYXRpbyIsInNpbXBsZUJsdXIiLCJjYW52YXMyIiwiYmx1ckxheWVyMSIsImJsdXJMYXllcjIiLCJwZXJjZW50IiwiY3R4MSIsImN0eDIiLCJuZXdJbWFnZURhdGEiLCJkZWx0YSIsImNob29zZVJpZ2h0RGVsdGEiLCJibHVyU2NhbGUiLCJHYW1tYSIsImdhbW1hIiwickludiIsImdJbnYiLCJiSW52IiwiclZhbHMiLCJnVmFscyIsImJWYWxzIiwidUdhbW1hIiwidW5pZm9ybTNmdiIsIkNvbXBvc2VkIiwic3ViRmlsdGVycyIsInNvbWUiLCJIdWVSb3RhdGlvbiIsInJvdGF0aW9uIiwicmFkIiwiYVRoaXJkU3F0U2luIiwiT25lTWludXNDb3MiLCJfZGltZW5zaW9uQWZmZWN0aW5nUHJvcHMiLCJfcmVOZXdsaW5lIiwiX3JlU3BhY2VzQW5kVGFicyIsIl9yZVNwYWNlQW5kVGFiIiwiX3JlV29yZHMiLCJ0ZXh0QWxpZ24iLCJzdXBlcnNjcmlwdCIsImJhc2VsaW5lIiwic3Vic2NyaXB0IiwidGV4dEJhY2tncm91bmRDb2xvciIsIl9mb250U2l6ZUZyYWN0aW9uIiwiX2ZvbnRTaXplTXVsdCIsImNoYXJTcGFjaW5nIiwiX21lYXN1cmluZ0NvbnRleHQiLCJfc3R5bGVQcm9wZXJ0aWVzIiwiX19jaGFyQm91bmRzIiwiQ0FDSEVfRk9OVF9TSVpFIiwiTUlOX1RFWFRfV0lEVEgiLCJfX3NraXBEaW1lbnNpb24iLCJpbml0RGltZW5zaW9ucyIsImdldE1lYXN1cmluZ0NvbnRleHQiLCJfc3BsaXRUZXh0IiwibmV3TGluZXMiLCJfc3BsaXRUZXh0SW50b0xpbmVzIiwidGV4dExpbmVzIiwiX3RleHRMaW5lcyIsImdyYXBoZW1lTGluZXMiLCJfdW53cmFwcGVkVGV4dExpbmVzIiwiX3Vud3JhcHBlZExpbmVzIiwiX3RleHQiLCJncmFwaGVtZVRleHQiLCJfY2xlYXJDYWNoZSIsImNhbGNUZXh0V2lkdGgiLCJjdXJzb3JXaWR0aCIsImVubGFyZ2VTcGFjZXMiLCJjYWxjVGV4dEhlaWdodCIsImRpZmZTcGFjZSIsImN1cnJlbnRMaW5lV2lkdGgiLCJudW1iZXJPZlNwYWNlcyIsImFjY3VtdWxhdGVkU3BhY2UiLCJsaW5lIiwiY2hhckJvdW5kIiwic3BhY2VzIiwiaXNFbmRPZldyYXBwaW5nIiwiZ2V0TGluZVdpZHRoIiwia2VybmVkV2lkdGgiLCJsaW5lSW5kZXgiLCJtaXNzaW5nTmV3bGluZU9mZnNldCIsIl9zZXRUZXh0U3R5bGVzIiwiX3JlbmRlclRleHRMaW5lc0JhY2tncm91bmQiLCJfcmVuZGVyVGV4dERlY29yYXRpb24iLCJfcmVuZGVyVGV4dCIsIl9yZW5kZXJUZXh0U3Ryb2tlIiwiX3JlbmRlclRleHRGaWxsIiwiY2hhclN0eWxlIiwiZm9yTWVhc3VyaW5nIiwidGV4dEJhc2VsaW5lIiwiX2dldEZvbnREZWNsYXJhdGlvbiIsIm1heFdpZHRoIiwiX3JlbmRlclRleHRMaW5lIiwiX3JlbmRlckNoYXJzIiwic3R5bGVIYXMiLCJoZWlnaHRPZkxpbmUiLCJsaW5lTGVmdE9mZnNldCIsImxhc3RDb2xvciIsImNoYXJCb3giLCJjdXJyZW50Q29sb3IiLCJsaW5lVG9wT2Zmc2V0IiwibGVmdE9mZnNldCIsIl9nZXRMZWZ0T2Zmc2V0IiwidG9wT2Zmc2V0IiwiX2dldFRvcE9mZnNldCIsImJveFN0YXJ0IiwiYm94V2lkdGgiLCJnZXRIZWlnaHRPZkxpbmUiLCJfZ2V0TGluZUxlZnRPZmZzZXQiLCJnZXRWYWx1ZU9mUHJvcGVydHlBdCIsImdldEZvbnRDYWNoZSIsImNhY2hlUHJvcCIsIl9hcHBseUNoYXJTdHlsZXMiLCJzdHlsZURlY2xhcmF0aW9uIiwiX21lYXN1cmVDaGFyIiwiX2NoYXIiLCJwcmV2aW91c0NoYXIiLCJwcmV2Q2hhclN0eWxlIiwiY291cGxlV2lkdGgiLCJwcmV2aW91c1dpZHRoIiwiZm9udENhY2hlIiwiY291cGxlIiwic3R5bGVzQXJlRXF1YWwiLCJmb250TXVsdGlwbGllciIsIm1lYXN1cmVUZXh0IiwiZ2V0SGVpZ2h0T2ZDaGFyIiwibWVhc3VyZUxpbmUiLCJsaW5lSW5mbyIsIl9tZWFzdXJlTGluZSIsIl9nZXRXaWR0aE9mQ2hhclNwYWNpbmciLCJncmFwaGVtZSIsInByZXZHcmFwaGVtZSIsImdyYXBoZW1lSW5mbyIsImxpbmVCb3VuZHMiLCJfZ2V0R3JhcGhlbWVCb3giLCJudW1PZlNwYWNlcyIsInNraXBMZWZ0IiwiZ2V0Q29tcGxldGVTdHlsZURlY2xhcmF0aW9uIiwicHJldlN0eWxlIiwiaW5mbyIsInByZXZpb3VzQm94IiwiX19saW5lSGVpZ2h0cyIsIm1heEhlaWdodCIsIl9yZW5kZXJUZXh0Q29tbW9uIiwibGluZUhlaWdodHMiLCJpc0VtcHR5U3R5bGVzIiwiYWN0dWFsU3R5bGUiLCJuZXh0U3R5bGUiLCJ0aW1lVG9SZW5kZXIiLCJpc0p1c3RpZnkiLCJjaGFyc1RvUmVuZGVyIiwic2hvcnRDdXQiLCJfcmVuZGVyQ2hhciIsIl9oYXNTdHlsZUNoYW5nZWQiLCJfZ2V0U3R5bGVEZWNsYXJhdGlvbiIsImZ1bGxEZWNsIiwic2hvdWxkRmlsbCIsInNob3VsZFN0cm9rZSIsImZpbGxUZXh0Iiwic3Ryb2tlVGV4dCIsInNldFN1cGVyc2NyaXB0IiwiX3NldFNjcmlwdCIsInNldFN1YnNjcmlwdCIsInNjaGVtYSIsImxvYyIsImdldDJEQ3Vyc29yTG9jYXRpb24iLCJzZXRTZWxlY3Rpb25TdHlsZXMiLCJ0aGlzU3R5bGUiLCJfaGFzU3R5bGVDaGFuZ2VkRm9yU3ZnIiwiX19saW5lV2lkdGhzIiwiX3Nob3VsZENsZWFyRGltZW5zaW9uQ2FjaGUiLCJzaG91bGRDbGVhciIsIl9mb3JjZUNsZWFyQ2FjaGUiLCJfc2l6ZSIsIl9keSIsImxhc3REZWNvcmF0aW9uIiwiY3VycmVudERlY29yYXRpb24iLCJjdXJyZW50RmlsbCIsImxhc3RGaWxsIiwic3R5bGVPYmplY3QiLCJmYW1pbHkiLCJmb250SXNHZW5lcmljIiwiZ2VuZXJpY0ZvbnRzIiwibmV3TGluZSIsIm5ld1RleHQiLCJhZGRpdGlvbmFsUHJvcGVydGllcyIsIm5lZWRzRGltcyIsIl9rZXkiLCJwYXJzZWRBbmNob3IiLCJ0ZXh0QW5jaG9yIiwib3JpZ2luYWxTdHJva2VXaWR0aCIsInRleHRIZWlnaHRTY2FsZUZhY3RvciIsInNjYWxlZERpZmYiLCJ0ZXh0SGVpZ2h0Iiwib2ZmWCIsInAzIiwiY2xlYW5TdHlsZSIsImxldHRlckNvdW50Iiwic3R5bGVQcm9wZXJ0eVZhbHVlIiwic3R5bGVzQ291bnQiLCJhbGxTdHlsZU9iamVjdFByb3BlcnRpZXNNYXRjaCIsImdyYXBoZW1lQ291bnQiLCJyZW1vdmVTdHlsZSIsImxpbmVOdW0iLCJjaGFyTnVtIiwiX2V4dGVuZFN0eWxlcyIsIl9nZXRMaW5lU3R5bGUiLCJfc2V0TGluZVN0eWxlIiwiX3NldFN0eWxlRGVjbGFyYXRpb24iLCJzZWxlY3Rpb25TdGFydCIsInNraXBXcmFwcGluZyIsImdldFNlbGVjdGlvblN0eWxlcyIsInN0YXJ0SW5kZXgiLCJlbmRJbmRleCIsInNlbGVjdGlvbkVuZCIsImdldFN0eWxlQXRQb3NpdGlvbiIsImxpbmVTdHlsZSIsIl9kZWxldGVTdHlsZURlY2xhcmF0aW9uIiwiX2RlbGV0ZUxpbmVTdHlsZSIsInBhcnNlRGVjb3JhdGlvbiIsIklUZXh0IiwiZWRpdGFibGUiLCJlZGl0aW5nQm9yZGVyQ29sb3IiLCJjdXJzb3JDb2xvciIsImN1cnNvckRlbGF5IiwiY3Vyc29yRHVyYXRpb24iLCJjYWNoaW5nIiwiX3JlU3BhY2UiLCJfY3VycmVudEN1cnNvck9wYWNpdHkiLCJfc2VsZWN0aW9uRGlyZWN0aW9uIiwiX2Fib3J0Q3Vyc29yQW5pbWF0aW9uIiwiX193aWR0aE9mU3BhY2UiLCJpbkNvbXBvc2l0aW9uTW9kZSIsImluaXRCZWhhdmlvciIsInNldFNlbGVjdGlvblN0YXJ0IiwiX3VwZGF0ZUFuZEZpcmUiLCJzZXRTZWxlY3Rpb25FbmQiLCJfZmlyZVNlbGVjdGlvbkNoYW5nZWQiLCJfdXBkYXRlVGV4dGFyZWEiLCJpbml0RGVsYXllZEN1cnNvciIsImN1cnNvck9mZnNldENhY2hlIiwicmVuZGVyQ3Vyc29yT3JTZWxlY3Rpb24iLCJza2lwUmVzdG9yZSIsIl9jbGVhclRleHRBcmVhIiwiYm91bmRhcmllcyIsIl9nZXRDdXJzb3JCb3VuZGFyaWVzIiwicmVuZGVyQ3Vyc29yIiwicmVuZGVyU2VsZWN0aW9uIiwiX2dldEN1cnNvckJvdW5kYXJpZXNPZmZzZXRzIiwiY3Vyc29yUG9zaXRpb24iLCJjdXJzb3JMb2NhdGlvbiIsImNoYXJIZWlnaHQiLCJfX2lzTW91c2Vkb3duIiwic3RhcnRMaW5lIiwiZW5kTGluZSIsInN0YXJ0Q2hhciIsImVuZENoYXIiLCJyZWFsTGluZUhlaWdodCIsImxpbmVPZmZzZXQiLCJib3hFbmQiLCJjb21wb3NpdGlvbkNvbG9yIiwiZ2V0Q3VycmVudENoYXJGb250U2l6ZSIsImNwIiwiX2dldEN1cnJlbnRDaGFySW5kZXgiLCJnZXRDdXJyZW50Q2hhckNvbG9yIiwiaW5pdEFkZGVkSGFuZGxlciIsImluaXRSZW1vdmVkSGFuZGxlciIsImluaXRDdXJzb3JTZWxlY3Rpb25IYW5kbGVycyIsImluaXREb3VibGVDbGlja1NpbXVsYXRpb24iLCJtb3VzZU1vdmVIYW5kbGVyIiwiX2luaXRDYW52YXNIYW5kbGVycyIsIl9yZW1vdmVDYW52YXNIYW5kbGVycyIsIl90aWNrIiwiX2N1cnJlbnRUaWNrU3RhdGUiLCJfYW5pbWF0ZUN1cnNvciIsInRhcmdldE9wYWNpdHkiLCJjb21wbGV0ZU1ldGhvZCIsInRpY2tTdGF0ZSIsImlzQWJvcnRlZCIsIl9vblRpY2tDb21wbGV0ZSIsIl9jdXJzb3JUaW1lb3V0MSIsIl9jdXJyZW50VGlja0NvbXBsZXRlU3RhdGUiLCJyZXN0YXJ0IiwiZGVsYXkiLCJhYm9ydEN1cnNvckFuaW1hdGlvbiIsIl9jdXJzb3JUaW1lb3V0MiIsInNlbGVjdEFsbCIsImdldFNlbGVjdGVkVGV4dCIsImZpbmRXb3JkQm91bmRhcnlMZWZ0Iiwic3RhcnRGcm9tIiwiZmluZFdvcmRCb3VuZGFyeVJpZ2h0IiwiZmluZExpbmVCb3VuZGFyeUxlZnQiLCJmaW5kTGluZUJvdW5kYXJ5UmlnaHQiLCJzZWFyY2hXb3JkQm91bmRhcnkiLCJkaXJlY3Rpb24iLCJzZWxlY3RXb3JkIiwibmV3U2VsZWN0aW9uU3RhcnQiLCJuZXdTZWxlY3Rpb25FbmQiLCJzZWxlY3RMaW5lIiwiZW50ZXJFZGl0aW5nIiwiZXhpdEVkaXRpbmdPbk90aGVycyIsImluaXRIaWRkZW5UZXh0YXJlYSIsIl9zYXZlRWRpdGluZ1Byb3BzIiwiX3NldEVkaXRpbmdQcm9wcyIsIl90ZXh0QmVmb3JlRWRpdCIsImluaXRNb3VzZU1vdmVIYW5kbGVyIiwiZ2V0U2VsZWN0aW9uU3RhcnRGcm9tUG9pbnRlciIsImN1cnJlbnRTdGFydCIsImN1cnJlbnRFbmQiLCJfX3NlbGVjdGlvblN0YXJ0T25Nb3VzZURvd24iLCJyZXN0YXJ0Q3Vyc29ySWZOZWVkZWQiLCJmcm9tU3RyaW5nVG9HcmFwaGVtZVNlbGVjdGlvbiIsInNtYWxsZXJUZXh0U3RhcnQiLCJncmFwaGVtZVN0YXJ0Iiwic21hbGxlclRleHRFbmQiLCJmcm9tR3JhcGhlbWVUb1N0cmluZ1NlbGVjdGlvbiIsIm5ld1NlbGVjdGlvbiIsInVwZGF0ZVRleHRhcmVhUG9zaXRpb24iLCJ1cGRhdGVGcm9tVGV4dEFyZWEiLCJfY2FsY1RleHRhcmVhUG9zaXRpb24iLCJkZXNpcmVkUG9zaXRpb24iLCJjb21wb3NpdGlvblN0YXJ0IiwidXBwZXJDYW52YXMiLCJ1cHBlckNhbnZhc1dpZHRoIiwidXBwZXJDYW52YXNIZWlnaHQiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsIl9zYXZlZFByb3BzIiwiX3Jlc3RvcmVFZGl0aW5nUHJvcHMiLCJpc1RleHRDaGFuZ2VkIiwiX3JlbW92ZUV4dHJhbmVvdXNTdHlsZXMiLCJyZW1vdmVTdHlsZUZyb21UbyIsInN0eWxlT2JqIiwiY3Vyc29yU3RhcnQiLCJjdXJzb3JFbmQiLCJsaW5lU3RhcnQiLCJjaGFyU3RhcnQiLCJsaW5lRW5kIiwiY2hhckVuZCIsInNoaWZ0TGluZVN0eWxlcyIsIm51bWVyaWNDaGFyIiwiY2xvbmVkU3R5bGVzIiwibnVtZXJpY0xpbmUiLCJpbnNlcnROZXdsaW5lU3R5bGVPYmplY3QiLCJxdHkiLCJjb3BpZWRTdHlsZSIsImN1cnJlbnRDaGFyU3R5bGUiLCJuZXdMaW5lU3R5bGVzIiwic29tZXRoaW5nQWRkZWQiLCJudW1JbmRleCIsImluc2VydENoYXJTdHlsZU9iamVjdCIsInF1YW50aXR5IiwiY3VycmVudExpbmVTdHlsZXMiLCJjdXJyZW50TGluZVN0eWxlc0Nsb25lZCIsIm51bWVyaWNJbmRleCIsIm5ld1N0eWxlIiwiaW5zZXJ0TmV3U3R5bGVCbG9jayIsImluc2VydGVkVGV4dCIsImN1cnNvckxvYyIsImFkZGVkTGluZXMiLCJsaW5lc0xlbmd0aCIsInNldFNlbGVjdGlvblN0YXJ0RW5kV2l0aFNoaWZ0Iiwic2V0U2VsZWN0aW9uSW5Cb3VuZGFyaWVzIiwiX19sYXN0Q2xpY2tUaW1lIiwiX19sYXN0TGFzdENsaWNrVGltZSIsIl9fbGFzdFBvaW50ZXIiLCJfX25ld0NsaWNrVGltZSIsIm5ld1BvaW50ZXIiLCJpc1RyaXBsZUNsaWNrIiwiX3N0b3BFdmVudCIsIl9fbGFzdElzRWRpdGluZyIsIl9fbGFzdFNlbGVjdGVkIiwiaW5pdE1vdXNlZG93bkhhbmRsZXIiLCJpbml0TW91c2V1cEhhbmRsZXIiLCJpbml0Q2xpY2tzIiwiZG91YmxlQ2xpY2tIYW5kbGVyIiwidHJpcGxlQ2xpY2tIYW5kbGVyIiwiX21vdXNlRG93bkhhbmRsZXIiLCJzZXRDdXJzb3JCeUNsaWNrIiwiX21vdXNlRG93bkhhbmRsZXJCZWZvcmUiLCJtb3VzZVVwSGFuZGxlciIsImN1cnJlbnRBY3RpdmUiLCJtb3VzZU9mZnNldCIsInByZXZXaWR0aCIsIl9nZXROZXdTZWxlY3Rpb25TdGFydEZyb21PZmZzZXQiLCJkaXN0YW5jZUJ0d0xhc3RDaGFyQW5kQ3Vyc29yIiwiZGlzdGFuY2VCdHdOZXh0Q2hhckFuZEN1cnNvciIsIm9uS2V5RG93biIsIm9uS2V5VXAiLCJvbklucHV0IiwiY29weSIsInBhc3RlIiwib25Db21wb3NpdGlvblN0YXJ0Iiwib25Db21wb3NpdGlvblVwZGF0ZSIsIm9uQ29tcG9zaXRpb25FbmQiLCJfY2xpY2tIYW5kbGVySW5pdGlhbGl6ZWQiLCJvbkNsaWNrIiwia2V5c01hcCIsIjkiLCIyNyIsIjMzIiwiMzQiLCIzNSIsIjM2IiwiMzciLCIzOCIsIjM5IiwiNDAiLCJjdHJsS2V5c01hcFVwIiwiNjciLCI4OCIsImN0cmxLZXlzTWFwRG93biIsIjY1Iiwia2V5Q29kZSIsImN0cmxLZXkiLCJtZXRhS2V5Iiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwiX2NvcHlEb25lIiwiZnJvbVBhc3RlIiwicmVtb3ZlZFRleHQiLCJuZXh0VGV4dCIsImNoYXJDb3VudCIsIm5leHRDaGFyQ291bnQiLCJjaGFyRGlmZiIsInRleHRhcmVhU2VsZWN0aW9uIiwiYmFja0RlbGV0ZSIsImNvcGllZFRleHQiLCJjb3BpZWRUZXh0U3R5bGUiLCJjb21wb3NpdGlvbkVuZCIsIl9nZXRDbGlwYm9hcmREYXRhIiwiY2xpcGJvYXJkRGF0YSIsIl9nZXRXaWR0aEJlZm9yZUN1cnNvciIsIndpZHRoQmVmb3JlQ3Vyc29yIiwiZ2V0RG93bkN1cnNvck9mZnNldCIsImlzUmlnaHQiLCJzZWxlY3Rpb25Qcm9wIiwiX2dldFNlbGVjdGlvbkZvck9mZnNldCIsImluZGV4T25PdGhlckxpbmUiLCJfZ2V0SW5kZXhPbkxpbmUiLCJnZXRVcEN1cnNvck9mZnNldCIsInRleHRCZWZvcmVDdXJzb3IiLCJjaGFyV2lkdGgiLCJmb3VuZE1hdGNoIiwid2lkdGhPZkNoYXJzT25MaW5lIiwiaW5kZXhPbkxpbmUiLCJsZWZ0RWRnZSIsInJpZ2h0RWRnZSIsIm9mZnNldEZyb21MZWZ0RWRnZSIsIm1vdmVDdXJzb3JEb3duIiwiX21vdmVDdXJzb3JVcE9yRG93biIsIm1vdmVDdXJzb3JVcCIsIm1vdmVDdXJzb3JXaXRoU2hpZnQiLCJtb3ZlQ3Vyc29yV2l0aG91dFNoaWZ0IiwibW92ZUN1cnNvckxlZnQiLCJfbW92ZUN1cnNvckxlZnRPclJpZ2h0IiwiX21vdmUiLCJfbW92ZUxlZnQiLCJfbW92ZVJpZ2h0IiwibW92ZUN1cnNvckxlZnRXaXRob3V0U2hpZnQiLCJjaGFuZ2UiLCJtb3ZlQ3Vyc29yTGVmdFdpdGhTaGlmdCIsIm1vdmVDdXJzb3JSaWdodCIsImFjdGlvbk5hbWUiLCJtb3ZlQ3Vyc29yUmlnaHRXaXRoU2hpZnQiLCJtb3ZlQ3Vyc29yUmlnaHRXaXRob3V0U2hpZnQiLCJjaGFuZ2VkIiwicmVtb3ZlQ2hhcnMiLCJpbnNlcnRDaGFycyIsIl9nZXRTVkdMZWZ0VG9wT2Zmc2V0cyIsInRleHRBbmRCZyIsIl9nZXRTVkdUZXh0QW5kQmciLCJ0ZXh0VG9wIiwidGV4dExlZnQiLCJfd3JhcFNWR1RleHRBbmRCZyIsImxpbmVUb3AiLCJ0ZXh0U3BhbnMiLCJ0ZXh0VG9wT2Zmc2V0IiwidGV4dExlZnRPZmZzZXQiLCJfc2V0U1ZHVGV4dExpbmVCZyIsIl9zZXRTVkdUZXh0TGluZVRleHQiLCJfY3JlYXRlVGV4dENoYXJTcGFuIiwic3R5bGVEZWNsIiwic2hvdWxkVXNlV2hpdGVzcGFjZSIsInN0eWxlUHJvcHMiLCJmaWxsU3R5bGVzIiwiZHlTcGFuIiwiX3B1c2hUZXh0QmdSZWN0IiwiZmlsbENvbG9yIiwiX2dldFNWR0xpbmVUb3BPZmZzZXQiLCJsYXN0SGVpZ2h0IiwibWluV2lkdGgiLCJkeW5hbWljTWluV2lkdGgiLCJfX2NhY2hlZExpbmVzIiwiX3dvcmRKb2luZXJzIiwic3BsaXRCeUdyYXBoZW1lIiwiX3N0eWxlTWFwIiwiX2dlbmVyYXRlU3R5bGVNYXAiLCJ0ZXh0SW5mbyIsInJlYWxMaW5lQ291bnQiLCJyZWFsTGluZUNoYXJDb3VudCIsImlzV3JhcHBpbmciLCJuZXh0T2Zmc2V0Iiwic2hvdWxkTGltaXQiLCJtYXBOZXh0TGluZSIsIl93cmFwVGV4dCIsImRlc2lyZWRXaWR0aCIsIndyYXBwZWQiLCJfd3JhcExpbmUiLCJfbWVhc3VyZVdvcmQiLCJ3b3JkIiwiY2hhck9mZnNldCIsIl9saW5lIiwicmVzZXJ2ZWRTcGFjZSIsIndvcmRzIiwiaW5maXgiLCJ3b3JkV2lkdGgiLCJpbmZpeFdpZHRoIiwibGFyZ2VzdFdvcmRXaWR0aCIsImxpbmVKdXN0U3RhcnRlZCIsImFkZGl0aW9uYWxTcGFjZSIsImxpbmVzVG9LZWVwIiwiY29tcG9uZW50cyIsImJvZHlGaWxsIiwiYm9keVRleHQiLCJDb25zdGFudHMiLCJSRUNUX0RJU0FCTEVEX0NPTlRST0xTIiwiX2luaXRDb21wb25lbnRzIiwiX3NldENvbXBvbmVudHNQb3NpdGlvbiIsIl9zZXR1cENvbXBvbmVudHMiLCJzZXRUZXh0IiwiY29tcG9uZW50IiwiZ2V0Q29tcG9uZW50cyIsIkFycm93bGluZSIsImxlZnRUcmlhbmdsZSIsInJpZ2h0VHJpYW5nbGUiLCJkZWdyZWVzVG9SYWRpYW5zUmF0aW8iLCJjb3NUZXRhIiwic2luVGV0YSIsImJhc2U2NCIsImllZWU3NTQiLCJrTWF4TGVuZ3RoIiwiVFlQRURfQVJSQVlfU1VQUE9SVCIsIlJhbmdlRXJyb3IiLCJfX3Byb3RvX18iLCJhcmciLCJlbmNvZGluZ09yT2Zmc2V0IiwiYWxsb2NVbnNhZmUiLCJUeXBlRXJyb3IiLCJieXRlT2Zmc2V0IiwiYnl0ZUxlbmd0aCIsImZyb21BcnJheUxpa2UiLCJmcm9tQXJyYXlCdWZmZXIiLCJpc0VuY29kaW5nIiwiYWN0dWFsIiwid3JpdGUiLCJmcm9tU3RyaW5nIiwiaXNCdWZmZXIiLCJjaGVja2VkIiwidmFsIiwiYXNzZXJ0U2l6ZSIsImlzVmlldyIsImxvd2VyZWRDYXNlIiwidXRmOFRvQnl0ZXMiLCJiYXNlNjRUb0J5dGVzIiwic2xvd1RvU3RyaW5nIiwiaGV4U2xpY2UiLCJ1dGY4U2xpY2UiLCJhc2NpaVNsaWNlIiwibGF0aW4xU2xpY2UiLCJiYXNlNjRTbGljZSIsInV0ZjE2bGVTbGljZSIsImJpZGlyZWN0aW9uYWxJbmRleE9mIiwiZGlyIiwiYXJyYXlJbmRleE9mIiwibGFzdEluZGV4T2YiLCJpbmRleFNpemUiLCJhcnJMZW5ndGgiLCJ2YWxMZW5ndGgiLCJyZWFkIiwiYnVmIiwicmVhZFVJbnQxNkJFIiwiZm91bmRJbmRleCIsImZvdW5kIiwiaGV4V3JpdGUiLCJyZW1haW5pbmciLCJzdHJMZW4iLCJ1dGY4V3JpdGUiLCJibGl0QnVmZmVyIiwiYXNjaWlXcml0ZSIsImJ5dGVBcnJheSIsImFzY2lpVG9CeXRlcyIsImxhdGluMVdyaXRlIiwiYmFzZTY0V3JpdGUiLCJ1Y3MyV3JpdGUiLCJ1bml0cyIsImhpIiwibG8iLCJ1dGYxNmxlVG9CeXRlcyIsImZyb21CeXRlQXJyYXkiLCJyZXMiLCJzZWNvbmRCeXRlIiwidGhpcmRCeXRlIiwiZm91cnRoQnl0ZSIsInRlbXBDb2RlUG9pbnQiLCJmaXJzdEJ5dGUiLCJjb2RlUG9pbnQiLCJieXRlc1BlclNlcXVlbmNlIiwiY29kZVBvaW50cyIsImZyb21DaGFyQ29kZSIsImRlY29kZUNvZGVQb2ludHNBcnJheSIsIlNsb3dCdWZmZXIiLCJhbGxvYyIsIklOU1BFQ1RfTUFYX0JZVEVTIiwiZm9vIiwic3ViYXJyYXkiLCJ0eXBlZEFycmF5U3VwcG9ydCIsInBvb2xTaXplIiwiX2F1Z21lbnQiLCJzcGVjaWVzIiwiY29uZmlndXJhYmxlIiwiYWxsb2NVbnNhZmVTbG93IiwiX2lzQnVmZmVyIiwiY29tcGFyZSIsImxpc3QiLCJzd2FwMTYiLCJzd2FwMzIiLCJzd2FwNjQiLCJlcXVhbHMiLCJpbnNwZWN0IiwidGhpc1N0YXJ0IiwidGhpc0VuZCIsInRoaXNDb3B5IiwidGFyZ2V0Q29weSIsImluY2x1ZGVzIiwiaXNGaW5pdGUiLCJfYXJyIiwicmV0Iiwib3V0IiwiYnl0ZXMiLCJjaGVja09mZnNldCIsImNoZWNrSW50Iiwib2JqZWN0V3JpdGVVSW50MTYiLCJsaXR0bGVFbmRpYW4iLCJvYmplY3RXcml0ZVVJbnQzMiIsImNoZWNrSUVFRTc1NCIsIndyaXRlRmxvYXQiLCJub0Fzc2VydCIsIndyaXRlRG91YmxlIiwibmV3QnVmIiwic2xpY2VMZW4iLCJyZWFkVUludExFIiwibXVsIiwicmVhZFVJbnRCRSIsInJlYWRVSW50OCIsInJlYWRVSW50MTZMRSIsInJlYWRVSW50MzJMRSIsInJlYWRVSW50MzJCRSIsInJlYWRJbnRMRSIsInJlYWRJbnRCRSIsInJlYWRJbnQ4IiwicmVhZEludDE2TEUiLCJyZWFkSW50MTZCRSIsInJlYWRJbnQzMkxFIiwicmVhZEludDMyQkUiLCJyZWFkRmxvYXRMRSIsInJlYWRGbG9hdEJFIiwicmVhZERvdWJsZUxFIiwicmVhZERvdWJsZUJFIiwid3JpdGVVSW50TEUiLCJ3cml0ZVVJbnRCRSIsIndyaXRlVUludDgiLCJ3cml0ZVVJbnQxNkxFIiwid3JpdGVVSW50MTZCRSIsIndyaXRlVUludDMyTEUiLCJ3cml0ZVVJbnQzMkJFIiwid3JpdGVJbnRMRSIsImxpbWl0Iiwic3ViIiwid3JpdGVJbnRCRSIsIndyaXRlSW50OCIsIndyaXRlSW50MTZMRSIsIndyaXRlSW50MTZCRSIsIndyaXRlSW50MzJMRSIsIndyaXRlSW50MzJCRSIsIndyaXRlRmxvYXRMRSIsIndyaXRlRmxvYXRCRSIsIndyaXRlRG91YmxlTEUiLCJ3cml0ZURvdWJsZUJFIiwidGFyZ2V0U3RhcnQiLCJJTlZBTElEX0JBU0U2NF9SRSIsIkluZmluaXR5IiwibGVhZFN1cnJvZ2F0ZSIsInRvQnl0ZUFycmF5Iiwic3RyaW5ndHJpbSIsImJhc2U2NGNsZWFuIiwiYjY0IiwibGVucyIsImdldExlbnMiLCJ2YWxpZExlbiIsInBsYWNlSG9sZGVyc0xlbiIsInRtcCIsIkFyciIsIl9ieXRlTGVuZ3RoIiwiY3VyQnl0ZSIsInJldkxvb2t1cCIsInVpbnQ4IiwiZXh0cmFCeXRlcyIsImxlbjIiLCJlbmNvZGVDaHVuayIsImxvb2t1cCIsIm51bSIsImlzTEUiLCJtTGVuIiwibkJ5dGVzIiwiZUxlbiIsImVNYXgiLCJlQmlhcyIsIm5CaXRzIiwiTmFOIiwicnQiLCJMTjIiLCJkb21FbGVtZW5kSWQiLCJzaGFwZSIsImN1c3RvbUJhY2tncm91bmRJbWFnZSIsImltYWdlRmlsZSIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJyZWFkQXNEYXRhVVJMIiwiY3VycmVudEhlaWdodCIsImN1cnJlbnRXaWR0aCIsInNjYWxlRGVmaW5pdGlvbiJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBMkNBLEVBQU1DLEdBQzFCLGlCQUFaQyxTQUEwQyxpQkFBWEMsT0FDeENBLE9BQU9ELFFBQVVELElBQ1EsbUJBQVhHLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxlQUFnQixHQUFJSCxHQUNELGlCQUFaQyxRQUNkQSxRQUFzQixhQUFJRCxJQUUxQkQsRUFBbUIsYUFBSUMsSUFSekIsQ0FTbUIsb0JBQVRLLEtBQXVCQSxLQUFPQyxNQUFNLFdBQzlDLE8sWUNURSxJQUFJQyxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFB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QUFzQixVQUN0QkMsU0FBc0IsVUFDdEJDLGNBQXNCLFVBQ3RCQyxTQUFzQixVQUN0QkMsU0FBc0IsVUFDdEJDLFVBQXNCLFVBQ3RCQyxVQUFzQixVQUN0QkMsWUFBc0IsVUFDdEJDLGVBQXNCLFVBQ3RCQyxXQUFzQixVQUN0QkMsV0FBc0IsVUFDdEJDLFFBQXNCLFVBQ3RCQyxXQUFzQixVQUN0QkMsYUFBc0IsVUFDdEJDLGNBQXNCLFVBQ3RCQyxjQUFzQixVQUN0QkMsY0FBc0IsVUFDdEJDLGNBQXNCLFVBQ3RCQyxXQUFzQixVQUN0QkMsU0FBc0IsVUFDdEJDLFlBQXNCLFVBQ3RCQyxRQUFzQixVQUN0QkMsUUFBc0IsVUFDdEJDLFdBQXNCLFVBQ3RCQyxVQUFzQixVQUN0QkMsWUFBc0IsVUFDdEJDLFlBQXNCLFVBQ3RCQyxRQUFzQixVQUN0QkMsVUFBc0IsVUFDdEJDLFdBQXNCLFVBQ3RCQyxLQUFzQixVQUN0QkMsVUFBc0IsVUFDdEJDLEtBQXNCLFVBQ3RCQyxLQUFzQixVQUN0QkMsTUFBc0IsVUFDdEJDLFlBQXNCLFVBQ3RCQyxTQUFzQixVQUN0QkMsUUFBc0IsVUFDdEJDLFVBQXNCLFVBQ3RCQyxPQUFzQixVQUN0QkMsTUFBc0IsVUFDdEJDLE1BQXNCLFVBQ3RCQyxTQUFzQixVQUN0QkMsY0FBc0IsVUFDdEJDLFVBQXNCLFVBQ3RCQyxhQUFzQixVQUN0QkMsVUFBc0IsVUFDdEJDLFdBQXNCLFVBQ3RCQyxVQUFzQixVQUN0QkMscUJBQXNCLFVBQ3RCQyxVQUFzQixVQUN0QkMsVUFBc0IsVUFDdEJDLFdBQXNCLFVBQ3RCQyxVQUFzQixVQUN0QkMsWUFBc0IsVUFDdEJDLGNBQXNCLFVBQ3RCQyxhQUFzQixVQUN0QkMsZUFBc0IsVUFDdEJDLGVBQXNCLFVBQ3RCQyxlQUFzQixVQUN0QkMsWUFBc0IsVUFDdEJDLEtBQXNCLFVBQ3RCQyxVQUFzQixVQUN0QkMsTUFBc0IsVUFDdEJDLFFBQXNCLFVBQ3RCQyxPQUFzQixVQUN0QkMsaUJBQXNCLFVBQ3RCQyxXQUFzQixVQUN0QkMsYUFBc0IsVUFDdEJDLGFB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c0YsTUFBTTZzRyxVLHVDQU9kbm9HLEdBQ2IsSUFBTTFFLEVBQVN0RixLQUFLc0YsTUFBTTZzRyxNQUFNMXNHLE1BQVF6RixLQUFLc0YsTUFBTTZzRyxNQUFNcjhGLE9BQVU5VixLQUFLc0YsTUFBTWpFLE1BTzlFLE9BTEEySSxFQUFRMEYsSUFBTTFGLEVBQVEwRixJQUFNcEssRUFDNUIwRSxFQUFReUYsS0FBT3pGLEVBQVF5RixLQUFPbkssRUFDOUIwRSxFQUFRdkUsTUFBUXVFLEVBQVF2RSxNQUFRSCxFQUNoQzBFLEVBQVEzRSxPQUFTMkUsRUFBUThpQixPQUFTeG5CLEVBRTNCLElBQUksRUFBSixLQUFTMEUsUSw4QkEzSEksRUFBQXZHLE9BQU9pQixRIiwiZmlsZSI6ImZhYnJpY2FzaGFwZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShcImZhYnJpY2FzaGFwZVwiLCBbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJmYWJyaWNhc2hhcGVcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiZmFicmljYXNoYXBlXCJdID0gZmFjdG9yeSgpO1xufSkodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzKTtcbiIsIi8qIGJ1aWxkOiBgbm9kZSBidWlsZC5qcyBtb2R1bGVzPUFMTCBleGNsdWRlPWdlc3R1cmVzLGFjY2Vzc29ycyByZXF1aXJlanMgbWluaWZpZXI9dWdsaWZ5anNgICovXG4vKiEgRmFicmljLmpzIENvcHlyaWdodCAyMDA4LTIwMTUsIFByaW50aW8gKEp1cml5IFpheXRzZXYsIE1heGltIENoZXJueWFrKSAqL1xuXG52YXIgZmFicmljID0gZmFicmljIHx8IHsgdmVyc2lvbjogJzMuNi4yJyB9O1xuaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJykge1xuICBleHBvcnRzLmZhYnJpYyA9IGZhYnJpYztcbn1cbi8qIF9BTURfU1RBUlRfICovXG5lbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgZGVmaW5lKFtdLCBmdW5jdGlvbigpIHsgcmV0dXJuIGZhYnJpYzsgfSk7XG59XG4vKiBfQU1EX0VORF8gKi9cbmlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIGlmIChkb2N1bWVudCBpbnN0YW5jZW9mICh0eXBlb2YgSFRNTERvY3VtZW50ICE9PSAndW5kZWZpbmVkJyA/IEhUTUxEb2N1bWVudCA6IERvY3VtZW50KSkge1xuICAgIGZhYnJpYy5kb2N1bWVudCA9IGRvY3VtZW50O1xuICB9XG4gIGVsc2Uge1xuICAgIGZhYnJpYy5kb2N1bWVudCA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgnJyk7XG4gIH1cbiAgZmFicmljLndpbmRvdyA9IHdpbmRvdztcbn1cbmVsc2Uge1xuICAvLyBhc3N1bWUgd2UncmUgcnVubmluZyB1bmRlciBub2RlLmpzIHdoZW4gZG9jdW1lbnQvd2luZG93IGFyZSBub3QgcHJlc2VudFxuICB2YXIganNkb20gPSByZXF1aXJlKCdqc2RvbScpO1xuICB2YXIgdmlydHVhbFdpbmRvdyA9IG5ldyBqc2RvbS5KU0RPTShcbiAgICBkZWNvZGVVUklDb21wb25lbnQoJyUzQyFET0NUWVBFJTIwaHRtbCUzRSUzQ2h0bWwlM0UlM0NoZWFkJTNFJTNDJTJGaGVhZCUzRSUzQ2JvZHklM0UlM0MlMkZib2R5JTNFJTNDJTJGaHRtbCUzRScpLFxuICAgIHtcbiAgICAgIGZlYXR1cmVzOiB7XG4gICAgICAgIEZldGNoRXh0ZXJuYWxSZXNvdXJjZXM6IFsnaW1nJ11cbiAgICAgIH0sXG4gICAgICByZXNvdXJjZXM6ICd1c2FibGUnXG4gICAgfSkud2luZG93O1xuICBmYWJyaWMuZG9jdW1lbnQgPSB2aXJ0dWFsV2luZG93LmRvY3VtZW50O1xuICBmYWJyaWMuanNkb21JbXBsRm9yV3JhcHBlciA9IHJlcXVpcmUoJ2pzZG9tL2xpYi9qc2RvbS9saXZpbmcvZ2VuZXJhdGVkL3V0aWxzJykuaW1wbEZvcldyYXBwZXI7XG4gIGZhYnJpYy5ub2RlQ2FudmFzID0gcmVxdWlyZSgnanNkb20vbGliL2pzZG9tL3V0aWxzJykuQ2FudmFzO1xuICBmYWJyaWMud2luZG93ID0gdmlydHVhbFdpbmRvdztcbiAgRE9NUGFyc2VyID0gZmFicmljLndpbmRvdy5ET01QYXJzZXI7XG59XG5cbi8qKlxuICogVHJ1ZSB3aGVuIGluIGVudmlyb25tZW50IHRoYXQgc3VwcG9ydHMgdG91Y2ggZXZlbnRzXG4gKiBAdHlwZSBib29sZWFuXG4gKi9cbmZhYnJpYy5pc1RvdWNoU3VwcG9ydGVkID0gJ29udG91Y2hzdGFydCcgaW4gZmFicmljLndpbmRvdyB8fCAnb250b3VjaHN0YXJ0JyBpbiBmYWJyaWMuZG9jdW1lbnQgfHxcbiAgKGZhYnJpYy53aW5kb3cgJiYgZmFicmljLndpbmRvdy5uYXZpZ2F0b3IgJiYgZmFicmljLndpbmRvdy5uYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAwKTtcblxuLyoqXG4gKiBUcnVlIHdoZW4gaW4gZW52aXJvbm1lbnQgdGhhdCdzIHByb2JhYmx5IE5vZGUuanNcbiAqIEB0eXBlIGJvb2xlYW5cbiAqL1xuZmFicmljLmlzTGlrZWx5Tm9kZSA9IHR5cGVvZiBCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCc7XG5cbi8qIF9GUk9NX1NWR19TVEFSVF8gKi9cbi8qKlxuICogQXR0cmlidXRlcyBwYXJzZWQgZnJvbSBhbGwgU1ZHIGVsZW1lbnRzXG4gKiBAdHlwZSBhcnJheVxuICovXG5mYWJyaWMuU0hBUkVEX0FUVFJJQlVURVMgPSBbXG4gICdkaXNwbGF5JyxcbiAgJ3RyYW5zZm9ybScsXG4gICdmaWxsJywgJ2ZpbGwtb3BhY2l0eScsICdmaWxsLXJ1bGUnLFxuICAnb3BhY2l0eScsXG4gICdzdHJva2UnLCAnc3Ryb2tlLWRhc2hhcnJheScsICdzdHJva2UtbGluZWNhcCcsICdzdHJva2UtZGFzaG9mZnNldCcsXG4gICdzdHJva2UtbGluZWpvaW4nLCAnc3Ryb2tlLW1pdGVybGltaXQnLFxuICAnc3Ryb2tlLW9wYWNpdHknLCAnc3Ryb2tlLXdpZHRoJyxcbiAgJ2lkJywgJ3BhaW50LW9yZGVyJywgJ3ZlY3Rvci1lZmZlY3QnLFxuICAnaW5zdGFudGlhdGVkX2J5X3VzZScsICdjbGlwLXBhdGgnXG5dO1xuLyogX0ZST01fU1ZHX0VORF8gKi9cblxuLyoqXG4gKiBQaXhlbCBwZXIgSW5jaCBhcyBhIGRlZmF1bHQgdmFsdWUgc2V0IHRvIDk2LiBDYW4gYmUgY2hhbmdlZCBmb3IgbW9yZSByZWFsaXN0aWMgY29udmVyc2lvbi5cbiAqL1xuZmFicmljLkRQSSA9IDk2O1xuZmFicmljLnJlTnVtID0gJyg/OlstK10/KD86XFxcXGQrfFxcXFxkKlxcXFwuXFxcXGQrKSg/OltlRV1bLStdP1xcXFxkKyk/KSc7XG5mYWJyaWMucmVQYXRoQ29tbWFuZCA9IC8oWy0rXT8oKFxcZCtcXC5cXGQrKXwoKFxcZCspfChcXC5cXGQrKSkpKD86W2VFXVstK10/XFxkKyk/KS9pZztcbmZhYnJpYy5yZU5vbldvcmQgPSAvWyBcXG5cXC4sOyFcXD9cXC1dLztcbmZhYnJpYy5mb250UGF0aHMgPSB7IH07XG5mYWJyaWMuaU1hdHJpeCA9IFsxLCAwLCAwLCAxLCAwLCAwXTtcbmZhYnJpYy5zdmdOUyA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc7XG5cbi8qKlxuICogUGl4ZWwgbGltaXQgZm9yIGNhY2hlIGNhbnZhc2VzLiAxTXB4ICwgNE1weCBzaG91bGQgYmUgZmluZS5cbiAqIEBzaW5jZSAxLjcuMTRcbiAqIEB0eXBlIE51bWJlclxuICogQGRlZmF1bHRcbiAqL1xuZmFicmljLnBlcmZMaW1pdFNpemVUb3RhbCA9IDIwOTcxNTI7XG5cbi8qKlxuICogUGl4ZWwgbGltaXQgZm9yIGNhY2hlIGNhbnZhc2VzIHdpZHRoIG9yIGhlaWdodC4gSUUgZml4ZXMgdGhlIG1heGltdW0gYXQgNTAwMFxuICogQHNpbmNlIDEuNy4xNFxuICogQHR5cGUgTnVtYmVyXG4gKiBAZGVmYXVsdFxuICovXG5mYWJyaWMubWF4Q2FjaGVTaWRlTGltaXQgPSA0MDk2O1xuXG4vKipcbiAqIExvd2VzdCBwaXhlbCBsaW1pdCBmb3IgY2FjaGUgY2FudmFzZXMsIHNldCBhdCAyNTZQWFxuICogQHNpbmNlIDEuNy4xNFxuICogQHR5cGUgTnVtYmVyXG4gKiBAZGVmYXVsdFxuICovXG5mYWJyaWMubWluQ2FjaGVTaWRlTGltaXQgPSAyNTY7XG5cbi8qKlxuICogQ2FjaGUgT2JqZWN0IGZvciB3aWR0aHMgb2YgY2hhcnMgaW4gdGV4dCByZW5kZXJpbmcuXG4gKi9cbmZhYnJpYy5jaGFyV2lkdGhzQ2FjaGUgPSB7IH07XG5cbi8qKlxuICogaWYgd2ViZ2wgaXMgZW5hYmxlZCBhbmQgYXZhaWxhYmxlLCB0ZXh0dXJlU2l6ZSB3aWxsIGRldGVybWluZSB0aGUgc2l6ZVxuICogb2YgdGhlIGNhbnZhcyBiYWNrZW5kXG4gKiBAc2luY2UgMi4wLjBcbiAqIEB0eXBlIE51bWJlclxuICogQGRlZmF1bHRcbiAqL1xuZmFicmljLnRleHR1cmVTaXplID0gMjA0ODtcblxuLyoqXG4gKiBXaGVuICd0cnVlJywgc3R5bGUgaW5mb3JtYXRpb24gaXMgbm90IHJldGFpbmVkIHdoZW4gY29weS9wYXN0aW5nIHRleHQsIG1ha2luZ1xuICogcGFzdGVkIHRleHQgdXNlIGRlc3RpbmF0aW9uIHN0eWxlLlxuICogRGVmYXVsdHMgdG8gJ2ZhbHNlJy5cbiAqIEB0eXBlIEJvb2xlYW5cbiAqIEBkZWZhdWx0XG4gKi9cbmZhYnJpYy5kaXNhYmxlU3R5bGVDb3B5UGFzdGUgPSBmYWxzZTtcblxuLyoqXG4gKiBFbmFibGUgd2ViZ2wgZm9yIGZpbHRlcmluZyBwaWN0dXJlIGlzIGF2YWlsYWJsZVxuICogQSBmaWx0ZXJpbmcgYmFja2VuZCB3aWxsIGJlIGluaXRpYWxpemVkLCB0aGlzIHdpbGwgYm90aCB0YWtlIG1lbW9yeSBhbmRcbiAqIHRpbWUgc2luY2UgYSBkZWZhdWx0IDIwNDh4MjA0OCBjYW52YXMgd2lsbCBiZSBjcmVhdGVkIGZvciB0aGUgZ2wgY29udGV4dFxuICogQHNpbmNlIDIuMC4wXG4gKiBAdHlwZSBCb29sZWFuXG4gKiBAZGVmYXVsdFxuICovXG5mYWJyaWMuZW5hYmxlR0xGaWx0ZXJpbmcgPSB0cnVlO1xuXG4vKipcbiAqIERldmljZSBQaXhlbCBSYXRpb1xuICogQHNlZSBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vbGlicmFyeS9zYWZhcmkvZG9jdW1lbnRhdGlvbi9BdWRpb1ZpZGVvL0NvbmNlcHR1YWwvSFRNTC1jYW52YXMtZ3VpZGUvU2V0dGluZ1VwdGhlQ2FudmFzL1NldHRpbmdVcHRoZUNhbnZhcy5odG1sXG4gKi9cbmZhYnJpYy5kZXZpY2VQaXhlbFJhdGlvID0gZmFicmljLndpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZhYnJpYy53aW5kb3cud2Via2l0RGV2aWNlUGl4ZWxSYXRpbyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmYWJyaWMud2luZG93Lm1vekRldmljZVBpeGVsUmF0aW8gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgMTtcbi8qKlxuICogQnJvd3Nlci1zcGVjaWZpYyBjb25zdGFudCB0byBhZGp1c3QgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELnNoYWRvd0JsdXIgdmFsdWUsXG4gKiB3aGljaCBpcyB1bml0bGVzcyBhbmQgbm90IHJlbmRlcmVkIGVxdWFsbHkgYWNyb3NzIGJyb3dzZXJzLlxuICpcbiAqIFZhbHVlcyB0aGF0IHdvcmsgcXVpdGUgd2VsbCAoYXMgb2YgT2N0b2JlciAyMDE3KSBhcmU6XG4gKiAtIENocm9tZTogMS41XG4gKiAtIEVkZ2U6IDEuNzVcbiAqIC0gRmlyZWZveDogMC45XG4gKiAtIFNhZmFyaTogMC45NVxuICpcbiAqIEBzaW5jZSAyLjAuMFxuICogQHR5cGUgTnVtYmVyXG4gKiBAZGVmYXVsdCAxXG4gKi9cbmZhYnJpYy5icm93c2VyU2hhZG93Qmx1ckNvbnN0YW50ID0gMTtcblxuLyoqXG4gKiBUaGlzIG9iamVjdCBjb250YWlucyB0aGUgcmVzdWx0IG9mIGFyYyB0byBiZWl6ZXIgY29udmVyc2lvbiBmb3IgZmFzdGVyIHJldHJpZXZpbmcgaWYgdGhlIHNhbWUgYXJjIG5lZWRzIHRvIGJlIGNvbnZlcnRlZCBhZ2Fpbi5cbiAqIEl0IHdhcyBhbiBpbnRlcm5hbCB2YXJpYWJsZSwgaXMgYWNjZXNzaWJsZSBzaW5jZSB2ZXJzaW9uIDIuMy40XG4gKi9cbmZhYnJpYy5hcmNUb1NlZ21lbnRzQ2FjaGUgPSB7IH07XG5cbi8qKlxuICogVGhpcyBvYmplY3Qga2VlcHMgdGhlIHJlc3VsdHMgb2YgdGhlIGJvdW5kc09mQ3VydmUgY2FsY3VsYXRpb24gbWFwcGVkIGJ5IHRoZSBqb2luZWQgYXJndW1lbnRzIG5lY2Vzc2FyeSB0byBjYWxjdWxhdGUgaXQuXG4gKiBJdCBkb2VzIHNwZWVkIHVwIGNhbGN1bGF0aW9uLCBpZiB5b3UgcGFyc2UgYW5kIGFkZCBhbHdheXMgdGhlIHNhbWUgcGF0aHMsIGJ1dCBpbiBjYXNlIG9mIGhlYXZ5IHVzYWdlIG9mIGZyZWVkcmF3aW5nXG4gKiB5b3UgZG8gbm90IGdldCBhbnkgc3BlZWQgYmVuZWZpdCBhbmQgeW91IGdldCBhIGJpZyBvYmplY3QgaW4gbWVtb3J5LlxuICogVGhlIG9iamVjdCB3YXMgYSBwcml2YXRlIHZhcmlhYmxlIGJlZm9yZSwgd2hpbGUgbm93IGlzIGFwcGVuZGVkIHRvIHRoZSBsaWIgc28gdGhhdCB5b3UgaGF2ZSBhY2Nlc3MgdG8gaXQgYW5kIHlvdVxuICogY2FuIGV2ZW50dWFsbHkgY2xlYXIgaXQuXG4gKiBJdCB3YXMgYW4gaW50ZXJuYWwgdmFyaWFibGUsIGlzIGFjY2Vzc2libGUgc2luY2UgdmVyc2lvbiAyLjMuNFxuICovXG5mYWJyaWMuYm91bmRzT2ZDdXJ2ZUNhY2hlID0geyB9O1xuXG4vKipcbiAqIElmIGRpc2FibGVkIGJvdW5kc09mQ3VydmVDYWNoZSBpcyBub3QgdXNlZC4gRm9yIGFwcHMgdGhhdCBtYWtlIGhlYXZ5IHVzYWdlIG9mIHBlbmNpbCBkcmF3aW5nIHByb2JhYmx5IGRpc2FibGluZyBpdCBpcyBiZXR0ZXJcbiAqIEBkZWZhdWx0IHRydWVcbiAqL1xuZmFicmljLmNhY2hlc0JvdW5kc09mQ3VydmUgPSB0cnVlO1xuXG4vKipcbiAqIFNraXAgcGVyZm9ybWFuY2UgdGVzdGluZyBvZiBzZXR1cEdMQ29udGV4dCBhbmQgZm9yY2UgdGhlIHVzZSBvZiBwdXRJbWFnZURhdGEgdGhhdCBzZWVtcyB0byBiZSB0aGUgb25lIHRoYXQgd29ya3MgYmVzdCBvblxuICogQ2hyb21lICsgb2xkIGhhcmR3YXJlLiBpZiB5b3VyIHVzZXJzIGFyZSBleHBlcmllbmNpbmcgZW1wdHkgaW1hZ2VzIGFmdGVyIGZpbHRlcmluZyB5b3UgbWF5IHRyeSB0byBmb3JjZSB0aGlzIHRvIHRydWVcbiAqIHRoaXMgaGFzIHRvIGJlIHNldCBiZWZvcmUgaW5zdGFudGlhdGluZyB0aGUgZmlsdGVyaW5nIGJhY2tlbmQgKCBiZWZvcmUgZmlsdGVyaW5nIHRoZSBmaXJzdCBpbWFnZSApXG4gKiBAdHlwZSBCb29sZWFuXG4gKiBAZGVmYXVsdCBmYWxzZVxuICovXG5mYWJyaWMuZm9yY2VHTFB1dEltYWdlRGF0YSA9IGZhbHNlO1xuXG5mYWJyaWMuaW5pdEZpbHRlckJhY2tlbmQgPSBmdW5jdGlvbigpIHtcbiAgaWYgKGZhYnJpYy5lbmFibGVHTEZpbHRlcmluZyAmJiBmYWJyaWMuaXNXZWJnbFN1cHBvcnRlZCAmJiBmYWJyaWMuaXNXZWJnbFN1cHBvcnRlZChmYWJyaWMudGV4dHVyZVNpemUpKSB7XG4gICAgY29uc29sZS5sb2coJ21heCB0ZXh0dXJlIHNpemU6ICcgKyBmYWJyaWMubWF4VGV4dHVyZVNpemUpO1xuICAgIHJldHVybiAobmV3IGZhYnJpYy5XZWJnbEZpbHRlckJhY2tlbmQoeyB0aWxlU2l6ZTogZmFicmljLnRleHR1cmVTaXplIH0pKTtcbiAgfVxuICBlbHNlIGlmIChmYWJyaWMuQ2FudmFzMmRGaWx0ZXJCYWNrZW5kKSB7XG4gICAgcmV0dXJuIChuZXcgZmFicmljLkNhbnZhczJkRmlsdGVyQmFja2VuZCgpKTtcbiAgfVxufTtcblxuXG5pZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAvLyBlbnN1cmUgZ2xvYmFsaXR5IGV2ZW4gaWYgZW50aXJlIGxpYnJhcnkgd2VyZSBmdW5jdGlvbiB3cmFwcGVkIChhcyBpbiBNZXRlb3IuanMgcGFja2FnaW5nIHN5c3RlbSlcbiAgd2luZG93LmZhYnJpYyA9IGZhYnJpYztcbn1cblxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxuICAgKi9cbiAgZnVuY3Rpb24gX3JlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gICAgaWYgKCF0aGlzLl9fZXZlbnRMaXN0ZW5lcnNbZXZlbnROYW1lXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZXZlbnRMaXN0ZW5lciA9IHRoaXMuX19ldmVudExpc3RlbmVyc1tldmVudE5hbWVdO1xuICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICBldmVudExpc3RlbmVyW2V2ZW50TGlzdGVuZXIuaW5kZXhPZihoYW5kbGVyKV0gPSBmYWxzZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBmYWJyaWMudXRpbC5hcnJheS5maWxsKGV2ZW50TGlzdGVuZXIsIGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogT2JzZXJ2ZXMgc3BlY2lmaWVkIGV2ZW50XG4gICAqIEBkZXByZWNhdGVkIGBvYnNlcnZlYCBkZXByZWNhdGVkIHNpbmNlIDAuOC4zNCAodXNlIGBvbmAgaW5zdGVhZClcbiAgICogQG1lbWJlck9mIGZhYnJpYy5PYnNlcnZhYmxlXG4gICAqIEBhbGlhcyBvblxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGV2ZW50TmFtZSBFdmVudCBuYW1lIChlZy4gJ2FmdGVyOnJlbmRlcicpIG9yIG9iamVjdCB3aXRoIGtleS92YWx1ZSBwYWlycyAoZWcuIHsnYWZ0ZXI6cmVuZGVyJzogaGFuZGxlciwgJ3NlbGVjdGlvbjpjbGVhcmVkJzogaGFuZGxlcn0pXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgRnVuY3Rpb24gdGhhdCByZWNlaXZlcyBhIG5vdGlmaWNhdGlvbiB3aGVuIGFuIGV2ZW50IG9mIHRoZSBzcGVjaWZpZWQgdHlwZSBvY2N1cnNcbiAgICogQHJldHVybiB7U2VsZn0gdGhpc0FyZ1xuICAgKiBAY2hhaW5hYmxlXG4gICAqL1xuICBmdW5jdGlvbiBvYnNlcnZlKGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICAgIGlmICghdGhpcy5fX2V2ZW50TGlzdGVuZXJzKSB7XG4gICAgICB0aGlzLl9fZXZlbnRMaXN0ZW5lcnMgPSB7IH07XG4gICAgfVxuICAgIC8vIG9uZSBvYmplY3Qgd2l0aCBrZXkvdmFsdWUgcGFpcnMgd2FzIHBhc3NlZFxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICBmb3IgKHZhciBwcm9wIGluIGV2ZW50TmFtZSkge1xuICAgICAgICB0aGlzLm9uKHByb3AsIGV2ZW50TmFtZVtwcm9wXSk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaWYgKCF0aGlzLl9fZXZlbnRMaXN0ZW5lcnNbZXZlbnROYW1lXSkge1xuICAgICAgICB0aGlzLl9fZXZlbnRMaXN0ZW5lcnNbZXZlbnROYW1lXSA9IFtdO1xuICAgICAgfVxuICAgICAgdGhpcy5fX2V2ZW50TGlzdGVuZXJzW2V2ZW50TmFtZV0ucHVzaChoYW5kbGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU3RvcHMgZXZlbnQgb2JzZXJ2aW5nIGZvciBhIHBhcnRpY3VsYXIgZXZlbnQgaGFuZGxlci4gQ2FsbGluZyB0aGlzIG1ldGhvZFxuICAgKiB3aXRob3V0IGFyZ3VtZW50cyByZW1vdmVzIGFsbCBoYW5kbGVycyBmb3IgYWxsIGV2ZW50c1xuICAgKiBAZGVwcmVjYXRlZCBgc3RvcE9ic2VydmluZ2AgZGVwcmVjYXRlZCBzaW5jZSAwLjguMzQgKHVzZSBgb2ZmYCBpbnN0ZWFkKVxuICAgKiBAbWVtYmVyT2YgZmFicmljLk9ic2VydmFibGVcbiAgICogQGFsaWFzIG9mZlxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGV2ZW50TmFtZSBFdmVudCBuYW1lIChlZy4gJ2FmdGVyOnJlbmRlcicpIG9yIG9iamVjdCB3aXRoIGtleS92YWx1ZSBwYWlycyAoZWcuIHsnYWZ0ZXI6cmVuZGVyJzogaGFuZGxlciwgJ3NlbGVjdGlvbjpjbGVhcmVkJzogaGFuZGxlcn0pXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgRnVuY3Rpb24gdG8gYmUgZGVsZXRlZCBmcm9tIEV2ZW50TGlzdGVuZXJzXG4gICAqIEByZXR1cm4ge1NlbGZ9IHRoaXNBcmdcbiAgICogQGNoYWluYWJsZVxuICAgKi9cbiAgZnVuY3Rpb24gc3RvcE9ic2VydmluZyhldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgICBpZiAoIXRoaXMuX19ldmVudExpc3RlbmVycykge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZlIGFsbCBrZXkvdmFsdWUgcGFpcnMgKGV2ZW50IG5hbWUgLT4gZXZlbnQgaGFuZGxlcilcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgZm9yIChldmVudE5hbWUgaW4gdGhpcy5fX2V2ZW50TGlzdGVuZXJzKSB7XG4gICAgICAgIF9yZW1vdmVFdmVudExpc3RlbmVyLmNhbGwodGhpcywgZXZlbnROYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gb25lIG9iamVjdCB3aXRoIGtleS92YWx1ZSBwYWlycyB3YXMgcGFzc2VkXG4gICAgZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiB0eXBlb2YgYXJndW1lbnRzWzBdID09PSAnb2JqZWN0Jykge1xuICAgICAgZm9yICh2YXIgcHJvcCBpbiBldmVudE5hbWUpIHtcbiAgICAgICAgX3JlbW92ZUV2ZW50TGlzdGVuZXIuY2FsbCh0aGlzLCBwcm9wLCBldmVudE5hbWVbcHJvcF0pO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIF9yZW1vdmVFdmVudExpc3RlbmVyLmNhbGwodGhpcywgZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogRmlyZXMgZXZlbnQgd2l0aCBhbiBvcHRpb25hbCBvcHRpb25zIG9iamVjdFxuICAgKiBAZGVwcmVjYXRlZCBgZmlyZWAgZGVwcmVjYXRlZCBzaW5jZSAxLjAuNyAodXNlIGB0cmlnZ2VyYCBpbnN0ZWFkKVxuICAgKiBAbWVtYmVyT2YgZmFicmljLk9ic2VydmFibGVcbiAgICogQGFsaWFzIHRyaWdnZXJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50TmFtZSBFdmVudCBuYW1lIHRvIGZpcmVcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgKiBAcmV0dXJuIHtTZWxmfSB0aGlzQXJnXG4gICAqIEBjaGFpbmFibGVcbiAgICovXG4gIGZ1bmN0aW9uIGZpcmUoZXZlbnROYW1lLCBvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLl9fZXZlbnRMaXN0ZW5lcnMpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHZhciBsaXN0ZW5lcnNGb3JFdmVudCA9IHRoaXMuX19ldmVudExpc3RlbmVyc1tldmVudE5hbWVdO1xuICAgIGlmICghbGlzdGVuZXJzRm9yRXZlbnQpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBsaXN0ZW5lcnNGb3JFdmVudC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgbGlzdGVuZXJzRm9yRXZlbnRbaV0gJiYgbGlzdGVuZXJzRm9yRXZlbnRbaV0uY2FsbCh0aGlzLCBvcHRpb25zIHx8IHsgfSk7XG4gICAgfVxuICAgIHRoaXMuX19ldmVudExpc3RlbmVyc1tldmVudE5hbWVdID0gbGlzdGVuZXJzRm9yRXZlbnQuZmlsdGVyKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgIT09IGZhbHNlO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBuYW1lc3BhY2UgZmFicmljLk9ic2VydmFibGVcbiAgICogQHR1dG9yaWFsIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ZhYnJpYy1pbnRyby1wYXJ0LTIjZXZlbnRzfVxuICAgKiBAc2VlIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2V2ZW50c3xFdmVudHMgZGVtb31cbiAgICovXG4gIGZhYnJpYy5PYnNlcnZhYmxlID0ge1xuICAgIG9ic2VydmU6IG9ic2VydmUsXG4gICAgc3RvcE9ic2VydmluZzogc3RvcE9ic2VydmluZyxcbiAgICBmaXJlOiBmaXJlLFxuXG4gICAgb246IG9ic2VydmUsXG4gICAgb2ZmOiBzdG9wT2JzZXJ2aW5nLFxuICAgIHRyaWdnZXI6IGZpcmVcbiAgfTtcbn0pKCk7XG5cblxuLyoqXG4gKiBAbmFtZXNwYWNlIGZhYnJpYy5Db2xsZWN0aW9uXG4gKi9cbmZhYnJpYy5Db2xsZWN0aW9uID0ge1xuXG4gIF9vYmplY3RzOiBbXSxcblxuICAvKipcbiAgICogQWRkcyBvYmplY3RzIHRvIGNvbGxlY3Rpb24sIENhbnZhcyBvciBHcm91cCwgdGhlbiByZW5kZXJzIGNhbnZhc1xuICAgKiAoaWYgYHJlbmRlck9uQWRkUmVtb3ZlYCBpcyBub3QgYGZhbHNlYCkuXG4gICAqIGluIGNhc2Ugb2YgR3JvdXAgbm8gY2hhbmdlcyB0byBib3VuZGluZyBib3ggYXJlIG1hZGUuXG4gICAqIE9iamVjdHMgc2hvdWxkIGJlIGluc3RhbmNlcyBvZiAob3IgaW5oZXJpdCBmcm9tKSBmYWJyaWMuT2JqZWN0XG4gICAqIFVzZSBvZiB0aGlzIGZ1bmN0aW9uIGlzIGhpZ2hseSBkaXNjb3VyYWdlZCBmb3IgZ3JvdXBzLlxuICAgKiB5b3UgY2FuIGFkZCBhIGJ1bmNoIG9mIG9iamVjdHMgd2l0aCB0aGUgYWRkIG1ldGhvZCBidXQgdGhlbiB5b3UgTkVFRFxuICAgKiB0byBydW4gYSBhZGRXaXRoVXBkYXRlIGNhbGwgZm9yIHRoZSBHcm91cCBjbGFzcyBvciBwb3NpdGlvbi9iYm94IHdpbGwgYmUgd3JvbmcuXG4gICAqIEBwYXJhbSB7Li4uZmFicmljLk9iamVjdH0gb2JqZWN0IFplcm8gb3IgbW9yZSBmYWJyaWMgaW5zdGFuY2VzXG4gICAqIEByZXR1cm4ge1NlbGZ9IHRoaXNBcmdcbiAgICogQGNoYWluYWJsZVxuICAgKi9cbiAgYWRkOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5fb2JqZWN0cy5wdXNoLmFwcGx5KHRoaXMuX29iamVjdHMsIGFyZ3VtZW50cyk7XG4gICAgaWYgKHRoaXMuX29uT2JqZWN0QWRkZWQpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGhpcy5fb25PYmplY3RBZGRlZChhcmd1bWVudHNbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnJlbmRlck9uQWRkUmVtb3ZlICYmIHRoaXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBJbnNlcnRzIGFuIG9iamVjdCBpbnRvIGNvbGxlY3Rpb24gYXQgc3BlY2lmaWVkIGluZGV4LCB0aGVuIHJlbmRlcnMgY2FudmFzIChpZiBgcmVuZGVyT25BZGRSZW1vdmVgIGlzIG5vdCBgZmFsc2VgKVxuICAgKiBBbiBvYmplY3Qgc2hvdWxkIGJlIGFuIGluc3RhbmNlIG9mIChvciBpbmhlcml0IGZyb20pIGZhYnJpYy5PYmplY3RcbiAgICogVXNlIG9mIHRoaXMgZnVuY3Rpb24gaXMgaGlnaGx5IGRpc2NvdXJhZ2VkIGZvciBncm91cHMuXG4gICAqIHlvdSBjYW4gYWRkIGEgYnVuY2ggb2Ygb2JqZWN0cyB3aXRoIHRoZSBpbnNlcnRBdCBtZXRob2QgYnV0IHRoZW4geW91IE5FRURcbiAgICogdG8gcnVuIGEgYWRkV2l0aFVwZGF0ZSBjYWxsIGZvciB0aGUgR3JvdXAgY2xhc3Mgb3IgcG9zaXRpb24vYmJveCB3aWxsIGJlIHdyb25nLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBpbnNlcnRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IEluZGV4IHRvIGluc2VydCBvYmplY3QgYXRcbiAgICogQHBhcmFtIHtCb29sZWFufSBub25TcGxpY2luZyBXaGVuIGB0cnVlYCwgbm8gc3BsaWNpbmcgKHNoaWZ0aW5nKSBvZiBvYmplY3RzIG9jY3Vyc1xuICAgKiBAcmV0dXJuIHtTZWxmfSB0aGlzQXJnXG4gICAqIEBjaGFpbmFibGVcbiAgICovXG4gIGluc2VydEF0OiBmdW5jdGlvbiAob2JqZWN0LCBpbmRleCwgbm9uU3BsaWNpbmcpIHtcbiAgICB2YXIgb2JqZWN0cyA9IHRoaXMuX29iamVjdHM7XG4gICAgaWYgKG5vblNwbGljaW5nKSB7XG4gICAgICBvYmplY3RzW2luZGV4XSA9IG9iamVjdDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBvYmplY3RzLnNwbGljZShpbmRleCwgMCwgb2JqZWN0KTtcbiAgICB9XG4gICAgdGhpcy5fb25PYmplY3RBZGRlZCAmJiB0aGlzLl9vbk9iamVjdEFkZGVkKG9iamVjdCk7XG4gICAgdGhpcy5yZW5kZXJPbkFkZFJlbW92ZSAmJiB0aGlzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogUmVtb3ZlcyBvYmplY3RzIGZyb20gYSBjb2xsZWN0aW9uLCB0aGVuIHJlbmRlcnMgY2FudmFzIChpZiBgcmVuZGVyT25BZGRSZW1vdmVgIGlzIG5vdCBgZmFsc2VgKVxuICAgKiBAcGFyYW0gey4uLmZhYnJpYy5PYmplY3R9IG9iamVjdCBaZXJvIG9yIG1vcmUgZmFicmljIGluc3RhbmNlc1xuICAgKiBAcmV0dXJuIHtTZWxmfSB0aGlzQXJnXG4gICAqIEBjaGFpbmFibGVcbiAgICovXG4gIHJlbW92ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG9iamVjdHMgPSB0aGlzLl9vYmplY3RzLFxuICAgICAgICBpbmRleCwgc29tZXRoaW5nUmVtb3ZlZCA9IGZhbHNlO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgaW5kZXggPSBvYmplY3RzLmluZGV4T2YoYXJndW1lbnRzW2ldKTtcblxuICAgICAgLy8gb25seSBjYWxsIG9uT2JqZWN0UmVtb3ZlZCBpZiBhbiBvYmplY3Qgd2FzIGFjdHVhbGx5IHJlbW92ZWRcbiAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgc29tZXRoaW5nUmVtb3ZlZCA9IHRydWU7XG4gICAgICAgIG9iamVjdHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgdGhpcy5fb25PYmplY3RSZW1vdmVkICYmIHRoaXMuX29uT2JqZWN0UmVtb3ZlZChhcmd1bWVudHNbaV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucmVuZGVyT25BZGRSZW1vdmUgJiYgc29tZXRoaW5nUmVtb3ZlZCAmJiB0aGlzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogRXhlY3V0ZXMgZ2l2ZW4gZnVuY3Rpb24gZm9yIGVhY2ggb2JqZWN0IGluIHRoaXMgZ3JvdXBcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICogICAgICAgICAgICAgICAgICAgQ2FsbGJhY2sgaW52b2tlZCB3aXRoIGN1cnJlbnQgb2JqZWN0IGFzIGZpcnN0IGFyZ3VtZW50LFxuICAgKiAgICAgICAgICAgICAgICAgICBpbmRleCAtIGFzIHNlY29uZCBhbmQgYW4gYXJyYXkgb2YgYWxsIG9iamVjdHMgLSBhcyB0aGlyZC5cbiAgICogICAgICAgICAgICAgICAgICAgQ2FsbGJhY2sgaXMgaW52b2tlZCBpbiBhIGNvbnRleHQgb2YgR2xvYmFsIE9iamVjdCAoZS5nLiBgd2luZG93YClcbiAgICogICAgICAgICAgICAgICAgICAgd2hlbiBubyBgY29udGV4dGAgYXJndW1lbnQgaXMgZ2l2ZW5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQgQ29udGV4dCAoYWthIHRoaXNPYmplY3QpXG4gICAqIEByZXR1cm4ge1NlbGZ9IHRoaXNBcmdcbiAgICogQGNoYWluYWJsZVxuICAgKi9cbiAgZm9yRWFjaE9iamVjdDogZnVuY3Rpb24oY2FsbGJhY2ssIGNvbnRleHQpIHtcbiAgICB2YXIgb2JqZWN0cyA9IHRoaXMuZ2V0T2JqZWN0cygpO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBvYmplY3RzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBjYWxsYmFjay5jYWxsKGNvbnRleHQsIG9iamVjdHNbaV0sIGksIG9iamVjdHMpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyBhbiBhcnJheSBvZiBjaGlsZHJlbiBvYmplY3RzIG9mIHRoaXMgaW5zdGFuY2VcbiAgICogVHlwZSBwYXJhbWV0ZXIgaW50cm9kdWNlZCBpbiAxLjMuMTBcbiAgICogc2luY2UgMi4zLjUgdGhpcyBtZXRob2QgcmV0dXJuIGFsd2F5cyBhIENPUFkgb2YgdGhlIGFycmF5O1xuICAgKiBAcGFyYW0ge1N0cmluZ30gW3R5cGVdIFdoZW4gc3BlY2lmaWVkLCBvbmx5IG9iamVjdHMgb2YgdGhpcyB0eXBlIGFyZSByZXR1cm5lZFxuICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICovXG4gIGdldE9iamVjdHM6IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICBpZiAodHlwZW9mIHR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gdGhpcy5fb2JqZWN0cy5jb25jYXQoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX29iamVjdHMuZmlsdGVyKGZ1bmN0aW9uKG8pIHtcbiAgICAgIHJldHVybiBvLnR5cGUgPT09IHR5cGU7XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgb2JqZWN0IGF0IHNwZWNpZmllZCBpbmRleFxuICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXhcbiAgICogQHJldHVybiB7U2VsZn0gdGhpc0FyZ1xuICAgKi9cbiAgaXRlbTogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuX29iamVjdHNbaW5kZXhdO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgY29sbGVjdGlvbiBjb250YWlucyBubyBvYmplY3RzXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgY29sbGVjdGlvbiBpcyBlbXB0eVxuICAgKi9cbiAgaXNFbXB0eTogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9vYmplY3RzLmxlbmd0aCA9PT0gMDtcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyBhIHNpemUgb2YgYSBjb2xsZWN0aW9uIChpLmU6IGxlbmd0aCBvZiBhbiBhcnJheSBjb250YWluaW5nIGl0cyBvYmplY3RzKVxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IENvbGxlY3Rpb24gc2l6ZVxuICAgKi9cbiAgc2l6ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX29iamVjdHMubGVuZ3RoO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgY29sbGVjdGlvbiBjb250YWlucyBhbiBvYmplY3RcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY2hlY2sgYWdhaW5zdFxuICAgKiBAcmV0dXJuIHtCb29sZWFufSBgdHJ1ZWAgaWYgY29sbGVjdGlvbiBjb250YWlucyBhbiBvYmplY3RcbiAgICovXG4gIGNvbnRhaW5zOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICByZXR1cm4gdGhpcy5fb2JqZWN0cy5pbmRleE9mKG9iamVjdCkgPiAtMTtcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyBudW1iZXIgcmVwcmVzZW50YXRpb24gb2YgYSBjb2xsZWN0aW9uIGNvbXBsZXhpdHlcbiAgICogQHJldHVybiB7TnVtYmVyfSBjb21wbGV4aXR5XG4gICAqL1xuICBjb21wbGV4aXR5OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX29iamVjdHMucmVkdWNlKGZ1bmN0aW9uIChtZW1vLCBjdXJyZW50KSB7XG4gICAgICBtZW1vICs9IGN1cnJlbnQuY29tcGxleGl0eSA/IGN1cnJlbnQuY29tcGxleGl0eSgpIDogMDtcbiAgICAgIHJldHVybiBtZW1vO1xuICAgIH0sIDApO1xuICB9XG59O1xuXG5cbi8qKlxuICogQG5hbWVzcGFjZSBmYWJyaWMuQ29tbW9uTWV0aG9kc1xuICovXG5mYWJyaWMuQ29tbW9uTWV0aG9kcyA9IHtcblxuICAvKipcbiAgICogU2V0cyBvYmplY3QncyBwcm9wZXJ0aWVzIGZyb20gb3B0aW9uc1xuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAqL1xuICBfc2V0T3B0aW9uczogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGZvciAodmFyIHByb3AgaW4gb3B0aW9ucykge1xuICAgICAgdGhpcy5zZXQocHJvcCwgb3B0aW9uc1twcm9wXSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gW2ZpbGxlcl0gT3B0aW9ucyBvYmplY3RcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtwcm9wZXJ0eV0gcHJvcGVydHkgdG8gc2V0IHRoZSBHcmFkaWVudCB0b1xuICAgKi9cbiAgX2luaXRHcmFkaWVudDogZnVuY3Rpb24oZmlsbGVyLCBwcm9wZXJ0eSkge1xuICAgIGlmIChmaWxsZXIgJiYgZmlsbGVyLmNvbG9yU3RvcHMgJiYgIShmaWxsZXIgaW5zdGFuY2VvZiBmYWJyaWMuR3JhZGllbnQpKSB7XG4gICAgICB0aGlzLnNldChwcm9wZXJ0eSwgbmV3IGZhYnJpYy5HcmFkaWVudChmaWxsZXIpKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbZmlsbGVyXSBPcHRpb25zIG9iamVjdFxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3Byb3BlcnR5XSBwcm9wZXJ0eSB0byBzZXQgdGhlIFBhdHRlcm4gdG9cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBjYWxsYmFjayB0byBpbnZva2UgYWZ0ZXIgcGF0dGVybiBsb2FkXG4gICAqL1xuICBfaW5pdFBhdHRlcm46IGZ1bmN0aW9uKGZpbGxlciwgcHJvcGVydHksIGNhbGxiYWNrKSB7XG4gICAgaWYgKGZpbGxlciAmJiBmaWxsZXIuc291cmNlICYmICEoZmlsbGVyIGluc3RhbmNlb2YgZmFicmljLlBhdHRlcm4pKSB7XG4gICAgICB0aGlzLnNldChwcm9wZXJ0eSwgbmV3IGZhYnJpYy5QYXR0ZXJuKGZpbGxlciwgY2FsbGJhY2spKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgKi9cbiAgX2luaXRDbGlwcGluZzogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucy5jbGlwVG8gfHwgdHlwZW9mIG9wdGlvbnMuY2xpcFRvICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBmdW5jdGlvbkJvZHkgPSBmYWJyaWMudXRpbC5nZXRGdW5jdGlvbkJvZHkob3B0aW9ucy5jbGlwVG8pO1xuICAgIGlmICh0eXBlb2YgZnVuY3Rpb25Cb2R5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy5jbGlwVG8gPSBuZXcgRnVuY3Rpb24oJ2N0eCcsIGZ1bmN0aW9uQm9keSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NldE9iamVjdDogZnVuY3Rpb24ob2JqKSB7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHtcbiAgICAgIHRoaXMuX3NldChwcm9wLCBvYmpbcHJvcF0pO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogU2V0cyBwcm9wZXJ0eSB0byBhIGdpdmVuIHZhbHVlLiBXaGVuIGNoYW5naW5nIHBvc2l0aW9uL2RpbWVuc2lvbiAtcmVsYXRlZCBwcm9wZXJ0aWVzIChsZWZ0LCB0b3AsIHNjYWxlLCBhbmdsZSwgZXRjLikgYHNldGAgZG9lcyBub3QgdXBkYXRlIHBvc2l0aW9uIG9mIG9iamVjdCdzIGJvcmRlcnMvY29udHJvbHMuIElmIHlvdSBuZWVkIHRvIHVwZGF0ZSB0aG9zZSwgY2FsbCBgc2V0Q29vcmRzKClgLlxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGtleSBQcm9wZXJ0eSBuYW1lIG9yIG9iamVjdCAoaWYgb2JqZWN0LCBpdGVyYXRlIG92ZXIgdGhlIG9iamVjdCBwcm9wZXJ0aWVzKVxuICAgKiBAcGFyYW0ge09iamVjdHxGdW5jdGlvbn0gdmFsdWUgUHJvcGVydHkgdmFsdWUgKGlmIGZ1bmN0aW9uLCB0aGUgdmFsdWUgaXMgcGFzc2VkIGludG8gaXQgYW5kIGl0cyByZXR1cm4gdmFsdWUgaXMgdXNlZCBhcyBhIG5ldyBvbmUpXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICogQGNoYWluYWJsZVxuICAgKi9cbiAgc2V0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiBrZXkgPT09ICdvYmplY3QnKSB7XG4gICAgICB0aGlzLl9zZXRPYmplY3Qoa2V5KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nICYmIGtleSAhPT0gJ2NsaXBUbycpIHtcbiAgICAgICAgdGhpcy5fc2V0KGtleSwgdmFsdWUodGhpcy5nZXQoa2V5KSkpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuX3NldChrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgX3NldDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgIHRoaXNba2V5XSA9IHZhbHVlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBUb2dnbGVzIHNwZWNpZmllZCBwcm9wZXJ0eSBmcm9tIGB0cnVlYCB0byBgZmFsc2VgIG9yIGZyb20gYGZhbHNlYCB0byBgdHJ1ZWBcbiAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IHRvIHRvZ2dsZVxuICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAqIEBjaGFpbmFibGVcbiAgICovXG4gIHRvZ2dsZTogZnVuY3Rpb24ocHJvcGVydHkpIHtcbiAgICB2YXIgdmFsdWUgPSB0aGlzLmdldChwcm9wZXJ0eSk7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICB0aGlzLnNldChwcm9wZXJ0eSwgIXZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEJhc2ljIGdldHRlclxuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgbmFtZVxuICAgKiBAcmV0dXJuIHsqfSB2YWx1ZSBvZiBhIHByb3BlcnR5XG4gICAqL1xuICBnZXQ6IGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgcmV0dXJuIHRoaXNbcHJvcGVydHldO1xuICB9XG59O1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICB2YXIgc3FydCA9IE1hdGguc3FydCxcbiAgICAgIGF0YW4yID0gTWF0aC5hdGFuMixcbiAgICAgIHBvdyA9IE1hdGgucG93LFxuICAgICAgUGlCeTE4MCA9IE1hdGguUEkgLyAxODAsXG4gICAgICBQaUJ5MiA9IE1hdGguUEkgLyAyO1xuXG4gIC8qKlxuICAgKiBAbmFtZXNwYWNlIGZhYnJpYy51dGlsXG4gICAqL1xuICBmYWJyaWMudXRpbCA9IHtcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgY29zIG9mIGFuIGFuZ2xlLCBhdm9pZGluZyByZXR1cm5pbmcgZmxvYXRzIGZvciBrbm93biByZXN1bHRzXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBhbmdsZSB0aGUgYW5nbGUgaW4gcmFkaWFucyBvciBpbiBkZWdyZWVcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICovXG4gICAgY29zOiBmdW5jdGlvbihhbmdsZSkge1xuICAgICAgaWYgKGFuZ2xlID09PSAwKSB7IHJldHVybiAxOyB9XG4gICAgICBpZiAoYW5nbGUgPCAwKSB7XG4gICAgICAgIC8vIGNvcyhhKSA9IGNvcygtYSlcbiAgICAgICAgYW5nbGUgPSAtYW5nbGU7XG4gICAgICB9XG4gICAgICB2YXIgYW5nbGVTbGljZSA9IGFuZ2xlIC8gUGlCeTI7XG4gICAgICBzd2l0Y2ggKGFuZ2xlU2xpY2UpIHtcbiAgICAgICAgY2FzZSAxOiBjYXNlIDM6IHJldHVybiAwO1xuICAgICAgICBjYXNlIDI6IHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBNYXRoLmNvcyhhbmdsZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgc2luIG9mIGFuIGFuZ2xlLCBhdm9pZGluZyByZXR1cm5pbmcgZmxvYXRzIGZvciBrbm93biByZXN1bHRzXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBhbmdsZSB0aGUgYW5nbGUgaW4gcmFkaWFucyBvciBpbiBkZWdyZWVcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICovXG4gICAgc2luOiBmdW5jdGlvbihhbmdsZSkge1xuICAgICAgaWYgKGFuZ2xlID09PSAwKSB7IHJldHVybiAwOyB9XG4gICAgICB2YXIgYW5nbGVTbGljZSA9IGFuZ2xlIC8gUGlCeTIsIHNpZ24gPSAxO1xuICAgICAgaWYgKGFuZ2xlIDwgMCkge1xuICAgICAgICAvLyBzaW4oLWEpID0gLXNpbihhKVxuICAgICAgICBzaWduID0gLTE7XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKGFuZ2xlU2xpY2UpIHtcbiAgICAgICAgY2FzZSAxOiByZXR1cm4gc2lnbjtcbiAgICAgICAgY2FzZSAyOiByZXR1cm4gMDtcbiAgICAgICAgY2FzZSAzOiByZXR1cm4gLXNpZ247XG4gICAgICB9XG4gICAgICByZXR1cm4gTWF0aC5zaW4oYW5nbGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHZhbHVlIGZyb20gYW4gYXJyYXkuXG4gICAgICogUHJlc2VuY2Ugb2YgdmFsdWUgKGFuZCBpdHMgcG9zaXRpb24gaW4gYW4gYXJyYXkpIGlzIGRldGVybWluZWQgdmlhIGBBcnJheS5wcm90b3R5cGUuaW5kZXhPZmBcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXlcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAgICogQHJldHVybiB7QXJyYXl9IG9yaWdpbmFsIGFycmF5XG4gICAgICovXG4gICAgcmVtb3ZlRnJvbUFycmF5OiBmdW5jdGlvbihhcnJheSwgdmFsdWUpIHtcbiAgICAgIHZhciBpZHggPSBhcnJheS5pbmRleE9mKHZhbHVlKTtcbiAgICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICAgIGFycmF5LnNwbGljZShpZHgsIDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHJhbmRvbSBudW1iZXIgYmV0d2VlbiAyIHNwZWNpZmllZCBvbmVzLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbWluIGxvd2VyIGxpbWl0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG1heCB1cHBlciBsaW1pdFxuICAgICAqIEByZXR1cm4ge051bWJlcn0gcmFuZG9tIHZhbHVlIChiZXR3ZWVuIG1pbiBhbmQgbWF4KVxuICAgICAqL1xuICAgIGdldFJhbmRvbUludDogZnVuY3Rpb24obWluLCBtYXgpIHtcbiAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm1zIGRlZ3JlZXMgdG8gcmFkaWFucy5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGRlZ3JlZXMgdmFsdWUgaW4gZGVncmVlc1xuICAgICAqIEByZXR1cm4ge051bWJlcn0gdmFsdWUgaW4gcmFkaWFuc1xuICAgICAqL1xuICAgIGRlZ3JlZXNUb1JhZGlhbnM6IGZ1bmN0aW9uKGRlZ3JlZXMpIHtcbiAgICAgIHJldHVybiBkZWdyZWVzICogUGlCeTE4MDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtcyByYWRpYW5zIHRvIGRlZ3JlZXMuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByYWRpYW5zIHZhbHVlIGluIHJhZGlhbnNcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHZhbHVlIGluIGRlZ3JlZXNcbiAgICAgKi9cbiAgICByYWRpYW5zVG9EZWdyZWVzOiBmdW5jdGlvbihyYWRpYW5zKSB7XG4gICAgICByZXR1cm4gcmFkaWFucyAvIFBpQnkxODA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJvdGF0ZXMgYHBvaW50YCBhcm91bmQgYG9yaWdpbmAgd2l0aCBgcmFkaWFuc2BcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHBvaW50IFRoZSBwb2ludCB0byByb3RhdGVcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gb3JpZ2luIFRoZSBvcmlnaW4gb2YgdGhlIHJvdGF0aW9uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHJhZGlhbnMgVGhlIHJhZGlhbnMgb2YgdGhlIGFuZ2xlIGZvciB0aGUgcm90YXRpb25cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9IFRoZSBuZXcgcm90YXRlZCBwb2ludFxuICAgICAqL1xuICAgIHJvdGF0ZVBvaW50OiBmdW5jdGlvbihwb2ludCwgb3JpZ2luLCByYWRpYW5zKSB7XG4gICAgICBwb2ludC5zdWJ0cmFjdEVxdWFscyhvcmlnaW4pO1xuICAgICAgdmFyIHYgPSBmYWJyaWMudXRpbC5yb3RhdGVWZWN0b3IocG9pbnQsIHJhZGlhbnMpO1xuICAgICAgcmV0dXJuIG5ldyBmYWJyaWMuUG9pbnQodi54LCB2LnkpLmFkZEVxdWFscyhvcmlnaW4pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSb3RhdGVzIGB2ZWN0b3JgIHdpdGggYHJhZGlhbnNgXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2ZWN0b3IgVGhlIHZlY3RvciB0byByb3RhdGUgKHggYW5kIHkpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHJhZGlhbnMgVGhlIHJhZGlhbnMgb2YgdGhlIGFuZ2xlIGZvciB0aGUgcm90YXRpb25cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBuZXcgcm90YXRlZCBwb2ludFxuICAgICAqL1xuICAgIHJvdGF0ZVZlY3RvcjogZnVuY3Rpb24odmVjdG9yLCByYWRpYW5zKSB7XG4gICAgICB2YXIgc2luID0gZmFicmljLnV0aWwuc2luKHJhZGlhbnMpLFxuICAgICAgICAgIGNvcyA9IGZhYnJpYy51dGlsLmNvcyhyYWRpYW5zKSxcbiAgICAgICAgICByeCA9IHZlY3Rvci54ICogY29zIC0gdmVjdG9yLnkgKiBzaW4sXG4gICAgICAgICAgcnkgPSB2ZWN0b3IueCAqIHNpbiArIHZlY3Rvci55ICogY29zO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogcngsXG4gICAgICAgIHk6IHJ5XG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBcHBseSB0cmFuc2Zvcm0gdCB0byBwb2ludCBwXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSAge2ZhYnJpYy5Qb2ludH0gcCBUaGUgcG9pbnQgdG8gdHJhbnNmb3JtXG4gICAgICogQHBhcmFtICB7QXJyYXl9IHQgVGhlIHRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IFtpZ25vcmVPZmZzZXRdIEluZGljYXRlcyB0aGF0IHRoZSBvZmZzZXQgc2hvdWxkIG5vdCBiZSBhcHBsaWVkXG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fSBUaGUgdHJhbnNmb3JtZWQgcG9pbnRcbiAgICAgKi9cbiAgICB0cmFuc2Zvcm1Qb2ludDogZnVuY3Rpb24ocCwgdCwgaWdub3JlT2Zmc2V0KSB7XG4gICAgICBpZiAoaWdub3JlT2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBuZXcgZmFicmljLlBvaW50KFxuICAgICAgICAgIHRbMF0gKiBwLnggKyB0WzJdICogcC55LFxuICAgICAgICAgIHRbMV0gKiBwLnggKyB0WzNdICogcC55XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IGZhYnJpYy5Qb2ludChcbiAgICAgICAgdFswXSAqIHAueCArIHRbMl0gKiBwLnkgKyB0WzRdLFxuICAgICAgICB0WzFdICogcC54ICsgdFszXSAqIHAueSArIHRbNV1cbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY29vcmRpbmF0ZXMgb2YgcG9pbnRzJ3MgYm91bmRpbmcgcmVjdGFuZ2xlIChsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpXG4gICAgICogQHBhcmFtIHtBcnJheX0gcG9pbnRzIDQgcG9pbnRzIGFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gW3RyYW5zZm9ybV0gYW4gYXJyYXkgb2YgNiBudW1iZXJzIHJlcHJlc2VudGluZyBhIDJ4MyB0cmFuc2Zvcm0gbWF0cml4XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3Qgd2l0aCBsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQgcHJvcGVydGllc1xuICAgICAqL1xuICAgIG1ha2VCb3VuZGluZ0JveEZyb21Qb2ludHM6IGZ1bmN0aW9uKHBvaW50cywgdHJhbnNmb3JtKSB7XG4gICAgICBpZiAodHJhbnNmb3JtKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgcG9pbnRzW2ldID0gZmFicmljLnV0aWwudHJhbnNmb3JtUG9pbnQocG9pbnRzW2ldLCB0cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgeFBvaW50cyA9IFtwb2ludHNbMF0ueCwgcG9pbnRzWzFdLngsIHBvaW50c1syXS54LCBwb2ludHNbM10ueF0sXG4gICAgICAgICAgbWluWCA9IGZhYnJpYy51dGlsLmFycmF5Lm1pbih4UG9pbnRzKSxcbiAgICAgICAgICBtYXhYID0gZmFicmljLnV0aWwuYXJyYXkubWF4KHhQb2ludHMpLFxuICAgICAgICAgIHdpZHRoID0gbWF4WCAtIG1pblgsXG4gICAgICAgICAgeVBvaW50cyA9IFtwb2ludHNbMF0ueSwgcG9pbnRzWzFdLnksIHBvaW50c1syXS55LCBwb2ludHNbM10ueV0sXG4gICAgICAgICAgbWluWSA9IGZhYnJpYy51dGlsLmFycmF5Lm1pbih5UG9pbnRzKSxcbiAgICAgICAgICBtYXhZID0gZmFicmljLnV0aWwuYXJyYXkubWF4KHlQb2ludHMpLFxuICAgICAgICAgIGhlaWdodCA9IG1heFkgLSBtaW5ZO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBsZWZ0OiBtaW5YLFxuICAgICAgICB0b3A6IG1pblksXG4gICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEludmVydCB0cmFuc2Zvcm1hdGlvbiB0XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHQgVGhlIHRyYW5zZm9ybVxuICAgICAqIEByZXR1cm4ge0FycmF5fSBUaGUgaW52ZXJ0ZWQgdHJhbnNmb3JtXG4gICAgICovXG4gICAgaW52ZXJ0VHJhbnNmb3JtOiBmdW5jdGlvbih0KSB7XG4gICAgICB2YXIgYSA9IDEgLyAodFswXSAqIHRbM10gLSB0WzFdICogdFsyXSksXG4gICAgICAgICAgciA9IFthICogdFszXSwgLWEgKiB0WzFdLCAtYSAqIHRbMl0sIGEgKiB0WzBdXSxcbiAgICAgICAgICBvID0gZmFicmljLnV0aWwudHJhbnNmb3JtUG9pbnQoeyB4OiB0WzRdLCB5OiB0WzVdIH0sIHIsIHRydWUpO1xuICAgICAgcls0XSA9IC1vLng7XG4gICAgICByWzVdID0gLW8ueTtcbiAgICAgIHJldHVybiByO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBIHdyYXBwZXIgYXJvdW5kIE51bWJlciN0b0ZpeGVkLCB3aGljaCBjb250cmFyeSB0byBuYXRpdmUgbWV0aG9kIHJldHVybnMgbnVtYmVyLCBub3Qgc3RyaW5nLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge051bWJlcnxTdHJpbmd9IG51bWJlciBudW1iZXIgdG8gb3BlcmF0ZSBvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBmcmFjdGlvbkRpZ2l0cyBudW1iZXIgb2YgZnJhY3Rpb24gZGlnaXRzIHRvIFwibGVhdmVcIlxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKi9cbiAgICB0b0ZpeGVkOiBmdW5jdGlvbihudW1iZXIsIGZyYWN0aW9uRGlnaXRzKSB7XG4gICAgICByZXR1cm4gcGFyc2VGbG9hdChOdW1iZXIobnVtYmVyKS50b0ZpeGVkKGZyYWN0aW9uRGlnaXRzKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGZyb20gYXR0cmlidXRlIHZhbHVlIHRvIHBpeGVsIHZhbHVlIGlmIGFwcGxpY2FibGUuXG4gICAgICogUmV0dXJucyBjb252ZXJ0ZWQgcGl4ZWxzIG9yIG9yaWdpbmFsIHZhbHVlIG5vdCBjb252ZXJ0ZWQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ8U3RyaW5nfSB2YWx1ZSBudW1iZXIgdG8gb3BlcmF0ZSBvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBmb250U2l6ZVxuICAgICAqIEByZXR1cm4ge051bWJlcnxTdHJpbmd9XG4gICAgICovXG4gICAgcGFyc2VVbml0OiBmdW5jdGlvbih2YWx1ZSwgZm9udFNpemUpIHtcbiAgICAgIHZhciB1bml0ID0gL1xcRHswLDJ9JC8uZXhlYyh2YWx1ZSksXG4gICAgICAgICAgbnVtYmVyID0gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgICBpZiAoIWZvbnRTaXplKSB7XG4gICAgICAgIGZvbnRTaXplID0gZmFicmljLlRleHQuREVGQVVMVF9TVkdfRk9OVF9TSVpFO1xuICAgICAgfVxuICAgICAgc3dpdGNoICh1bml0WzBdKSB7XG4gICAgICAgIGNhc2UgJ21tJzpcbiAgICAgICAgICByZXR1cm4gbnVtYmVyICogZmFicmljLkRQSSAvIDI1LjQ7XG5cbiAgICAgICAgY2FzZSAnY20nOlxuICAgICAgICAgIHJldHVybiBudW1iZXIgKiBmYWJyaWMuRFBJIC8gMi41NDtcblxuICAgICAgICBjYXNlICdpbic6XG4gICAgICAgICAgcmV0dXJuIG51bWJlciAqIGZhYnJpYy5EUEk7XG5cbiAgICAgICAgY2FzZSAncHQnOlxuICAgICAgICAgIHJldHVybiBudW1iZXIgKiBmYWJyaWMuRFBJIC8gNzI7IC8vIG9yICogNCAvIDNcblxuICAgICAgICBjYXNlICdwYyc6XG4gICAgICAgICAgcmV0dXJuIG51bWJlciAqIGZhYnJpYy5EUEkgLyA3MiAqIDEyOyAvLyBvciAqIDE2XG5cbiAgICAgICAgY2FzZSAnZW0nOlxuICAgICAgICAgIHJldHVybiBudW1iZXIgKiBmb250U2l6ZTtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBudW1iZXI7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHdoaWNoIGFsd2F5cyByZXR1cm5zIGBmYWxzZWAuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgZmFsc2VGdW5jdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMga2xhc3MgXCJDbGFzc1wiIG9iamVjdCBvZiBnaXZlbiBuYW1lc3BhY2VcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUeXBlIG9mIG9iamVjdCAoZWcuICdjaXJjbGUnKVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2UgTmFtZXNwYWNlIHRvIGdldCBrbGFzcyBcIkNsYXNzXCIgb2JqZWN0IGZyb21cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IGtsYXNzIFwiQ2xhc3NcIlxuICAgICAqL1xuICAgIGdldEtsYXNzOiBmdW5jdGlvbih0eXBlLCBuYW1lc3BhY2UpIHtcbiAgICAgIC8vIGNhcGl0YWxpemUgZmlyc3QgbGV0dGVyIG9ubHlcbiAgICAgIHR5cGUgPSBmYWJyaWMudXRpbC5zdHJpbmcuY2FtZWxpemUodHlwZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHR5cGUuc2xpY2UoMSkpO1xuICAgICAgcmV0dXJuIGZhYnJpYy51dGlsLnJlc29sdmVOYW1lc3BhY2UobmFtZXNwYWNlKVt0eXBlXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhcnJheSBvZiBhdHRyaWJ1dGVzIGZvciBnaXZlbiBzdmcgdGhhdCBmYWJyaWMgcGFyc2VzXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGUgVHlwZSBvZiBzdmcgZWxlbWVudCAoZWcuICdjaXJjbGUnKVxuICAgICAqIEByZXR1cm4ge0FycmF5fSBzdHJpbmcgbmFtZXMgb2Ygc3VwcG9ydGVkIGF0dHJpYnV0ZXNcbiAgICAgKi9cbiAgICBnZXRTdmdBdHRyaWJ1dGVzOiBmdW5jdGlvbih0eXBlKSB7XG4gICAgICB2YXIgYXR0cmlidXRlcyA9IFtcbiAgICAgICAgJ2luc3RhbnRpYXRlZF9ieV91c2UnLFxuICAgICAgICAnc3R5bGUnLFxuICAgICAgICAnaWQnLFxuICAgICAgICAnY2xhc3MnXG4gICAgICBdO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgJ2xpbmVhckdyYWRpZW50JzpcbiAgICAgICAgICBhdHRyaWJ1dGVzID0gYXR0cmlidXRlcy5jb25jYXQoWyd4MScsICd5MScsICd4MicsICd5MicsICdncmFkaWVudFVuaXRzJywgJ2dyYWRpZW50VHJhbnNmb3JtJ10pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdyYWRpYWxHcmFkaWVudCc6XG4gICAgICAgICAgYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXMuY29uY2F0KFsnZ3JhZGllbnRVbml0cycsICdncmFkaWVudFRyYW5zZm9ybScsICdjeCcsICdjeScsICdyJywgJ2Z4JywgJ2Z5JywgJ2ZyJ10pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdzdG9wJzpcbiAgICAgICAgICBhdHRyaWJ1dGVzID0gYXR0cmlidXRlcy5jb25jYXQoWydvZmZzZXQnLCAnc3RvcC1jb2xvcicsICdzdG9wLW9wYWNpdHknXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvYmplY3Qgb2YgZ2l2ZW4gbmFtZXNwYWNlXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZSBOYW1lc3BhY2Ugc3RyaW5nIGUuZy4gJ2ZhYnJpYy5JbWFnZS5maWx0ZXInIG9yICdmYWJyaWMnXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3QgZm9yIGdpdmVuIG5hbWVzcGFjZSAoZGVmYXVsdCBmYWJyaWMpXG4gICAgICovXG4gICAgcmVzb2x2ZU5hbWVzcGFjZTogZnVuY3Rpb24obmFtZXNwYWNlKSB7XG4gICAgICBpZiAoIW5hbWVzcGFjZSkge1xuICAgICAgICByZXR1cm4gZmFicmljO1xuICAgICAgfVxuXG4gICAgICB2YXIgcGFydHMgPSBuYW1lc3BhY2Uuc3BsaXQoJy4nKSxcbiAgICAgICAgICBsZW4gPSBwYXJ0cy5sZW5ndGgsIGksXG4gICAgICAgICAgb2JqID0gZ2xvYmFsIHx8IGZhYnJpYy53aW5kb3c7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICBvYmogPSBvYmpbcGFydHNbaV1dO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMb2FkcyBpbWFnZSBlbGVtZW50IGZyb20gZ2l2ZW4gdXJsIGFuZCBwYXNzZXMgaXQgdG8gYSBjYWxsYmFja1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgVVJMIHJlcHJlc2VudGluZyBhbiBpbWFnZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrOyBpbnZva2VkIHdpdGggbG9hZGVkIGltYWdlXG4gICAgICogQHBhcmFtIHsqfSBbY29udGV4dF0gQ29udGV4dCB0byBpbnZva2UgY2FsbGJhY2sgaW5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2Nyb3NzT3JpZ2luXSBjcm9zc09yaWdpbiB2YWx1ZSB0byBzZXQgaW1hZ2UgZWxlbWVudCB0b1xuICAgICAqL1xuICAgIGxvYWRJbWFnZTogZnVuY3Rpb24odXJsLCBjYWxsYmFjaywgY29udGV4dCwgY3Jvc3NPcmlnaW4pIHtcbiAgICAgIGlmICghdXJsKSB7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrLmNhbGwoY29udGV4dCwgdXJsKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW1nID0gZmFicmljLnV0aWwuY3JlYXRlSW1hZ2UoKTtcblxuICAgICAgLyoqIEBpZ25vcmUgKi9cbiAgICAgIHZhciBvbkxvYWRDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2suY2FsbChjb250ZXh0LCBpbWcpO1xuICAgICAgICBpbWcgPSBpbWcub25sb2FkID0gaW1nLm9uZXJyb3IgPSBudWxsO1xuICAgICAgfTtcblxuICAgICAgaW1nLm9ubG9hZCA9IG9uTG9hZENhbGxiYWNrO1xuICAgICAgLyoqIEBpZ25vcmUgKi9cbiAgICAgIGltZy5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGZhYnJpYy5sb2coJ0Vycm9yIGxvYWRpbmcgJyArIGltZy5zcmMpO1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjay5jYWxsKGNvbnRleHQsIG51bGwsIHRydWUpO1xuICAgICAgICBpbWcgPSBpbWcub25sb2FkID0gaW1nLm9uZXJyb3IgPSBudWxsO1xuICAgICAgfTtcblxuICAgICAgLy8gZGF0YS11cmxzIGFwcGVhciB0byBiZSBidWdneSB3aXRoIGNyb3NzT3JpZ2luXG4gICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20va2FuZ2F4L2ZhYnJpYy5qcy9jb21taXQvZDBhYmI5MGYxY2Q1YzVlZjlkMmE5NGQzZmIyMWEyMjMzMGRhM2UwYSNjb21taXRjb21tZW50LTQ1MTM3NjdcbiAgICAgIC8vIHNlZSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MzE1MTUyXG4gICAgICAvLyAgICAgaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9OTM1MDY5XG4gICAgICBpZiAodXJsLmluZGV4T2YoJ2RhdGEnKSAhPT0gMCAmJiBjcm9zc09yaWdpbikge1xuICAgICAgICBpbWcuY3Jvc3NPcmlnaW4gPSBjcm9zc09yaWdpbjtcbiAgICAgIH1cblxuICAgICAgLy8gSUUxMCAvIElFMTEtRml4OiBTVkcgY29udGVudHMgZnJvbSBkYXRhOiBVUklcbiAgICAgIC8vIHdpbGwgb25seSBiZSBhdmFpbGFibGUgaWYgdGhlIElNRyBpcyBwcmVzZW50XG4gICAgICAvLyBpbiB0aGUgRE9NIChhbmQgdmlzaWJsZSlcbiAgICAgIGlmICh1cmwuc3Vic3RyaW5nKDAsMTQpID09PSAnZGF0YTppbWFnZS9zdmcnKSB7XG4gICAgICAgIGltZy5vbmxvYWQgPSBudWxsO1xuICAgICAgICBmYWJyaWMudXRpbC5sb2FkSW1hZ2VJbkRvbShpbWcsIG9uTG9hZENhbGxiYWNrKTtcbiAgICAgIH1cblxuICAgICAgaW1nLnNyYyA9IHVybDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXR0YWNoZXMgU1ZHIGltYWdlIHdpdGggZGF0YTogVVJMIHRvIHRoZSBkb21cbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaW1nIEltYWdlIG9iamVjdCB3aXRoIGRhdGE6aW1hZ2Uvc3ZnIHNyY1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrOyBpbnZva2VkIHdpdGggbG9hZGVkIGltYWdlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBET00gZWxlbWVudCAoZGl2IGNvbnRhaW5pbmcgdGhlIFNWRyBpbWFnZSlcbiAgICAgKi9cbiAgICBsb2FkSW1hZ2VJbkRvbTogZnVuY3Rpb24oaW1nLCBvbkxvYWRDYWxsYmFjaykge1xuICAgICAgdmFyIGRpdiA9IGZhYnJpYy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGRpdi5zdHlsZS53aWR0aCA9IGRpdi5zdHlsZS5oZWlnaHQgPSAnMXB4JztcbiAgICAgIGRpdi5zdHlsZS5sZWZ0ID0gZGl2LnN0eWxlLnRvcCA9ICctMTAwJSc7XG4gICAgICBkaXYuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgZGl2LmFwcGVuZENoaWxkKGltZyk7XG4gICAgICBmYWJyaWMuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmFwcGVuZENoaWxkKGRpdik7XG4gICAgICAvKipcbiAgICAgICAqIFdyYXAgaW4gZnVuY3Rpb24gdG86XG4gICAgICAgKiAgIDEuIENhbGwgZXhpc3RpbmcgY2FsbGJhY2tcbiAgICAgICAqICAgMi4gQ2xlYW51cCBET01cbiAgICAgICAqL1xuICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgb25Mb2FkQ2FsbGJhY2soKTtcbiAgICAgICAgZGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZGl2KTtcbiAgICAgICAgZGl2ID0gbnVsbDtcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgY29ycmVzcG9uZGluZyBmYWJyaWMgaW5zdGFuY2VzIGZyb20gdGhlaXIgb2JqZWN0IHJlcHJlc2VudGF0aW9uc1xuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBvYmplY3RzIE9iamVjdHMgdG8gZW5saXZlblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrIHRvIGludm9rZSB3aGVuIGFsbCBvYmplY3RzIGFyZSBjcmVhdGVkXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZSBOYW1lc3BhY2UgdG8gZ2V0IGtsYXNzIFwiQ2xhc3NcIiBvYmplY3QgZnJvbVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHJldml2ZXIgTWV0aG9kIGZvciBmdXJ0aGVyIHBhcnNpbmcgb2Ygb2JqZWN0IGVsZW1lbnRzLFxuICAgICAqIGNhbGxlZCBhZnRlciBlYWNoIGZhYnJpYyBvYmplY3QgY3JlYXRlZC5cbiAgICAgKi9cbiAgICBlbmxpdmVuT2JqZWN0czogZnVuY3Rpb24ob2JqZWN0cywgY2FsbGJhY2ssIG5hbWVzcGFjZSwgcmV2aXZlcikge1xuICAgICAgb2JqZWN0cyA9IG9iamVjdHMgfHwgW107XG5cbiAgICAgIHZhciBlbmxpdmVuZWRPYmplY3RzID0gW10sXG4gICAgICAgICAgbnVtTG9hZGVkT2JqZWN0cyA9IDAsXG4gICAgICAgICAgbnVtVG90YWxPYmplY3RzID0gb2JqZWN0cy5sZW5ndGg7XG5cbiAgICAgIGZ1bmN0aW9uIG9uTG9hZGVkKCkge1xuICAgICAgICBpZiAoKytudW1Mb2FkZWRPYmplY3RzID09PSBudW1Ub3RhbE9iamVjdHMpIHtcbiAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhlbmxpdmVuZWRPYmplY3RzLmZpbHRlcihmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgIC8vIGZpbHRlciBvdXQgdW5kZWZpbmVkIG9iamVjdHMgKG9iamVjdHMgdGhhdCBnYXZlIGVycm9yKVxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKCFudW1Ub3RhbE9iamVjdHMpIHtcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZW5saXZlbmVkT2JqZWN0cyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgb2JqZWN0cy5mb3JFYWNoKGZ1bmN0aW9uIChvLCBpbmRleCkge1xuICAgICAgICAvLyBpZiBzcGFyc2UgYXJyYXlcbiAgICAgICAgaWYgKCFvIHx8ICFvLnR5cGUpIHtcbiAgICAgICAgICBvbkxvYWRlZCgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIga2xhc3MgPSBmYWJyaWMudXRpbC5nZXRLbGFzcyhvLnR5cGUsIG5hbWVzcGFjZSk7XG4gICAgICAgIGtsYXNzLmZyb21PYmplY3QobywgZnVuY3Rpb24gKG9iaiwgZXJyb3IpIHtcbiAgICAgICAgICBlcnJvciB8fCAoZW5saXZlbmVkT2JqZWN0c1tpbmRleF0gPSBvYmopO1xuICAgICAgICAgIHJldml2ZXIgJiYgcmV2aXZlcihvLCBvYmosIGVycm9yKTtcbiAgICAgICAgICBvbkxvYWRlZCgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW5kIHdhaXQgZm9yIGxvYWRpbmcgb2YgcGF0dGVybnNcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGF0dGVybnMgT2JqZWN0cyB0byBlbmxpdmVuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gYWxsIG9iamVjdHMgYXJlIGNyZWF0ZWRcbiAgICAgKiBjYWxsZWQgYWZ0ZXIgZWFjaCBmYWJyaWMgb2JqZWN0IGNyZWF0ZWQuXG4gICAgICovXG4gICAgZW5saXZlblBhdHRlcm5zOiBmdW5jdGlvbihwYXR0ZXJucywgY2FsbGJhY2spIHtcbiAgICAgIHBhdHRlcm5zID0gcGF0dGVybnMgfHwgW107XG5cbiAgICAgIGZ1bmN0aW9uIG9uTG9hZGVkKCkge1xuICAgICAgICBpZiAoKytudW1Mb2FkZWRQYXR0ZXJucyA9PT0gbnVtUGF0dGVybnMpIHtcbiAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhlbmxpdmVuZWRQYXR0ZXJucyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGVubGl2ZW5lZFBhdHRlcm5zID0gW10sXG4gICAgICAgICAgbnVtTG9hZGVkUGF0dGVybnMgPSAwLFxuICAgICAgICAgIG51bVBhdHRlcm5zID0gcGF0dGVybnMubGVuZ3RoO1xuXG4gICAgICBpZiAoIW51bVBhdHRlcm5zKSB7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGVubGl2ZW5lZFBhdHRlcm5zKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBwYXR0ZXJucy5mb3JFYWNoKGZ1bmN0aW9uIChwLCBpbmRleCkge1xuICAgICAgICBpZiAocCAmJiBwLnNvdXJjZSkge1xuICAgICAgICAgIG5ldyBmYWJyaWMuUGF0dGVybihwLCBmdW5jdGlvbihwYXR0ZXJuKSB7XG4gICAgICAgICAgICBlbmxpdmVuZWRQYXR0ZXJuc1tpbmRleF0gPSBwYXR0ZXJuO1xuICAgICAgICAgICAgb25Mb2FkZWQoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBlbmxpdmVuZWRQYXR0ZXJuc1tpbmRleF0gPSBwO1xuICAgICAgICAgIG9uTG9hZGVkKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHcm91cHMgU1ZHIGVsZW1lbnRzICh1c3VhbGx5IHRob3NlIHJldHJpZXZlZCBmcm9tIFNWRyBkb2N1bWVudClcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtBcnJheX0gZWxlbWVudHMgU1ZHIGVsZW1lbnRzIHRvIGdyb3VwXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoIFZhbHVlIHRvIHNldCBzb3VyY2VQYXRoIHRvXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdHxmYWJyaWMuR3JvdXB9XG4gICAgICovXG4gICAgZ3JvdXBTVkdFbGVtZW50czogZnVuY3Rpb24oZWxlbWVudHMsIG9wdGlvbnMsIHBhdGgpIHtcbiAgICAgIHZhciBvYmplY3Q7XG4gICAgICBpZiAoZWxlbWVudHMgJiYgZWxlbWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50c1swXTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zLndpZHRoICYmIG9wdGlvbnMuaGVpZ2h0KSB7XG4gICAgICAgICAgb3B0aW9ucy5jZW50ZXJQb2ludCA9IHtcbiAgICAgICAgICAgIHg6IG9wdGlvbnMud2lkdGggLyAyLFxuICAgICAgICAgICAgeTogb3B0aW9ucy5oZWlnaHQgLyAyXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgb3B0aW9ucy53aWR0aDtcbiAgICAgICAgICBkZWxldGUgb3B0aW9ucy5oZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IG5ldyBmYWJyaWMuR3JvdXAoZWxlbWVudHMsIG9wdGlvbnMpO1xuICAgICAgaWYgKHR5cGVvZiBwYXRoICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBvYmplY3Quc291cmNlUGF0aCA9IHBhdGg7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQb3B1bGF0ZXMgYW4gb2JqZWN0IHdpdGggcHJvcGVydGllcyBvZiBhbm90aGVyIG9iamVjdFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFNvdXJjZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGVzdGluYXRpb24gRGVzdGluYXRpb24gb2JqZWN0XG4gICAgICogQHJldHVybiB7QXJyYXl9IHByb3BlcnRpZXMgUHJvcGVydGllcyBuYW1lcyB0byBpbmNsdWRlXG4gICAgICovXG4gICAgcG9wdWxhdGVXaXRoUHJvcGVydGllczogZnVuY3Rpb24oc291cmNlLCBkZXN0aW5hdGlvbiwgcHJvcGVydGllcykge1xuICAgICAgaWYgKHByb3BlcnRpZXMgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHByb3BlcnRpZXMpID09PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBwcm9wZXJ0aWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgaWYgKHByb3BlcnRpZXNbaV0gaW4gc291cmNlKSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbltwcm9wZXJ0aWVzW2ldXSA9IHNvdXJjZVtwcm9wZXJ0aWVzW2ldXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYSBkYXNoZWQgbGluZSBiZXR3ZWVuIHR3byBwb2ludHNcbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gZHJhdyBkYXNoZWQgbGluZSBhcm91bmQgc2VsZWN0aW9uIGFyZWEuXG4gICAgICogU2VlIDxhIGhyZWY9XCJodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzQ1NzY3MjQvZG90dGVkLXN0cm9rZS1pbi1jYW52YXNcIj5kb3R0ZWQgc3Ryb2tlIGluIGNhbnZhczwvYT5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggY29udGV4dFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4ICBzdGFydCB4IGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geSBzdGFydCB5IGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geDIgZW5kIHggY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5MiBlbmQgeSBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gZGEgZGFzaCBhcnJheSBwYXR0ZXJuXG4gICAgICovXG4gICAgZHJhd0Rhc2hlZExpbmU6IGZ1bmN0aW9uKGN0eCwgeCwgeSwgeDIsIHkyLCBkYSkge1xuICAgICAgdmFyIGR4ID0geDIgLSB4LFxuICAgICAgICAgIGR5ID0geTIgLSB5LFxuICAgICAgICAgIGxlbiA9IHNxcnQoZHggKiBkeCArIGR5ICogZHkpLFxuICAgICAgICAgIHJvdCA9IGF0YW4yKGR5LCBkeCksXG4gICAgICAgICAgZGMgPSBkYS5sZW5ndGgsXG4gICAgICAgICAgZGkgPSAwLFxuICAgICAgICAgIGRyYXcgPSB0cnVlO1xuXG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgY3R4LnRyYW5zbGF0ZSh4LCB5KTtcbiAgICAgIGN0eC5tb3ZlVG8oMCwgMCk7XG4gICAgICBjdHgucm90YXRlKHJvdCk7XG5cbiAgICAgIHggPSAwO1xuICAgICAgd2hpbGUgKGxlbiA+IHgpIHtcbiAgICAgICAgeCArPSBkYVtkaSsrICUgZGNdO1xuICAgICAgICBpZiAoeCA+IGxlbikge1xuICAgICAgICAgIHggPSBsZW47XG4gICAgICAgIH1cbiAgICAgICAgY3R4W2RyYXcgPyAnbGluZVRvJyA6ICdtb3ZlVG8nXSh4LCAwKTtcbiAgICAgICAgZHJhdyA9ICFkcmF3O1xuICAgICAgfVxuXG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGNhbnZhcyBlbGVtZW50XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEByZXR1cm4ge0NhbnZhc0VsZW1lbnR9IGluaXRpYWxpemVkIGNhbnZhcyBlbGVtZW50XG4gICAgICovXG4gICAgY3JlYXRlQ2FudmFzRWxlbWVudDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZmFicmljLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2FudmFzIGVsZW1lbnQgdGhhdCBpcyBhIGNvcHkgb2YgYW5vdGhlciBhbmQgaXMgYWxzbyBwYWludGVkXG4gICAgICogQHBhcmFtIHtDYW52YXNFbGVtZW50fSBjYW52YXMgdG8gY29weSBzaXplIGFuZCBjb250ZW50IG9mXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEByZXR1cm4ge0NhbnZhc0VsZW1lbnR9IGluaXRpYWxpemVkIGNhbnZhcyBlbGVtZW50XG4gICAgICovXG4gICAgY29weUNhbnZhc0VsZW1lbnQ6IGZ1bmN0aW9uKGNhbnZhcykge1xuICAgICAgdmFyIG5ld0NhbnZhcyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNhbnZhc0VsZW1lbnQoKTtcbiAgICAgIG5ld0NhbnZhcy53aWR0aCA9IGNhbnZhcy53aWR0aDtcbiAgICAgIG5ld0NhbnZhcy5oZWlnaHQgPSBjYW52YXMuaGVpZ2h0O1xuICAgICAgbmV3Q2FudmFzLmdldENvbnRleHQoJzJkJykuZHJhd0ltYWdlKGNhbnZhcywgMCwgMCk7XG4gICAgICByZXR1cm4gbmV3Q2FudmFzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBzaW5jZSAyLjYuMCBtb3ZlZCBmcm9tIGNhbnZhcyBpbnN0YW5jZSB0byB1dGlsaXR5LlxuICAgICAqIEBwYXJhbSB7Q2FudmFzRWxlbWVudH0gY2FudmFzRWwgdG8gY29weSBzaXplIGFuZCBjb250ZW50IG9mXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGZvcm1hdCAnanBlZycgb3IgJ3BuZycsIGluIHNvbWUgYnJvd3NlcnMgJ3dlYnAnIGlzIG9rIHRvb1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBxdWFsaXR5IDw9IDEgYW5kID4gMFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IGRhdGEgdXJsXG4gICAgICovXG4gICAgdG9EYXRhVVJMOiBmdW5jdGlvbihjYW52YXNFbCwgZm9ybWF0LCBxdWFsaXR5KSB7XG4gICAgICByZXR1cm4gY2FudmFzRWwudG9EYXRhVVJMKCdpbWFnZS8nICsgZm9ybWF0LCBxdWFsaXR5KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBpbWFnZSBlbGVtZW50ICh3b3JrcyBvbiBjbGllbnQgYW5kIG5vZGUpXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR9IEhUTUwgaW1hZ2UgZWxlbWVudFxuICAgICAqL1xuICAgIGNyZWF0ZUltYWdlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmYWJyaWMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSAyLjAuMFxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gcmVjZWl2ZXIgT2JqZWN0IGltcGxlbWVudGluZyBgY2xpcFRvYCBtZXRob2RcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gY2xpcFxuICAgICAqL1xuICAgIGNsaXBDb250ZXh0OiBmdW5jdGlvbihyZWNlaXZlciwgY3R4KSB7XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgcmVjZWl2ZXIuY2xpcFRvKGN0eCk7XG4gICAgICBjdHguY2xpcCgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBseSBtYXRyaXggQSBieSBtYXRyaXggQiB0byBuZXN0IHRyYW5zZm9ybWF0aW9uc1xuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0gIHtBcnJheX0gYSBGaXJzdCB0cmFuc2Zvcm1NYXRyaXhcbiAgICAgKiBAcGFyYW0gIHtBcnJheX0gYiBTZWNvbmQgdHJhbnNmb3JtTWF0cml4XG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gaXMyeDIgZmxhZyB0byBtdWx0aXBseSBtYXRyaWNlcyBhcyAyeDIgbWF0cmljZXNcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gVGhlIHByb2R1Y3Qgb2YgdGhlIHR3byB0cmFuc2Zvcm0gbWF0cmljZXNcbiAgICAgKi9cbiAgICBtdWx0aXBseVRyYW5zZm9ybU1hdHJpY2VzOiBmdW5jdGlvbihhLCBiLCBpczJ4Mikge1xuICAgICAgLy8gTWF0cml4IG11bHRpcGx5IGEgKiBiXG4gICAgICByZXR1cm4gW1xuICAgICAgICBhWzBdICogYlswXSArIGFbMl0gKiBiWzFdLFxuICAgICAgICBhWzFdICogYlswXSArIGFbM10gKiBiWzFdLFxuICAgICAgICBhWzBdICogYlsyXSArIGFbMl0gKiBiWzNdLFxuICAgICAgICBhWzFdICogYlsyXSArIGFbM10gKiBiWzNdLFxuICAgICAgICBpczJ4MiA/IDAgOiBhWzBdICogYls0XSArIGFbMl0gKiBiWzVdICsgYVs0XSxcbiAgICAgICAgaXMyeDIgPyAwIDogYVsxXSAqIGJbNF0gKyBhWzNdICogYls1XSArIGFbNV1cbiAgICAgIF07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERlY29tcG9zZXMgc3RhbmRhcmQgMngzIG1hdHJpeCBpbnRvIHRyYW5zZm9ybSBjb21wb25lbnRzXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSAge0FycmF5fSBhIHRyYW5zZm9ybU1hdHJpeFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQ29tcG9uZW50cyBvZiB0cmFuc2Zvcm1cbiAgICAgKi9cbiAgICBxckRlY29tcG9zZTogZnVuY3Rpb24oYSkge1xuICAgICAgdmFyIGFuZ2xlID0gYXRhbjIoYVsxXSwgYVswXSksXG4gICAgICAgICAgZGVub20gPSBwb3coYVswXSwgMikgKyBwb3coYVsxXSwgMiksXG4gICAgICAgICAgc2NhbGVYID0gc3FydChkZW5vbSksXG4gICAgICAgICAgc2NhbGVZID0gKGFbMF0gKiBhWzNdIC0gYVsyXSAqIGEgWzFdKSAvIHNjYWxlWCxcbiAgICAgICAgICBza2V3WCA9IGF0YW4yKGFbMF0gKiBhWzJdICsgYVsxXSAqIGEgWzNdLCBkZW5vbSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhbmdsZTogYW5nbGUgIC8gUGlCeTE4MCxcbiAgICAgICAgc2NhbGVYOiBzY2FsZVgsXG4gICAgICAgIHNjYWxlWTogc2NhbGVZLFxuICAgICAgICBza2V3WDogc2tld1ggLyBQaUJ5MTgwLFxuICAgICAgICBza2V3WTogMCxcbiAgICAgICAgdHJhbnNsYXRlWDogYVs0XSxcbiAgICAgICAgdHJhbnNsYXRlWTogYVs1XVxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHRyYW5zZm9ybSBtYXRyaXggc3RhcnRpbmcgZnJvbSBhbiBvYmplY3Qgb2YgdGhlIHNhbWUga2luZCBvZlxuICAgICAqIHRoZSBvbmUgcmV0dXJuZWQgZnJvbSBxckRlY29tcG9zZSwgdXNlZnVsIGFsc28gaWYgeW91IHdhbnQgdG8gY2FsY3VsYXRlIHNvbWVcbiAgICAgKiB0cmFuc2Zvcm1hdGlvbnMgZnJvbSBhbiBvYmplY3QgdGhhdCBpcyBub3QgZW5saXZlZCB5ZXRcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBbb3B0aW9ucy5hbmdsZV0gYW5nbGUgaW4gZGVncmVlc1xuICAgICAqIEByZXR1cm4ge051bWJlcltdfSB0cmFuc2Zvcm0gbWF0cml4XG4gICAgICovXG4gICAgY2FsY1JvdGF0ZU1hdHJpeDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgaWYgKCFvcHRpb25zLmFuZ2xlKSB7XG4gICAgICAgIHJldHVybiBmYWJyaWMuaU1hdHJpeC5jb25jYXQoKTtcbiAgICAgIH1cbiAgICAgIHZhciB0aGV0YSA9IGZhYnJpYy51dGlsLmRlZ3JlZXNUb1JhZGlhbnMob3B0aW9ucy5hbmdsZSksXG4gICAgICAgICAgY29zID0gZmFicmljLnV0aWwuY29zKHRoZXRhKSxcbiAgICAgICAgICBzaW4gPSBmYWJyaWMudXRpbC5zaW4odGhldGEpO1xuICAgICAgcmV0dXJuIFtjb3MsIHNpbiwgLXNpbiwgY29zLCAwLCAwXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHRyYW5zZm9ybSBtYXRyaXggc3RhcnRpbmcgZnJvbSBhbiBvYmplY3Qgb2YgdGhlIHNhbWUga2luZCBvZlxuICAgICAqIHRoZSBvbmUgcmV0dXJuZWQgZnJvbSBxckRlY29tcG9zZSwgdXNlZnVsIGFsc28gaWYgeW91IHdhbnQgdG8gY2FsY3VsYXRlIHNvbWVcbiAgICAgKiB0cmFuc2Zvcm1hdGlvbnMgZnJvbSBhbiBvYmplY3QgdGhhdCBpcyBub3QgZW5saXZlZCB5ZXQuXG4gICAgICogaXMgY2FsbGVkIERpbWVuc2lvbnNUcmFuc2Zvcm1NYXRyaXggYmVjYXVzZSB0aG9zZSBwcm9wZXJ0aWVzIGFyZSB0aGUgb25lIHRoYXQgaW5mbHVlbmNlXG4gICAgICogdGhlIHNpemUgb2YgdGhlIHJlc3VsdGluZyBib3ggb2YgdGhlIG9iamVjdC5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBbb3B0aW9ucy5zY2FsZVhdXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBbb3B0aW9ucy5zY2FsZVldXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gW29wdGlvbnMuZmxpcFhdXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gW29wdGlvbnMuZmxpcFldXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBbb3B0aW9ucy5za2V3WF1cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IFtvcHRpb25zLnNrZXdYXVxuICAgICAqIEByZXR1cm4ge051bWJlcltdfSB0cmFuc2Zvcm0gbWF0cml4XG4gICAgICovXG4gICAgY2FsY0RpbWVuc2lvbnNNYXRyaXg6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBzY2FsZVggPSB0eXBlb2Ygb3B0aW9ucy5zY2FsZVggPT09ICd1bmRlZmluZWQnID8gMSA6IG9wdGlvbnMuc2NhbGVYLFxuICAgICAgICAgIHNjYWxlWSA9IHR5cGVvZiBvcHRpb25zLnNjYWxlWSA9PT0gJ3VuZGVmaW5lZCcgPyAxIDogb3B0aW9ucy5zY2FsZVksXG4gICAgICAgICAgc2NhbGVNYXRyaXggPSBbXG4gICAgICAgICAgICBvcHRpb25zLmZsaXBYID8gLXNjYWxlWCA6IHNjYWxlWCxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgb3B0aW9ucy5mbGlwWSA/IC1zY2FsZVkgOiBzY2FsZVksXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgMF0sXG4gICAgICAgICAgbXVsdGlwbHkgPSBmYWJyaWMudXRpbC5tdWx0aXBseVRyYW5zZm9ybU1hdHJpY2VzLFxuICAgICAgICAgIGRlZ3JlZXNUb1JhZGlhbnMgPSBmYWJyaWMudXRpbC5kZWdyZWVzVG9SYWRpYW5zO1xuICAgICAgaWYgKG9wdGlvbnMuc2tld1gpIHtcbiAgICAgICAgc2NhbGVNYXRyaXggPSBtdWx0aXBseShcbiAgICAgICAgICBzY2FsZU1hdHJpeCxcbiAgICAgICAgICBbMSwgMCwgTWF0aC50YW4oZGVncmVlc1RvUmFkaWFucyhvcHRpb25zLnNrZXdYKSksIDFdLFxuICAgICAgICAgIHRydWUpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMuc2tld1kpIHtcbiAgICAgICAgc2NhbGVNYXRyaXggPSBtdWx0aXBseShcbiAgICAgICAgICBzY2FsZU1hdHJpeCxcbiAgICAgICAgICBbMSwgTWF0aC50YW4oZGVncmVlc1RvUmFkaWFucyhvcHRpb25zLnNrZXdZKSksIDAsIDFdLFxuICAgICAgICAgIHRydWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNjYWxlTWF0cml4O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgdHJhbnNmb3JtIG1hdHJpeCBzdGFydGluZyBmcm9tIGFuIG9iamVjdCBvZiB0aGUgc2FtZSBraW5kIG9mXG4gICAgICogdGhlIG9uZSByZXR1cm5lZCBmcm9tIHFyRGVjb21wb3NlLCB1c2VmdWwgYWxzbyBpZiB5b3Ugd2FudCB0byBjYWxjdWxhdGUgc29tZVxuICAgICAqIHRyYW5zZm9ybWF0aW9ucyBmcm9tIGFuIG9iamVjdCB0aGF0IGlzIG5vdCBlbmxpdmVkIHlldFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IFtvcHRpb25zLmFuZ2xlXVxuICAgICAqIEBwYXJhbSAge051bWJlcn0gW29wdGlvbnMuc2NhbGVYXVxuICAgICAqIEBwYXJhbSAge051bWJlcn0gW29wdGlvbnMuc2NhbGVZXVxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IFtvcHRpb25zLmZsaXBYXVxuICAgICAqIEBwYXJhbSAge0Jvb2xlYW59IFtvcHRpb25zLmZsaXBZXVxuICAgICAqIEBwYXJhbSAge051bWJlcn0gW29wdGlvbnMuc2tld1hdXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBbb3B0aW9ucy5za2V3WF1cbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IFtvcHRpb25zLnRyYW5zbGF0ZVhdXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBbb3B0aW9ucy50cmFuc2xhdGVZXVxuICAgICAqIEByZXR1cm4ge051bWJlcltdfSB0cmFuc2Zvcm0gbWF0cml4XG4gICAgICovXG4gICAgY29tcG9zZU1hdHJpeDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIG1hdHJpeCA9IFsxLCAwLCAwLCAxLCBvcHRpb25zLnRyYW5zbGF0ZVggfHwgMCwgb3B0aW9ucy50cmFuc2xhdGVZIHx8IDBdLFxuICAgICAgICAgIG11bHRpcGx5ID0gZmFicmljLnV0aWwubXVsdGlwbHlUcmFuc2Zvcm1NYXRyaWNlcztcbiAgICAgIGlmIChvcHRpb25zLmFuZ2xlKSB7XG4gICAgICAgIG1hdHJpeCA9IG11bHRpcGx5KG1hdHJpeCwgZmFicmljLnV0aWwuY2FsY1JvdGF0ZU1hdHJpeChvcHRpb25zKSk7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5zY2FsZVggfHwgb3B0aW9ucy5zY2FsZVkgfHwgb3B0aW9ucy5za2V3WCB8fCBvcHRpb25zLnNrZXdZIHx8IG9wdGlvbnMuZmxpcFggfHwgb3B0aW9ucy5mbGlwWSkge1xuICAgICAgICBtYXRyaXggPSBtdWx0aXBseShtYXRyaXgsIGZhYnJpYy51dGlsLmNhbGNEaW1lbnNpb25zTWF0cml4KG9wdGlvbnMpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXRyaXg7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSB0cmFuc2Zvcm0gbWF0cml4IHRoYXQgaGFzIHRoZSBzYW1lIGVmZmVjdCBvZiBzY2FsZVgsIHNjYWxlWSBhbmQgc2tld1guXG4gICAgICogSXMgZGVwcmVjYXRlZCBmb3IgY29tcG9zZU1hdHJpeC4gUGxlYXNlIGRvIG5vdCB1c2UgaXQuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDMuNC4wXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtICB7TnVtYmVyfSBzY2FsZVhcbiAgICAgKiBAcGFyYW0gIHtOdW1iZXJ9IHNjYWxlWVxuICAgICAqIEBwYXJhbSAge051bWJlcn0gc2tld1hcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJbXX0gdHJhbnNmb3JtIG1hdHJpeFxuICAgICAqL1xuICAgIGN1c3RvbVRyYW5zZm9ybU1hdHJpeDogZnVuY3Rpb24oc2NhbGVYLCBzY2FsZVksIHNrZXdYKSB7XG4gICAgICByZXR1cm4gZmFicmljLnV0aWwuY29tcG9zZU1hdHJpeCh7IHNjYWxlWDogc2NhbGVYLCBzY2FsZVk6IHNjYWxlWSwgc2tld1g6IHNrZXdYIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZXNldCBhbiBvYmplY3QgdHJhbnNmb3JtIHN0YXRlIHRvIG5ldXRyYWwuIFRvcCBhbmQgbGVmdCBhcmUgbm90IGFjY291bnRlZCBmb3JcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtICB7ZmFicmljLk9iamVjdH0gdGFyZ2V0IG9iamVjdCB0byB0cmFuc2Zvcm1cbiAgICAgKi9cbiAgICByZXNldE9iamVjdFRyYW5zZm9ybTogZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgdGFyZ2V0LnNjYWxlWCA9IDE7XG4gICAgICB0YXJnZXQuc2NhbGVZID0gMTtcbiAgICAgIHRhcmdldC5za2V3WCA9IDA7XG4gICAgICB0YXJnZXQuc2tld1kgPSAwO1xuICAgICAgdGFyZ2V0LmZsaXBYID0gZmFsc2U7XG4gICAgICB0YXJnZXQuZmxpcFkgPSBmYWxzZTtcbiAgICAgIHRhcmdldC5yb3RhdGUoMCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEV4dHJhY3QgT2JqZWN0IHRyYW5zZm9ybSB2YWx1ZXNcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtICB7ZmFicmljLk9iamVjdH0gdGFyZ2V0IG9iamVjdCB0byByZWFkIGZyb21cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IENvbXBvbmVudHMgb2YgdHJhbnNmb3JtXG4gICAgICovXG4gICAgc2F2ZU9iamVjdFRyYW5zZm9ybTogZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2NhbGVYOiB0YXJnZXQuc2NhbGVYLFxuICAgICAgICBzY2FsZVk6IHRhcmdldC5zY2FsZVksXG4gICAgICAgIHNrZXdYOiB0YXJnZXQuc2tld1gsXG4gICAgICAgIHNrZXdZOiB0YXJnZXQuc2tld1ksXG4gICAgICAgIGFuZ2xlOiB0YXJnZXQuYW5nbGUsXG4gICAgICAgIGxlZnQ6IHRhcmdldC5sZWZ0LFxuICAgICAgICBmbGlwWDogdGFyZ2V0LmZsaXBYLFxuICAgICAgICBmbGlwWTogdGFyZ2V0LmZsaXBZLFxuICAgICAgICB0b3A6IHRhcmdldC50b3BcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGZ1bmN0aW9uIGJvZHlcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBGdW5jdGlvbiB0byBnZXQgYm9keSBvZlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gRnVuY3Rpb24gYm9keVxuICAgICAqL1xuICAgIGdldEZ1bmN0aW9uQm9keTogZnVuY3Rpb24oZm4pIHtcbiAgICAgIHJldHVybiAoU3RyaW5nKGZuKS5tYXRjaCgvZnVuY3Rpb25bXntdKlxceyhbXFxzXFxTXSopXFx9LykgfHwge30pWzFdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgY29udGV4dCBoYXMgdHJhbnNwYXJlbnQgcGl4ZWxcbiAgICAgKiBhdCBzcGVjaWZpZWQgbG9jYXRpb24gKHRha2luZyB0b2xlcmFuY2UgaW50byBhY2NvdW50KVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggY29udGV4dFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4IHggY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5IHkgY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0b2xlcmFuY2UgVG9sZXJhbmNlXG4gICAgICovXG4gICAgaXNUcmFuc3BhcmVudDogZnVuY3Rpb24oY3R4LCB4LCB5LCB0b2xlcmFuY2UpIHtcblxuICAgICAgLy8gSWYgdG9sZXJhbmNlIGlzID4gMCBhZGp1c3Qgc3RhcnQgY29vcmRzIHRvIHRha2UgaW50byBhY2NvdW50LlxuICAgICAgLy8gSWYgbW92ZXMgb2ZmIENhbnZhcyBmaXggdG8gMFxuICAgICAgaWYgKHRvbGVyYW5jZSA+IDApIHtcbiAgICAgICAgaWYgKHggPiB0b2xlcmFuY2UpIHtcbiAgICAgICAgICB4IC09IHRvbGVyYW5jZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB4ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeSA+IHRvbGVyYW5jZSkge1xuICAgICAgICAgIHkgLT0gdG9sZXJhbmNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHkgPSAwO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBfaXNUcmFuc3BhcmVudCA9IHRydWUsIGksIHRlbXAsXG4gICAgICAgICAgaW1hZ2VEYXRhID0gY3R4LmdldEltYWdlRGF0YSh4LCB5LCAodG9sZXJhbmNlICogMikgfHwgMSwgKHRvbGVyYW5jZSAqIDIpIHx8IDEpLFxuICAgICAgICAgIGwgPSBpbWFnZURhdGEuZGF0YS5sZW5ndGg7XG5cbiAgICAgIC8vIFNwbGl0IGltYWdlIGRhdGEgLSBmb3IgdG9sZXJhbmNlID4gMSwgcGl4ZWxEYXRhU2l6ZSA9IDQ7XG4gICAgICBmb3IgKGkgPSAzOyBpIDwgbDsgaSArPSA0KSB7XG4gICAgICAgIHRlbXAgPSBpbWFnZURhdGEuZGF0YVtpXTtcbiAgICAgICAgX2lzVHJhbnNwYXJlbnQgPSB0ZW1wIDw9IDA7XG4gICAgICAgIGlmIChfaXNUcmFuc3BhcmVudCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBicmVhazsgLy8gU3RvcCBpZiBjb2xvdXIgZm91bmRcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpbWFnZURhdGEgPSBudWxsO1xuXG4gICAgICByZXR1cm4gX2lzVHJhbnNwYXJlbnQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBhcnNlIHByZXNlcnZlQXNwZWN0UmF0aW8gYXR0cmlidXRlIGZyb20gZWxlbWVudFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyaWJ1dGUgdG8gYmUgcGFyc2VkXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBhbiBvYmplY3QgY29udGFpbmluZyBhbGlnbiBhbmQgbWVldE9yU2xpY2UgYXR0cmlidXRlXG4gICAgICovXG4gICAgcGFyc2VQcmVzZXJ2ZUFzcGVjdFJhdGlvQXR0cmlidXRlOiBmdW5jdGlvbihhdHRyaWJ1dGUpIHtcbiAgICAgIHZhciBtZWV0T3JTbGljZSA9ICdtZWV0JywgYWxpZ25YID0gJ01pZCcsIGFsaWduWSA9ICdNaWQnLFxuICAgICAgICAgIGFzcGVjdFJhdGlvQXR0cnMgPSBhdHRyaWJ1dGUuc3BsaXQoJyAnKSwgYWxpZ247XG5cbiAgICAgIGlmIChhc3BlY3RSYXRpb0F0dHJzICYmIGFzcGVjdFJhdGlvQXR0cnMubGVuZ3RoKSB7XG4gICAgICAgIG1lZXRPclNsaWNlID0gYXNwZWN0UmF0aW9BdHRycy5wb3AoKTtcbiAgICAgICAgaWYgKG1lZXRPclNsaWNlICE9PSAnbWVldCcgJiYgbWVldE9yU2xpY2UgIT09ICdzbGljZScpIHtcbiAgICAgICAgICBhbGlnbiA9IG1lZXRPclNsaWNlO1xuICAgICAgICAgIG1lZXRPclNsaWNlID0gJ21lZXQnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFzcGVjdFJhdGlvQXR0cnMubGVuZ3RoKSB7XG4gICAgICAgICAgYWxpZ24gPSBhc3BlY3RSYXRpb0F0dHJzLnBvcCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvL2RpdmlkZSBhbGlnbiBpbiBhbGlnblggYW5kIGFsaWduWVxuICAgICAgYWxpZ25YID0gYWxpZ24gIT09ICdub25lJyA/IGFsaWduLnNsaWNlKDEsIDQpIDogJ25vbmUnO1xuICAgICAgYWxpZ25ZID0gYWxpZ24gIT09ICdub25lJyA/IGFsaWduLnNsaWNlKDUsIDgpIDogJ25vbmUnO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWVldE9yU2xpY2U6IG1lZXRPclNsaWNlLFxuICAgICAgICBhbGlnblg6IGFsaWduWCxcbiAgICAgICAgYWxpZ25ZOiBhbGlnbllcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENsZWFyIGNoYXIgd2lkdGhzIGNhY2hlIGZvciB0aGUgZ2l2ZW4gZm9udCBmYW1pbHkgb3IgYWxsIHRoZSBjYWNoZSBpZiBub1xuICAgICAqIGZvbnRGYW1pbHkgaXMgc3BlY2lmaWVkLlxuICAgICAqIFVzZSBpdCBpZiB5b3Uga25vdyB5b3UgYXJlIGxvYWRpbmcgZm9udHMgaW4gYSBsYXp5IHdheSBhbmQgeW91IGFyZSBub3Qgd2FpdGluZ1xuICAgICAqIGZvciBjdXN0b20gZm9udHMgdG8gbG9hZCBwcm9wZXJseSB3aGVuIGFkZGluZyB0ZXh0IG9iamVjdHMgdG8gdGhlIGNhbnZhcy5cbiAgICAgKiBJZiBhIHRleHQgb2JqZWN0IGlzIGFkZGVkIHdoZW4gaXRzIG93biBmb250IGlzIG5vdCBsb2FkZWQgeWV0LCB5b3Ugd2lsbCBnZXQgd3JvbmdcbiAgICAgKiBtZWFzdXJlbWVudCBhbmQgc28gd3JvbmcgYm91bmRpbmcgYm94ZXMuXG4gICAgICogQWZ0ZXIgdGhlIGZvbnQgY2FjaGUgaXMgY2xlYXJlZCwgZWl0aGVyIGNoYW5nZSB0aGUgdGV4dE9iamVjdCB0ZXh0IGNvbnRlbnQgb3IgY2FsbFxuICAgICAqIGluaXREaW1lbnNpb25zKCkgdG8gdHJpZ2dlciBhIHJlY2FsY3VsYXRpb25cbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2ZvbnRGYW1pbHldIGZvbnQgZmFtaWx5IHRvIGNsZWFyXG4gICAgICovXG4gICAgY2xlYXJGYWJyaWNGb250Q2FjaGU6IGZ1bmN0aW9uKGZvbnRGYW1pbHkpIHtcbiAgICAgIGZvbnRGYW1pbHkgPSAoZm9udEZhbWlseSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICghZm9udEZhbWlseSkge1xuICAgICAgICBmYWJyaWMuY2hhcldpZHRoc0NhY2hlID0geyB9O1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoZmFicmljLmNoYXJXaWR0aHNDYWNoZVtmb250RmFtaWx5XSkge1xuICAgICAgICBkZWxldGUgZmFicmljLmNoYXJXaWR0aHNDYWNoZVtmb250RmFtaWx5XTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2l2ZW4gY3VycmVudCBhc3BlY3QgcmF0aW8sIGRldGVybWluZXMgdGhlIG1heCB3aWR0aCBhbmQgaGVpZ2h0IHRoYXQgY2FuXG4gICAgICogcmVzcGVjdCB0aGUgdG90YWwgYWxsb3dlZCBhcmVhIGZvciB0aGUgY2FjaGUuXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGFyIGFzcGVjdCByYXRpb1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBtYXhpbXVtQXJlYSBNYXhpbXVtIGFyZWEgeW91IHdhbnQgdG8gYWNoaWV2ZVxuICAgICAqIEByZXR1cm4ge09iamVjdC54fSBMaW1pdGVkIGRpbWVuc2lvbnMgYnkgWFxuICAgICAqIEByZXR1cm4ge09iamVjdC55fSBMaW1pdGVkIGRpbWVuc2lvbnMgYnkgWVxuICAgICAqL1xuICAgIGxpbWl0RGltc0J5QXJlYTogZnVuY3Rpb24oYXIsIG1heGltdW1BcmVhKSB7XG4gICAgICB2YXIgcm91Z2hXaWR0aCA9IE1hdGguc3FydChtYXhpbXVtQXJlYSAqIGFyKSxcbiAgICAgICAgICBwZXJmTGltaXRTaXplWSA9IE1hdGguZmxvb3IobWF4aW11bUFyZWEgLyByb3VnaFdpZHRoKTtcbiAgICAgIHJldHVybiB7IHg6IE1hdGguZmxvb3Iocm91Z2hXaWR0aCksIHk6IHBlcmZMaW1pdFNpemVZIH07XG4gICAgfSxcblxuICAgIGNhcFZhbHVlOiBmdW5jdGlvbihtaW4sIHZhbHVlLCBtYXgpIHtcbiAgICAgIHJldHVybiBNYXRoLm1heChtaW4sIE1hdGgubWluKHZhbHVlLCBtYXgpKTtcbiAgICB9LFxuXG4gICAgZmluZFNjYWxlVG9GaXQ6IGZ1bmN0aW9uKHNvdXJjZSwgZGVzdGluYXRpb24pIHtcbiAgICAgIHJldHVybiBNYXRoLm1pbihkZXN0aW5hdGlvbi53aWR0aCAvIHNvdXJjZS53aWR0aCwgZGVzdGluYXRpb24uaGVpZ2h0IC8gc291cmNlLmhlaWdodCk7XG4gICAgfSxcblxuICAgIGZpbmRTY2FsZVRvQ292ZXI6IGZ1bmN0aW9uKHNvdXJjZSwgZGVzdGluYXRpb24pIHtcbiAgICAgIHJldHVybiBNYXRoLm1heChkZXN0aW5hdGlvbi53aWR0aCAvIHNvdXJjZS53aWR0aCwgZGVzdGluYXRpb24uaGVpZ2h0IC8gc291cmNlLmhlaWdodCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGdpdmVuIGFuIGFycmF5IG9mIDYgbnVtYmVyIHJldHVybnMgc29tZXRoaW5nIGxpa2UgYFwibWF0cml4KC4uLm51bWJlcnMpXCJgXG4gICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICogQHBhcmFtIHtBcnJheX0gdHJhc25mb3JtIGFuIGFycmF5IHdpdGggNiBudW1iZXJzXG4gICAgICogQHJldHVybiB7U3RyaW5nfSB0cmFuc2Zvcm0gbWF0cml4IGZvciBzdmdcbiAgICAgKiBAcmV0dXJuIHtPYmplY3QueX0gTGltaXRlZCBkaW1lbnNpb25zIGJ5IFlcbiAgICAgKi9cbiAgICBtYXRyaXhUb1NWRzogZnVuY3Rpb24odHJhbnNmb3JtKSB7XG4gICAgICByZXR1cm4gJ21hdHJpeCgnICsgdHJhbnNmb3JtLm1hcChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gZmFicmljLnV0aWwudG9GaXhlZCh2YWx1ZSwgZmFicmljLk9iamVjdC5OVU1fRlJBQ1RJT05fRElHSVRTKTtcbiAgICAgIH0pLmpvaW4oJyAnKSArICcpJztcbiAgICB9XG4gIH07XG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIHZhciBfam9pbiA9IEFycmF5LnByb3RvdHlwZS5qb2luO1xuXG4gIC8qIEFkYXB0ZWQgZnJvbSBodHRwOi8vZHhyLm1vemlsbGEub3JnL21vemlsbGEtY2VudHJhbC9zb3VyY2UvY29udGVudC9zdmcvY29udGVudC9zcmMvbnNTVkdQYXRoRGF0YVBhcnNlci5jcHBcbiAgICogYnkgQW5kcmVhIEJvZ2F6emkgY29kZSBpcyB1bmRlciBNUEwuIGlmIHlvdSBkb24ndCBoYXZlIGEgY29weSBvZiB0aGUgbGljZW5zZSB5b3UgY2FuIHRha2UgaXQgaGVyZVxuICAgKiBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC9cbiAgICovXG4gIGZ1bmN0aW9uIGFyY1RvU2VnbWVudHModG9YLCB0b1ksIHJ4LCByeSwgbGFyZ2UsIHN3ZWVwLCByb3RhdGVYKSB7XG4gICAgdmFyIGFyZ3NTdHJpbmcgPSBfam9pbi5jYWxsKGFyZ3VtZW50cyk7XG4gICAgaWYgKGZhYnJpYy5hcmNUb1NlZ21lbnRzQ2FjaGVbYXJnc1N0cmluZ10pIHtcbiAgICAgIHJldHVybiBmYWJyaWMuYXJjVG9TZWdtZW50c0NhY2hlW2FyZ3NTdHJpbmddO1xuICAgIH1cblxuICAgIHZhciBQSSA9IE1hdGguUEksIHRoID0gcm90YXRlWCAqIFBJIC8gMTgwLFxuICAgICAgICBzaW5UaCA9IGZhYnJpYy51dGlsLnNpbih0aCksXG4gICAgICAgIGNvc1RoID0gZmFicmljLnV0aWwuY29zKHRoKSxcbiAgICAgICAgZnJvbVggPSAwLCBmcm9tWSA9IDA7XG5cbiAgICByeCA9IE1hdGguYWJzKHJ4KTtcbiAgICByeSA9IE1hdGguYWJzKHJ5KTtcblxuICAgIHZhciBweCA9IC1jb3NUaCAqIHRvWCAqIDAuNSAtIHNpblRoICogdG9ZICogMC41LFxuICAgICAgICBweSA9IC1jb3NUaCAqIHRvWSAqIDAuNSArIHNpblRoICogdG9YICogMC41LFxuICAgICAgICByeDIgPSByeCAqIHJ4LCByeTIgPSByeSAqIHJ5LCBweTIgPSBweSAqIHB5LCBweDIgPSBweCAqIHB4LFxuICAgICAgICBwbCA9IHJ4MiAqIHJ5MiAtIHJ4MiAqIHB5MiAtIHJ5MiAqIHB4MixcbiAgICAgICAgcm9vdCA9IDA7XG5cbiAgICBpZiAocGwgPCAwKSB7XG4gICAgICB2YXIgcyA9IE1hdGguc3FydCgxIC0gcGwgLyAocngyICogcnkyKSk7XG4gICAgICByeCAqPSBzO1xuICAgICAgcnkgKj0gcztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByb290ID0gKGxhcmdlID09PSBzd2VlcCA/IC0xLjAgOiAxLjApICpcbiAgICAgICAgICAgICAgTWF0aC5zcXJ0KCBwbCAvIChyeDIgKiBweTIgKyByeTIgKiBweDIpKTtcbiAgICB9XG5cbiAgICB2YXIgY3ggPSByb290ICogcnggKiBweSAvIHJ5LFxuICAgICAgICBjeSA9IC1yb290ICogcnkgKiBweCAvIHJ4LFxuICAgICAgICBjeDEgPSBjb3NUaCAqIGN4IC0gc2luVGggKiBjeSArIHRvWCAqIDAuNSxcbiAgICAgICAgY3kxID0gc2luVGggKiBjeCArIGNvc1RoICogY3kgKyB0b1kgKiAwLjUsXG4gICAgICAgIG1UaGV0YSA9IGNhbGNWZWN0b3JBbmdsZSgxLCAwLCAocHggLSBjeCkgLyByeCwgKHB5IC0gY3kpIC8gcnkpLFxuICAgICAgICBkdGhldGEgPSBjYWxjVmVjdG9yQW5nbGUoKHB4IC0gY3gpIC8gcngsIChweSAtIGN5KSAvIHJ5LCAoLXB4IC0gY3gpIC8gcngsICgtcHkgLSBjeSkgLyByeSk7XG5cbiAgICBpZiAoc3dlZXAgPT09IDAgJiYgZHRoZXRhID4gMCkge1xuICAgICAgZHRoZXRhIC09IDIgKiBQSTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc3dlZXAgPT09IDEgJiYgZHRoZXRhIDwgMCkge1xuICAgICAgZHRoZXRhICs9IDIgKiBQSTtcbiAgICB9XG5cbiAgICAvLyBDb252ZXJ0IGludG8gY3ViaWMgYmV6aWVyIHNlZ21lbnRzIDw9IDkwZGVnXG4gICAgdmFyIHNlZ21lbnRzID0gTWF0aC5jZWlsKE1hdGguYWJzKGR0aGV0YSAvIFBJICogMikpLFxuICAgICAgICByZXN1bHQgPSBbXSwgbURlbHRhID0gZHRoZXRhIC8gc2VnbWVudHMsXG4gICAgICAgIG1UID0gOCAvIDMgKiBNYXRoLnNpbihtRGVsdGEgLyA0KSAqIE1hdGguc2luKG1EZWx0YSAvIDQpIC8gTWF0aC5zaW4obURlbHRhIC8gMiksXG4gICAgICAgIHRoMyA9IG1UaGV0YSArIG1EZWx0YTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VnbWVudHM7IGkrKykge1xuICAgICAgcmVzdWx0W2ldID0gc2VnbWVudFRvQmV6aWVyKG1UaGV0YSwgdGgzLCBjb3NUaCwgc2luVGgsIHJ4LCByeSwgY3gxLCBjeTEsIG1ULCBmcm9tWCwgZnJvbVkpO1xuICAgICAgZnJvbVggPSByZXN1bHRbaV1bNF07XG4gICAgICBmcm9tWSA9IHJlc3VsdFtpXVs1XTtcbiAgICAgIG1UaGV0YSA9IHRoMztcbiAgICAgIHRoMyArPSBtRGVsdGE7XG4gICAgfVxuICAgIGZhYnJpYy5hcmNUb1NlZ21lbnRzQ2FjaGVbYXJnc1N0cmluZ10gPSByZXN1bHQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlZ21lbnRUb0Jlemllcih0aDIsIHRoMywgY29zVGgsIHNpblRoLCByeCwgcnksIGN4MSwgY3kxLCBtVCwgZnJvbVgsIGZyb21ZKSB7XG4gICAgdmFyIGNvc3RoMiA9IGZhYnJpYy51dGlsLmNvcyh0aDIpLFxuICAgICAgICBzaW50aDIgPSBmYWJyaWMudXRpbC5zaW4odGgyKSxcbiAgICAgICAgY29zdGgzID0gZmFicmljLnV0aWwuY29zKHRoMyksXG4gICAgICAgIHNpbnRoMyA9IGZhYnJpYy51dGlsLnNpbih0aDMpLFxuICAgICAgICB0b1ggPSBjb3NUaCAqIHJ4ICogY29zdGgzIC0gc2luVGggKiByeSAqIHNpbnRoMyArIGN4MSxcbiAgICAgICAgdG9ZID0gc2luVGggKiByeCAqIGNvc3RoMyArIGNvc1RoICogcnkgKiBzaW50aDMgKyBjeTEsXG4gICAgICAgIGNwMVggPSBmcm9tWCArIG1UICogKCAtY29zVGggKiByeCAqIHNpbnRoMiAtIHNpblRoICogcnkgKiBjb3N0aDIpLFxuICAgICAgICBjcDFZID0gZnJvbVkgKyBtVCAqICggLXNpblRoICogcnggKiBzaW50aDIgKyBjb3NUaCAqIHJ5ICogY29zdGgyKSxcbiAgICAgICAgY3AyWCA9IHRvWCArIG1UICogKCBjb3NUaCAqIHJ4ICogc2ludGgzICsgc2luVGggKiByeSAqIGNvc3RoMyksXG4gICAgICAgIGNwMlkgPSB0b1kgKyBtVCAqICggc2luVGggKiByeCAqIHNpbnRoMyAtIGNvc1RoICogcnkgKiBjb3N0aDMpO1xuXG4gICAgcmV0dXJuIFtcbiAgICAgIGNwMVgsIGNwMVksXG4gICAgICBjcDJYLCBjcDJZLFxuICAgICAgdG9YLCB0b1lcbiAgICBdO1xuICB9XG5cbiAgLypcbiAgICogUHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gY2FsY1ZlY3RvckFuZ2xlKHV4LCB1eSwgdngsIHZ5KSB7XG4gICAgdmFyIHRhID0gTWF0aC5hdGFuMih1eSwgdXgpLFxuICAgICAgICB0YiA9IE1hdGguYXRhbjIodnksIHZ4KTtcbiAgICBpZiAodGIgPj0gdGEpIHtcbiAgICAgIHJldHVybiB0YiAtIHRhO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJldHVybiAyICogTWF0aC5QSSAtICh0YSAtIHRiKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRHJhd3MgYXJjXG4gICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHhcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGZ4XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBmeVxuICAgKiBAcGFyYW0ge0FycmF5fSBjb29yZHNcbiAgICovXG4gIGZhYnJpYy51dGlsLmRyYXdBcmMgPSBmdW5jdGlvbihjdHgsIGZ4LCBmeSwgY29vcmRzKSB7XG4gICAgdmFyIHJ4ID0gY29vcmRzWzBdLFxuICAgICAgICByeSA9IGNvb3Jkc1sxXSxcbiAgICAgICAgcm90ID0gY29vcmRzWzJdLFxuICAgICAgICBsYXJnZSA9IGNvb3Jkc1szXSxcbiAgICAgICAgc3dlZXAgPSBjb29yZHNbNF0sXG4gICAgICAgIHR4ID0gY29vcmRzWzVdLFxuICAgICAgICB0eSA9IGNvb3Jkc1s2XSxcbiAgICAgICAgc2VncyA9IFtbXSwgW10sIFtdLCBbXV0sXG4gICAgICAgIHNlZ3NOb3JtID0gYXJjVG9TZWdtZW50cyh0eCAtIGZ4LCB0eSAtIGZ5LCByeCwgcnksIGxhcmdlLCBzd2VlcCwgcm90KTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBzZWdzTm9ybS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgc2Vnc1tpXVswXSA9IHNlZ3NOb3JtW2ldWzBdICsgZng7XG4gICAgICBzZWdzW2ldWzFdID0gc2Vnc05vcm1baV1bMV0gKyBmeTtcbiAgICAgIHNlZ3NbaV1bMl0gPSBzZWdzTm9ybVtpXVsyXSArIGZ4O1xuICAgICAgc2Vnc1tpXVszXSA9IHNlZ3NOb3JtW2ldWzNdICsgZnk7XG4gICAgICBzZWdzW2ldWzRdID0gc2Vnc05vcm1baV1bNF0gKyBmeDtcbiAgICAgIHNlZ3NbaV1bNV0gPSBzZWdzTm9ybVtpXVs1XSArIGZ5O1xuICAgICAgY3R4LmJlemllckN1cnZlVG8uYXBwbHkoY3R4LCBzZWdzW2ldKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSBib3VuZGluZyBib3ggb2YgYSBlbGxpcHRpYy1hcmNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGZ4IHN0YXJ0IHBvaW50IG9mIGFyY1xuICAgKiBAcGFyYW0ge051bWJlcn0gZnlcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHJ4IGhvcml6b250YWwgcmFkaXVzXG4gICAqIEBwYXJhbSB7TnVtYmVyfSByeSB2ZXJ0aWNhbCByYWRpdXNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHJvdCBhbmdsZSBvZiBob3Jpem9udGFsIGF4ZVxuICAgKiBAcGFyYW0ge051bWJlcn0gbGFyZ2UgMSBvciAwLCB3aGF0ZXZlciB0aGUgYXJjIGlzIHRoZSBiaWcgb3IgdGhlIHNtYWxsIG9uIHRoZSAyIHBvaW50c1xuICAgKiBAcGFyYW0ge051bWJlcn0gc3dlZXAgMSBvciAwLCAxIGNsb2Nrd2lzZSBvciBjb3VudGVyY2xvY2t3aXNlIGRpcmVjdGlvblxuICAgKiBAcGFyYW0ge051bWJlcn0gdHggZW5kIHBvaW50IG9mIGFyY1xuICAgKiBAcGFyYW0ge051bWJlcn0gdHlcbiAgICovXG4gIGZhYnJpYy51dGlsLmdldEJvdW5kc09mQXJjID0gZnVuY3Rpb24oZngsIGZ5LCByeCwgcnksIHJvdCwgbGFyZ2UsIHN3ZWVwLCB0eCwgdHkpIHtcblxuICAgIHZhciBmcm9tWCA9IDAsIGZyb21ZID0gMCwgYm91bmQsIGJvdW5kcyA9IFtdLFxuICAgICAgICBzZWdzID0gYXJjVG9TZWdtZW50cyh0eCAtIGZ4LCB0eSAtIGZ5LCByeCwgcnksIGxhcmdlLCBzd2VlcCwgcm90KTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBzZWdzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBib3VuZCA9IGdldEJvdW5kc09mQ3VydmUoZnJvbVgsIGZyb21ZLCBzZWdzW2ldWzBdLCBzZWdzW2ldWzFdLCBzZWdzW2ldWzJdLCBzZWdzW2ldWzNdLCBzZWdzW2ldWzRdLCBzZWdzW2ldWzVdKTtcbiAgICAgIGJvdW5kcy5wdXNoKHsgeDogYm91bmRbMF0ueCArIGZ4LCB5OiBib3VuZFswXS55ICsgZnkgfSk7XG4gICAgICBib3VuZHMucHVzaCh7IHg6IGJvdW5kWzFdLnggKyBmeCwgeTogYm91bmRbMV0ueSArIGZ5IH0pO1xuICAgICAgZnJvbVggPSBzZWdzW2ldWzRdO1xuICAgICAgZnJvbVkgPSBzZWdzW2ldWzVdO1xuICAgIH1cbiAgICByZXR1cm4gYm91bmRzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgYm91bmRpbmcgYm94IG9mIGEgYmV6aWVyY3VydmVcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHgwIHN0YXJ0aW5nIHBvaW50XG4gICAqIEBwYXJhbSB7TnVtYmVyfSB5MFxuICAgKiBAcGFyYW0ge051bWJlcn0geDEgZmlyc3QgY29udHJvbCBwb2ludFxuICAgKiBAcGFyYW0ge051bWJlcn0geTFcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHgyIHNlY29uZG8gY29udHJvbCBwb2ludFxuICAgKiBAcGFyYW0ge051bWJlcn0geTJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHgzIGVuZCBvZiBiZWl6ZXJcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHkzXG4gICAqL1xuICAvLyB0YWtlbiBmcm9tIGh0dHA6Ly9qc2Jpbi5jb20vaXZvbWlxLzU2L2VkaXQgIG5vIGNyZWRpdHMgYXZhaWxhYmxlIGZvciB0aGF0LlxuICBmdW5jdGlvbiBnZXRCb3VuZHNPZkN1cnZlKHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5Mykge1xuICAgIHZhciBhcmdzU3RyaW5nO1xuICAgIGlmIChmYWJyaWMuY2FjaGVzQm91bmRzT2ZDdXJ2ZSkge1xuICAgICAgYXJnc1N0cmluZyA9IF9qb2luLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgIGlmIChmYWJyaWMuYm91bmRzT2ZDdXJ2ZUNhY2hlW2FyZ3NTdHJpbmddKSB7XG4gICAgICAgIHJldHVybiBmYWJyaWMuYm91bmRzT2ZDdXJ2ZUNhY2hlW2FyZ3NTdHJpbmddO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBzcXJ0ID0gTWF0aC5zcXJ0LFxuICAgICAgICBtaW4gPSBNYXRoLm1pbiwgbWF4ID0gTWF0aC5tYXgsXG4gICAgICAgIGFicyA9IE1hdGguYWJzLCB0dmFsdWVzID0gW10sXG4gICAgICAgIGJvdW5kcyA9IFtbXSwgW11dLFxuICAgICAgICBhLCBiLCBjLCB0LCB0MSwgdDIsIGIyYWMsIHNxcnRiMmFjO1xuXG4gICAgYiA9IDYgKiB4MCAtIDEyICogeDEgKyA2ICogeDI7XG4gICAgYSA9IC0zICogeDAgKyA5ICogeDEgLSA5ICogeDIgKyAzICogeDM7XG4gICAgYyA9IDMgKiB4MSAtIDMgKiB4MDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjsgKytpKSB7XG4gICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgYiA9IDYgKiB5MCAtIDEyICogeTEgKyA2ICogeTI7XG4gICAgICAgIGEgPSAtMyAqIHkwICsgOSAqIHkxIC0gOSAqIHkyICsgMyAqIHkzO1xuICAgICAgICBjID0gMyAqIHkxIC0gMyAqIHkwO1xuICAgICAgfVxuXG4gICAgICBpZiAoYWJzKGEpIDwgMWUtMTIpIHtcbiAgICAgICAgaWYgKGFicyhiKSA8IDFlLTEyKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdCA9IC1jIC8gYjtcbiAgICAgICAgaWYgKDAgPCB0ICYmIHQgPCAxKSB7XG4gICAgICAgICAgdHZhbHVlcy5wdXNoKHQpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgYjJhYyA9IGIgKiBiIC0gNCAqIGMgKiBhO1xuICAgICAgaWYgKGIyYWMgPCAwKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgc3FydGIyYWMgPSBzcXJ0KGIyYWMpO1xuICAgICAgdDEgPSAoLWIgKyBzcXJ0YjJhYykgLyAoMiAqIGEpO1xuICAgICAgaWYgKDAgPCB0MSAmJiB0MSA8IDEpIHtcbiAgICAgICAgdHZhbHVlcy5wdXNoKHQxKTtcbiAgICAgIH1cbiAgICAgIHQyID0gKC1iIC0gc3FydGIyYWMpIC8gKDIgKiBhKTtcbiAgICAgIGlmICgwIDwgdDIgJiYgdDIgPCAxKSB7XG4gICAgICAgIHR2YWx1ZXMucHVzaCh0Mik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHgsIHksIGogPSB0dmFsdWVzLmxlbmd0aCwgamxlbiA9IGosIG10O1xuICAgIHdoaWxlIChqLS0pIHtcbiAgICAgIHQgPSB0dmFsdWVzW2pdO1xuICAgICAgbXQgPSAxIC0gdDtcbiAgICAgIHggPSAobXQgKiBtdCAqIG10ICogeDApICsgKDMgKiBtdCAqIG10ICogdCAqIHgxKSArICgzICogbXQgKiB0ICogdCAqIHgyKSArICh0ICogdCAqIHQgKiB4Myk7XG4gICAgICBib3VuZHNbMF1bal0gPSB4O1xuXG4gICAgICB5ID0gKG10ICogbXQgKiBtdCAqIHkwKSArICgzICogbXQgKiBtdCAqIHQgKiB5MSkgKyAoMyAqIG10ICogdCAqIHQgKiB5MikgKyAodCAqIHQgKiB0ICogeTMpO1xuICAgICAgYm91bmRzWzFdW2pdID0geTtcbiAgICB9XG5cbiAgICBib3VuZHNbMF1bamxlbl0gPSB4MDtcbiAgICBib3VuZHNbMV1bamxlbl0gPSB5MDtcbiAgICBib3VuZHNbMF1bamxlbiArIDFdID0geDM7XG4gICAgYm91bmRzWzFdW2psZW4gKyAxXSA9IHkzO1xuICAgIHZhciByZXN1bHQgPSBbXG4gICAgICB7XG4gICAgICAgIHg6IG1pbi5hcHBseShudWxsLCBib3VuZHNbMF0pLFxuICAgICAgICB5OiBtaW4uYXBwbHkobnVsbCwgYm91bmRzWzFdKVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgeDogbWF4LmFwcGx5KG51bGwsIGJvdW5kc1swXSksXG4gICAgICAgIHk6IG1heC5hcHBseShudWxsLCBib3VuZHNbMV0pXG4gICAgICB9XG4gICAgXTtcbiAgICBpZiAoZmFicmljLmNhY2hlc0JvdW5kc09mQ3VydmUpIHtcbiAgICAgIGZhYnJpYy5ib3VuZHNPZkN1cnZlQ2FjaGVbYXJnc1N0cmluZ10gPSByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmYWJyaWMudXRpbC5nZXRCb3VuZHNPZkN1cnZlID0gZ2V0Qm91bmRzT2ZDdXJ2ZTtcblxufSkoKTtcblxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgdmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlO1xuXG4gIC8qKlxuICAgKiBJbnZva2VzIG1ldGhvZCBvbiBhbGwgaXRlbXMgaW4gYSBnaXZlbiBhcnJheVxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuYXJyYXlcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgQXJyYXkgdG8gaXRlcmF0ZSBvdmVyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtZXRob2QgTmFtZSBvZiBhIG1ldGhvZCB0byBpbnZva2VcbiAgICogQHJldHVybiB7QXJyYXl9XG4gICAqL1xuICBmdW5jdGlvbiBpbnZva2UoYXJyYXksIG1ldGhvZCkge1xuICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpLCByZXN1bHQgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHJlc3VsdFtpXSA9IGFyZ3MubGVuZ3RoID8gYXJyYXlbaV1bbWV0aG9kXS5hcHBseShhcnJheVtpXSwgYXJncykgOiBhcnJheVtpXVttZXRob2RdLmNhbGwoYXJyYXlbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbmRzIG1heGltdW0gdmFsdWUgaW4gYXJyYXkgKG5vdCBuZWNlc3NhcmlseSBcImZpcnN0XCIgb25lKVxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuYXJyYXlcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgQXJyYXkgdG8gaXRlcmF0ZSBvdmVyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBieVByb3BlcnR5XG4gICAqIEByZXR1cm4geyp9XG4gICAqL1xuICBmdW5jdGlvbiBtYXgoYXJyYXksIGJ5UHJvcGVydHkpIHtcbiAgICByZXR1cm4gZmluZChhcnJheSwgYnlQcm9wZXJ0eSwgZnVuY3Rpb24odmFsdWUxLCB2YWx1ZTIpIHtcbiAgICAgIHJldHVybiB2YWx1ZTEgPj0gdmFsdWUyO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpbmRzIG1pbmltdW0gdmFsdWUgaW4gYXJyYXkgKG5vdCBuZWNlc3NhcmlseSBcImZpcnN0XCIgb25lKVxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuYXJyYXlcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgQXJyYXkgdG8gaXRlcmF0ZSBvdmVyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBieVByb3BlcnR5XG4gICAqIEByZXR1cm4geyp9XG4gICAqL1xuICBmdW5jdGlvbiBtaW4oYXJyYXksIGJ5UHJvcGVydHkpIHtcbiAgICByZXR1cm4gZmluZChhcnJheSwgYnlQcm9wZXJ0eSwgZnVuY3Rpb24odmFsdWUxLCB2YWx1ZTIpIHtcbiAgICAgIHJldHVybiB2YWx1ZTEgPCB2YWx1ZTI7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIGZpbGwoYXJyYXksIHZhbHVlKSB7XG4gICAgdmFyIGsgPSBhcnJheS5sZW5ndGg7XG4gICAgd2hpbGUgKGstLSkge1xuICAgICAgYXJyYXlba10gPSB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBmaW5kKGFycmF5LCBieVByb3BlcnR5LCBjb25kaXRpb24pIHtcbiAgICBpZiAoIWFycmF5IHx8IGFycmF5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBpID0gYXJyYXkubGVuZ3RoIC0gMSxcbiAgICAgICAgcmVzdWx0ID0gYnlQcm9wZXJ0eSA/IGFycmF5W2ldW2J5UHJvcGVydHldIDogYXJyYXlbaV07XG4gICAgaWYgKGJ5UHJvcGVydHkpIHtcbiAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgaWYgKGNvbmRpdGlvbihhcnJheVtpXVtieVByb3BlcnR5XSwgcmVzdWx0KSkge1xuICAgICAgICAgIHJlc3VsdCA9IGFycmF5W2ldW2J5UHJvcGVydHldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICBpZiAoY29uZGl0aW9uKGFycmF5W2ldLCByZXN1bHQpKSB7XG4gICAgICAgICAgcmVzdWx0ID0gYXJyYXlbaV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAbmFtZXNwYWNlIGZhYnJpYy51dGlsLmFycmF5XG4gICAqL1xuICBmYWJyaWMudXRpbC5hcnJheSA9IHtcbiAgICBmaWxsOiBmaWxsLFxuICAgIGludm9rZTogaW52b2tlLFxuICAgIG1pbjogbWluLFxuICAgIG1heDogbWF4XG4gIH07XG5cbn0pKCk7XG5cblxuKGZ1bmN0aW9uKCkge1xuICAvKipcbiAgICogQ29waWVzIGFsbCBlbnVtZXJhYmxlIHByb3BlcnRpZXMgb2Ygb25lIGpzIG9iamVjdCB0byBhbm90aGVyXG4gICAqIHRoaXMgZG9lcyBub3QgYW5kIGNhbm5vdCBjb21wZXRlIHdpdGggZ2VuZXJpYyB1dGlscy5cbiAgICogRG9lcyBub3QgY2xvbmUgb3IgZXh0ZW5kIGZhYnJpYy5PYmplY3Qgc3ViY2xhc3Nlcy5cbiAgICogVGhpcyBpcyBtb3N0bHkgZm9yIGludGVybmFsIHVzZSBhbmQgaGFzIGV4dHJhIGhhbmRsaW5nIGZvciBmYWJyaWNKUyBvYmplY3RzXG4gICAqIGl0IHNraXBzIHRoZSBjYW52YXMgcHJvcGVydHkgaW4gZGVlcCBjbG9uaW5nLlxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwub2JqZWN0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkZXN0aW5hdGlvbiBXaGVyZSB0byBjb3B5IHRvXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgV2hlcmUgdG8gY29weSBmcm9tXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICovXG5cbiAgZnVuY3Rpb24gZXh0ZW5kKGRlc3RpbmF0aW9uLCBzb3VyY2UsIGRlZXApIHtcbiAgICAvLyBKU2NyaXB0IERvbnRFbnVtIGJ1ZyBpcyBub3QgdGFrZW4gY2FyZSBvZlxuICAgIC8vIHRoZSBkZWVwIGNsb25lIGlzIGZvciBpbnRlcm5hbCB1c2UsIGlzIG5vdCBtZWFudCB0byBhdm9pZFxuICAgIC8vIGphdmFzY3JpcHQgdHJhcHMgb3IgY2xvbmluZyBodG1sIGVsZW1lbnQgb3Igc2VsZiByZWZlcmVuY2VkIG9iamVjdHMuXG4gICAgaWYgKGRlZXApIHtcbiAgICAgIGlmICghZmFicmljLmlzTGlrZWx5Tm9kZSAmJiBzb3VyY2UgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICAgIC8vIGF2b2lkIGNsb25pbmcgZGVlcCBpbWFnZXMsIGNhbnZhc2VzLFxuICAgICAgICBkZXN0aW5hdGlvbiA9IHNvdXJjZTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIGRlc3RpbmF0aW9uID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBzb3VyY2UubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBkZXN0aW5hdGlvbltpXSA9IGV4dGVuZCh7IH0sIHNvdXJjZVtpXSwgZGVlcCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHNvdXJjZSAmJiB0eXBlb2Ygc291cmNlID09PSAnb2JqZWN0Jykge1xuICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICBpZiAocHJvcGVydHkgPT09ICdjYW52YXMnKSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbltwcm9wZXJ0eV0gPSBleHRlbmQoeyB9LCBzb3VyY2VbcHJvcGVydHldKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoc291cmNlLmhhc093blByb3BlcnR5KHByb3BlcnR5KSkge1xuICAgICAgICAgICAgZGVzdGluYXRpb25bcHJvcGVydHldID0gZXh0ZW5kKHsgfSwgc291cmNlW3Byb3BlcnR5XSwgZGVlcCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gdGhpcyBzb3VuZHMgb2RkIGZvciBhbiBleHRlbmQgYnV0IGlzIG9rIGZvciByZWN1cnNpdmUgdXNlXG4gICAgICAgIGRlc3RpbmF0aW9uID0gc291cmNlO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIHNvdXJjZSkge1xuICAgICAgICBkZXN0aW5hdGlvbltwcm9wZXJ0eV0gPSBzb3VyY2VbcHJvcGVydHldO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGVzdGluYXRpb247XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBlbXB0eSBvYmplY3QgYW5kIGNvcGllcyBhbGwgZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIGFub3RoZXIgb2JqZWN0IHRvIGl0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5vYmplY3RcbiAgICogVE9ETzogdGhpcyBmdW5jdGlvbiByZXR1cm4gYW4gZW1wdHkgb2JqZWN0IGlmIHlvdSB0cnkgdG8gY2xvbmUgbnVsbFxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjbG9uZVxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqL1xuICBmdW5jdGlvbiBjbG9uZShvYmplY3QsIGRlZXApIHtcbiAgICByZXR1cm4gZXh0ZW5kKHsgfSwgb2JqZWN0LCBkZWVwKTtcbiAgfVxuXG4gIC8qKiBAbmFtZXNwYWNlIGZhYnJpYy51dGlsLm9iamVjdCAqL1xuICBmYWJyaWMudXRpbC5vYmplY3QgPSB7XG4gICAgZXh0ZW5kOiBleHRlbmQsXG4gICAgY2xvbmU6IGNsb25lXG4gIH07XG4gIGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQoZmFicmljLnV0aWwsIGZhYnJpYy5PYnNlcnZhYmxlKTtcbn0pKCk7XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIC8qKlxuICAgKiBDYW1lbGl6ZXMgYSBzdHJpbmdcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLnN0cmluZ1xuICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIFN0cmluZyB0byBjYW1lbGl6ZVxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IENhbWVsaXplZCB2ZXJzaW9uIG9mIGEgc3RyaW5nXG4gICAqL1xuICBmdW5jdGlvbiBjYW1lbGl6ZShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoLy0rKC4pPy9nLCBmdW5jdGlvbihtYXRjaCwgY2hhcmFjdGVyKSB7XG4gICAgICByZXR1cm4gY2hhcmFjdGVyID8gY2hhcmFjdGVyLnRvVXBwZXJDYXNlKCkgOiAnJztcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYXBpdGFsaXplcyBhIHN0cmluZ1xuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuc3RyaW5nXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgU3RyaW5nIHRvIGNhcGl0YWxpemVcbiAgICogQHBhcmFtIHtCb29sZWFufSBbZmlyc3RMZXR0ZXJPbmx5XSBJZiB0cnVlIG9ubHkgZmlyc3QgbGV0dGVyIGlzIGNhcGl0YWxpemVkXG4gICAqIGFuZCBvdGhlciBsZXR0ZXJzIHN0YXkgdW50b3VjaGVkLCBpZiBmYWxzZSBmaXJzdCBsZXR0ZXIgaXMgY2FwaXRhbGl6ZWRcbiAgICogYW5kIG90aGVyIGxldHRlcnMgYXJlIGNvbnZlcnRlZCB0byBsb3dlcmNhc2UuXG4gICAqIEByZXR1cm4ge1N0cmluZ30gQ2FwaXRhbGl6ZWQgdmVyc2lvbiBvZiBhIHN0cmluZ1xuICAgKi9cbiAgZnVuY3Rpb24gY2FwaXRhbGl6ZShzdHJpbmcsIGZpcnN0TGV0dGVyT25seSkge1xuICAgIHJldHVybiBzdHJpbmcuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgK1xuICAgICAgKGZpcnN0TGV0dGVyT25seSA/IHN0cmluZy5zbGljZSgxKSA6IHN0cmluZy5zbGljZSgxKS50b0xvd2VyQ2FzZSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFc2NhcGVzIFhNTCBpbiBhIHN0cmluZ1xuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuc3RyaW5nXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJpbmcgU3RyaW5nIHRvIGVzY2FwZVxuICAgKiBAcmV0dXJuIHtTdHJpbmd9IEVzY2FwZWQgdmVyc2lvbiBvZiBhIHN0cmluZ1xuICAgKi9cbiAgZnVuY3Rpb24gZXNjYXBlWG1sKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxuICAgICAgLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKVxuICAgICAgLnJlcGxhY2UoLycvZywgJyZhcG9zOycpXG4gICAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgICAucmVwbGFjZSgvPi9nLCAnJmd0OycpO1xuICB9XG5cbiAgLyoqXG4gICAqIERpdmlkZSBhIHN0cmluZyBpbiB0aGUgdXNlciBwZXJjZWl2ZWQgc2luZ2xlIHVuaXRzXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5zdHJpbmdcbiAgICogQHBhcmFtIHtTdHJpbmd9IHRleHRzdHJpbmcgU3RyaW5nIHRvIGVzY2FwZVxuICAgKiBAcmV0dXJuIHtBcnJheX0gYXJyYXkgY29udGFpbmluZyB0aGUgZ3JhcGhlbWVzXG4gICAqL1xuICBmdW5jdGlvbiBncmFwaGVtZVNwbGl0KHRleHRzdHJpbmcpIHtcbiAgICB2YXIgaSA9IDAsIGNociwgZ3JhcGhlbWVzID0gW107XG4gICAgZm9yIChpID0gMCwgY2hyOyBpIDwgdGV4dHN0cmluZy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKChjaHIgPSBnZXRXaG9sZUNoYXIodGV4dHN0cmluZywgaSkpID09PSBmYWxzZSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGdyYXBoZW1lcy5wdXNoKGNocik7XG4gICAgfVxuICAgIHJldHVybiBncmFwaGVtZXM7XG4gIH1cblxuICAvLyB0YWtlbiBmcm9tIG1kbiBpbiB0aGUgY2hhckF0IGRvYyBwYWdlLlxuICBmdW5jdGlvbiBnZXRXaG9sZUNoYXIoc3RyLCBpKSB7XG4gICAgdmFyIGNvZGUgPSBzdHIuY2hhckNvZGVBdChpKTtcblxuICAgIGlmIChpc05hTihjb2RlKSkge1xuICAgICAgcmV0dXJuICcnOyAvLyBQb3NpdGlvbiBub3QgZm91bmRcbiAgICB9XG4gICAgaWYgKGNvZGUgPCAweEQ4MDAgfHwgY29kZSA+IDB4REZGRikge1xuICAgICAgcmV0dXJuIHN0ci5jaGFyQXQoaSk7XG4gICAgfVxuXG4gICAgLy8gSGlnaCBzdXJyb2dhdGUgKGNvdWxkIGNoYW5nZSBsYXN0IGhleCB0byAweERCN0YgdG8gdHJlYXQgaGlnaCBwcml2YXRlXG4gICAgLy8gc3Vycm9nYXRlcyBhcyBzaW5nbGUgY2hhcmFjdGVycylcbiAgICBpZiAoMHhEODAwIDw9IGNvZGUgJiYgY29kZSA8PSAweERCRkYpIHtcbiAgICAgIGlmIChzdHIubGVuZ3RoIDw9IChpICsgMSkpIHtcbiAgICAgICAgdGhyb3cgJ0hpZ2ggc3Vycm9nYXRlIHdpdGhvdXQgZm9sbG93aW5nIGxvdyBzdXJyb2dhdGUnO1xuICAgICAgfVxuICAgICAgdmFyIG5leHQgPSBzdHIuY2hhckNvZGVBdChpICsgMSk7XG4gICAgICBpZiAoMHhEQzAwID4gbmV4dCB8fCBuZXh0ID4gMHhERkZGKSB7XG4gICAgICAgIHRocm93ICdIaWdoIHN1cnJvZ2F0ZSB3aXRob3V0IGZvbGxvd2luZyBsb3cgc3Vycm9nYXRlJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHIuY2hhckF0KGkpICsgc3RyLmNoYXJBdChpICsgMSk7XG4gICAgfVxuICAgIC8vIExvdyBzdXJyb2dhdGUgKDB4REMwMCA8PSBjb2RlICYmIGNvZGUgPD0gMHhERkZGKVxuICAgIGlmIChpID09PSAwKSB7XG4gICAgICB0aHJvdyAnTG93IHN1cnJvZ2F0ZSB3aXRob3V0IHByZWNlZGluZyBoaWdoIHN1cnJvZ2F0ZSc7XG4gICAgfVxuICAgIHZhciBwcmV2ID0gc3RyLmNoYXJDb2RlQXQoaSAtIDEpO1xuXG4gICAgLy8gKGNvdWxkIGNoYW5nZSBsYXN0IGhleCB0byAweERCN0YgdG8gdHJlYXQgaGlnaCBwcml2YXRlXG4gICAgLy8gc3Vycm9nYXRlcyBhcyBzaW5nbGUgY2hhcmFjdGVycylcbiAgICBpZiAoMHhEODAwID4gcHJldiB8fCBwcmV2ID4gMHhEQkZGKSB7XG4gICAgICB0aHJvdyAnTG93IHN1cnJvZ2F0ZSB3aXRob3V0IHByZWNlZGluZyBoaWdoIHN1cnJvZ2F0ZSc7XG4gICAgfVxuICAgIC8vIFdlIGNhbiBwYXNzIG92ZXIgbG93IHN1cnJvZ2F0ZXMgbm93IGFzIHRoZSBzZWNvbmQgY29tcG9uZW50XG4gICAgLy8gaW4gYSBwYWlyIHdoaWNoIHdlIGhhdmUgYWxyZWFkeSBwcm9jZXNzZWRcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBTdHJpbmcgdXRpbGl0aWVzXG4gICAqIEBuYW1lc3BhY2UgZmFicmljLnV0aWwuc3RyaW5nXG4gICAqL1xuICBmYWJyaWMudXRpbC5zdHJpbmcgPSB7XG4gICAgY2FtZWxpemU6IGNhbWVsaXplLFxuICAgIGNhcGl0YWxpemU6IGNhcGl0YWxpemUsXG4gICAgZXNjYXBlWG1sOiBlc2NhcGVYbWwsXG4gICAgZ3JhcGhlbWVTcGxpdDogZ3JhcGhlbWVTcGxpdFxuICB9O1xufSkoKTtcblxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgdmFyIHNsaWNlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLCBlbXB0eUZ1bmN0aW9uID0gZnVuY3Rpb24oKSB7IH0sXG5cbiAgICAgIElTX0RPTlRFTlVNX0JVR0dZID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICBmb3IgKHZhciBwIGluIHsgdG9TdHJpbmc6IDEgfSkge1xuICAgICAgICAgIGlmIChwID09PSAndG9TdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSkoKSxcblxuICAgICAgLyoqIEBpZ25vcmUgKi9cbiAgICAgIGFkZE1ldGhvZHMgPSBmdW5jdGlvbihrbGFzcywgc291cmNlLCBwYXJlbnQpIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gc291cmNlKSB7XG5cbiAgICAgICAgICBpZiAocHJvcGVydHkgaW4ga2xhc3MucHJvdG90eXBlICYmXG4gICAgICAgICAgICAgIHR5cGVvZiBrbGFzcy5wcm90b3R5cGVbcHJvcGVydHldID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgICAgICAgIChzb3VyY2VbcHJvcGVydHldICsgJycpLmluZGV4T2YoJ2NhbGxTdXBlcicpID4gLTEpIHtcblxuICAgICAgICAgICAga2xhc3MucHJvdG90eXBlW3Byb3BlcnR5XSA9IChmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgc3VwZXJjbGFzcyA9IHRoaXMuY29uc3RydWN0b3Iuc3VwZXJjbGFzcztcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yLnN1cGVyY2xhc3MgPSBwYXJlbnQ7XG4gICAgICAgICAgICAgICAgdmFyIHJldHVyblZhbHVlID0gc291cmNlW3Byb3BlcnR5XS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3Iuc3VwZXJjbGFzcyA9IHN1cGVyY2xhc3M7XG5cbiAgICAgICAgICAgICAgICBpZiAocHJvcGVydHkgIT09ICdpbml0aWFsaXplJykge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pKHByb3BlcnR5KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBrbGFzcy5wcm90b3R5cGVbcHJvcGVydHldID0gc291cmNlW3Byb3BlcnR5XTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoSVNfRE9OVEVOVU1fQlVHR1kpIHtcbiAgICAgICAgICAgIGlmIChzb3VyY2UudG9TdHJpbmcgIT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcpIHtcbiAgICAgICAgICAgICAga2xhc3MucHJvdG90eXBlLnRvU3RyaW5nID0gc291cmNlLnRvU3RyaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNvdXJjZS52YWx1ZU9mICE9PSBPYmplY3QucHJvdG90eXBlLnZhbHVlT2YpIHtcbiAgICAgICAgICAgICAga2xhc3MucHJvdG90eXBlLnZhbHVlT2YgPSBzb3VyY2UudmFsdWVPZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgZnVuY3Rpb24gU3ViY2xhc3MoKSB7IH1cblxuICBmdW5jdGlvbiBjYWxsU3VwZXIobWV0aG9kTmFtZSkge1xuICAgIHZhciBwYXJlbnRNZXRob2QgPSBudWxsLFxuICAgICAgICBfdGhpcyA9IHRoaXM7XG5cbiAgICAvLyBjbGltYiBwcm90b3R5cGUgY2hhaW4gdG8gZmluZCBtZXRob2Qgbm90IGVxdWFsIHRvIGNhbGxlZSdzIG1ldGhvZFxuICAgIHdoaWxlIChfdGhpcy5jb25zdHJ1Y3Rvci5zdXBlcmNsYXNzKSB7XG4gICAgICB2YXIgc3VwZXJDbGFzc01ldGhvZCA9IF90aGlzLmNvbnN0cnVjdG9yLnN1cGVyY2xhc3MucHJvdG90eXBlW21ldGhvZE5hbWVdO1xuICAgICAgaWYgKF90aGlzW21ldGhvZE5hbWVdICE9PSBzdXBlckNsYXNzTWV0aG9kKSB7XG4gICAgICAgIHBhcmVudE1ldGhvZCA9IHN1cGVyQ2xhc3NNZXRob2Q7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICBfdGhpcyA9IF90aGlzLmNvbnN0cnVjdG9yLnN1cGVyY2xhc3MucHJvdG90eXBlO1xuICAgIH1cblxuICAgIGlmICghcGFyZW50TWV0aG9kKSB7XG4gICAgICByZXR1cm4gY29uc29sZS5sb2coJ3RyaWVkIHRvIGNhbGxTdXBlciAnICsgbWV0aG9kTmFtZSArICcsIG1ldGhvZCBub3QgZm91bmQgaW4gcHJvdG90eXBlIGNoYWluJywgdGhpcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIChhcmd1bWVudHMubGVuZ3RoID4gMSlcbiAgICAgID8gcGFyZW50TWV0aG9kLmFwcGx5KHRoaXMsIHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSlcbiAgICAgIDogcGFyZW50TWV0aG9kLmNhbGwodGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogSGVscGVyIGZvciBjcmVhdGlvbiBvZiBcImNsYXNzZXNcIi5cbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwYXJlbnRdIG9wdGlvbmFsIFwiQ2xhc3NcIiB0byBpbmhlcml0IGZyb21cbiAgICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzXSBQcm9wZXJ0aWVzIHNoYXJlZCBieSBhbGwgaW5zdGFuY2VzIG9mIHRoaXMgY2xhc3NcbiAgICogICAgICAgICAgICAgICAgICAoYmUgY2FyZWZ1bCBtb2RpZnlpbmcgb2JqZWN0cyBkZWZpbmVkIGhlcmUgYXMgdGhpcyB3b3VsZCBhZmZlY3QgYWxsIGluc3RhbmNlcylcbiAgICovXG4gIGZ1bmN0aW9uIGNyZWF0ZUNsYXNzKCkge1xuICAgIHZhciBwYXJlbnQgPSBudWxsLFxuICAgICAgICBwcm9wZXJ0aWVzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuXG4gICAgaWYgKHR5cGVvZiBwcm9wZXJ0aWVzWzBdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwYXJlbnQgPSBwcm9wZXJ0aWVzLnNoaWZ0KCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGtsYXNzKCkge1xuICAgICAgdGhpcy5pbml0aWFsaXplLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAga2xhc3Muc3VwZXJjbGFzcyA9IHBhcmVudDtcbiAgICBrbGFzcy5zdWJjbGFzc2VzID0gW107XG5cbiAgICBpZiAocGFyZW50KSB7XG4gICAgICBTdWJjbGFzcy5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlO1xuICAgICAga2xhc3MucHJvdG90eXBlID0gbmV3IFN1YmNsYXNzKCk7XG4gICAgICBwYXJlbnQuc3ViY2xhc3Nlcy5wdXNoKGtsYXNzKTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHByb3BlcnRpZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGFkZE1ldGhvZHMoa2xhc3MsIHByb3BlcnRpZXNbaV0sIHBhcmVudCk7XG4gICAgfVxuICAgIGlmICgha2xhc3MucHJvdG90eXBlLmluaXRpYWxpemUpIHtcbiAgICAgIGtsYXNzLnByb3RvdHlwZS5pbml0aWFsaXplID0gZW1wdHlGdW5jdGlvbjtcbiAgICB9XG4gICAga2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0ga2xhc3M7XG4gICAga2xhc3MucHJvdG90eXBlLmNhbGxTdXBlciA9IGNhbGxTdXBlcjtcbiAgICByZXR1cm4ga2xhc3M7XG4gIH1cblxuICBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyA9IGNyZWF0ZUNsYXNzO1xufSkoKTtcblxuXG4oZnVuY3Rpb24gKCkge1xuICAvLyBzaW5jZSBpZTEwIG9yIGllOSBjYW4gdXNlIGFkZEV2ZW50TGlzdGVuZXIgYnV0IHRoZXkgZG8gbm90IHN1cHBvcnQgb3B0aW9ucywgaSBuZWVkIHRvIGNoZWNrXG4gIHZhciBjb3VsZFVzZUF0dGFjaEV2ZW50ID0gISFmYWJyaWMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykuYXR0YWNoRXZlbnQ7XG4gIC8qKlxuICAgKiBBZGRzIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGFuIGVsZW1lbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWVcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaGFuZGxlclxuICAgKi9cbiAgZmFicmljLnV0aWwuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbihlbGVtZW50LCBldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgICBlbGVtZW50ICYmIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIsIGNvdWxkVXNlQXR0YWNoRXZlbnQgPyBmYWxzZSA6IG9wdGlvbnMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFuIGV2ZW50IGxpc3RlbmVyIGZyb20gYW4gZWxlbWVudFxuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50TmFtZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyXG4gICAqL1xuICBmYWJyaWMudXRpbC5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uKGVsZW1lbnQsIGV2ZW50TmFtZSwgaGFuZGxlciwgb3B0aW9ucykge1xuICAgIGVsZW1lbnQgJiYgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlciwgY291bGRVc2VBdHRhY2hFdmVudCA/IGZhbHNlIDogb3B0aW9ucyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gZ2V0VG91Y2hJbmZvKGV2ZW50KSB7XG4gICAgdmFyIHRvdWNoUHJvcCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzO1xuICAgIGlmICh0b3VjaFByb3AgJiYgdG91Y2hQcm9wWzBdKSB7XG4gICAgICByZXR1cm4gdG91Y2hQcm9wWzBdO1xuICAgIH1cbiAgICByZXR1cm4gZXZlbnQ7XG4gIH1cblxuICBmYWJyaWMudXRpbC5nZXRQb2ludGVyID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICB2YXIgZWxlbWVudCA9IGV2ZW50LnRhcmdldCxcbiAgICAgICAgc2Nyb2xsID0gZmFicmljLnV0aWwuZ2V0U2Nyb2xsTGVmdFRvcChlbGVtZW50KSxcbiAgICAgICAgX2V2dCA9IGdldFRvdWNoSW5mbyhldmVudCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IF9ldnQuY2xpZW50WCArIHNjcm9sbC5sZWZ0LFxuICAgICAgeTogX2V2dC5jbGllbnRZICsgc2Nyb2xsLnRvcFxuICAgIH07XG4gIH07XG59KSgpO1xuXG5cbihmdW5jdGlvbiAoKSB7XG5cbiAgLyoqXG4gICAqIENyb3NzLWJyb3dzZXIgd3JhcHBlciBmb3Igc2V0dGluZyBlbGVtZW50J3Mgc3R5bGVcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAgICogQHBhcmFtIHtPYmplY3R9IHN0eWxlc1xuICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gRWxlbWVudCB0aGF0IHdhcyBwYXNzZWQgYXMgYSBmaXJzdCBhcmd1bWVudFxuICAgKi9cbiAgZnVuY3Rpb24gc2V0U3R5bGUoZWxlbWVudCwgc3R5bGVzKSB7XG4gICAgdmFyIGVsZW1lbnRTdHlsZSA9IGVsZW1lbnQuc3R5bGU7XG4gICAgaWYgKCFlbGVtZW50U3R5bGUpIHtcbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHN0eWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVsZW1lbnQuc3R5bGUuY3NzVGV4dCArPSAnOycgKyBzdHlsZXM7XG4gICAgICByZXR1cm4gc3R5bGVzLmluZGV4T2YoJ29wYWNpdHknKSA+IC0xXG4gICAgICAgID8gc2V0T3BhY2l0eShlbGVtZW50LCBzdHlsZXMubWF0Y2goL29wYWNpdHk6XFxzKihcXGQ/XFwuP1xcZCopLylbMV0pXG4gICAgICAgIDogZWxlbWVudDtcbiAgICB9XG4gICAgZm9yICh2YXIgcHJvcGVydHkgaW4gc3R5bGVzKSB7XG4gICAgICBpZiAocHJvcGVydHkgPT09ICdvcGFjaXR5Jykge1xuICAgICAgICBzZXRPcGFjaXR5KGVsZW1lbnQsIHN0eWxlc1twcm9wZXJ0eV0pO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHZhciBub3JtYWxpemVkUHJvcGVydHkgPSAocHJvcGVydHkgPT09ICdmbG9hdCcgfHwgcHJvcGVydHkgPT09ICdjc3NGbG9hdCcpXG4gICAgICAgICAgPyAodHlwZW9mIGVsZW1lbnRTdHlsZS5zdHlsZUZsb2F0ID09PSAndW5kZWZpbmVkJyA/ICdjc3NGbG9hdCcgOiAnc3R5bGVGbG9hdCcpXG4gICAgICAgICAgOiBwcm9wZXJ0eTtcbiAgICAgICAgZWxlbWVudFN0eWxlW25vcm1hbGl6ZWRQcm9wZXJ0eV0gPSBzdHlsZXNbcHJvcGVydHldO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIHZhciBwYXJzZUVsID0gZmFicmljLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgc3VwcG9ydHNPcGFjaXR5ID0gdHlwZW9mIHBhcnNlRWwuc3R5bGUub3BhY2l0eSA9PT0gJ3N0cmluZycsXG4gICAgICBzdXBwb3J0c0ZpbHRlcnMgPSB0eXBlb2YgcGFyc2VFbC5zdHlsZS5maWx0ZXIgPT09ICdzdHJpbmcnLFxuICAgICAgcmVPcGFjaXR5ID0gL2FscGhhXFxzKlxcKFxccypvcGFjaXR5XFxzKj1cXHMqKFteXFwpXSspXFwpLyxcblxuICAgICAgLyoqIEBpZ25vcmUgKi9cbiAgICAgIHNldE9wYWNpdHkgPSBmdW5jdGlvbiAoZWxlbWVudCkgeyByZXR1cm4gZWxlbWVudDsgfTtcblxuICBpZiAoc3VwcG9ydHNPcGFjaXR5KSB7XG4gICAgLyoqIEBpZ25vcmUgKi9cbiAgICBzZXRPcGFjaXR5ID0gZnVuY3Rpb24oZWxlbWVudCwgdmFsdWUpIHtcbiAgICAgIGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfTtcbiAgfVxuICBlbHNlIGlmIChzdXBwb3J0c0ZpbHRlcnMpIHtcbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIHNldE9wYWNpdHkgPSBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZSkge1xuICAgICAgdmFyIGVzID0gZWxlbWVudC5zdHlsZTtcbiAgICAgIGlmIChlbGVtZW50LmN1cnJlbnRTdHlsZSAmJiAhZWxlbWVudC5jdXJyZW50U3R5bGUuaGFzTGF5b3V0KSB7XG4gICAgICAgIGVzLnpvb20gPSAxO1xuICAgICAgfVxuICAgICAgaWYgKHJlT3BhY2l0eS50ZXN0KGVzLmZpbHRlcikpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSA+PSAwLjk5OTkgPyAnJyA6ICgnYWxwaGEob3BhY2l0eT0nICsgKHZhbHVlICogMTAwKSArICcpJyk7XG4gICAgICAgIGVzLmZpbHRlciA9IGVzLmZpbHRlci5yZXBsYWNlKHJlT3BhY2l0eSwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGVzLmZpbHRlciArPSAnIGFscGhhKG9wYWNpdHk9JyArICh2YWx1ZSAqIDEwMCkgKyAnKSc7XG4gICAgICB9XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9O1xuICB9XG5cbiAgZmFicmljLnV0aWwuc2V0U3R5bGUgPSBzZXRTdHlsZTtcblxufSkoKTtcblxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgdmFyIF9zbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcblxuICAvKipcbiAgICogVGFrZXMgaWQgYW5kIHJldHVybnMgYW4gZWxlbWVudCB3aXRoIHRoYXQgaWQgKGlmIG9uZSBleGlzdHMgaW4gYSBkb2N1bWVudClcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAqIEBwYXJhbSB7U3RyaW5nfEhUTUxFbGVtZW50fSBpZFxuICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudHxudWxsfVxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0QnlJZChpZCkge1xuICAgIHJldHVybiB0eXBlb2YgaWQgPT09ICdzdHJpbmcnID8gZmFicmljLmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKSA6IGlkO1xuICB9XG5cbiAgdmFyIHNsaWNlQ2FuQ29udmVydE5vZGVsaXN0cyxcbiAgICAgIC8qKlxuICAgICAgICogQ29udmVydHMgYW4gYXJyYXktbGlrZSBvYmplY3QgKGUuZy4gYXJndW1lbnRzIG9yIE5vZGVMaXN0KSB0byBhbiBhcnJheVxuICAgICAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gYXJyYXlMaWtlXG4gICAgICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICAgICAqL1xuICAgICAgdG9BcnJheSA9IGZ1bmN0aW9uKGFycmF5TGlrZSkge1xuICAgICAgICByZXR1cm4gX3NsaWNlLmNhbGwoYXJyYXlMaWtlLCAwKTtcbiAgICAgIH07XG5cbiAgdHJ5IHtcbiAgICBzbGljZUNhbkNvbnZlcnROb2RlbGlzdHMgPSB0b0FycmF5KGZhYnJpYy5kb2N1bWVudC5jaGlsZE5vZGVzKSBpbnN0YW5jZW9mIEFycmF5O1xuICB9XG4gIGNhdGNoIChlcnIpIHsgfVxuXG4gIGlmICghc2xpY2VDYW5Db252ZXJ0Tm9kZWxpc3RzKSB7XG4gICAgdG9BcnJheSA9IGZ1bmN0aW9uKGFycmF5TGlrZSkge1xuICAgICAgdmFyIGFyciA9IG5ldyBBcnJheShhcnJheUxpa2UubGVuZ3RoKSwgaSA9IGFycmF5TGlrZS5sZW5ndGg7XG4gICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIGFycltpXSA9IGFycmF5TGlrZVtpXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnI7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIHNwZWNpZmllZCBlbGVtZW50IHdpdGggc3BlY2lmaWVkIGF0dHJpYnV0ZXNcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0YWdOYW1lIFR5cGUgb2YgYW4gZWxlbWVudCB0byBjcmVhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IFthdHRyaWJ1dGVzXSBBdHRyaWJ1dGVzIHRvIHNldCBvbiBhbiBlbGVtZW50XG4gICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSBOZXdseSBjcmVhdGVkIGVsZW1lbnRcbiAgICovXG4gIGZ1bmN0aW9uIG1ha2VFbGVtZW50KHRhZ05hbWUsIGF0dHJpYnV0ZXMpIHtcbiAgICB2YXIgZWwgPSBmYWJyaWMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcbiAgICBmb3IgKHZhciBwcm9wIGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgIGlmIChwcm9wID09PSAnY2xhc3MnKSB7XG4gICAgICAgIGVsLmNsYXNzTmFtZSA9IGF0dHJpYnV0ZXNbcHJvcF07XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChwcm9wID09PSAnZm9yJykge1xuICAgICAgICBlbC5odG1sRm9yID0gYXR0cmlidXRlc1twcm9wXTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUocHJvcCwgYXR0cmlidXRlc1twcm9wXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGNsYXNzIHRvIGFuIGVsZW1lbnRcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0byBhZGQgY2xhc3MgdG9cbiAgICogQHBhcmFtIHtTdHJpbmd9IGNsYXNzTmFtZSBDbGFzcyB0byBhZGQgdG8gYW4gZWxlbWVudFxuICAgKi9cbiAgZnVuY3Rpb24gYWRkQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gICAgaWYgKGVsZW1lbnQgJiYgKCcgJyArIGVsZW1lbnQuY2xhc3NOYW1lICsgJyAnKS5pbmRleE9mKCcgJyArIGNsYXNzTmFtZSArICcgJykgPT09IC0xKSB7XG4gICAgICBlbGVtZW50LmNsYXNzTmFtZSArPSAoZWxlbWVudC5jbGFzc05hbWUgPyAnICcgOiAnJykgKyBjbGFzc05hbWU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFdyYXBzIGVsZW1lbnQgd2l0aCBhbm90aGVyIGVsZW1lbnRcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0byB3cmFwXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8U3RyaW5nfSB3cmFwcGVyIEVsZW1lbnQgdG8gd3JhcCB3aXRoXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbYXR0cmlidXRlc10gQXR0cmlidXRlcyB0byBzZXQgb24gYSB3cmFwcGVyXG4gICAqIEByZXR1cm4ge0hUTUxFbGVtZW50fSB3cmFwcGVyXG4gICAqL1xuICBmdW5jdGlvbiB3cmFwRWxlbWVudChlbGVtZW50LCB3cmFwcGVyLCBhdHRyaWJ1dGVzKSB7XG4gICAgaWYgKHR5cGVvZiB3cmFwcGVyID09PSAnc3RyaW5nJykge1xuICAgICAgd3JhcHBlciA9IG1ha2VFbGVtZW50KHdyYXBwZXIsIGF0dHJpYnV0ZXMpO1xuICAgIH1cbiAgICBpZiAoZWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICBlbGVtZW50LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHdyYXBwZXIsIGVsZW1lbnQpO1xuICAgIH1cbiAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgIHJldHVybiB3cmFwcGVyO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZWxlbWVudCBzY3JvbGwgb2Zmc2V0c1xuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBFbGVtZW50IHRvIG9wZXJhdGUgb25cbiAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3Qgd2l0aCBsZWZ0L3RvcCB2YWx1ZXNcbiAgICovXG4gIGZ1bmN0aW9uIGdldFNjcm9sbExlZnRUb3AoZWxlbWVudCkge1xuXG4gICAgdmFyIGxlZnQgPSAwLFxuICAgICAgICB0b3AgPSAwLFxuICAgICAgICBkb2NFbGVtZW50ID0gZmFicmljLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxcbiAgICAgICAgYm9keSA9IGZhYnJpYy5kb2N1bWVudC5ib2R5IHx8IHtcbiAgICAgICAgICBzY3JvbGxMZWZ0OiAwLCBzY3JvbGxUb3A6IDBcbiAgICAgICAgfTtcblxuICAgIC8vIFdoaWxlIGxvb3AgY2hlY2tzIChhbmQgdGhlbiBzZXRzIGVsZW1lbnQgdG8pIC5wYXJlbnROb2RlIE9SIC5ob3N0XG4gICAgLy8gIHRvIGFjY291bnQgZm9yIFNoYWRvd0RPTS4gV2Ugc3RpbGwgd2FudCB0byB0cmF2ZXJzZSB1cCBvdXQgb2YgU2hhZG93RE9NLFxuICAgIC8vICBidXQgdGhlIC5wYXJlbnROb2RlIG9mIGEgcm9vdCBTaGFkb3dET00gbm9kZSB3aWxsIGFsd2F5cyBiZSBudWxsLCBpbnN0ZWFkXG4gICAgLy8gIGl0IHNob3VsZCBiZSBhY2Nlc3NlZCB0aHJvdWdoIC5ob3N0LiBTZWUgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjQ3NjU1MjgvNDM4MzkzOFxuICAgIHdoaWxlIChlbGVtZW50ICYmIChlbGVtZW50LnBhcmVudE5vZGUgfHwgZWxlbWVudC5ob3N0KSkge1xuXG4gICAgICAvLyBTZXQgZWxlbWVudCB0byBlbGVtZW50IHBhcmVudCwgb3IgJ2hvc3QnIGluIGNhc2Ugb2YgU2hhZG93RE9NXG4gICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlIHx8IGVsZW1lbnQuaG9zdDtcblxuICAgICAgaWYgKGVsZW1lbnQgPT09IGZhYnJpYy5kb2N1bWVudCkge1xuICAgICAgICBsZWZ0ID0gYm9keS5zY3JvbGxMZWZ0IHx8IGRvY0VsZW1lbnQuc2Nyb2xsTGVmdCB8fCAwO1xuICAgICAgICB0b3AgPSBib2R5LnNjcm9sbFRvcCB8fCAgZG9jRWxlbWVudC5zY3JvbGxUb3AgfHwgMDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBsZWZ0ICs9IGVsZW1lbnQuc2Nyb2xsTGVmdCB8fCAwO1xuICAgICAgICB0b3AgKz0gZWxlbWVudC5zY3JvbGxUb3AgfHwgMDtcbiAgICAgIH1cblxuICAgICAgaWYgKGVsZW1lbnQubm9kZVR5cGUgPT09IDEgJiYgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9PT0gJ2ZpeGVkJykge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4geyBsZWZ0OiBsZWZ0LCB0b3A6IHRvcCB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgb2Zmc2V0IGZvciBhIGdpdmVuIGVsZW1lbnRcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgdG8gZ2V0IG9mZnNldCBmb3JcbiAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3Qgd2l0aCBcImxlZnRcIiBhbmQgXCJ0b3BcIiBwcm9wZXJ0aWVzXG4gICAqL1xuICBmdW5jdGlvbiBnZXRFbGVtZW50T2Zmc2V0KGVsZW1lbnQpIHtcbiAgICB2YXIgZG9jRWxlbSxcbiAgICAgICAgZG9jID0gZWxlbWVudCAmJiBlbGVtZW50Lm93bmVyRG9jdW1lbnQsXG4gICAgICAgIGJveCA9IHsgbGVmdDogMCwgdG9wOiAwIH0sXG4gICAgICAgIG9mZnNldCA9IHsgbGVmdDogMCwgdG9wOiAwIH0sXG4gICAgICAgIHNjcm9sbExlZnRUb3AsXG4gICAgICAgIG9mZnNldEF0dHJpYnV0ZXMgPSB7XG4gICAgICAgICAgYm9yZGVyTGVmdFdpZHRoOiAnbGVmdCcsXG4gICAgICAgICAgYm9yZGVyVG9wV2lkdGg6ICAndG9wJyxcbiAgICAgICAgICBwYWRkaW5nTGVmdDogICAgICdsZWZ0JyxcbiAgICAgICAgICBwYWRkaW5nVG9wOiAgICAgICd0b3AnXG4gICAgICAgIH07XG5cbiAgICBpZiAoIWRvYykge1xuICAgICAgcmV0dXJuIG9mZnNldDtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBhdHRyIGluIG9mZnNldEF0dHJpYnV0ZXMpIHtcbiAgICAgIG9mZnNldFtvZmZzZXRBdHRyaWJ1dGVzW2F0dHJdXSArPSBwYXJzZUludChnZXRFbGVtZW50U3R5bGUoZWxlbWVudCwgYXR0ciksIDEwKSB8fCAwO1xuICAgIH1cblxuICAgIGRvY0VsZW0gPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuICAgIGlmICggdHlwZW9mIGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0ICE9PSAndW5kZWZpbmVkJyApIHtcbiAgICAgIGJveCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgfVxuXG4gICAgc2Nyb2xsTGVmdFRvcCA9IGdldFNjcm9sbExlZnRUb3AoZWxlbWVudCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgbGVmdDogYm94LmxlZnQgKyBzY3JvbGxMZWZ0VG9wLmxlZnQgLSAoZG9jRWxlbS5jbGllbnRMZWZ0IHx8IDApICsgb2Zmc2V0LmxlZnQsXG4gICAgICB0b3A6IGJveC50b3AgKyBzY3JvbGxMZWZ0VG9wLnRvcCAtIChkb2NFbGVtLmNsaWVudFRvcCB8fCAwKSAgKyBvZmZzZXQudG9wXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHN0eWxlIGF0dHJpYnV0ZSB2YWx1ZSBvZiBhIGdpdmVuIGVsZW1lbnRcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0byBnZXQgc3R5bGUgYXR0cmlidXRlIGZvclxuICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0ciBTdHlsZSBhdHRyaWJ1dGUgdG8gZ2V0IGZvciBlbGVtZW50XG4gICAqIEByZXR1cm4ge1N0cmluZ30gU3R5bGUgYXR0cmlidXRlIHZhbHVlIG9mIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgKi9cbiAgdmFyIGdldEVsZW1lbnRTdHlsZTtcbiAgaWYgKGZhYnJpYy5kb2N1bWVudC5kZWZhdWx0VmlldyAmJiBmYWJyaWMuZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSkge1xuICAgIGdldEVsZW1lbnRTdHlsZSA9IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcbiAgICAgIHZhciBzdHlsZSA9IGZhYnJpYy5kb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIG51bGwpO1xuICAgICAgcmV0dXJuIHN0eWxlID8gc3R5bGVbYXR0cl0gOiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgfVxuICBlbHNlIHtcbiAgICBnZXRFbGVtZW50U3R5bGUgPSBmdW5jdGlvbihlbGVtZW50LCBhdHRyKSB7XG4gICAgICB2YXIgdmFsdWUgPSBlbGVtZW50LnN0eWxlW2F0dHJdO1xuICAgICAgaWYgKCF2YWx1ZSAmJiBlbGVtZW50LmN1cnJlbnRTdHlsZSkge1xuICAgICAgICB2YWx1ZSA9IGVsZW1lbnQuY3VycmVudFN0eWxlW2F0dHJdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gIH1cblxuICAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBzdHlsZSA9IGZhYnJpYy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUsXG4gICAgICAgIHNlbGVjdFByb3AgPSAndXNlclNlbGVjdCcgaW4gc3R5bGVcbiAgICAgICAgICA/ICd1c2VyU2VsZWN0J1xuICAgICAgICAgIDogJ01velVzZXJTZWxlY3QnIGluIHN0eWxlXG4gICAgICAgICAgICA/ICdNb3pVc2VyU2VsZWN0J1xuICAgICAgICAgICAgOiAnV2Via2l0VXNlclNlbGVjdCcgaW4gc3R5bGVcbiAgICAgICAgICAgICAgPyAnV2Via2l0VXNlclNlbGVjdCdcbiAgICAgICAgICAgICAgOiAnS2h0bWxVc2VyU2VsZWN0JyBpbiBzdHlsZVxuICAgICAgICAgICAgICAgID8gJ0todG1sVXNlclNlbGVjdCdcbiAgICAgICAgICAgICAgICA6ICcnO1xuXG4gICAgLyoqXG4gICAgICogTWFrZXMgZWxlbWVudCB1bnNlbGVjdGFibGVcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgdG8gbWFrZSB1bnNlbGVjdGFibGVcbiAgICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gRWxlbWVudCB0aGF0IHdhcyBwYXNzZWQgaW5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYWtlRWxlbWVudFVuc2VsZWN0YWJsZShlbGVtZW50KSB7XG4gICAgICBpZiAodHlwZW9mIGVsZW1lbnQub25zZWxlY3RzdGFydCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZWxlbWVudC5vbnNlbGVjdHN0YXJ0ID0gZmFicmljLnV0aWwuZmFsc2VGdW5jdGlvbjtcbiAgICAgIH1cbiAgICAgIGlmIChzZWxlY3RQcm9wKSB7XG4gICAgICAgIGVsZW1lbnQuc3R5bGVbc2VsZWN0UHJvcF0gPSAnbm9uZSc7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh0eXBlb2YgZWxlbWVudC51bnNlbGVjdGFibGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGVsZW1lbnQudW5zZWxlY3RhYmxlID0gJ29uJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1ha2VzIGVsZW1lbnQgc2VsZWN0YWJsZVxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0byBtYWtlIHNlbGVjdGFibGVcbiAgICAgKiBAcmV0dXJuIHtIVE1MRWxlbWVudH0gRWxlbWVudCB0aGF0IHdhcyBwYXNzZWQgaW5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYWtlRWxlbWVudFNlbGVjdGFibGUoZWxlbWVudCkge1xuICAgICAgaWYgKHR5cGVvZiBlbGVtZW50Lm9uc2VsZWN0c3RhcnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGVsZW1lbnQub25zZWxlY3RzdGFydCA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoc2VsZWN0UHJvcCkge1xuICAgICAgICBlbGVtZW50LnN0eWxlW3NlbGVjdFByb3BdID0gJyc7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh0eXBlb2YgZWxlbWVudC51bnNlbGVjdGFibGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGVsZW1lbnQudW5zZWxlY3RhYmxlID0gJyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICBmYWJyaWMudXRpbC5tYWtlRWxlbWVudFVuc2VsZWN0YWJsZSA9IG1ha2VFbGVtZW50VW5zZWxlY3RhYmxlO1xuICAgIGZhYnJpYy51dGlsLm1ha2VFbGVtZW50U2VsZWN0YWJsZSA9IG1ha2VFbGVtZW50U2VsZWN0YWJsZTtcbiAgfSkoKTtcblxuICAoZnVuY3Rpb24oKSB7XG5cbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIGEgc2NyaXB0IGVsZW1lbnQgd2l0aCBhIGdpdmVuIHVybCBpbnRvIGEgZG9jdW1lbnQ7IGludm9rZXMgY2FsbGJhY2ssIHdoZW4gdGhhdCBzY3JpcHQgaXMgZmluaXNoZWQgbG9hZGluZ1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgVVJMIG9mIGEgc2NyaXB0IHRvIGxvYWRcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjayB0byBleGVjdXRlIHdoZW4gc2NyaXB0IGlzIGZpbmlzaGVkIGxvYWRpbmdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRTY3JpcHQodXJsLCBjYWxsYmFjaykge1xuICAgICAgdmFyIGhlYWRFbCA9IGZhYnJpYy5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaGVhZCcpWzBdLFxuICAgICAgICAgIHNjcmlwdEVsID0gZmFicmljLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpLFxuICAgICAgICAgIGxvYWRpbmcgPSB0cnVlO1xuXG4gICAgICAvKiogQGlnbm9yZSAqL1xuICAgICAgc2NyaXB0RWwub25sb2FkID0gLyoqIEBpZ25vcmUgKi8gc2NyaXB0RWwub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAobG9hZGluZykge1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5yZWFkeVN0YXRlID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgICB0aGlzLnJlYWR5U3RhdGUgIT09ICdsb2FkZWQnICYmXG4gICAgICAgICAgICAgIHRoaXMucmVhZHlTdGF0ZSAhPT0gJ2NvbXBsZXRlJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgY2FsbGJhY2soZSB8fCBmYWJyaWMud2luZG93LmV2ZW50KTtcbiAgICAgICAgICBzY3JpcHRFbCA9IHNjcmlwdEVsLm9ubG9hZCA9IHNjcmlwdEVsLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBzY3JpcHRFbC5zcmMgPSB1cmw7XG4gICAgICBoZWFkRWwuYXBwZW5kQ2hpbGQoc2NyaXB0RWwpO1xuICAgICAgLy8gY2F1c2VzIGlzc3VlIGluIE9wZXJhXG4gICAgICAvLyBoZWFkRWwucmVtb3ZlQ2hpbGQoc2NyaXB0RWwpO1xuICAgIH1cblxuICAgIGZhYnJpYy51dGlsLmdldFNjcmlwdCA9IGdldFNjcmlwdDtcbiAgfSkoKTtcblxuICBmdW5jdGlvbiBnZXROb2RlQ2FudmFzKGVsZW1lbnQpIHtcbiAgICB2YXIgaW1wbCA9IGZhYnJpYy5qc2RvbUltcGxGb3JXcmFwcGVyKGVsZW1lbnQpO1xuICAgIHJldHVybiBpbXBsLl9jYW52YXMgfHwgaW1wbC5faW1hZ2U7XG4gIH07XG5cbiAgZnVuY3Rpb24gY2xlYW5VcEpzZG9tTm9kZShlbGVtZW50KSB7XG4gICAgaWYgKCFmYWJyaWMuaXNMaWtlbHlOb2RlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBpbXBsID0gZmFicmljLmpzZG9tSW1wbEZvcldyYXBwZXIoZWxlbWVudCk7XG4gICAgaWYgKGltcGwpIHtcbiAgICAgIGltcGwuX2ltYWdlID0gbnVsbDtcbiAgICAgIGltcGwuX2NhbnZhcyA9IG51bGw7XG4gICAgICAvLyB1bnN1cmUgaWYgbmVjZXNzYXJ5XG4gICAgICBpbXBsLl9jdXJyZW50U3JjID0gbnVsbDtcbiAgICAgIGltcGwuX2F0dHJpYnV0ZXMgPSBudWxsO1xuICAgICAgaW1wbC5fY2xhc3NMaXN0ID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBmYWJyaWMudXRpbC5nZXRCeUlkID0gZ2V0QnlJZDtcbiAgZmFicmljLnV0aWwudG9BcnJheSA9IHRvQXJyYXk7XG4gIGZhYnJpYy51dGlsLm1ha2VFbGVtZW50ID0gbWFrZUVsZW1lbnQ7XG4gIGZhYnJpYy51dGlsLmFkZENsYXNzID0gYWRkQ2xhc3M7XG4gIGZhYnJpYy51dGlsLndyYXBFbGVtZW50ID0gd3JhcEVsZW1lbnQ7XG4gIGZhYnJpYy51dGlsLmdldFNjcm9sbExlZnRUb3AgPSBnZXRTY3JvbGxMZWZ0VG9wO1xuICBmYWJyaWMudXRpbC5nZXRFbGVtZW50T2Zmc2V0ID0gZ2V0RWxlbWVudE9mZnNldDtcbiAgZmFicmljLnV0aWwuZ2V0RWxlbWVudFN0eWxlID0gZ2V0RWxlbWVudFN0eWxlO1xuICBmYWJyaWMudXRpbC5nZXROb2RlQ2FudmFzID0gZ2V0Tm9kZUNhbnZhcztcbiAgZmFicmljLnV0aWwuY2xlYW5VcEpzZG9tTm9kZSA9IGNsZWFuVXBKc2RvbU5vZGU7XG5cbn0pKCk7XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIGZ1bmN0aW9uIGFkZFBhcmFtVG9VcmwodXJsLCBwYXJhbSkge1xuICAgIHJldHVybiB1cmwgKyAoL1xcPy8udGVzdCh1cmwpID8gJyYnIDogJz8nKSArIHBhcmFtO1xuICB9XG5cbiAgZnVuY3Rpb24gZW1wdHlGbigpIHsgfVxuXG4gIC8qKlxuICAgKiBDcm9zcy1icm93c2VyIGFic3RyYWN0aW9uIGZvciBzZW5kaW5nIFhNTEh0dHBSZXF1ZXN0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbFxuICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIFVSTCB0byBzZW5kIFhNTEh0dHBSZXF1ZXN0IHRvXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLm1ldGhvZD1cIkdFVFwiXVxuICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMucGFyYW1ldGVyc10gcGFyYW1ldGVycyB0byBhcHBlbmQgdG8gdXJsIGluIEdFVCBvciBpbiBib2R5XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5ib2R5XSBib2R5IHRvIHNlbmQgd2l0aCBQT1NUIG9yIFBVVCByZXF1ZXN0XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wdGlvbnMub25Db21wbGV0ZSBDYWxsYmFjayB0byBpbnZva2Ugd2hlbiByZXF1ZXN0IGlzIGNvbXBsZXRlZFxuICAgKiBAcmV0dXJuIHtYTUxIdHRwUmVxdWVzdH0gcmVxdWVzdFxuICAgKi9cbiAgZnVuY3Rpb24gcmVxdWVzdCh1cmwsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zIHx8IChvcHRpb25zID0geyB9KTtcblxuICAgIHZhciBtZXRob2QgPSBvcHRpb25zLm1ldGhvZCA/IG9wdGlvbnMubWV0aG9kLnRvVXBwZXJDYXNlKCkgOiAnR0VUJyxcbiAgICAgICAgb25Db21wbGV0ZSA9IG9wdGlvbnMub25Db21wbGV0ZSB8fCBmdW5jdGlvbigpIHsgfSxcbiAgICAgICAgeGhyID0gbmV3IGZhYnJpYy53aW5kb3cuWE1MSHR0cFJlcXVlc3QoKSxcbiAgICAgICAgYm9keSA9IG9wdGlvbnMuYm9keSB8fCBvcHRpb25zLnBhcmFtZXRlcnM7XG5cbiAgICAvKiogQGlnbm9yZSAqL1xuICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICBvbkNvbXBsZXRlKHhocik7XG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBlbXB0eUZuO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAobWV0aG9kID09PSAnR0VUJykge1xuICAgICAgYm9keSA9IG51bGw7XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMucGFyYW1ldGVycyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdXJsID0gYWRkUGFyYW1Ub1VybCh1cmwsIG9wdGlvbnMucGFyYW1ldGVycyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgeGhyLm9wZW4obWV0aG9kLCB1cmwsIHRydWUpO1xuXG4gICAgaWYgKG1ldGhvZCA9PT0gJ1BPU1QnIHx8IG1ldGhvZCA9PT0gJ1BVVCcpIHtcbiAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyk7XG4gICAgfVxuXG4gICAgeGhyLnNlbmQoYm9keSk7XG4gICAgcmV0dXJuIHhocjtcbiAgfVxuXG4gIGZhYnJpYy51dGlsLnJlcXVlc3QgPSByZXF1ZXN0O1xufSkoKTtcblxuXG4vKipcbiAqIFdyYXBwZXIgYXJvdW5kIGBjb25zb2xlLmxvZ2AgKHdoZW4gYXZhaWxhYmxlKVxuICogQHBhcmFtIHsqfSBbdmFsdWVzXSBWYWx1ZXMgdG8gbG9nXG4gKi9cbmZhYnJpYy5sb2cgPSBjb25zb2xlLmxvZztcblxuLyoqXG4gKiBXcmFwcGVyIGFyb3VuZCBgY29uc29sZS53YXJuYCAod2hlbiBhdmFpbGFibGUpXG4gKiBAcGFyYW0geyp9IFt2YWx1ZXNdIFZhbHVlcyB0byBsb2cgYXMgYSB3YXJuaW5nXG4gKi9cbmZhYnJpYy53YXJuID0gY29uc29sZS53YXJuO1xuXG5cbihmdW5jdGlvbigpIHtcblxuICBmdW5jdGlvbiBub29wKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlZmF1bHRFYXNpbmcodCwgYiwgYywgZCkge1xuICAgIHJldHVybiAtYyAqIE1hdGguY29zKHQgLyBkICogKE1hdGguUEkgLyAyKSkgKyBjICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGFuZ2VzIHZhbHVlIGZyb20gb25lIHRvIGFub3RoZXIgd2l0aGluIGNlcnRhaW4gcGVyaW9kIG9mIHRpbWUsIGludm9raW5nIGNhbGxiYWNrcyBhcyB2YWx1ZSBpcyBiZWluZyBjaGFuZ2VkLlxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBBbmltYXRpb24gb3B0aW9uc1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy5vbkNoYW5nZV0gQ2FsbGJhY2s7IGludm9rZWQgb24gZXZlcnkgdmFsdWUgY2hhbmdlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLm9uQ29tcGxldGVdIENhbGxiYWNrOyBpbnZva2VkIHdoZW4gdmFsdWUgY2hhbmdlIGlzIGNvbXBsZXRlZFxuICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuc3RhcnRWYWx1ZT0wXSBTdGFydGluZyB2YWx1ZVxuICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuZW5kVmFsdWU9MTAwXSBFbmRpbmcgdmFsdWVcbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmJ5VmFsdWU9MTAwXSBWYWx1ZSB0byBtb2RpZnkgdGhlIHByb3BlcnR5IGJ5XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLmVhc2luZ10gRWFzaW5nIGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5kdXJhdGlvbj01MDBdIER1cmF0aW9uIG9mIGNoYW5nZSAoaW4gbXMpXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLmFib3J0XSBBZGRpdGlvbmFsIGZ1bmN0aW9uIHdpdGggbG9naWMuIElmIHJldHVybnMgdHJ1ZSwgb25Db21wbGV0ZSBpcyBjYWxsZWQuXG4gICAqL1xuICBmdW5jdGlvbiBhbmltYXRlKG9wdGlvbnMpIHtcblxuICAgIHJlcXVlc3RBbmltRnJhbWUoZnVuY3Rpb24odGltZXN0YW1wKSB7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0geyB9KTtcblxuICAgICAgdmFyIHN0YXJ0ID0gdGltZXN0YW1wIHx8ICtuZXcgRGF0ZSgpLFxuICAgICAgICAgIGR1cmF0aW9uID0gb3B0aW9ucy5kdXJhdGlvbiB8fCA1MDAsXG4gICAgICAgICAgZmluaXNoID0gc3RhcnQgKyBkdXJhdGlvbiwgdGltZSxcbiAgICAgICAgICBvbkNoYW5nZSA9IG9wdGlvbnMub25DaGFuZ2UgfHwgbm9vcCxcbiAgICAgICAgICBhYm9ydCA9IG9wdGlvbnMuYWJvcnQgfHwgbm9vcCxcbiAgICAgICAgICBvbkNvbXBsZXRlID0gb3B0aW9ucy5vbkNvbXBsZXRlIHx8IG5vb3AsXG4gICAgICAgICAgZWFzaW5nID0gb3B0aW9ucy5lYXNpbmcgfHwgZGVmYXVsdEVhc2luZyxcbiAgICAgICAgICBzdGFydFZhbHVlID0gJ3N0YXJ0VmFsdWUnIGluIG9wdGlvbnMgPyBvcHRpb25zLnN0YXJ0VmFsdWUgOiAwLFxuICAgICAgICAgIGVuZFZhbHVlID0gJ2VuZFZhbHVlJyBpbiBvcHRpb25zID8gb3B0aW9ucy5lbmRWYWx1ZSA6IDEwMCxcbiAgICAgICAgICBieVZhbHVlID0gb3B0aW9ucy5ieVZhbHVlIHx8IGVuZFZhbHVlIC0gc3RhcnRWYWx1ZTtcblxuICAgICAgb3B0aW9ucy5vblN0YXJ0ICYmIG9wdGlvbnMub25TdGFydCgpO1xuXG4gICAgICAoZnVuY3Rpb24gdGljayh0aWNrdGltZSkge1xuICAgICAgICAvLyBUT0RPOiBtb3ZlIGFib3J0IGNhbGwgYWZ0ZXIgY2FsY3VsYXRpb25cbiAgICAgICAgLy8gYW5kIHBhc3MgKGN1cnJlbnQsdmFsdWVQZXJjLCB0aW1lUGVyYykgYXMgYXJndW1lbnRzXG4gICAgICAgIHRpbWUgPSB0aWNrdGltZSB8fCArbmV3IERhdGUoKTtcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gdGltZSA+IGZpbmlzaCA/IGR1cmF0aW9uIDogKHRpbWUgLSBzdGFydCksXG4gICAgICAgICAgICB0aW1lUGVyYyA9IGN1cnJlbnRUaW1lIC8gZHVyYXRpb24sXG4gICAgICAgICAgICBjdXJyZW50ID0gZWFzaW5nKGN1cnJlbnRUaW1lLCBzdGFydFZhbHVlLCBieVZhbHVlLCBkdXJhdGlvbiksXG4gICAgICAgICAgICB2YWx1ZVBlcmMgPSBNYXRoLmFicygoY3VycmVudCAtIHN0YXJ0VmFsdWUpIC8gYnlWYWx1ZSk7XG4gICAgICAgIGlmIChhYm9ydCgpKSB7XG4gICAgICAgICAgb25Db21wbGV0ZShlbmRWYWx1ZSwgMSwgMSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aW1lID4gZmluaXNoKSB7XG4gICAgICAgICAgb25DaGFuZ2UoZW5kVmFsdWUsIDEsIDEpO1xuICAgICAgICAgIG9uQ29tcGxldGUoZW5kVmFsdWUsIDEsIDEpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBvbkNoYW5nZShjdXJyZW50LCB2YWx1ZVBlcmMsIHRpbWVQZXJjKTtcbiAgICAgICAgICByZXF1ZXN0QW5pbUZyYW1lKHRpY2spO1xuICAgICAgICB9XG4gICAgICB9KShzdGFydCk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgX3JlcXVlc3RBbmltRnJhbWUgPSBmYWJyaWMud2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSAgICAgICB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmYWJyaWMud2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmYWJyaWMud2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSAgICB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmYWJyaWMud2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWUgICAgICB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmYWJyaWMud2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lICAgICB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWJyaWMud2luZG93LnNldFRpbWVvdXQoY2FsbGJhY2ssIDEwMDAgLyA2MCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgdmFyIF9jYW5jZWxBbmltRnJhbWUgPSBmYWJyaWMud2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IGZhYnJpYy53aW5kb3cuY2xlYXJUaW1lb3V0O1xuXG4gIC8qKlxuICAgKiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgcG9seWZpbGwgYmFzZWQgb24gaHR0cDovL3BhdWxpcmlzaC5jb20vMjAxMS9yZXF1ZXN0YW5pbWF0aW9uZnJhbWUtZm9yLXNtYXJ0LWFuaW1hdGluZy9cbiAgICogSW4gb3JkZXIgdG8gZ2V0IGEgcHJlY2lzZSBzdGFydCB0aW1lLCBgcmVxdWVzdEFuaW1GcmFtZWAgc2hvdWxkIGJlIGNhbGxlZCBhcyBhbiBlbnRyeSBpbnRvIHRoZSBtZXRob2RcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrIHRvIGludm9rZVxuICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgb3B0aW9uYWwgRWxlbWVudCB0byBhc3NvY2lhdGUgd2l0aCBhbmltYXRpb25cbiAgICovXG4gIGZ1bmN0aW9uIHJlcXVlc3RBbmltRnJhbWUoKSB7XG4gICAgcmV0dXJuIF9yZXF1ZXN0QW5pbUZyYW1lLmFwcGx5KGZhYnJpYy53aW5kb3csIGFyZ3VtZW50cyk7XG4gIH1cblxuICBmdW5jdGlvbiBjYW5jZWxBbmltRnJhbWUoKSB7XG4gICAgcmV0dXJuIF9jYW5jZWxBbmltRnJhbWUuYXBwbHkoZmFicmljLndpbmRvdywgYXJndW1lbnRzKTtcbiAgfVxuXG4gIGZhYnJpYy51dGlsLmFuaW1hdGUgPSBhbmltYXRlO1xuICBmYWJyaWMudXRpbC5yZXF1ZXN0QW5pbUZyYW1lID0gcmVxdWVzdEFuaW1GcmFtZTtcbiAgZmFicmljLnV0aWwuY2FuY2VsQW5pbUZyYW1lID0gY2FuY2VsQW5pbUZyYW1lO1xufSkoKTtcblxuXG4oZnVuY3Rpb24oKSB7XG4gIC8vIENhbGN1bGF0ZSBhbiBpbi1iZXR3ZWVuIGNvbG9yLiBSZXR1cm5zIGEgXCJyZ2JhKClcIiBzdHJpbmcuXG4gIC8vIENyZWRpdDogRWR3aW4gTWFydGluIDxlZHdpbkBiaXRzdG9ybS5vcmc+XG4gIC8vICAgICAgICAgaHR0cDovL3d3dy5iaXRzdG9ybS5vcmcvanF1ZXJ5L2NvbG9yLWFuaW1hdGlvbi9qcXVlcnkuYW5pbWF0ZS1jb2xvcnMuanNcbiAgZnVuY3Rpb24gY2FsY3VsYXRlQ29sb3IoYmVnaW4sIGVuZCwgcG9zKSB7XG4gICAgdmFyIGNvbG9yID0gJ3JnYmEoJ1xuICAgICAgICArIHBhcnNlSW50KChiZWdpblswXSArIHBvcyAqIChlbmRbMF0gLSBiZWdpblswXSkpLCAxMCkgKyAnLCdcbiAgICAgICAgKyBwYXJzZUludCgoYmVnaW5bMV0gKyBwb3MgKiAoZW5kWzFdIC0gYmVnaW5bMV0pKSwgMTApICsgJywnXG4gICAgICAgICsgcGFyc2VJbnQoKGJlZ2luWzJdICsgcG9zICogKGVuZFsyXSAtIGJlZ2luWzJdKSksIDEwKTtcblxuICAgIGNvbG9yICs9ICcsJyArIChiZWdpbiAmJiBlbmQgPyBwYXJzZUZsb2F0KGJlZ2luWzNdICsgcG9zICogKGVuZFszXSAtIGJlZ2luWzNdKSkgOiAxKTtcbiAgICBjb2xvciArPSAnKSc7XG4gICAgcmV0dXJuIGNvbG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIENoYW5nZXMgdGhlIGNvbG9yIGZyb20gb25lIHRvIGFub3RoZXIgd2l0aGluIGNlcnRhaW4gcGVyaW9kIG9mIHRpbWUsIGludm9raW5nIGNhbGxiYWNrcyBhcyB2YWx1ZSBpcyBiZWluZyBjaGFuZ2VkLlxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWxcbiAgICogQHBhcmFtIHtTdHJpbmd9IGZyb21Db2xvciBUaGUgc3RhcnRpbmcgY29sb3IgaW4gaGV4IG9yIHJnYihhKSBmb3JtYXQuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0b0NvbG9yIFRoZSBzdGFydGluZyBjb2xvciBpbiBoZXggb3IgcmdiKGEpIGZvcm1hdC5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IFtkdXJhdGlvbl0gRHVyYXRpb24gb2YgY2hhbmdlIChpbiBtcykuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gQW5pbWF0aW9uIG9wdGlvbnNcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMub25DaGFuZ2VdIENhbGxiYWNrOyBpbnZva2VkIG9uIGV2ZXJ5IHZhbHVlIGNoYW5nZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy5vbkNvbXBsZXRlXSBDYWxsYmFjazsgaW52b2tlZCB3aGVuIHZhbHVlIGNoYW5nZSBpcyBjb21wbGV0ZWRcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMuY29sb3JFYXNpbmddIEVhc2luZyBmdW5jdGlvbi4gTm90ZSB0aGF0IHRoaXMgZnVuY3Rpb24gb25seSB0YWtlIHR3byBhcmd1bWVudHMgKGN1cnJlbnRUaW1lLCBkdXJhdGlvbikuIFRodXMgdGhlIHJlZ3VsYXIgYW5pbWF0aW9uIGVhc2luZyBmdW5jdGlvbnMgY2Fubm90IGJlIHVzZWQuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvcHRpb25zLmFib3J0XSBBZGRpdGlvbmFsIGZ1bmN0aW9uIHdpdGggbG9naWMuIElmIHJldHVybnMgdHJ1ZSwgb25Db21wbGV0ZSBpcyBjYWxsZWQuXG4gICAqL1xuICBmdW5jdGlvbiBhbmltYXRlQ29sb3IoZnJvbUNvbG9yLCB0b0NvbG9yLCBkdXJhdGlvbiwgb3B0aW9ucykge1xuICAgIHZhciBzdGFydENvbG9yID0gbmV3IGZhYnJpYy5Db2xvcihmcm9tQ29sb3IpLmdldFNvdXJjZSgpLFxuICAgICAgICBlbmRDb2xvciA9IG5ldyBmYWJyaWMuQ29sb3IodG9Db2xvcikuZ2V0U291cmNlKCk7XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgIGZhYnJpYy51dGlsLmFuaW1hdGUoZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZChvcHRpb25zLCB7XG4gICAgICBkdXJhdGlvbjogZHVyYXRpb24gfHwgNTAwLFxuICAgICAgc3RhcnRWYWx1ZTogc3RhcnRDb2xvcixcbiAgICAgIGVuZFZhbHVlOiBlbmRDb2xvcixcbiAgICAgIGJ5VmFsdWU6IGVuZENvbG9yLFxuICAgICAgZWFzaW5nOiBmdW5jdGlvbiAoY3VycmVudFRpbWUsIHN0YXJ0VmFsdWUsIGJ5VmFsdWUsIGR1cmF0aW9uKSB7XG4gICAgICAgIHZhciBwb3NWYWx1ZSA9IG9wdGlvbnMuY29sb3JFYXNpbmdcbiAgICAgICAgICA/IG9wdGlvbnMuY29sb3JFYXNpbmcoY3VycmVudFRpbWUsIGR1cmF0aW9uKVxuICAgICAgICAgIDogMSAtIE1hdGguY29zKGN1cnJlbnRUaW1lIC8gZHVyYXRpb24gKiAoTWF0aC5QSSAvIDIpKTtcbiAgICAgICAgcmV0dXJuIGNhbGN1bGF0ZUNvbG9yKHN0YXJ0VmFsdWUsIGJ5VmFsdWUsIHBvc1ZhbHVlKTtcbiAgICAgIH1cbiAgICB9KSk7XG4gIH1cblxuICBmYWJyaWMudXRpbC5hbmltYXRlQ29sb3IgPSBhbmltYXRlQ29sb3I7XG5cbn0pKCk7XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZShhLCBjLCBwLCBzKSB7XG4gICAgaWYgKGEgPCBNYXRoLmFicyhjKSkge1xuICAgICAgYSA9IGM7XG4gICAgICBzID0gcCAvIDQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLy9oYW5kbGUgdGhlIDAvMCBjYXNlOlxuICAgICAgaWYgKGMgPT09IDAgJiYgYSA9PT0gMCkge1xuICAgICAgICBzID0gcCAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oMSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcyA9IHAgLyAoMiAqIE1hdGguUEkpICogTWF0aC5hc2luKGMgLyBhKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgYTogYSwgYzogYywgcDogcCwgczogcyB9O1xuICB9XG5cbiAgZnVuY3Rpb24gZWxhc3RpYyhvcHRzLCB0LCBkKSB7XG4gICAgcmV0dXJuIG9wdHMuYSAqXG4gICAgICBNYXRoLnBvdygyLCAxMCAqICh0IC09IDEpKSAqXG4gICAgICBNYXRoLnNpbiggKHQgKiBkIC0gb3B0cy5zKSAqICgyICogTWF0aC5QSSkgLyBvcHRzLnAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDdWJpYyBlYXNpbmcgb3V0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlT3V0Q3ViaWModCwgYiwgYywgZCkge1xuICAgIHJldHVybiBjICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICsgMSkgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIEN1YmljIGVhc2luZyBpbiBhbmQgb3V0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlSW5PdXRDdWJpYyh0LCBiLCBjLCBkKSB7XG4gICAgdCAvPSBkIC8gMjtcbiAgICBpZiAodCA8IDEpIHtcbiAgICAgIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCArIGI7XG4gICAgfVxuICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICsgMikgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIFF1YXJ0aWMgZWFzaW5nIGluXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlSW5RdWFydCh0LCBiLCBjLCBkKSB7XG4gICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICogdCArIGI7XG4gIH1cblxuICAvKipcbiAgICogUXVhcnRpYyBlYXNpbmcgb3V0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlT3V0UXVhcnQodCwgYiwgYywgZCkge1xuICAgIHJldHVybiAtYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCAqIHQgLSAxKSArIGI7XG4gIH1cblxuICAvKipcbiAgICogUXVhcnRpYyBlYXNpbmcgaW4gYW5kIG91dFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZUluT3V0UXVhcnQodCwgYiwgYywgZCkge1xuICAgIHQgLz0gZCAvIDI7XG4gICAgaWYgKHQgPCAxKSB7XG4gICAgICByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKiB0ICsgYjtcbiAgICB9XG4gICAgcmV0dXJuIC1jIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICogdCAtIDIpICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBRdWludGljIGVhc2luZyBpblxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZUluUXVpbnQodCwgYiwgYywgZCkge1xuICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCAqIHQgKiB0ICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBRdWludGljIGVhc2luZyBvdXRcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VPdXRRdWludCh0LCBiLCBjLCBkKSB7XG4gICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKiB0ICogdCArIDEpICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBRdWludGljIGVhc2luZyBpbiBhbmQgb3V0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlSW5PdXRRdWludCh0LCBiLCBjLCBkKSB7XG4gICAgdCAvPSBkIC8gMjtcbiAgICBpZiAodCA8IDEpIHtcbiAgICAgIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCAqIHQgKiB0ICsgYjtcbiAgICB9XG4gICAgcmV0dXJuIGMgLyAyICogKCh0IC09IDIpICogdCAqIHQgKiB0ICogdCArIDIpICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaW51c29pZGFsIGVhc2luZyBpblxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZUluU2luZSh0LCBiLCBjLCBkKSB7XG4gICAgcmV0dXJuIC1jICogTWF0aC5jb3ModCAvIGQgKiAoTWF0aC5QSSAvIDIpKSArIGMgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIFNpbnVzb2lkYWwgZWFzaW5nIG91dFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZU91dFNpbmUodCwgYiwgYywgZCkge1xuICAgIHJldHVybiBjICogTWF0aC5zaW4odCAvIGQgKiAoTWF0aC5QSSAvIDIpKSArIGI7XG4gIH1cblxuICAvKipcbiAgICogU2ludXNvaWRhbCBlYXNpbmcgaW4gYW5kIG91dFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZUluT3V0U2luZSh0LCBiLCBjLCBkKSB7XG4gICAgcmV0dXJuIC1jIC8gMiAqIChNYXRoLmNvcyhNYXRoLlBJICogdCAvIGQpIC0gMSkgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4cG9uZW50aWFsIGVhc2luZyBpblxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZUluRXhwbyh0LCBiLCBjLCBkKSB7XG4gICAgcmV0dXJuICh0ID09PSAwKSA/IGIgOiBjICogTWF0aC5wb3coMiwgMTAgKiAodCAvIGQgLSAxKSkgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4cG9uZW50aWFsIGVhc2luZyBvdXRcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VPdXRFeHBvKHQsIGIsIGMsIGQpIHtcbiAgICByZXR1cm4gKHQgPT09IGQpID8gYiArIGMgOiBjICogKC1NYXRoLnBvdygyLCAtMTAgKiB0IC8gZCkgKyAxKSArIGI7XG4gIH1cblxuICAvKipcbiAgICogRXhwb25lbnRpYWwgZWFzaW5nIGluIGFuZCBvdXRcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VJbk91dEV4cG8odCwgYiwgYywgZCkge1xuICAgIGlmICh0ID09PSAwKSB7XG4gICAgICByZXR1cm4gYjtcbiAgICB9XG4gICAgaWYgKHQgPT09IGQpIHtcbiAgICAgIHJldHVybiBiICsgYztcbiAgICB9XG4gICAgdCAvPSBkIC8gMjtcbiAgICBpZiAodCA8IDEpIHtcbiAgICAgIHJldHVybiBjIC8gMiAqIE1hdGgucG93KDIsIDEwICogKHQgLSAxKSkgKyBiO1xuICAgIH1cbiAgICByZXR1cm4gYyAvIDIgKiAoLU1hdGgucG93KDIsIC0xMCAqIC0tdCkgKyAyKSArIGI7XG4gIH1cblxuICAvKipcbiAgICogQ2lyY3VsYXIgZWFzaW5nIGluXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlSW5DaXJjKHQsIGIsIGMsIGQpIHtcbiAgICByZXR1cm4gLWMgKiAoTWF0aC5zcXJ0KDEgLSAodCAvPSBkKSAqIHQpIC0gMSkgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIENpcmN1bGFyIGVhc2luZyBvdXRcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VPdXRDaXJjKHQsIGIsIGMsIGQpIHtcbiAgICByZXR1cm4gYyAqIE1hdGguc3FydCgxIC0gKHQgPSB0IC8gZCAtIDEpICogdCkgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIENpcmN1bGFyIGVhc2luZyBpbiBhbmQgb3V0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlSW5PdXRDaXJjKHQsIGIsIGMsIGQpIHtcbiAgICB0IC89IGQgLyAyO1xuICAgIGlmICh0IDwgMSkge1xuICAgICAgcmV0dXJuIC1jIC8gMiAqIChNYXRoLnNxcnQoMSAtIHQgKiB0KSAtIDEpICsgYjtcbiAgICB9XG4gICAgcmV0dXJuIGMgLyAyICogKE1hdGguc3FydCgxIC0gKHQgLT0gMikgKiB0KSArIDEpICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbGFzdGljIGVhc2luZyBpblxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZUluRWxhc3RpYyh0LCBiLCBjLCBkKSB7XG4gICAgdmFyIHMgPSAxLjcwMTU4LCBwID0gMCwgYSA9IGM7XG4gICAgaWYgKHQgPT09IDApIHtcbiAgICAgIHJldHVybiBiO1xuICAgIH1cbiAgICB0IC89IGQ7XG4gICAgaWYgKHQgPT09IDEpIHtcbiAgICAgIHJldHVybiBiICsgYztcbiAgICB9XG4gICAgaWYgKCFwKSB7XG4gICAgICBwID0gZCAqIDAuMztcbiAgICB9XG4gICAgdmFyIG9wdHMgPSBub3JtYWxpemUoYSwgYywgcCwgcyk7XG4gICAgcmV0dXJuIC1lbGFzdGljKG9wdHMsIHQsIGQpICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbGFzdGljIGVhc2luZyBvdXRcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VPdXRFbGFzdGljKHQsIGIsIGMsIGQpIHtcbiAgICB2YXIgcyA9IDEuNzAxNTgsIHAgPSAwLCBhID0gYztcbiAgICBpZiAodCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGI7XG4gICAgfVxuICAgIHQgLz0gZDtcbiAgICBpZiAodCA9PT0gMSkge1xuICAgICAgcmV0dXJuIGIgKyBjO1xuICAgIH1cbiAgICBpZiAoIXApIHtcbiAgICAgIHAgPSBkICogMC4zO1xuICAgIH1cbiAgICB2YXIgb3B0cyA9IG5vcm1hbGl6ZShhLCBjLCBwLCBzKTtcbiAgICByZXR1cm4gb3B0cy5hICogTWF0aC5wb3coMiwgLTEwICogdCkgKiBNYXRoLnNpbigodCAqIGQgLSBvcHRzLnMpICogKDIgKiBNYXRoLlBJKSAvIG9wdHMucCApICsgb3B0cy5jICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbGFzdGljIGVhc2luZyBpbiBhbmQgb3V0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlSW5PdXRFbGFzdGljKHQsIGIsIGMsIGQpIHtcbiAgICB2YXIgcyA9IDEuNzAxNTgsIHAgPSAwLCBhID0gYztcbiAgICBpZiAodCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGI7XG4gICAgfVxuICAgIHQgLz0gZCAvIDI7XG4gICAgaWYgKHQgPT09IDIpIHtcbiAgICAgIHJldHVybiBiICsgYztcbiAgICB9XG4gICAgaWYgKCFwKSB7XG4gICAgICBwID0gZCAqICgwLjMgKiAxLjUpO1xuICAgIH1cbiAgICB2YXIgb3B0cyA9IG5vcm1hbGl6ZShhLCBjLCBwLCBzKTtcbiAgICBpZiAodCA8IDEpIHtcbiAgICAgIHJldHVybiAtMC41ICogZWxhc3RpYyhvcHRzLCB0LCBkKSArIGI7XG4gICAgfVxuICAgIHJldHVybiBvcHRzLmEgKiBNYXRoLnBvdygyLCAtMTAgKiAodCAtPSAxKSkgKlxuICAgICAgTWF0aC5zaW4oKHQgKiBkIC0gb3B0cy5zKSAqICgyICogTWF0aC5QSSkgLyBvcHRzLnAgKSAqIDAuNSArIG9wdHMuYyArIGI7XG4gIH1cblxuICAvKipcbiAgICogQmFja3dhcmRzIGVhc2luZyBpblxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZUluQmFjayh0LCBiLCBjLCBkLCBzKSB7XG4gICAgaWYgKHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcyA9IDEuNzAxNTg7XG4gICAgfVxuICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogKChzICsgMSkgKiB0IC0gcykgKyBiO1xuICB9XG5cbiAgLyoqXG4gICAqIEJhY2t3YXJkcyBlYXNpbmcgb3V0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlT3V0QmFjayh0LCBiLCBjLCBkLCBzKSB7XG4gICAgaWYgKHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcyA9IDEuNzAxNTg7XG4gICAgfVxuICAgIHJldHVybiBjICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiAoKHMgKyAxKSAqIHQgKyBzKSArIDEpICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBCYWNrd2FyZHMgZWFzaW5nIGluIGFuZCBvdXRcbiAgICogQG1lbWJlck9mIGZhYnJpYy51dGlsLmVhc2VcbiAgICovXG4gIGZ1bmN0aW9uIGVhc2VJbk91dEJhY2sodCwgYiwgYywgZCwgcykge1xuICAgIGlmIChzID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHMgPSAxLjcwMTU4O1xuICAgIH1cbiAgICB0IC89IGQgLyAyO1xuICAgIGlmICh0IDwgMSkge1xuICAgICAgcmV0dXJuIGMgLyAyICogKHQgKiB0ICogKCgocyAqPSAoMS41MjUpKSArIDEpICogdCAtIHMpKSArIGI7XG4gICAgfVxuICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiAoKChzICo9ICgxLjUyNSkpICsgMSkgKiB0ICsgcykgKyAyKSArIGI7XG4gIH1cblxuICAvKipcbiAgICogQm91bmNpbmcgZWFzaW5nIGluXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlSW5Cb3VuY2UodCwgYiwgYywgZCkge1xuICAgIHJldHVybiBjIC0gZWFzZU91dEJvdW5jZSAoZCAtIHQsIDAsIGMsIGQpICsgYjtcbiAgfVxuXG4gIC8qKlxuICAgKiBCb3VuY2luZyBlYXNpbmcgb3V0XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmdW5jdGlvbiBlYXNlT3V0Qm91bmNlKHQsIGIsIGMsIGQpIHtcbiAgICBpZiAoKHQgLz0gZCkgPCAoMSAvIDIuNzUpKSB7XG4gICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiB0ICogdCkgKyBiO1xuICAgIH1cbiAgICBlbHNlIGlmICh0IDwgKDIgLyAyLjc1KSkge1xuICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gKDEuNSAvIDIuNzUpKSAqIHQgKyAwLjc1KSArIGI7XG4gICAgfVxuICAgIGVsc2UgaWYgKHQgPCAoMi41IC8gMi43NSkpIHtcbiAgICAgIHJldHVybiBjICogKDcuNTYyNSAqICh0IC09ICgyLjI1IC8gMi43NSkpICogdCArIDAuOTM3NSkgKyBiO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJldHVybiBjICogKDcuNTYyNSAqICh0IC09ICgyLjYyNSAvIDIuNzUpKSAqIHQgKyAwLjk4NDM3NSkgKyBiO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBCb3VuY2luZyBlYXNpbmcgaW4gYW5kIG91dFxuICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgKi9cbiAgZnVuY3Rpb24gZWFzZUluT3V0Qm91bmNlKHQsIGIsIGMsIGQpIHtcbiAgICBpZiAodCA8IGQgLyAyKSB7XG4gICAgICByZXR1cm4gZWFzZUluQm91bmNlICh0ICogMiwgMCwgYywgZCkgKiAwLjUgKyBiO1xuICAgIH1cbiAgICByZXR1cm4gZWFzZU91dEJvdW5jZSh0ICogMiAtIGQsIDAsIGMsIGQpICogMC41ICsgYyAqIDAuNSArIGI7XG4gIH1cblxuICAvKipcbiAgICogRWFzaW5nIGZ1bmN0aW9uc1xuICAgKiBTZWUgPGEgaHJlZj1cImh0dHA6Ly9naXptYS5jb20vZWFzaW5nL1wiPkVhc2luZyBFcXVhdGlvbnMgYnkgUm9iZXJ0IFBlbm5lcjwvYT5cbiAgICogQG5hbWVzcGFjZSBmYWJyaWMudXRpbC5lYXNlXG4gICAqL1xuICBmYWJyaWMudXRpbC5lYXNlID0ge1xuXG4gICAgLyoqXG4gICAgICogUXVhZHJhdGljIGVhc2luZyBpblxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAgICovXG4gICAgZWFzZUluUXVhZDogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKyBiO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBRdWFkcmF0aWMgZWFzaW5nIG91dFxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAgICovXG4gICAgZWFzZU91dFF1YWQ6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgIHJldHVybiAtYyAqICh0IC89IGQpICogKHQgLSAyKSArIGI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFF1YWRyYXRpYyBlYXNpbmcgaW4gYW5kIG91dFxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMudXRpbC5lYXNlXG4gICAgICovXG4gICAgZWFzZUluT3V0UXVhZDogZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgdCAvPSAoZCAvIDIpO1xuICAgICAgaWYgKHQgPCAxKSB7XG4gICAgICAgIHJldHVybiBjIC8gMiAqIHQgKiB0ICsgYjtcbiAgICAgIH1cbiAgICAgIHJldHVybiAtYyAvIDIgKiAoKC0tdCkgKiAodCAtIDIpIC0gMSkgKyBiO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDdWJpYyBlYXNpbmcgaW5cbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLnV0aWwuZWFzZVxuICAgICAqL1xuICAgIGVhc2VJbkN1YmljOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKyBiO1xuICAgIH0sXG5cbiAgICBlYXNlT3V0Q3ViaWM6IGVhc2VPdXRDdWJpYyxcbiAgICBlYXNlSW5PdXRDdWJpYzogZWFzZUluT3V0Q3ViaWMsXG4gICAgZWFzZUluUXVhcnQ6IGVhc2VJblF1YXJ0LFxuICAgIGVhc2VPdXRRdWFydDogZWFzZU91dFF1YXJ0LFxuICAgIGVhc2VJbk91dFF1YXJ0OiBlYXNlSW5PdXRRdWFydCxcbiAgICBlYXNlSW5RdWludDogZWFzZUluUXVpbnQsXG4gICAgZWFzZU91dFF1aW50OiBlYXNlT3V0UXVpbnQsXG4gICAgZWFzZUluT3V0UXVpbnQ6IGVhc2VJbk91dFF1aW50LFxuICAgIGVhc2VJblNpbmU6IGVhc2VJblNpbmUsXG4gICAgZWFzZU91dFNpbmU6IGVhc2VPdXRTaW5lLFxuICAgIGVhc2VJbk91dFNpbmU6IGVhc2VJbk91dFNpbmUsXG4gICAgZWFzZUluRXhwbzogZWFzZUluRXhwbyxcbiAgICBlYXNlT3V0RXhwbzogZWFzZU91dEV4cG8sXG4gICAgZWFzZUluT3V0RXhwbzogZWFzZUluT3V0RXhwbyxcbiAgICBlYXNlSW5DaXJjOiBlYXNlSW5DaXJjLFxuICAgIGVhc2VPdXRDaXJjOiBlYXNlT3V0Q2lyYyxcbiAgICBlYXNlSW5PdXRDaXJjOiBlYXNlSW5PdXRDaXJjLFxuICAgIGVhc2VJbkVsYXN0aWM6IGVhc2VJbkVsYXN0aWMsXG4gICAgZWFzZU91dEVsYXN0aWM6IGVhc2VPdXRFbGFzdGljLFxuICAgIGVhc2VJbk91dEVsYXN0aWM6IGVhc2VJbk91dEVsYXN0aWMsXG4gICAgZWFzZUluQmFjazogZWFzZUluQmFjayxcbiAgICBlYXNlT3V0QmFjazogZWFzZU91dEJhY2ssXG4gICAgZWFzZUluT3V0QmFjazogZWFzZUluT3V0QmFjayxcbiAgICBlYXNlSW5Cb3VuY2U6IGVhc2VJbkJvdW5jZSxcbiAgICBlYXNlT3V0Qm91bmNlOiBlYXNlT3V0Qm91bmNlLFxuICAgIGVhc2VJbk91dEJvdW5jZTogZWFzZUluT3V0Qm91bmNlXG4gIH07XG5cbn0pKCk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogQG5hbWUgZmFicmljXG4gICAqIEBuYW1lc3BhY2VcbiAgICovXG5cbiAgdmFyIGZhYnJpYyA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLFxuICAgICAgZXh0ZW5kID0gZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZCxcbiAgICAgIGNsb25lID0gZmFicmljLnV0aWwub2JqZWN0LmNsb25lLFxuICAgICAgdG9GaXhlZCA9IGZhYnJpYy51dGlsLnRvRml4ZWQsXG4gICAgICBwYXJzZVVuaXQgPSBmYWJyaWMudXRpbC5wYXJzZVVuaXQsXG4gICAgICBtdWx0aXBseVRyYW5zZm9ybU1hdHJpY2VzID0gZmFicmljLnV0aWwubXVsdGlwbHlUcmFuc2Zvcm1NYXRyaWNlcyxcblxuICAgICAgc3ZnVmFsaWRUYWdOYW1lcyA9IFsncGF0aCcsICdjaXJjbGUnLCAncG9seWdvbicsICdwb2x5bGluZScsICdlbGxpcHNlJywgJ3JlY3QnLCAnbGluZScsXG4gICAgICAgICdpbWFnZScsICd0ZXh0J10sXG4gICAgICBzdmdWaWV3Qm94RWxlbWVudHMgPSBbJ3N5bWJvbCcsICdpbWFnZScsICdtYXJrZXInLCAncGF0dGVybicsICd2aWV3JywgJ3N2ZyddLFxuICAgICAgc3ZnSW52YWxpZEFuY2VzdG9ycyA9IFsncGF0dGVybicsICdkZWZzJywgJ3N5bWJvbCcsICdtZXRhZGF0YScsICdjbGlwUGF0aCcsICdtYXNrJywgJ2Rlc2MnXSxcbiAgICAgIHN2Z1ZhbGlkUGFyZW50cyA9IFsnc3ltYm9sJywgJ2cnLCAnYScsICdzdmcnLCAnY2xpcFBhdGgnLCAnZGVmcyddLFxuXG4gICAgICBhdHRyaWJ1dGVzTWFwID0ge1xuICAgICAgICBjeDogICAgICAgICAgICAgICAgICAgJ2xlZnQnLFxuICAgICAgICB4OiAgICAgICAgICAgICAgICAgICAgJ2xlZnQnLFxuICAgICAgICByOiAgICAgICAgICAgICAgICAgICAgJ3JhZGl1cycsXG4gICAgICAgIGN5OiAgICAgICAgICAgICAgICAgICAndG9wJyxcbiAgICAgICAgeTogICAgICAgICAgICAgICAgICAgICd0b3AnLFxuICAgICAgICBkaXNwbGF5OiAgICAgICAgICAgICAgJ3Zpc2libGUnLFxuICAgICAgICB2aXNpYmlsaXR5OiAgICAgICAgICAgJ3Zpc2libGUnLFxuICAgICAgICB0cmFuc2Zvcm06ICAgICAgICAgICAgJ3RyYW5zZm9ybU1hdHJpeCcsXG4gICAgICAgICdmaWxsLW9wYWNpdHknOiAgICAgICAnZmlsbE9wYWNpdHknLFxuICAgICAgICAnZmlsbC1ydWxlJzogICAgICAgICAgJ2ZpbGxSdWxlJyxcbiAgICAgICAgJ2ZvbnQtZmFtaWx5JzogICAgICAgICdmb250RmFtaWx5JyxcbiAgICAgICAgJ2ZvbnQtc2l6ZSc6ICAgICAgICAgICdmb250U2l6ZScsXG4gICAgICAgICdmb250LXN0eWxlJzogICAgICAgICAnZm9udFN0eWxlJyxcbiAgICAgICAgJ2ZvbnQtd2VpZ2h0JzogICAgICAgICdmb250V2VpZ2h0JyxcbiAgICAgICAgJ2xldHRlci1zcGFjaW5nJzogICAgICdjaGFyU3BhY2luZycsXG4gICAgICAgICdwYWludC1vcmRlcic6ICAgICAgICAncGFpbnRGaXJzdCcsXG4gICAgICAgICdzdHJva2UtZGFzaGFycmF5JzogICAnc3Ryb2tlRGFzaEFycmF5JyxcbiAgICAgICAgJ3N0cm9rZS1kYXNob2Zmc2V0JzogICdzdHJva2VEYXNoT2Zmc2V0JyxcbiAgICAgICAgJ3N0cm9rZS1saW5lY2FwJzogICAgICdzdHJva2VMaW5lQ2FwJyxcbiAgICAgICAgJ3N0cm9rZS1saW5lam9pbic6ICAgICdzdHJva2VMaW5lSm9pbicsXG4gICAgICAgICdzdHJva2UtbWl0ZXJsaW1pdCc6ICAnc3Ryb2tlTWl0ZXJMaW1pdCcsXG4gICAgICAgICdzdHJva2Utb3BhY2l0eSc6ICAgICAnc3Ryb2tlT3BhY2l0eScsXG4gICAgICAgICdzdHJva2Utd2lkdGgnOiAgICAgICAnc3Ryb2tlV2lkdGgnLFxuICAgICAgICAndGV4dC1kZWNvcmF0aW9uJzogICAgJ3RleHREZWNvcmF0aW9uJyxcbiAgICAgICAgJ3RleHQtYW5jaG9yJzogICAgICAgICd0ZXh0QW5jaG9yJyxcbiAgICAgICAgb3BhY2l0eTogICAgICAgICAgICAgICdvcGFjaXR5JyxcbiAgICAgICAgJ2NsaXAtcGF0aCc6ICAgICAgICAgICdjbGlwUGF0aCcsXG4gICAgICAgICdjbGlwLXJ1bGUnOiAgICAgICAgICAnY2xpcFJ1bGUnLFxuICAgICAgICAndmVjdG9yLWVmZmVjdCc6ICAgICAgJ3N0cm9rZVVuaWZvcm0nXG4gICAgICB9LFxuXG4gICAgICBjb2xvckF0dHJpYnV0ZXMgPSB7XG4gICAgICAgIHN0cm9rZTogJ3N0cm9rZU9wYWNpdHknLFxuICAgICAgICBmaWxsOiAgICdmaWxsT3BhY2l0eSdcbiAgICAgIH0sXG5cbiAgICAgIGZTaXplID0gJ2ZvbnQtc2l6ZScsIGNQYXRoID0gJ2NsaXAtcGF0aCc7XG5cbiAgZmFicmljLnN2Z1ZhbGlkVGFnTmFtZXNSZWdFeCA9IGdldFN2Z1JlZ2V4KHN2Z1ZhbGlkVGFnTmFtZXMpO1xuICBmYWJyaWMuc3ZnVmlld0JveEVsZW1lbnRzUmVnRXggPSBnZXRTdmdSZWdleChzdmdWaWV3Qm94RWxlbWVudHMpO1xuICBmYWJyaWMuc3ZnSW52YWxpZEFuY2VzdG9yc1JlZ0V4ID0gZ2V0U3ZnUmVnZXgoc3ZnSW52YWxpZEFuY2VzdG9ycyk7XG4gIGZhYnJpYy5zdmdWYWxpZFBhcmVudHNSZWdFeCA9IGdldFN2Z1JlZ2V4KHN2Z1ZhbGlkUGFyZW50cyk7XG5cbiAgZmFicmljLmNzc1J1bGVzID0geyB9O1xuICBmYWJyaWMuZ3JhZGllbnREZWZzID0geyB9O1xuICBmYWJyaWMuY2xpcFBhdGhzID0geyB9O1xuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZUF0dHIoYXR0cikge1xuICAgIC8vIHRyYW5zZm9ybSBhdHRyaWJ1dGUgbmFtZXNcbiAgICBpZiAoYXR0ciBpbiBhdHRyaWJ1dGVzTWFwKSB7XG4gICAgICByZXR1cm4gYXR0cmlidXRlc01hcFthdHRyXTtcbiAgICB9XG4gICAgcmV0dXJuIGF0dHI7XG4gIH1cblxuICBmdW5jdGlvbiBub3JtYWxpemVWYWx1ZShhdHRyLCB2YWx1ZSwgcGFyZW50QXR0cmlidXRlcywgZm9udFNpemUpIHtcbiAgICB2YXIgaXNBcnJheSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEFycmF5XScsXG4gICAgICAgIHBhcnNlZDtcblxuICAgIGlmICgoYXR0ciA9PT0gJ2ZpbGwnIHx8IGF0dHIgPT09ICdzdHJva2UnKSAmJiB2YWx1ZSA9PT0gJ25vbmUnKSB7XG4gICAgICB2YWx1ZSA9ICcnO1xuICAgIH1cbiAgICBlbHNlIGlmIChhdHRyID09PSAndmVjdG9yLWVmZmVjdCcpIHtcbiAgICAgIHZhbHVlID0gdmFsdWUgPT09ICdub24tc2NhbGluZy1zdHJva2UnO1xuICAgIH1cbiAgICBlbHNlIGlmIChhdHRyID09PSAnc3Ryb2tlRGFzaEFycmF5Jykge1xuICAgICAgaWYgKHZhbHVlID09PSAnbm9uZScpIHtcbiAgICAgICAgdmFsdWUgPSBudWxsO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvLC9nLCAnICcpLnNwbGl0KC9cXHMrLykubWFwKHBhcnNlRmxvYXQpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChhdHRyID09PSAndHJhbnNmb3JtTWF0cml4Jykge1xuICAgICAgaWYgKHBhcmVudEF0dHJpYnV0ZXMgJiYgcGFyZW50QXR0cmlidXRlcy50cmFuc2Zvcm1NYXRyaXgpIHtcbiAgICAgICAgdmFsdWUgPSBtdWx0aXBseVRyYW5zZm9ybU1hdHJpY2VzKFxuICAgICAgICAgIHBhcmVudEF0dHJpYnV0ZXMudHJhbnNmb3JtTWF0cml4LCBmYWJyaWMucGFyc2VUcmFuc2Zvcm1BdHRyaWJ1dGUodmFsdWUpKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IGZhYnJpYy5wYXJzZVRyYW5zZm9ybUF0dHJpYnV0ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGF0dHIgPT09ICd2aXNpYmxlJykge1xuICAgICAgdmFsdWUgPSB2YWx1ZSAhPT0gJ25vbmUnICYmIHZhbHVlICE9PSAnaGlkZGVuJztcbiAgICAgIC8vIGRpc3BsYXk9bm9uZSBvbiBwYXJlbnQgZWxlbWVudCBhbHdheXMgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIGNoaWxkIGVsZW1lbnRcbiAgICAgIGlmIChwYXJlbnRBdHRyaWJ1dGVzICYmIHBhcmVudEF0dHJpYnV0ZXMudmlzaWJsZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgdmFsdWUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoYXR0ciA9PT0gJ29wYWNpdHknKSB7XG4gICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgaWYgKHBhcmVudEF0dHJpYnV0ZXMgJiYgdHlwZW9mIHBhcmVudEF0dHJpYnV0ZXMub3BhY2l0eSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFsdWUgKj0gcGFyZW50QXR0cmlidXRlcy5vcGFjaXR5O1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChhdHRyID09PSAndGV4dEFuY2hvcicgLyogdGV4dC1hbmNob3IgKi8pIHtcbiAgICAgIHZhbHVlID0gdmFsdWUgPT09ICdzdGFydCcgPyAnbGVmdCcgOiB2YWx1ZSA9PT0gJ2VuZCcgPyAncmlnaHQnIDogJ2NlbnRlcic7XG4gICAgfVxuICAgIGVsc2UgaWYgKGF0dHIgPT09ICdjaGFyU3BhY2luZycpIHtcbiAgICAgIC8vIHBhcnNlVW5pdCByZXR1cm5zIHB4IGFuZCB3ZSBjb252ZXJ0IGl0IHRvIGVtXG4gICAgICBwYXJzZWQgPSBwYXJzZVVuaXQodmFsdWUsIGZvbnRTaXplKSAvIGZvbnRTaXplICogMTAwMDtcbiAgICB9XG4gICAgZWxzZSBpZiAoYXR0ciA9PT0gJ3BhaW50Rmlyc3QnKSB7XG4gICAgICB2YXIgZmlsbEluZGV4ID0gdmFsdWUuaW5kZXhPZignZmlsbCcpO1xuICAgICAgdmFyIHN0cm9rZUluZGV4ID0gdmFsdWUuaW5kZXhPZignc3Ryb2tlJyk7XG4gICAgICB2YXIgdmFsdWUgPSAnZmlsbCc7XG4gICAgICBpZiAoZmlsbEluZGV4ID4gLTEgJiYgc3Ryb2tlSW5kZXggPiAtMSAmJiBzdHJva2VJbmRleCA8IGZpbGxJbmRleCkge1xuICAgICAgICB2YWx1ZSA9ICdzdHJva2UnO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoZmlsbEluZGV4ID09PSAtMSAmJiBzdHJva2VJbmRleCA+IC0xKSB7XG4gICAgICAgIHZhbHVlID0gJ3N0cm9rZSc7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKGF0dHIgPT09ICdocmVmJyB8fCBhdHRyID09PSAneGxpbms6aHJlZicpIHtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBwYXJzZWQgPSBpc0FycmF5ID8gdmFsdWUubWFwKHBhcnNlVW5pdCkgOiBwYXJzZVVuaXQodmFsdWUsIGZvbnRTaXplKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKCFpc0FycmF5ICYmIGlzTmFOKHBhcnNlZCkgPyB2YWx1ZSA6IHBhcnNlZCk7XG4gIH1cblxuICAvKipcbiAgICAqIEBwcml2YXRlXG4gICAgKi9cbiAgZnVuY3Rpb24gZ2V0U3ZnUmVnZXgoYXJyKSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoJ14oJyArIGFyci5qb2luKCd8JykgKyAnKVxcXFxiJywgJ2knKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gYXR0cmlidXRlcyBBcnJheSBvZiBhdHRyaWJ1dGVzIHRvIHBhcnNlXG4gICAqL1xuICBmdW5jdGlvbiBfc2V0U3Ryb2tlRmlsbE9wYWNpdHkoYXR0cmlidXRlcykge1xuICAgIGZvciAodmFyIGF0dHIgaW4gY29sb3JBdHRyaWJ1dGVzKSB7XG5cbiAgICAgIGlmICh0eXBlb2YgYXR0cmlidXRlc1tjb2xvckF0dHJpYnV0ZXNbYXR0cl1dID09PSAndW5kZWZpbmVkJyB8fCBhdHRyaWJ1dGVzW2F0dHJdID09PSAnJykge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzW2F0dHJdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpZiAoIWZhYnJpYy5PYmplY3QucHJvdG90eXBlW2F0dHJdKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgYXR0cmlidXRlc1thdHRyXSA9IGZhYnJpYy5PYmplY3QucHJvdG90eXBlW2F0dHJdO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXR0cmlidXRlc1thdHRyXS5pbmRleE9mKCd1cmwoJykgPT09IDApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBjb2xvciA9IG5ldyBmYWJyaWMuQ29sb3IoYXR0cmlidXRlc1thdHRyXSk7XG4gICAgICBhdHRyaWJ1dGVzW2F0dHJdID0gY29sb3Iuc2V0QWxwaGEodG9GaXhlZChjb2xvci5nZXRBbHBoYSgpICogYXR0cmlidXRlc1tjb2xvckF0dHJpYnV0ZXNbYXR0cl1dLCAyKSkudG9SZ2JhKCk7XG4gICAgfVxuICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBfZ2V0TXVsdGlwbGVOb2Rlcyhkb2MsIG5vZGVOYW1lcykge1xuICAgIHZhciBub2RlTmFtZSwgbm9kZUFycmF5ID0gW10sIG5vZGVMaXN0LCBpLCBsZW47XG4gICAgZm9yIChpID0gMCwgbGVuID0gbm9kZU5hbWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBub2RlTmFtZSA9IG5vZGVOYW1lc1tpXTtcbiAgICAgIG5vZGVMaXN0ID0gZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKG5vZGVOYW1lKTtcbiAgICAgIG5vZGVBcnJheSA9IG5vZGVBcnJheS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobm9kZUxpc3QpKTtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGVBcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXJzZXMgXCJ0cmFuc2Zvcm1cIiBhdHRyaWJ1dGUsIHJldHVybmluZyBhbiBhcnJheSBvZiB2YWx1ZXNcbiAgICogQHN0YXRpY1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIGZhYnJpY1xuICAgKiBAcGFyYW0ge1N0cmluZ30gYXR0cmlidXRlVmFsdWUgU3RyaW5nIGNvbnRhaW5pbmcgYXR0cmlidXRlIHZhbHVlXG4gICAqIEByZXR1cm4ge0FycmF5fSBBcnJheSBvZiA2IGVsZW1lbnRzIHJlcHJlc2VudGluZyB0cmFuc2Zvcm1hdGlvbiBtYXRyaXhcbiAgICovXG4gIGZhYnJpYy5wYXJzZVRyYW5zZm9ybUF0dHJpYnV0ZSA9IChmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiByb3RhdGVNYXRyaXgobWF0cml4LCBhcmdzKSB7XG4gICAgICB2YXIgY29zID0gZmFicmljLnV0aWwuY29zKGFyZ3NbMF0pLCBzaW4gPSBmYWJyaWMudXRpbC5zaW4oYXJnc1swXSksXG4gICAgICAgICAgeCA9IDAsIHkgPSAwO1xuICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAzKSB7XG4gICAgICAgIHggPSBhcmdzWzFdO1xuICAgICAgICB5ID0gYXJnc1syXTtcbiAgICAgIH1cblxuICAgICAgbWF0cml4WzBdID0gY29zO1xuICAgICAgbWF0cml4WzFdID0gc2luO1xuICAgICAgbWF0cml4WzJdID0gLXNpbjtcbiAgICAgIG1hdHJpeFszXSA9IGNvcztcbiAgICAgIG1hdHJpeFs0XSA9IHggLSAoY29zICogeCAtIHNpbiAqIHkpO1xuICAgICAgbWF0cml4WzVdID0geSAtIChzaW4gKiB4ICsgY29zICogeSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2NhbGVNYXRyaXgobWF0cml4LCBhcmdzKSB7XG4gICAgICB2YXIgbXVsdGlwbGllclggPSBhcmdzWzBdLFxuICAgICAgICAgIG11bHRpcGxpZXJZID0gKGFyZ3MubGVuZ3RoID09PSAyKSA/IGFyZ3NbMV0gOiBhcmdzWzBdO1xuXG4gICAgICBtYXRyaXhbMF0gPSBtdWx0aXBsaWVyWDtcbiAgICAgIG1hdHJpeFszXSA9IG11bHRpcGxpZXJZO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNrZXdNYXRyaXgobWF0cml4LCBhcmdzLCBwb3MpIHtcbiAgICAgIG1hdHJpeFtwb3NdID0gTWF0aC50YW4oZmFicmljLnV0aWwuZGVncmVlc1RvUmFkaWFucyhhcmdzWzBdKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdHJhbnNsYXRlTWF0cml4KG1hdHJpeCwgYXJncykge1xuICAgICAgbWF0cml4WzRdID0gYXJnc1swXTtcbiAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBtYXRyaXhbNV0gPSBhcmdzWzFdO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGlkZW50aXR5IG1hdHJpeFxuICAgIHZhciBpTWF0cml4ID0gZmFicmljLmlNYXRyaXgsXG5cbiAgICAgICAgLy8gPT0gYmVnaW4gdHJhbnNmb3JtIHJlZ2V4cFxuICAgICAgICBudW1iZXIgPSBmYWJyaWMucmVOdW0sXG5cbiAgICAgICAgY29tbWFXc3AgPSAnKD86XFxcXHMrLD9cXFxccyp8LFxcXFxzKiknLFxuXG4gICAgICAgIHNrZXdYID0gJyg/Oihza2V3WClcXFxccypcXFxcKFxcXFxzKignICsgbnVtYmVyICsgJylcXFxccypcXFxcKSknLFxuXG4gICAgICAgIHNrZXdZID0gJyg/Oihza2V3WSlcXFxccypcXFxcKFxcXFxzKignICsgbnVtYmVyICsgJylcXFxccypcXFxcKSknLFxuXG4gICAgICAgIHJvdGF0ZSA9ICcoPzoocm90YXRlKVxcXFxzKlxcXFwoXFxcXHMqKCcgKyBudW1iZXIgKyAnKSg/OicgK1xuICAgICAgICAgICAgICAgICAgICBjb21tYVdzcCArICcoJyArIG51bWJlciArICcpJyArXG4gICAgICAgICAgICAgICAgICAgIGNvbW1hV3NwICsgJygnICsgbnVtYmVyICsgJykpP1xcXFxzKlxcXFwpKScsXG5cbiAgICAgICAgc2NhbGUgPSAnKD86KHNjYWxlKVxcXFxzKlxcXFwoXFxcXHMqKCcgKyBudW1iZXIgKyAnKSg/OicgK1xuICAgICAgICAgICAgICAgICAgICBjb21tYVdzcCArICcoJyArIG51bWJlciArICcpKT9cXFxccypcXFxcKSknLFxuXG4gICAgICAgIHRyYW5zbGF0ZSA9ICcoPzoodHJhbnNsYXRlKVxcXFxzKlxcXFwoXFxcXHMqKCcgKyBudW1iZXIgKyAnKSg/OicgK1xuICAgICAgICAgICAgICAgICAgICBjb21tYVdzcCArICcoJyArIG51bWJlciArICcpKT9cXFxccypcXFxcKSknLFxuXG4gICAgICAgIG1hdHJpeCA9ICcoPzoobWF0cml4KVxcXFxzKlxcXFwoXFxcXHMqJyArXG4gICAgICAgICAgICAgICAgICAnKCcgKyBudW1iZXIgKyAnKScgKyBjb21tYVdzcCArXG4gICAgICAgICAgICAgICAgICAnKCcgKyBudW1iZXIgKyAnKScgKyBjb21tYVdzcCArXG4gICAgICAgICAgICAgICAgICAnKCcgKyBudW1iZXIgKyAnKScgKyBjb21tYVdzcCArXG4gICAgICAgICAgICAgICAgICAnKCcgKyBudW1iZXIgKyAnKScgKyBjb21tYVdzcCArXG4gICAgICAgICAgICAgICAgICAnKCcgKyBudW1iZXIgKyAnKScgKyBjb21tYVdzcCArXG4gICAgICAgICAgICAgICAgICAnKCcgKyBudW1iZXIgKyAnKScgK1xuICAgICAgICAgICAgICAgICAgJ1xcXFxzKlxcXFwpKScsXG5cbiAgICAgICAgdHJhbnNmb3JtID0gJyg/OicgK1xuICAgICAgICAgICAgICAgICAgICBtYXRyaXggKyAnfCcgK1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGUgKyAnfCcgK1xuICAgICAgICAgICAgICAgICAgICBzY2FsZSArICd8JyArXG4gICAgICAgICAgICAgICAgICAgIHJvdGF0ZSArICd8JyArXG4gICAgICAgICAgICAgICAgICAgIHNrZXdYICsgJ3wnICtcbiAgICAgICAgICAgICAgICAgICAgc2tld1kgK1xuICAgICAgICAgICAgICAgICAgICAnKScsXG5cbiAgICAgICAgdHJhbnNmb3JtcyA9ICcoPzonICsgdHJhbnNmb3JtICsgJyg/OicgKyBjb21tYVdzcCArICcqJyArIHRyYW5zZm9ybSArICcpKicgKyAnKScsXG5cbiAgICAgICAgdHJhbnNmb3JtTGlzdCA9ICdeXFxcXHMqKD86JyArIHRyYW5zZm9ybXMgKyAnPylcXFxccyokJyxcblxuICAgICAgICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvY29vcmRzLmh0bWwjVHJhbnNmb3JtQXR0cmlidXRlXG4gICAgICAgIHJlVHJhbnNmb3JtTGlzdCA9IG5ldyBSZWdFeHAodHJhbnNmb3JtTGlzdCksXG4gICAgICAgIC8vID09IGVuZCB0cmFuc2Zvcm0gcmVnZXhwXG5cbiAgICAgICAgcmVUcmFuc2Zvcm0gPSBuZXcgUmVnRXhwKHRyYW5zZm9ybSwgJ2cnKTtcblxuICAgIHJldHVybiBmdW5jdGlvbihhdHRyaWJ1dGVWYWx1ZSkge1xuXG4gICAgICAvLyBzdGFydCB3aXRoIGlkZW50aXR5IG1hdHJpeFxuICAgICAgdmFyIG1hdHJpeCA9IGlNYXRyaXguY29uY2F0KCksXG4gICAgICAgICAgbWF0cmljZXMgPSBbXTtcblxuICAgICAgLy8gcmV0dXJuIGlmIG5vIGFyZ3VtZW50IHdhcyBnaXZlbiBvclxuICAgICAgLy8gYW4gYXJndW1lbnQgZG9lcyBub3QgbWF0Y2ggdHJhbnNmb3JtIGF0dHJpYnV0ZSByZWdleHBcbiAgICAgIGlmICghYXR0cmlidXRlVmFsdWUgfHwgKGF0dHJpYnV0ZVZhbHVlICYmICFyZVRyYW5zZm9ybUxpc3QudGVzdChhdHRyaWJ1dGVWYWx1ZSkpKSB7XG4gICAgICAgIHJldHVybiBtYXRyaXg7XG4gICAgICB9XG5cbiAgICAgIGF0dHJpYnV0ZVZhbHVlLnJlcGxhY2UocmVUcmFuc2Zvcm0sIGZ1bmN0aW9uKG1hdGNoKSB7XG5cbiAgICAgICAgdmFyIG0gPSBuZXcgUmVnRXhwKHRyYW5zZm9ybSkuZXhlYyhtYXRjaCkuZmlsdGVyKGZ1bmN0aW9uIChtYXRjaCkge1xuICAgICAgICAgICAgICAvLyBtYXRjaCAhPT0gJycgJiYgbWF0Y2ggIT0gbnVsbFxuICAgICAgICAgICAgICByZXR1cm4gKCEhbWF0Y2gpO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBvcGVyYXRpb24gPSBtWzFdLFxuICAgICAgICAgICAgYXJncyA9IG0uc2xpY2UoMikubWFwKHBhcnNlRmxvYXQpO1xuXG4gICAgICAgIHN3aXRjaCAob3BlcmF0aW9uKSB7XG4gICAgICAgICAgY2FzZSAndHJhbnNsYXRlJzpcbiAgICAgICAgICAgIHRyYW5zbGF0ZU1hdHJpeChtYXRyaXgsIGFyZ3MpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAncm90YXRlJzpcbiAgICAgICAgICAgIGFyZ3NbMF0gPSBmYWJyaWMudXRpbC5kZWdyZWVzVG9SYWRpYW5zKGFyZ3NbMF0pO1xuICAgICAgICAgICAgcm90YXRlTWF0cml4KG1hdHJpeCwgYXJncyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdzY2FsZSc6XG4gICAgICAgICAgICBzY2FsZU1hdHJpeChtYXRyaXgsIGFyZ3MpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnc2tld1gnOlxuICAgICAgICAgICAgc2tld01hdHJpeChtYXRyaXgsIGFyZ3MsIDIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnc2tld1knOlxuICAgICAgICAgICAgc2tld01hdHJpeChtYXRyaXgsIGFyZ3MsIDEpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnbWF0cml4JzpcbiAgICAgICAgICAgIG1hdHJpeCA9IGFyZ3M7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNuYXBzaG90IGN1cnJlbnQgbWF0cml4IGludG8gbWF0cmljZXMgYXJyYXlcbiAgICAgICAgbWF0cmljZXMucHVzaChtYXRyaXguY29uY2F0KCkpO1xuICAgICAgICAvLyByZXNldFxuICAgICAgICBtYXRyaXggPSBpTWF0cml4LmNvbmNhdCgpO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciBjb21iaW5lZE1hdHJpeCA9IG1hdHJpY2VzWzBdO1xuICAgICAgd2hpbGUgKG1hdHJpY2VzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgbWF0cmljZXMuc2hpZnQoKTtcbiAgICAgICAgY29tYmluZWRNYXRyaXggPSBmYWJyaWMudXRpbC5tdWx0aXBseVRyYW5zZm9ybU1hdHJpY2VzKGNvbWJpbmVkTWF0cml4LCBtYXRyaWNlc1swXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29tYmluZWRNYXRyaXg7XG4gICAgfTtcbiAgfSkoKTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIHBhcnNlU3R5bGVTdHJpbmcoc3R5bGUsIG9TdHlsZSkge1xuICAgIHZhciBhdHRyLCB2YWx1ZTtcbiAgICBzdHlsZS5yZXBsYWNlKC87XFxzKiQvLCAnJykuc3BsaXQoJzsnKS5mb3JFYWNoKGZ1bmN0aW9uIChjaHVuaykge1xuICAgICAgdmFyIHBhaXIgPSBjaHVuay5zcGxpdCgnOicpO1xuXG4gICAgICBhdHRyID0gcGFpclswXS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICAgIHZhbHVlID0gIHBhaXJbMV0udHJpbSgpO1xuXG4gICAgICBvU3R5bGVbYXR0cl0gPSB2YWx1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gcGFyc2VTdHlsZU9iamVjdChzdHlsZSwgb1N0eWxlKSB7XG4gICAgdmFyIGF0dHIsIHZhbHVlO1xuICAgIGZvciAodmFyIHByb3AgaW4gc3R5bGUpIHtcbiAgICAgIGlmICh0eXBlb2Ygc3R5bGVbcHJvcF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBhdHRyID0gcHJvcC50b0xvd2VyQ2FzZSgpO1xuICAgICAgdmFsdWUgPSBzdHlsZVtwcm9wXTtcblxuICAgICAgb1N0eWxlW2F0dHJdID0gdmFsdWU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBnZXRHbG9iYWxTdHlsZXNGb3JFbGVtZW50KGVsZW1lbnQsIHN2Z1VpZCkge1xuICAgIHZhciBzdHlsZXMgPSB7IH07XG4gICAgZm9yICh2YXIgcnVsZSBpbiBmYWJyaWMuY3NzUnVsZXNbc3ZnVWlkXSkge1xuICAgICAgaWYgKGVsZW1lbnRNYXRjaGVzUnVsZShlbGVtZW50LCBydWxlLnNwbGl0KCcgJykpKSB7XG4gICAgICAgIGZvciAodmFyIHByb3BlcnR5IGluIGZhYnJpYy5jc3NSdWxlc1tzdmdVaWRdW3J1bGVdKSB7XG4gICAgICAgICAgc3R5bGVzW3Byb3BlcnR5XSA9IGZhYnJpYy5jc3NSdWxlc1tzdmdVaWRdW3J1bGVdW3Byb3BlcnR5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3R5bGVzO1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBlbGVtZW50TWF0Y2hlc1J1bGUoZWxlbWVudCwgc2VsZWN0b3JzKSB7XG4gICAgdmFyIGZpcnN0TWF0Y2hpbmcsIHBhcmVudE1hdGNoaW5nID0gdHJ1ZTtcbiAgICAvL3N0YXJ0IGZyb20gcmlnaHRtb3N0IHNlbGVjdG9yLlxuICAgIGZpcnN0TWF0Y2hpbmcgPSBzZWxlY3Rvck1hdGNoZXMoZWxlbWVudCwgc2VsZWN0b3JzLnBvcCgpKTtcbiAgICBpZiAoZmlyc3RNYXRjaGluZyAmJiBzZWxlY3RvcnMubGVuZ3RoKSB7XG4gICAgICBwYXJlbnRNYXRjaGluZyA9IGRvZXNTb21lUGFyZW50TWF0Y2goZWxlbWVudCwgc2VsZWN0b3JzKTtcbiAgICB9XG4gICAgcmV0dXJuIGZpcnN0TWF0Y2hpbmcgJiYgcGFyZW50TWF0Y2hpbmcgJiYgKHNlbGVjdG9ycy5sZW5ndGggPT09IDApO1xuICB9XG5cbiAgZnVuY3Rpb24gZG9lc1NvbWVQYXJlbnRNYXRjaChlbGVtZW50LCBzZWxlY3RvcnMpIHtcbiAgICB2YXIgc2VsZWN0b3IsIHBhcmVudE1hdGNoaW5nID0gdHJ1ZTtcbiAgICB3aGlsZSAoZWxlbWVudC5wYXJlbnROb2RlICYmIGVsZW1lbnQucGFyZW50Tm9kZS5ub2RlVHlwZSA9PT0gMSAmJiBzZWxlY3RvcnMubGVuZ3RoKSB7XG4gICAgICBpZiAocGFyZW50TWF0Y2hpbmcpIHtcbiAgICAgICAgc2VsZWN0b3IgPSBzZWxlY3RvcnMucG9wKCk7XG4gICAgICB9XG4gICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgICAgcGFyZW50TWF0Y2hpbmcgPSBzZWxlY3Rvck1hdGNoZXMoZWxlbWVudCwgc2VsZWN0b3IpO1xuICAgIH1cbiAgICByZXR1cm4gc2VsZWN0b3JzLmxlbmd0aCA9PT0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gc2VsZWN0b3JNYXRjaGVzKGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gICAgdmFyIG5vZGVOYW1lID0gZWxlbWVudC5ub2RlTmFtZSxcbiAgICAgICAgY2xhc3NOYW1lcyA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdjbGFzcycpLFxuICAgICAgICBpZCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdpZCcpLCBtYXRjaGVyLCBpO1xuICAgIC8vIGkgY2hlY2sgaWYgYSBzZWxlY3RvciBtYXRjaGVzIHNsaWNpbmcgYXdheSBwYXJ0IGZyb20gaXQuXG4gICAgLy8gaWYgaSBnZXQgZW1wdHkgc3RyaW5nIGkgc2hvdWxkIG1hdGNoXG4gICAgbWF0Y2hlciA9IG5ldyBSZWdFeHAoJ14nICsgbm9kZU5hbWUsICdpJyk7XG4gICAgc2VsZWN0b3IgPSBzZWxlY3Rvci5yZXBsYWNlKG1hdGNoZXIsICcnKTtcbiAgICBpZiAoaWQgJiYgc2VsZWN0b3IubGVuZ3RoKSB7XG4gICAgICBtYXRjaGVyID0gbmV3IFJlZ0V4cCgnIycgKyBpZCArICcoPyFbYS16QS1aXFxcXC1dKyknLCAnaScpO1xuICAgICAgc2VsZWN0b3IgPSBzZWxlY3Rvci5yZXBsYWNlKG1hdGNoZXIsICcnKTtcbiAgICB9XG4gICAgaWYgKGNsYXNzTmFtZXMgJiYgc2VsZWN0b3IubGVuZ3RoKSB7XG4gICAgICBjbGFzc05hbWVzID0gY2xhc3NOYW1lcy5zcGxpdCgnICcpO1xuICAgICAgZm9yIChpID0gY2xhc3NOYW1lcy5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgbWF0Y2hlciA9IG5ldyBSZWdFeHAoJ1xcXFwuJyArIGNsYXNzTmFtZXNbaV0gKyAnKD8hW2EtekEtWlxcXFwtXSspJywgJ2knKTtcbiAgICAgICAgc2VsZWN0b3IgPSBzZWxlY3Rvci5yZXBsYWNlKG1hdGNoZXIsICcnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNlbGVjdG9yLmxlbmd0aCA9PT0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiB0byBzdXBwb3J0IElFOCBtaXNzaW5nIGdldEVsZW1lbnRCeUlkIG9uIFNWR2RvY3VtZW50IGFuZCBvbiBub2RlIHhtbERPTVxuICAgKi9cbiAgZnVuY3Rpb24gZWxlbWVudEJ5SWQoZG9jLCBpZCkge1xuICAgIHZhciBlbDtcbiAgICBkb2MuZ2V0RWxlbWVudEJ5SWQgJiYgKGVsID0gZG9jLmdldEVsZW1lbnRCeUlkKGlkKSk7XG4gICAgaWYgKGVsKSB7XG4gICAgICByZXR1cm4gZWw7XG4gICAgfVxuICAgIHZhciBub2RlLCBpLCBsZW4sIG5vZGVsaXN0ID0gZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCcqJyk7XG4gICAgZm9yIChpID0gMCwgbGVuID0gbm9kZWxpc3QubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIG5vZGUgPSBub2RlbGlzdFtpXTtcbiAgICAgIGlmIChpZCA9PT0gbm9kZS5nZXRBdHRyaWJ1dGUoJ2lkJykpIHtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBmdW5jdGlvbiBwYXJzZVVzZURpcmVjdGl2ZXMoZG9jKSB7XG4gICAgdmFyIG5vZGVsaXN0ID0gX2dldE11bHRpcGxlTm9kZXMoZG9jLCBbJ3VzZScsICdzdmc6dXNlJ10pLCBpID0gMDtcbiAgICB3aGlsZSAobm9kZWxpc3QubGVuZ3RoICYmIGkgPCBub2RlbGlzdC5sZW5ndGgpIHtcbiAgICAgIHZhciBlbCA9IG5vZGVsaXN0W2ldLFxuICAgICAgICAgIHhsaW5rID0gKGVsLmdldEF0dHJpYnV0ZSgneGxpbms6aHJlZicpIHx8IGVsLmdldEF0dHJpYnV0ZSgnaHJlZicpKS5zdWJzdHIoMSksXG4gICAgICAgICAgeCA9IGVsLmdldEF0dHJpYnV0ZSgneCcpIHx8IDAsXG4gICAgICAgICAgeSA9IGVsLmdldEF0dHJpYnV0ZSgneScpIHx8IDAsXG4gICAgICAgICAgZWwyID0gZWxlbWVudEJ5SWQoZG9jLCB4bGluaykuY2xvbmVOb2RlKHRydWUpLFxuICAgICAgICAgIGN1cnJlbnRUcmFucyA9IChlbDIuZ2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nKSB8fCAnJykgKyAnIHRyYW5zbGF0ZSgnICsgeCArICcsICcgKyB5ICsgJyknLFxuICAgICAgICAgIHBhcmVudE5vZGUsIG9sZExlbmd0aCA9IG5vZGVsaXN0Lmxlbmd0aCwgYXR0ciwgaiwgYXR0cnMsIGxlbiwgbmFtZXNwYWNlID0gZmFicmljLnN2Z05TO1xuXG4gICAgICBhcHBseVZpZXdib3hUcmFuc2Zvcm0oZWwyKTtcbiAgICAgIGlmICgvXnN2ZyQvaS50ZXN0KGVsMi5ub2RlTmFtZSkpIHtcbiAgICAgICAgdmFyIGVsMyA9IGVsMi5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhuYW1lc3BhY2UsICdnJyk7XG4gICAgICAgIGZvciAoaiA9IDAsIGF0dHJzID0gZWwyLmF0dHJpYnV0ZXMsIGxlbiA9IGF0dHJzLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgYXR0ciA9IGF0dHJzLml0ZW0oaik7XG4gICAgICAgICAgZWwzLnNldEF0dHJpYnV0ZU5TKG5hbWVzcGFjZSwgYXR0ci5ub2RlTmFtZSwgYXR0ci5ub2RlVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGVsMi5maXJzdENoaWxkICE9IG51bGxcbiAgICAgICAgd2hpbGUgKGVsMi5maXJzdENoaWxkKSB7XG4gICAgICAgICAgZWwzLmFwcGVuZENoaWxkKGVsMi5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBlbDIgPSBlbDM7XG4gICAgICB9XG5cbiAgICAgIGZvciAoaiA9IDAsIGF0dHJzID0gZWwuYXR0cmlidXRlcywgbGVuID0gYXR0cnMubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgYXR0ciA9IGF0dHJzLml0ZW0oaik7XG4gICAgICAgIGlmIChhdHRyLm5vZGVOYW1lID09PSAneCcgfHwgYXR0ci5ub2RlTmFtZSA9PT0gJ3knIHx8XG4gICAgICAgICAgYXR0ci5ub2RlTmFtZSA9PT0gJ3hsaW5rOmhyZWYnIHx8IGF0dHIubm9kZU5hbWUgPT09ICdocmVmJykge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGF0dHIubm9kZU5hbWUgPT09ICd0cmFuc2Zvcm0nKSB7XG4gICAgICAgICAgY3VycmVudFRyYW5zID0gYXR0ci5ub2RlVmFsdWUgKyAnICcgKyBjdXJyZW50VHJhbnM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZWwyLnNldEF0dHJpYnV0ZShhdHRyLm5vZGVOYW1lLCBhdHRyLm5vZGVWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZWwyLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgY3VycmVudFRyYW5zKTtcbiAgICAgIGVsMi5zZXRBdHRyaWJ1dGUoJ2luc3RhbnRpYXRlZF9ieV91c2UnLCAnMScpO1xuICAgICAgZWwyLnJlbW92ZUF0dHJpYnV0ZSgnaWQnKTtcbiAgICAgIHBhcmVudE5vZGUgPSBlbC5wYXJlbnROb2RlO1xuICAgICAgcGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZWwyLCBlbCk7XG4gICAgICAvLyBzb21lIGJyb3dzZXJzIGRvIG5vdCBzaG9ydGVuIG5vZGVsaXN0IGFmdGVyIHJlcGxhY2VDaGlsZCAoSUU4KVxuICAgICAgaWYgKG5vZGVsaXN0Lmxlbmd0aCA9PT0gb2xkTGVuZ3RoKSB7XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvY29vcmRzLmh0bWwjVmlld0JveEF0dHJpYnV0ZVxuICAvLyBtYXRjaGVzLCBlLmcuOiArMTQuNTZlLTEyLCBldGMuXG4gIHZhciByZVZpZXdCb3hBdHRyVmFsdWUgPSBuZXcgUmVnRXhwKFxuICAgICdeJyArXG4gICAgJ1xcXFxzKignICsgZmFicmljLnJlTnVtICsgJyspXFxcXHMqLD8nICtcbiAgICAnXFxcXHMqKCcgKyBmYWJyaWMucmVOdW0gKyAnKylcXFxccyosPycgK1xuICAgICdcXFxccyooJyArIGZhYnJpYy5yZU51bSArICcrKVxcXFxzKiw/JyArXG4gICAgJ1xcXFxzKignICsgZmFicmljLnJlTnVtICsgJyspXFxcXHMqJyArXG4gICAgJyQnXG4gICk7XG5cbiAgLyoqXG4gICAqIEFkZCBhIDxnPiBlbGVtZW50IHRoYXQgZW52ZWxvcCBhbGwgY2hpbGQgZWxlbWVudHMgYW5kIG1ha2VzIHRoZSB2aWV3Ym94IHRyYW5zZm9ybU1hdHJpeCBkZXNjZW5kIG9uIGFsbCBlbGVtZW50c1xuICAgKi9cbiAgZnVuY3Rpb24gYXBwbHlWaWV3Ym94VHJhbnNmb3JtKGVsZW1lbnQpIHtcblxuICAgIHZhciB2aWV3Qm94QXR0ciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd2aWV3Qm94JyksXG4gICAgICAgIHNjYWxlWCA9IDEsXG4gICAgICAgIHNjYWxlWSA9IDEsXG4gICAgICAgIG1pblggPSAwLFxuICAgICAgICBtaW5ZID0gMCxcbiAgICAgICAgdmlld0JveFdpZHRoLCB2aWV3Qm94SGVpZ2h0LCBtYXRyaXgsIGVsLFxuICAgICAgICB3aWR0aEF0dHIgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnd2lkdGgnKSxcbiAgICAgICAgaGVpZ2h0QXR0ciA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSxcbiAgICAgICAgeCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd4JykgfHwgMCxcbiAgICAgICAgeSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd5JykgfHwgMCxcbiAgICAgICAgcHJlc2VydmVBc3BlY3RSYXRpbyA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdwcmVzZXJ2ZUFzcGVjdFJhdGlvJykgfHwgJycsXG4gICAgICAgIG1pc3NpbmdWaWV3Qm94ID0gKCF2aWV3Qm94QXR0ciB8fCAhZmFicmljLnN2Z1ZpZXdCb3hFbGVtZW50c1JlZ0V4LnRlc3QoZWxlbWVudC5ub2RlTmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICEodmlld0JveEF0dHIgPSB2aWV3Qm94QXR0ci5tYXRjaChyZVZpZXdCb3hBdHRyVmFsdWUpKSksXG4gICAgICAgIG1pc3NpbmdEaW1BdHRyID0gKCF3aWR0aEF0dHIgfHwgIWhlaWdodEF0dHIgfHwgd2lkdGhBdHRyID09PSAnMTAwJScgfHwgaGVpZ2h0QXR0ciA9PT0gJzEwMCUnKSxcbiAgICAgICAgdG9CZVBhcnNlZCA9IG1pc3NpbmdWaWV3Qm94ICYmIG1pc3NpbmdEaW1BdHRyLFxuICAgICAgICBwYXJzZWREaW0gPSB7IH0sIHRyYW5zbGF0ZU1hdHJpeCA9ICcnLCB3aWR0aERpZmYgPSAwLCBoZWlnaHREaWZmID0gMDtcblxuICAgIHBhcnNlZERpbS53aWR0aCA9IDA7XG4gICAgcGFyc2VkRGltLmhlaWdodCA9IDA7XG4gICAgcGFyc2VkRGltLnRvQmVQYXJzZWQgPSB0b0JlUGFyc2VkO1xuXG4gICAgaWYgKHRvQmVQYXJzZWQpIHtcbiAgICAgIHJldHVybiBwYXJzZWREaW07XG4gICAgfVxuXG4gICAgaWYgKG1pc3NpbmdWaWV3Qm94KSB7XG4gICAgICBwYXJzZWREaW0ud2lkdGggPSBwYXJzZVVuaXQod2lkdGhBdHRyKTtcbiAgICAgIHBhcnNlZERpbS5oZWlnaHQgPSBwYXJzZVVuaXQoaGVpZ2h0QXR0cik7XG4gICAgICByZXR1cm4gcGFyc2VkRGltO1xuICAgIH1cbiAgICBtaW5YID0gLXBhcnNlRmxvYXQodmlld0JveEF0dHJbMV0pO1xuICAgIG1pblkgPSAtcGFyc2VGbG9hdCh2aWV3Qm94QXR0clsyXSk7XG4gICAgdmlld0JveFdpZHRoID0gcGFyc2VGbG9hdCh2aWV3Qm94QXR0clszXSk7XG4gICAgdmlld0JveEhlaWdodCA9IHBhcnNlRmxvYXQodmlld0JveEF0dHJbNF0pO1xuICAgIHBhcnNlZERpbS5taW5YID0gbWluWDtcbiAgICBwYXJzZWREaW0ubWluWSA9IG1pblk7XG4gICAgcGFyc2VkRGltLnZpZXdCb3hXaWR0aCA9IHZpZXdCb3hXaWR0aDtcbiAgICBwYXJzZWREaW0udmlld0JveEhlaWdodCA9IHZpZXdCb3hIZWlnaHQ7XG4gICAgaWYgKCFtaXNzaW5nRGltQXR0cikge1xuICAgICAgcGFyc2VkRGltLndpZHRoID0gcGFyc2VVbml0KHdpZHRoQXR0cik7XG4gICAgICBwYXJzZWREaW0uaGVpZ2h0ID0gcGFyc2VVbml0KGhlaWdodEF0dHIpO1xuICAgICAgc2NhbGVYID0gcGFyc2VkRGltLndpZHRoIC8gdmlld0JveFdpZHRoO1xuICAgICAgc2NhbGVZID0gcGFyc2VkRGltLmhlaWdodCAvIHZpZXdCb3hIZWlnaHQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcGFyc2VkRGltLndpZHRoID0gdmlld0JveFdpZHRoO1xuICAgICAgcGFyc2VkRGltLmhlaWdodCA9IHZpZXdCb3hIZWlnaHQ7XG4gICAgfVxuXG4gICAgLy8gZGVmYXVsdCBpcyB0byBwcmVzZXJ2ZSBhc3BlY3QgcmF0aW9cbiAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvID0gZmFicmljLnV0aWwucGFyc2VQcmVzZXJ2ZUFzcGVjdFJhdGlvQXR0cmlidXRlKHByZXNlcnZlQXNwZWN0UmF0aW8pO1xuICAgIGlmIChwcmVzZXJ2ZUFzcGVjdFJhdGlvLmFsaWduWCAhPT0gJ25vbmUnKSB7XG4gICAgICAvL3RyYW5zbGF0ZSBhbGwgY29udGFpbmVyIGZvciB0aGUgZWZmZWN0IG9mIE1pZCwgTWluLCBNYXhcbiAgICAgIGlmIChwcmVzZXJ2ZUFzcGVjdFJhdGlvLm1lZXRPclNsaWNlID09PSAnbWVldCcpIHtcbiAgICAgICAgc2NhbGVZID0gc2NhbGVYID0gKHNjYWxlWCA+IHNjYWxlWSA/IHNjYWxlWSA6IHNjYWxlWCk7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSBhZGRpdGlvbmFsIHRyYW5zbGF0aW9uIHRvIG1vdmUgdGhlIHZpZXdib3hcbiAgICAgIH1cbiAgICAgIGlmIChwcmVzZXJ2ZUFzcGVjdFJhdGlvLm1lZXRPclNsaWNlID09PSAnc2xpY2UnKSB7XG4gICAgICAgIHNjYWxlWSA9IHNjYWxlWCA9IChzY2FsZVggPiBzY2FsZVkgPyBzY2FsZVggOiBzY2FsZVkpO1xuICAgICAgICAvLyBjYWxjdWxhdGUgYWRkaXRpb25hbCB0cmFuc2xhdGlvbiB0byBtb3ZlIHRoZSB2aWV3Ym94XG4gICAgICB9XG4gICAgICB3aWR0aERpZmYgPSBwYXJzZWREaW0ud2lkdGggLSB2aWV3Qm94V2lkdGggKiBzY2FsZVg7XG4gICAgICBoZWlnaHREaWZmID0gcGFyc2VkRGltLmhlaWdodCAtIHZpZXdCb3hIZWlnaHQgKiBzY2FsZVg7XG4gICAgICBpZiAocHJlc2VydmVBc3BlY3RSYXRpby5hbGlnblggPT09ICdNaWQnKSB7XG4gICAgICAgIHdpZHRoRGlmZiAvPSAyO1xuICAgICAgfVxuICAgICAgaWYgKHByZXNlcnZlQXNwZWN0UmF0aW8uYWxpZ25ZID09PSAnTWlkJykge1xuICAgICAgICBoZWlnaHREaWZmIC89IDI7XG4gICAgICB9XG4gICAgICBpZiAocHJlc2VydmVBc3BlY3RSYXRpby5hbGlnblggPT09ICdNaW4nKSB7XG4gICAgICAgIHdpZHRoRGlmZiA9IDA7XG4gICAgICB9XG4gICAgICBpZiAocHJlc2VydmVBc3BlY3RSYXRpby5hbGlnblkgPT09ICdNaW4nKSB7XG4gICAgICAgIGhlaWdodERpZmYgPSAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzY2FsZVggPT09IDEgJiYgc2NhbGVZID09PSAxICYmIG1pblggPT09IDAgJiYgbWluWSA9PT0gMCAmJiB4ID09PSAwICYmIHkgPT09IDApIHtcbiAgICAgIHJldHVybiBwYXJzZWREaW07XG4gICAgfVxuXG4gICAgaWYgKHggfHwgeSkge1xuICAgICAgdHJhbnNsYXRlTWF0cml4ID0gJyB0cmFuc2xhdGUoJyArIHBhcnNlVW5pdCh4KSArICcgJyArIHBhcnNlVW5pdCh5KSArICcpICc7XG4gICAgfVxuXG4gICAgbWF0cml4ID0gdHJhbnNsYXRlTWF0cml4ICsgJyBtYXRyaXgoJyArIHNjYWxlWCArXG4gICAgICAgICAgICAgICAgICAnIDAnICtcbiAgICAgICAgICAgICAgICAgICcgMCAnICtcbiAgICAgICAgICAgICAgICAgIHNjYWxlWSArICcgJyArXG4gICAgICAgICAgICAgICAgICAobWluWCAqIHNjYWxlWCArIHdpZHRoRGlmZikgKyAnICcgK1xuICAgICAgICAgICAgICAgICAgKG1pblkgKiBzY2FsZVkgKyBoZWlnaHREaWZmKSArICcpICc7XG4gICAgcGFyc2VkRGltLnZpZXdib3hUcmFuc2Zvcm0gPSBmYWJyaWMucGFyc2VUcmFuc2Zvcm1BdHRyaWJ1dGUobWF0cml4KTtcbiAgICBpZiAoZWxlbWVudC5ub2RlTmFtZSA9PT0gJ3N2ZycpIHtcbiAgICAgIGVsID0gZWxlbWVudC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhmYWJyaWMuc3ZnTlMsICdnJyk7XG4gICAgICAvLyBlbGVtZW50LmZpcnN0Q2hpbGQgIT0gbnVsbFxuICAgICAgd2hpbGUgKGVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgICBlbC5hcHBlbmRDaGlsZChlbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgfVxuICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChlbCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZWwgPSBlbGVtZW50O1xuICAgICAgbWF0cml4ID0gZWwuZ2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nKSArIG1hdHJpeDtcbiAgICB9XG4gICAgZWwuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCBtYXRyaXgpO1xuICAgIHJldHVybiBwYXJzZWREaW07XG4gIH1cblxuICBmdW5jdGlvbiBoYXNBbmNlc3RvcldpdGhOb2RlTmFtZShlbGVtZW50LCBub2RlTmFtZSkge1xuICAgIHdoaWxlIChlbGVtZW50ICYmIChlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlKSkge1xuICAgICAgaWYgKGVsZW1lbnQubm9kZU5hbWUgJiYgbm9kZU5hbWUudGVzdChlbGVtZW50Lm5vZGVOYW1lLnJlcGxhY2UoJ3N2ZzonLCAnJykpXG4gICAgICAgICYmICFlbGVtZW50LmdldEF0dHJpYnV0ZSgnaW5zdGFudGlhdGVkX2J5X3VzZScpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogUGFyc2VzIGFuIFNWRyBkb2N1bWVudCwgY29udmVydHMgaXQgdG8gYW4gYXJyYXkgb2YgY29ycmVzcG9uZGluZyBmYWJyaWMuKiBpbnN0YW5jZXMgYW5kIHBhc3NlcyB0aGVtIHRvIGEgY2FsbGJhY2tcbiAgICogQHN0YXRpY1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIGZhYnJpY1xuICAgKiBAcGFyYW0ge1NWR0RvY3VtZW50fSBkb2MgU1ZHIGRvY3VtZW50IHRvIHBhcnNlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrIHRvIGNhbGwgd2hlbiBwYXJzaW5nIGlzIGZpbmlzaGVkO1xuICAgKiBJdCdzIGJlaW5nIHBhc3NlZCBhbiBhcnJheSBvZiBlbGVtZW50cyAocGFyc2VkIGZyb20gYSBkb2N1bWVudCkuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXZpdmVyXSBNZXRob2QgZm9yIGZ1cnRoZXIgcGFyc2luZyBvZiBTVkcgZWxlbWVudHMsIGNhbGxlZCBhZnRlciBlYWNoIGZhYnJpYyBvYmplY3QgY3JlYXRlZC5cbiAgICogQHBhcmFtIHtPYmplY3R9IFtwYXJzaW5nT3B0aW9uc10gb3B0aW9ucyBmb3IgcGFyc2luZyBkb2N1bWVudFxuICAgKiBAcGFyYW0ge1N0cmluZ30gW3BhcnNpbmdPcHRpb25zLmNyb3NzT3JpZ2luXSBjcm9zc09yaWdpbiBzZXR0aW5nc1xuICAgKi9cbiAgZmFicmljLnBhcnNlU1ZHRG9jdW1lbnQgPSBmdW5jdGlvbihkb2MsIGNhbGxiYWNrLCByZXZpdmVyLCBwYXJzaW5nT3B0aW9ucykge1xuICAgIGlmICghZG9jKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcGFyc2VVc2VEaXJlY3RpdmVzKGRvYyk7XG5cbiAgICB2YXIgc3ZnVWlkID0gIGZhYnJpYy5PYmplY3QuX191aWQrKywgaSwgbGVuLFxuICAgICAgICBvcHRpb25zID0gYXBwbHlWaWV3Ym94VHJhbnNmb3JtKGRvYyksXG4gICAgICAgIGRlc2NlbmRhbnRzID0gZmFicmljLnV0aWwudG9BcnJheShkb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJyonKSk7XG4gICAgb3B0aW9ucy5jcm9zc09yaWdpbiA9IHBhcnNpbmdPcHRpb25zICYmIHBhcnNpbmdPcHRpb25zLmNyb3NzT3JpZ2luO1xuICAgIG9wdGlvbnMuc3ZnVWlkID0gc3ZnVWlkO1xuXG4gICAgaWYgKGRlc2NlbmRhbnRzLmxlbmd0aCA9PT0gMCAmJiBmYWJyaWMuaXNMaWtlbHlOb2RlKSB7XG4gICAgICAvLyB3ZSdyZSBsaWtlbHkgaW4gbm9kZSwgd2hlcmUgXCJvMy14bWxcIiBsaWJyYXJ5IGZhaWxzIHRvIGdFQlROKFwiKlwiKVxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FqYXhvcmcvbm9kZS1vMy14bWwvaXNzdWVzLzIxXG4gICAgICBkZXNjZW5kYW50cyA9IGRvYy5zZWxlY3ROb2RlcygnLy8qW25hbWUoLikhPVwic3ZnXCJdJyk7XG4gICAgICB2YXIgYXJyID0gW107XG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSBkZXNjZW5kYW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBhcnJbaV0gPSBkZXNjZW5kYW50c1tpXTtcbiAgICAgIH1cbiAgICAgIGRlc2NlbmRhbnRzID0gYXJyO1xuICAgIH1cblxuICAgIHZhciBlbGVtZW50cyA9IGRlc2NlbmRhbnRzLmZpbHRlcihmdW5jdGlvbihlbCkge1xuICAgICAgYXBwbHlWaWV3Ym94VHJhbnNmb3JtKGVsKTtcbiAgICAgIHJldHVybiBmYWJyaWMuc3ZnVmFsaWRUYWdOYW1lc1JlZ0V4LnRlc3QoZWwubm9kZU5hbWUucmVwbGFjZSgnc3ZnOicsICcnKSkgJiZcbiAgICAgICAgICAgICFoYXNBbmNlc3RvcldpdGhOb2RlTmFtZShlbCwgZmFicmljLnN2Z0ludmFsaWRBbmNlc3RvcnNSZWdFeCk7IC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9zdHJ1Y3QuaHRtbCNEZWZzRWxlbWVudFxuICAgIH0pO1xuXG4gICAgaWYgKCFlbGVtZW50cyB8fCAoZWxlbWVudHMgJiYgIWVsZW1lbnRzLmxlbmd0aCkpIHtcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKFtdLCB7fSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBjbGlwUGF0aHMgPSB7IH07XG4gICAgZGVzY2VuZGFudHMuZmlsdGVyKGZ1bmN0aW9uKGVsKSB7XG4gICAgICByZXR1cm4gZWwubm9kZU5hbWUucmVwbGFjZSgnc3ZnOicsICcnKSA9PT0gJ2NsaXBQYXRoJztcbiAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uKGVsKSB7XG4gICAgICB2YXIgaWQgPSBlbC5nZXRBdHRyaWJ1dGUoJ2lkJyk7XG4gICAgICBjbGlwUGF0aHNbaWRdID0gZmFicmljLnV0aWwudG9BcnJheShlbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnKicpKS5maWx0ZXIoZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgcmV0dXJuIGZhYnJpYy5zdmdWYWxpZFRhZ05hbWVzUmVnRXgudGVzdChlbC5ub2RlTmFtZS5yZXBsYWNlKCdzdmc6JywgJycpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGZhYnJpYy5ncmFkaWVudERlZnNbc3ZnVWlkXSA9IGZhYnJpYy5nZXRHcmFkaWVudERlZnMoZG9jKTtcbiAgICBmYWJyaWMuY3NzUnVsZXNbc3ZnVWlkXSA9IGZhYnJpYy5nZXRDU1NSdWxlcyhkb2MpO1xuICAgIGZhYnJpYy5jbGlwUGF0aHNbc3ZnVWlkXSA9IGNsaXBQYXRocztcbiAgICAvLyBQcmVjZWRlbmNlIG9mIHJ1bGVzOiAgIHN0eWxlID4gY2xhc3MgPiBhdHRyaWJ1dGVcbiAgICBmYWJyaWMucGFyc2VFbGVtZW50cyhlbGVtZW50cywgZnVuY3Rpb24oaW5zdGFuY2VzLCBlbGVtZW50cykge1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKGluc3RhbmNlcywgb3B0aW9ucywgZWxlbWVudHMsIGRlc2NlbmRhbnRzKTtcbiAgICAgICAgZGVsZXRlIGZhYnJpYy5ncmFkaWVudERlZnNbc3ZnVWlkXTtcbiAgICAgICAgZGVsZXRlIGZhYnJpYy5jc3NSdWxlc1tzdmdVaWRdO1xuICAgICAgICBkZWxldGUgZmFicmljLmNsaXBQYXRoc1tzdmdVaWRdO1xuICAgICAgfVxuICAgIH0sIGNsb25lKG9wdGlvbnMpLCByZXZpdmVyLCBwYXJzaW5nT3B0aW9ucyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gcmVjdXJzaXZlbHlQYXJzZUdyYWRpZW50c1hsaW5rKGRvYywgZ3JhZGllbnQpIHtcbiAgICB2YXIgZ3JhZGllbnRzQXR0cnMgPSBbJ2dyYWRpZW50VHJhbnNmb3JtJywgJ3gxJywgJ3gyJywgJ3kxJywgJ3kyJywgJ2dyYWRpZW50VW5pdHMnLCAnY3gnLCAnY3knLCAncicsICdmeCcsICdmeSddLFxuICAgICAgICB4bGlua0F0dHIgPSAneGxpbms6aHJlZicsXG4gICAgICAgIHhMaW5rID0gZ3JhZGllbnQuZ2V0QXR0cmlidXRlKHhsaW5rQXR0cikuc3Vic3RyKDEpLFxuICAgICAgICByZWZlcmVuY2VkR3JhZGllbnQgPSBlbGVtZW50QnlJZChkb2MsIHhMaW5rKTtcbiAgICBpZiAocmVmZXJlbmNlZEdyYWRpZW50ICYmIHJlZmVyZW5jZWRHcmFkaWVudC5nZXRBdHRyaWJ1dGUoeGxpbmtBdHRyKSkge1xuICAgICAgcmVjdXJzaXZlbHlQYXJzZUdyYWRpZW50c1hsaW5rKGRvYywgcmVmZXJlbmNlZEdyYWRpZW50KTtcbiAgICB9XG4gICAgZ3JhZGllbnRzQXR0cnMuZm9yRWFjaChmdW5jdGlvbihhdHRyKSB7XG4gICAgICBpZiAocmVmZXJlbmNlZEdyYWRpZW50ICYmICFncmFkaWVudC5oYXNBdHRyaWJ1dGUoYXR0cikgJiYgcmVmZXJlbmNlZEdyYWRpZW50Lmhhc0F0dHJpYnV0ZShhdHRyKSkge1xuICAgICAgICBncmFkaWVudC5zZXRBdHRyaWJ1dGUoYXR0ciwgcmVmZXJlbmNlZEdyYWRpZW50LmdldEF0dHJpYnV0ZShhdHRyKSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFncmFkaWVudC5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgIHZhciByZWZlcmVuY2VDbG9uZSA9IHJlZmVyZW5jZWRHcmFkaWVudC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICB3aGlsZSAocmVmZXJlbmNlQ2xvbmUuZmlyc3RDaGlsZCkge1xuICAgICAgICBncmFkaWVudC5hcHBlbmRDaGlsZChyZWZlcmVuY2VDbG9uZS5maXJzdENoaWxkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZ3JhZGllbnQucmVtb3ZlQXR0cmlidXRlKHhsaW5rQXR0cik7XG4gIH1cblxuICB2YXIgcmVGb250RGVjbGFyYXRpb24gPSBuZXcgUmVnRXhwKFxuICAgICcobm9ybWFsfGl0YWxpYyk/XFxcXHMqKG5vcm1hbHxzbWFsbC1jYXBzKT9cXFxccyonICtcbiAgICAnKG5vcm1hbHxib2xkfGJvbGRlcnxsaWdodGVyfDEwMHwyMDB8MzAwfDQwMHw1MDB8NjAwfDcwMHw4MDB8OTAwKT9cXFxccyooJyArXG4gICAgICBmYWJyaWMucmVOdW0gK1xuICAgICcoPzpweHxjbXxtbXxlbXxwdHxwY3xpbikqKSg/OlxcXFwvKG5vcm1hbHwnICsgZmFicmljLnJlTnVtICsgJykpP1xcXFxzKyguKiknKTtcblxuICBleHRlbmQoZmFicmljLCB7XG4gICAgLyoqXG4gICAgICogUGFyc2VzIGEgc2hvcnQgZm9udCBkZWNsYXJhdGlvbiwgYnVpbGRpbmcgYWRkaW5nIGl0cyBwcm9wZXJ0aWVzIHRvIGEgc3R5bGUgb2JqZWN0XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsdWUgZm9udCBkZWNsYXJhdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvU3R5bGUgZGVmaW5pdGlvblxuICAgICAqL1xuICAgIHBhcnNlRm9udERlY2xhcmF0aW9uOiBmdW5jdGlvbih2YWx1ZSwgb1N0eWxlKSB7XG4gICAgICB2YXIgbWF0Y2ggPSB2YWx1ZS5tYXRjaChyZUZvbnREZWNsYXJhdGlvbik7XG5cbiAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGZvbnRTdHlsZSA9IG1hdGNoWzFdLFxuICAgICAgICAgIC8vIGZvbnQgdmFyaWFudCBpcyBub3QgdXNlZFxuICAgICAgICAgIC8vIGZvbnRWYXJpYW50ID0gbWF0Y2hbMl0sXG4gICAgICAgICAgZm9udFdlaWdodCA9IG1hdGNoWzNdLFxuICAgICAgICAgIGZvbnRTaXplID0gbWF0Y2hbNF0sXG4gICAgICAgICAgbGluZUhlaWdodCA9IG1hdGNoWzVdLFxuICAgICAgICAgIGZvbnRGYW1pbHkgPSBtYXRjaFs2XTtcblxuICAgICAgaWYgKGZvbnRTdHlsZSkge1xuICAgICAgICBvU3R5bGUuZm9udFN0eWxlID0gZm9udFN0eWxlO1xuICAgICAgfVxuICAgICAgaWYgKGZvbnRXZWlnaHQpIHtcbiAgICAgICAgb1N0eWxlLmZvbnRXZWlnaHQgPSBpc05hTihwYXJzZUZsb2F0KGZvbnRXZWlnaHQpKSA/IGZvbnRXZWlnaHQgOiBwYXJzZUZsb2F0KGZvbnRXZWlnaHQpO1xuICAgICAgfVxuICAgICAgaWYgKGZvbnRTaXplKSB7XG4gICAgICAgIG9TdHlsZS5mb250U2l6ZSA9IHBhcnNlVW5pdChmb250U2l6ZSk7XG4gICAgICB9XG4gICAgICBpZiAoZm9udEZhbWlseSkge1xuICAgICAgICBvU3R5bGUuZm9udEZhbWlseSA9IGZvbnRGYW1pbHk7XG4gICAgICB9XG4gICAgICBpZiAobGluZUhlaWdodCkge1xuICAgICAgICBvU3R5bGUubGluZUhlaWdodCA9IGxpbmVIZWlnaHQgPT09ICdub3JtYWwnID8gMSA6IGxpbmVIZWlnaHQ7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBhcnNlcyBhbiBTVkcgZG9jdW1lbnQsIHJldHVybmluZyBhbGwgb2YgdGhlIGdyYWRpZW50IGRlY2xhcmF0aW9ucyBmb3VuZCBpbiBpdFxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAbWVtYmVyT2YgZmFicmljXG4gICAgICogQHBhcmFtIHtTVkdEb2N1bWVudH0gZG9jIFNWRyBkb2N1bWVudCB0byBwYXJzZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gR3JhZGllbnQgZGVmaW5pdGlvbnM7IGtleSBjb3JyZXNwb25kcyB0byBlbGVtZW50IGlkLCB2YWx1ZSAtLSB0byBncmFkaWVudCBkZWZpbml0aW9uIGVsZW1lbnRcbiAgICAgKi9cbiAgICBnZXRHcmFkaWVudERlZnM6IGZ1bmN0aW9uKGRvYykge1xuICAgICAgdmFyIHRhZ0FycmF5ID0gW1xuICAgICAgICAgICAgJ2xpbmVhckdyYWRpZW50JyxcbiAgICAgICAgICAgICdyYWRpYWxHcmFkaWVudCcsXG4gICAgICAgICAgICAnc3ZnOmxpbmVhckdyYWRpZW50JyxcbiAgICAgICAgICAgICdzdmc6cmFkaWFsR3JhZGllbnQnXSxcbiAgICAgICAgICBlbExpc3QgPSBfZ2V0TXVsdGlwbGVOb2Rlcyhkb2MsIHRhZ0FycmF5KSxcbiAgICAgICAgICBlbCwgaiA9IDAsIGdyYWRpZW50RGVmcyA9IHsgfTtcbiAgICAgIGogPSBlbExpc3QubGVuZ3RoO1xuICAgICAgd2hpbGUgKGotLSkge1xuICAgICAgICBlbCA9IGVsTGlzdFtqXTtcbiAgICAgICAgaWYgKGVsLmdldEF0dHJpYnV0ZSgneGxpbms6aHJlZicpKSB7XG4gICAgICAgICAgcmVjdXJzaXZlbHlQYXJzZUdyYWRpZW50c1hsaW5rKGRvYywgZWwpO1xuICAgICAgICB9XG4gICAgICAgIGdyYWRpZW50RGVmc1tlbC5nZXRBdHRyaWJ1dGUoJ2lkJyldID0gZWw7XG4gICAgICB9XG4gICAgICByZXR1cm4gZ3JhZGllbnREZWZzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIG9iamVjdCBvZiBhdHRyaWJ1dGVzJyBuYW1lL3ZhbHVlLCBnaXZlbiBlbGVtZW50IGFuZCBhbiBhcnJheSBvZiBhdHRyaWJ1dGUgbmFtZXM7XG4gICAgICogUGFyc2VzIHBhcmVudCBcImdcIiBub2RlcyByZWN1cnNpdmVseSB1cHdhcmRzLlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljXG4gICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgdG8gcGFyc2VcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhdHRyaWJ1dGVzIEFycmF5IG9mIGF0dHJpYnV0ZXMgdG8gcGFyc2VcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9iamVjdCBjb250YWluaW5nIHBhcnNlZCBhdHRyaWJ1dGVzJyBuYW1lcy92YWx1ZXNcbiAgICAgKi9cbiAgICBwYXJzZUF0dHJpYnV0ZXM6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJpYnV0ZXMsIHN2Z1VpZCkge1xuXG4gICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgdmFsdWUsXG4gICAgICAgICAgcGFyZW50QXR0cmlidXRlcyA9IHsgfSxcbiAgICAgICAgICBmb250U2l6ZSwgcGFyZW50Rm9udFNpemU7XG5cbiAgICAgIGlmICh0eXBlb2Ygc3ZnVWlkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzdmdVaWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnc3ZnVWlkJyk7XG4gICAgICB9XG4gICAgICAvLyBpZiB0aGVyZSdzIGEgcGFyZW50IGNvbnRhaW5lciAoYGdgIG9yIGBhYCBvciBgc3ltYm9sYCBub2RlKSwgcGFyc2UgaXRzIGF0dHJpYnV0ZXMgcmVjdXJzaXZlbHkgdXB3YXJkc1xuICAgICAgaWYgKGVsZW1lbnQucGFyZW50Tm9kZSAmJiBmYWJyaWMuc3ZnVmFsaWRQYXJlbnRzUmVnRXgudGVzdChlbGVtZW50LnBhcmVudE5vZGUubm9kZU5hbWUpKSB7XG4gICAgICAgIHBhcmVudEF0dHJpYnV0ZXMgPSBmYWJyaWMucGFyc2VBdHRyaWJ1dGVzKGVsZW1lbnQucGFyZW50Tm9kZSwgYXR0cmlidXRlcywgc3ZnVWlkKTtcbiAgICAgIH1cblxuICAgICAgdmFyIG93bkF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzLnJlZHVjZShmdW5jdGlvbihtZW1vLCBhdHRyKSB7XG4gICAgICAgIHZhbHVlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cik7XG4gICAgICAgIGlmICh2YWx1ZSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgbWVtb1thdHRyXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZW1vO1xuICAgICAgfSwgeyB9KTtcbiAgICAgIC8vIGFkZCB2YWx1ZXMgcGFyc2VkIGZyb20gc3R5bGUsIHdoaWNoIHRha2UgcHJlY2VkZW5jZSBvdmVyIGF0dHJpYnV0ZXNcbiAgICAgIC8vIChzZWU6IGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9zdHlsaW5nLmh0bWwjVXNpbmdQcmVzZW50YXRpb25BdHRyaWJ1dGVzKVxuICAgICAgdmFyIGNzc0F0dHJzID0gZXh0ZW5kKFxuICAgICAgICBnZXRHbG9iYWxTdHlsZXNGb3JFbGVtZW50KGVsZW1lbnQsIHN2Z1VpZCksXG4gICAgICAgIGZhYnJpYy5wYXJzZVN0eWxlQXR0cmlidXRlKGVsZW1lbnQpXG4gICAgICApO1xuICAgICAgb3duQXR0cmlidXRlcyA9IGV4dGVuZChcbiAgICAgICAgb3duQXR0cmlidXRlcyxcbiAgICAgICAgY3NzQXR0cnNcbiAgICAgICk7XG4gICAgICBpZiAoY3NzQXR0cnNbY1BhdGhdKSB7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGNQYXRoLCBjc3NBdHRyc1tjUGF0aF0pO1xuICAgICAgfVxuICAgICAgZm9udFNpemUgPSBwYXJlbnRGb250U2l6ZSA9IHBhcmVudEF0dHJpYnV0ZXMuZm9udFNpemUgfHwgZmFicmljLlRleHQuREVGQVVMVF9TVkdfRk9OVF9TSVpFO1xuICAgICAgaWYgKG93bkF0dHJpYnV0ZXNbZlNpemVdKSB7XG4gICAgICAgIC8vIGxvb2tzIGxpa2UgdGhlIG1pbmltdW0gc2hvdWxkIGJlIDlweCB3aGVuIGRlYWxpbmcgd2l0aCBlbXMuIHRoaXMgaXMgd2hhdCBsb29rcyBsaWtlIGluIGJyb3dzZXJzLlxuICAgICAgICBvd25BdHRyaWJ1dGVzW2ZTaXplXSA9IGZvbnRTaXplID0gcGFyc2VVbml0KG93bkF0dHJpYnV0ZXNbZlNpemVdLCBwYXJlbnRGb250U2l6ZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBub3JtYWxpemVkQXR0ciwgbm9ybWFsaXplZFZhbHVlLCBub3JtYWxpemVkU3R5bGUgPSB7fTtcbiAgICAgIGZvciAodmFyIGF0dHIgaW4gb3duQXR0cmlidXRlcykge1xuICAgICAgICBub3JtYWxpemVkQXR0ciA9IG5vcm1hbGl6ZUF0dHIoYXR0cik7XG4gICAgICAgIG5vcm1hbGl6ZWRWYWx1ZSA9IG5vcm1hbGl6ZVZhbHVlKG5vcm1hbGl6ZWRBdHRyLCBvd25BdHRyaWJ1dGVzW2F0dHJdLCBwYXJlbnRBdHRyaWJ1dGVzLCBmb250U2l6ZSk7XG4gICAgICAgIG5vcm1hbGl6ZWRTdHlsZVtub3JtYWxpemVkQXR0cl0gPSBub3JtYWxpemVkVmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAobm9ybWFsaXplZFN0eWxlICYmIG5vcm1hbGl6ZWRTdHlsZS5mb250KSB7XG4gICAgICAgIGZhYnJpYy5wYXJzZUZvbnREZWNsYXJhdGlvbihub3JtYWxpemVkU3R5bGUuZm9udCwgbm9ybWFsaXplZFN0eWxlKTtcbiAgICAgIH1cbiAgICAgIHZhciBtZXJnZWRBdHRycyA9IGV4dGVuZChwYXJlbnRBdHRyaWJ1dGVzLCBub3JtYWxpemVkU3R5bGUpO1xuICAgICAgcmV0dXJuIGZhYnJpYy5zdmdWYWxpZFBhcmVudHNSZWdFeC50ZXN0KGVsZW1lbnQubm9kZU5hbWUpID8gbWVyZ2VkQXR0cnMgOiBfc2V0U3Ryb2tlRmlsbE9wYWNpdHkobWVyZ2VkQXR0cnMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm1zIGFuIGFycmF5IG9mIHN2ZyBlbGVtZW50cyB0byBjb3JyZXNwb25kaW5nIGZhYnJpYy4qIGluc3RhbmNlc1xuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljXG4gICAgICogQHBhcmFtIHtBcnJheX0gZWxlbWVudHMgQXJyYXkgb2YgZWxlbWVudHMgdG8gcGFyc2VcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBCZWluZyBwYXNzZWQgYW4gYXJyYXkgb2YgZmFicmljIGluc3RhbmNlcyAodHJhbnNmb3JtZWQgZnJvbSBTVkcgZWxlbWVudHMpXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXZpdmVyXSBNZXRob2QgZm9yIGZ1cnRoZXIgcGFyc2luZyBvZiBTVkcgZWxlbWVudHMsIGNhbGxlZCBhZnRlciBlYWNoIGZhYnJpYyBvYmplY3QgY3JlYXRlZC5cbiAgICAgKi9cbiAgICBwYXJzZUVsZW1lbnRzOiBmdW5jdGlvbihlbGVtZW50cywgY2FsbGJhY2ssIG9wdGlvbnMsIHJldml2ZXIsIHBhcnNpbmdPcHRpb25zKSB7XG4gICAgICBuZXcgZmFicmljLkVsZW1lbnRzUGFyc2VyKGVsZW1lbnRzLCBjYWxsYmFjaywgb3B0aW9ucywgcmV2aXZlciwgcGFyc2luZ09wdGlvbnMpLnBhcnNlKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFBhcnNlcyBcInN0eWxlXCIgYXR0cmlidXRlLCByZXR1bmluZyBhbiBvYmplY3Qgd2l0aCB2YWx1ZXNcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIGZhYnJpY1xuICAgICAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZWxlbWVudCBFbGVtZW50IHRvIHBhcnNlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3RzIHdpdGggdmFsdWVzIHBhcnNlZCBmcm9tIHN0eWxlIGF0dHJpYnV0ZSBvZiBhbiBlbGVtZW50XG4gICAgICovXG4gICAgcGFyc2VTdHlsZUF0dHJpYnV0ZTogZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgdmFyIG9TdHlsZSA9IHsgfSxcbiAgICAgICAgICBzdHlsZSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdzdHlsZScpO1xuXG4gICAgICBpZiAoIXN0eWxlKSB7XG4gICAgICAgIHJldHVybiBvU3R5bGU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygc3R5bGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHBhcnNlU3R5bGVTdHJpbmcoc3R5bGUsIG9TdHlsZSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcGFyc2VTdHlsZU9iamVjdChzdHlsZSwgb1N0eWxlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9TdHlsZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUGFyc2VzIFwicG9pbnRzXCIgYXR0cmlidXRlLCByZXR1cm5pbmcgYW4gYXJyYXkgb2YgdmFsdWVzXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcG9pbnRzIHBvaW50cyBhdHRyaWJ1dGUgc3RyaW5nXG4gICAgICogQHJldHVybiB7QXJyYXl9IGFycmF5IG9mIHBvaW50c1xuICAgICAqL1xuICAgIHBhcnNlUG9pbnRzQXR0cmlidXRlOiBmdW5jdGlvbihwb2ludHMpIHtcblxuICAgICAgLy8gcG9pbnRzIGF0dHJpYnV0ZSBpcyByZXF1aXJlZCBhbmQgbXVzdCBub3QgYmUgZW1wdHlcbiAgICAgIGlmICghcG9pbnRzKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuXG4gICAgICAvLyByZXBsYWNlIGNvbW1hcyB3aXRoIHdoaXRlc3BhY2UgYW5kIHJlbW92ZSBib29rZW5kaW5nIHdoaXRlc3BhY2VcbiAgICAgIHBvaW50cyA9IHBvaW50cy5yZXBsYWNlKC8sL2csICcgJykudHJpbSgpO1xuXG4gICAgICBwb2ludHMgPSBwb2ludHMuc3BsaXQoL1xccysvKTtcbiAgICAgIHZhciBwYXJzZWRQb2ludHMgPSBbXSwgaSwgbGVuO1xuXG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSBwb2ludHMubGVuZ3RoOyBpIDwgbGVuOyBpICs9IDIpIHtcbiAgICAgICAgcGFyc2VkUG9pbnRzLnB1c2goe1xuICAgICAgICAgIHg6IHBhcnNlRmxvYXQocG9pbnRzW2ldKSxcbiAgICAgICAgICB5OiBwYXJzZUZsb2F0KHBvaW50c1tpICsgMV0pXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBvZGQgbnVtYmVyIG9mIHBvaW50cyBpcyBhbiBlcnJvclxuICAgICAgLy8gaWYgKHBhcnNlZFBvaW50cy5sZW5ndGggJSAyICE9PSAwKSB7XG4gICAgICAvLyAgIHJldHVybiBudWxsO1xuICAgICAgLy8gfVxuXG4gICAgICByZXR1cm4gcGFyc2VkUG9pbnRzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIENTUyBydWxlcyBmb3IgYSBnaXZlbiBTVkcgZG9jdW1lbnRcbiAgICAgKiBAc3RhdGljXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQG1lbWJlck9mIGZhYnJpY1xuICAgICAqIEBwYXJhbSB7U1ZHRG9jdW1lbnR9IGRvYyBTVkcgZG9jdW1lbnQgdG8gcGFyc2VcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IENTUyBydWxlcyBvZiB0aGlzIGRvY3VtZW50XG4gICAgICovXG4gICAgZ2V0Q1NTUnVsZXM6IGZ1bmN0aW9uKGRvYykge1xuICAgICAgdmFyIHN0eWxlcyA9IGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3R5bGUnKSwgaSwgbGVuLFxuICAgICAgICAgIGFsbFJ1bGVzID0geyB9LCBydWxlcztcblxuICAgICAgLy8gdmVyeSBjcnVkZSBwYXJzaW5nIG9mIHN0eWxlIGNvbnRlbnRzXG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSBzdHlsZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgLy8gSUU5IGRvZXNuJ3Qgc3VwcG9ydCB0ZXh0Q29udGVudCwgYnV0IHByb3ZpZGVzIHRleHQgaW5zdGVhZC5cbiAgICAgICAgdmFyIHN0eWxlQ29udGVudHMgPSBzdHlsZXNbaV0udGV4dENvbnRlbnQgfHwgc3R5bGVzW2ldLnRleHQ7XG5cbiAgICAgICAgLy8gcmVtb3ZlIGNvbW1lbnRzXG4gICAgICAgIHN0eWxlQ29udGVudHMgPSBzdHlsZUNvbnRlbnRzLnJlcGxhY2UoL1xcL1xcKltcXHNcXFNdKj9cXCpcXC8vZywgJycpO1xuICAgICAgICBpZiAoc3R5bGVDb250ZW50cy50cmltKCkgPT09ICcnKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcnVsZXMgPSBzdHlsZUNvbnRlbnRzLm1hdGNoKC9bXntdKlxce1tcXHNcXFNdKj9cXH0vZyk7XG4gICAgICAgIHJ1bGVzID0gcnVsZXMubWFwKGZ1bmN0aW9uKHJ1bGUpIHsgcmV0dXJuIHJ1bGUudHJpbSgpOyB9KTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWxvb3AtZnVuY1xuICAgICAgICBydWxlcy5mb3JFYWNoKGZ1bmN0aW9uKHJ1bGUpIHtcblxuICAgICAgICAgIHZhciBtYXRjaCA9IHJ1bGUubWF0Y2goLyhbXFxzXFxTXSo/KVxccypcXHsoW159XSopXFx9LyksXG4gICAgICAgICAgICAgIHJ1bGVPYmogPSB7IH0sIGRlY2xhcmF0aW9uID0gbWF0Y2hbMl0udHJpbSgpLFxuICAgICAgICAgICAgICBwcm9wZXJ0eVZhbHVlUGFpcnMgPSBkZWNsYXJhdGlvbi5yZXBsYWNlKC87JC8sICcnKS5zcGxpdCgvXFxzKjtcXHMqLyk7XG5cbiAgICAgICAgICBmb3IgKGkgPSAwLCBsZW4gPSBwcm9wZXJ0eVZhbHVlUGFpcnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwYWlyID0gcHJvcGVydHlWYWx1ZVBhaXJzW2ldLnNwbGl0KC9cXHMqOlxccyovKSxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eSA9IHBhaXJbMF0sXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBwYWlyWzFdO1xuICAgICAgICAgICAgcnVsZU9ialtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcnVsZSA9IG1hdGNoWzFdO1xuICAgICAgICAgIHJ1bGUuc3BsaXQoJywnKS5mb3JFYWNoKGZ1bmN0aW9uKF9ydWxlKSB7XG4gICAgICAgICAgICBfcnVsZSA9IF9ydWxlLnJlcGxhY2UoL15zdmcvaSwgJycpLnRyaW0oKTtcbiAgICAgICAgICAgIGlmIChfcnVsZSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFsbFJ1bGVzW19ydWxlXSkge1xuICAgICAgICAgICAgICBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGFsbFJ1bGVzW19ydWxlXSwgcnVsZU9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgYWxsUnVsZXNbX3J1bGVdID0gZmFicmljLnV0aWwub2JqZWN0LmNsb25lKHJ1bGVPYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhbGxSdWxlcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGFrZXMgdXJsIGNvcnJlc3BvbmRpbmcgdG8gYW4gU1ZHIGRvY3VtZW50LCBhbmQgcGFyc2VzIGl0IGludG8gYSBzZXQgb2YgZmFicmljIG9iamVjdHMuXG4gICAgICogTm90ZSB0aGF0IFNWRyBpcyBmZXRjaGVkIHZpYSBYTUxIdHRwUmVxdWVzdCwgc28gaXQgbmVlZHMgdG8gY29uZm9ybSB0byBTT1AgKFNhbWUgT3JpZ2luIFBvbGljeSlcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHVybFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jldml2ZXJdIE1ldGhvZCBmb3IgZnVydGhlciBwYXJzaW5nIG9mIFNWRyBlbGVtZW50cywgY2FsbGVkIGFmdGVyIGVhY2ggZmFicmljIG9iamVjdCBjcmVhdGVkLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT2JqZWN0IGNvbnRhaW5pbmcgb3B0aW9ucyBmb3IgcGFyc2luZ1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5jcm9zc09yaWdpbl0gY3Jvc3NPcmlnaW4gY3Jvc3NPcmlnaW4gc2V0dGluZyB0byB1c2UgZm9yIGV4dGVybmFsIHJlc291cmNlc1xuICAgICAqL1xuICAgIGxvYWRTVkdGcm9tVVJMOiBmdW5jdGlvbih1cmwsIGNhbGxiYWNrLCByZXZpdmVyLCBvcHRpb25zKSB7XG5cbiAgICAgIHVybCA9IHVybC5yZXBsYWNlKC9eXFxuXFxzKi8sICcnKS50cmltKCk7XG4gICAgICBuZXcgZmFicmljLnV0aWwucmVxdWVzdCh1cmwsIHtcbiAgICAgICAgbWV0aG9kOiAnZ2V0JyxcbiAgICAgICAgb25Db21wbGV0ZTogb25Db21wbGV0ZVxuICAgICAgfSk7XG5cbiAgICAgIGZ1bmN0aW9uIG9uQ29tcGxldGUocikge1xuXG4gICAgICAgIHZhciB4bWwgPSByLnJlc3BvbnNlWE1MO1xuICAgICAgICBpZiAoeG1sICYmICF4bWwuZG9jdW1lbnRFbGVtZW50ICYmIGZhYnJpYy53aW5kb3cuQWN0aXZlWE9iamVjdCAmJiByLnJlc3BvbnNlVGV4dCkge1xuICAgICAgICAgIHhtbCA9IG5ldyBBY3RpdmVYT2JqZWN0KCdNaWNyb3NvZnQuWE1MRE9NJyk7XG4gICAgICAgICAgeG1sLmFzeW5jID0gJ2ZhbHNlJztcbiAgICAgICAgICAvL0lFIGNob2tlcyBvbiBET0NUWVBFXG4gICAgICAgICAgeG1sLmxvYWRYTUwoci5yZXNwb25zZVRleHQucmVwbGFjZSgvPCFET0NUWVBFW1xcc1xcU10qPyhcXFtbXFxzXFxTXSpcXF0pKj8+L2ksICcnKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF4bWwgfHwgIXhtbC5kb2N1bWVudEVsZW1lbnQpIHtcbiAgICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBmYWJyaWMucGFyc2VTVkdEb2N1bWVudCh4bWwuZG9jdW1lbnRFbGVtZW50LCBmdW5jdGlvbiAocmVzdWx0cywgX29wdGlvbnMsIGVsZW1lbnRzLCBhbGxFbGVtZW50cykge1xuICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHJlc3VsdHMsIF9vcHRpb25zLCBlbGVtZW50cywgYWxsRWxlbWVudHMpO1xuICAgICAgICB9LCByZXZpdmVyLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGFrZXMgc3RyaW5nIGNvcnJlc3BvbmRpbmcgdG8gYW4gU1ZHIGRvY3VtZW50LCBhbmQgcGFyc2VzIGl0IGludG8gYSBzZXQgb2YgZmFicmljIG9iamVjdHNcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN0cmluZ1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jldml2ZXJdIE1ldGhvZCBmb3IgZnVydGhlciBwYXJzaW5nIG9mIFNWRyBlbGVtZW50cywgY2FsbGVkIGFmdGVyIGVhY2ggZmFicmljIG9iamVjdCBjcmVhdGVkLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT2JqZWN0IGNvbnRhaW5pbmcgb3B0aW9ucyBmb3IgcGFyc2luZ1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5jcm9zc09yaWdpbl0gY3Jvc3NPcmlnaW4gY3Jvc3NPcmlnaW4gc2V0dGluZyB0byB1c2UgZm9yIGV4dGVybmFsIHJlc291cmNlc1xuICAgICAqL1xuICAgIGxvYWRTVkdGcm9tU3RyaW5nOiBmdW5jdGlvbihzdHJpbmcsIGNhbGxiYWNrLCByZXZpdmVyLCBvcHRpb25zKSB7XG4gICAgICBzdHJpbmcgPSBzdHJpbmcudHJpbSgpO1xuICAgICAgdmFyIGRvYztcbiAgICAgIGlmICh0eXBlb2YgZmFicmljLndpbmRvdy5ET01QYXJzZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBwYXJzZXIgPSBuZXcgZmFicmljLndpbmRvdy5ET01QYXJzZXIoKTtcbiAgICAgICAgaWYgKHBhcnNlciAmJiBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKSB7XG4gICAgICAgICAgZG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhzdHJpbmcsICd0ZXh0L3htbCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChmYWJyaWMud2luZG93LkFjdGl2ZVhPYmplY3QpIHtcbiAgICAgICAgZG9jID0gbmV3IEFjdGl2ZVhPYmplY3QoJ01pY3Jvc29mdC5YTUxET00nKTtcbiAgICAgICAgZG9jLmFzeW5jID0gJ2ZhbHNlJztcbiAgICAgICAgLy8gSUUgY2hva2VzIG9uIERPQ1RZUEVcbiAgICAgICAgZG9jLmxvYWRYTUwoc3RyaW5nLnJlcGxhY2UoLzwhRE9DVFlQRVtcXHNcXFNdKj8oXFxbW1xcc1xcU10qXFxdKSo/Pi9pLCAnJykpO1xuICAgICAgfVxuXG4gICAgICBmYWJyaWMucGFyc2VTVkdEb2N1bWVudChkb2MuZG9jdW1lbnRFbGVtZW50LCBmdW5jdGlvbiAocmVzdWx0cywgX29wdGlvbnMsIGVsZW1lbnRzLCBhbGxFbGVtZW50cykge1xuICAgICAgICBjYWxsYmFjayhyZXN1bHRzLCBfb3B0aW9ucywgZWxlbWVudHMsIGFsbEVsZW1lbnRzKTtcbiAgICAgIH0sIHJldml2ZXIsIG9wdGlvbnMpO1xuICAgIH1cbiAgfSk7XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG5mYWJyaWMuRWxlbWVudHNQYXJzZXIgPSBmdW5jdGlvbihlbGVtZW50cywgY2FsbGJhY2ssIG9wdGlvbnMsIHJldml2ZXIsIHBhcnNpbmdPcHRpb25zLCBkb2MpIHtcbiAgdGhpcy5lbGVtZW50cyA9IGVsZW1lbnRzO1xuICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIHRoaXMucmV2aXZlciA9IHJldml2ZXI7XG4gIHRoaXMuc3ZnVWlkID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5zdmdVaWQpIHx8IDA7XG4gIHRoaXMucGFyc2luZ09wdGlvbnMgPSBwYXJzaW5nT3B0aW9ucztcbiAgdGhpcy5yZWdleFVybCA9IC9edXJsXFwoWydcIl0/IyhbXidcIl0rKVsnXCJdP1xcKS9nO1xuICB0aGlzLmRvYyA9IGRvYztcbn07XG5cbihmdW5jdGlvbihwcm90bykge1xuICBwcm90by5wYXJzZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5zdGFuY2VzID0gbmV3IEFycmF5KHRoaXMuZWxlbWVudHMubGVuZ3RoKTtcbiAgICB0aGlzLm51bUVsZW1lbnRzID0gdGhpcy5lbGVtZW50cy5sZW5ndGg7XG4gICAgdGhpcy5jcmVhdGVPYmplY3RzKCk7XG4gIH07XG5cbiAgcHJvdG8uY3JlYXRlT2JqZWN0cyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdGhpcy5lbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVsZW1lbnQsIGkpIHtcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdzdmdVaWQnLCBfdGhpcy5zdmdVaWQpO1xuICAgICAgX3RoaXMuY3JlYXRlT2JqZWN0KGVsZW1lbnQsIGkpO1xuICAgIH0pO1xuICB9O1xuXG4gIHByb3RvLmZpbmRUYWcgPSBmdW5jdGlvbihlbCkge1xuICAgIHJldHVybiBmYWJyaWNbZmFicmljLnV0aWwuc3RyaW5nLmNhcGl0YWxpemUoZWwudGFnTmFtZS5yZXBsYWNlKCdzdmc6JywgJycpKV07XG4gIH07XG5cbiAgcHJvdG8uY3JlYXRlT2JqZWN0ID0gZnVuY3Rpb24oZWwsIGluZGV4KSB7XG4gICAgdmFyIGtsYXNzID0gdGhpcy5maW5kVGFnKGVsKTtcbiAgICBpZiAoa2xhc3MgJiYga2xhc3MuZnJvbUVsZW1lbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGtsYXNzLmZyb21FbGVtZW50KGVsLCB0aGlzLmNyZWF0ZUNhbGxiYWNrKGluZGV4LCBlbCksIHRoaXMub3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGZhYnJpYy5sb2coZXJyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmNoZWNrSWZEb25lKCk7XG4gICAgfVxuICB9O1xuXG4gIHByb3RvLmNyZWF0ZUNhbGxiYWNrID0gZnVuY3Rpb24oaW5kZXgsIGVsKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqKSB7XG4gICAgICB2YXIgX29wdGlvbnM7XG4gICAgICBfdGhpcy5yZXNvbHZlR3JhZGllbnQob2JqLCBlbCwgJ2ZpbGwnKTtcbiAgICAgIF90aGlzLnJlc29sdmVHcmFkaWVudChvYmosIGVsLCAnc3Ryb2tlJyk7XG4gICAgICBpZiAob2JqIGluc3RhbmNlb2YgZmFicmljLkltYWdlICYmIG9iai5fb3JpZ2luYWxFbGVtZW50KSB7XG4gICAgICAgIF9vcHRpb25zID0gb2JqLnBhcnNlUHJlc2VydmVBc3BlY3RSYXRpb0F0dHJpYnV0ZShlbCk7XG4gICAgICB9XG4gICAgICBvYmouX3JlbW92ZVRyYW5zZm9ybU1hdHJpeChfb3B0aW9ucyk7XG4gICAgICBfdGhpcy5yZXNvbHZlQ2xpcFBhdGgob2JqLCBlbCk7XG4gICAgICBfdGhpcy5yZXZpdmVyICYmIF90aGlzLnJldml2ZXIoZWwsIG9iaik7XG4gICAgICBfdGhpcy5pbnN0YW5jZXNbaW5kZXhdID0gb2JqO1xuICAgICAgX3RoaXMuY2hlY2tJZkRvbmUoKTtcbiAgICB9O1xuICB9O1xuXG4gIHByb3RvLmV4dHJhY3RQcm9wZXJ0eURlZmluaXRpb24gPSBmdW5jdGlvbihvYmosIHByb3BlcnR5LCBzdG9yYWdlKSB7XG4gICAgdmFyIHZhbHVlID0gb2JqW3Byb3BlcnR5XSwgcmVnZXggPSB0aGlzLnJlZ2V4VXJsO1xuICAgIGlmICghcmVnZXgudGVzdCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmVnZXgubGFzdEluZGV4ID0gMDtcbiAgICB2YXIgaWQgPSByZWdleC5leGVjKHZhbHVlKVsxXTtcbiAgICByZWdleC5sYXN0SW5kZXggPSAwO1xuICAgIHJldHVybiBmYWJyaWNbc3RvcmFnZV1bdGhpcy5zdmdVaWRdW2lkXTtcbiAgfTtcblxuICBwcm90by5yZXNvbHZlR3JhZGllbnQgPSBmdW5jdGlvbihvYmosIGVsLCBwcm9wZXJ0eSkge1xuICAgIHZhciBncmFkaWVudERlZiA9IHRoaXMuZXh0cmFjdFByb3BlcnR5RGVmaW5pdGlvbihvYmosIHByb3BlcnR5LCAnZ3JhZGllbnREZWZzJyk7XG4gICAgaWYgKGdyYWRpZW50RGVmKSB7XG4gICAgICB2YXIgb3BhY2l0eUF0dHIgPSBlbC5nZXRBdHRyaWJ1dGUocHJvcGVydHkgKyAnLW9wYWNpdHknKTtcbiAgICAgIHZhciBncmFkaWVudCA9IGZhYnJpYy5HcmFkaWVudC5mcm9tRWxlbWVudChncmFkaWVudERlZiwgb2JqLCBvcGFjaXR5QXR0ciwgdGhpcy5vcHRpb25zKTtcbiAgICAgIG9iai5zZXQocHJvcGVydHksIGdyYWRpZW50KTtcbiAgICB9XG4gIH07XG5cbiAgcHJvdG8uY3JlYXRlQ2xpcFBhdGhDYWxsYmFjayA9IGZ1bmN0aW9uKG9iaiwgY29udGFpbmVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKF9uZXdPYmopIHtcbiAgICAgIF9uZXdPYmouX3JlbW92ZVRyYW5zZm9ybU1hdHJpeCgpO1xuICAgICAgX25ld09iai5maWxsUnVsZSA9IF9uZXdPYmouY2xpcFJ1bGU7XG4gICAgICBjb250YWluZXIucHVzaChfbmV3T2JqKTtcbiAgICB9O1xuICB9O1xuXG4gIHByb3RvLnJlc29sdmVDbGlwUGF0aCA9IGZ1bmN0aW9uKG9iaiwgdXNpbmdFbGVtZW50KSB7XG4gICAgdmFyIGNsaXBQYXRoID0gdGhpcy5leHRyYWN0UHJvcGVydHlEZWZpbml0aW9uKG9iaiwgJ2NsaXBQYXRoJywgJ2NsaXBQYXRocycpLFxuICAgICAgICBlbGVtZW50LCBrbGFzcywgb2JqVHJhbnNmb3JtSW52LCBjb250YWluZXIsIGdUcmFuc2Zvcm0sIG9wdGlvbnM7XG4gICAgaWYgKGNsaXBQYXRoKSB7XG4gICAgICBjb250YWluZXIgPSBbXTtcbiAgICAgIG9ialRyYW5zZm9ybUludiA9IGZhYnJpYy51dGlsLmludmVydFRyYW5zZm9ybShvYmouY2FsY1RyYW5zZm9ybU1hdHJpeCgpKTtcbiAgICAgIC8vIG1vdmUgdGhlIGNsaXBQYXRoIHRhZyBhcyBzaWJsaW5nIHRvIHRoZSByZWFsIGVsZW1lbnQgdGhhdCBpcyB1c2luZyBpdFxuICAgICAgdmFyIGNsaXBQYXRoVGFnID0gY2xpcFBhdGhbMF0ucGFyZW50Tm9kZTtcbiAgICAgIHZhciBjbGlwUGF0aE93bmVyID0gdXNpbmdFbGVtZW50O1xuICAgICAgd2hpbGUgKGNsaXBQYXRoT3duZXIucGFyZW50Tm9kZSAmJiBjbGlwUGF0aE93bmVyLmdldEF0dHJpYnV0ZSgnY2xpcC1wYXRoJykgIT09IG9iai5jbGlwUGF0aCkge1xuICAgICAgICBjbGlwUGF0aE93bmVyID0gY2xpcFBhdGhPd25lci5wYXJlbnROb2RlO1xuICAgICAgfVxuICAgICAgY2xpcFBhdGhPd25lci5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGNsaXBQYXRoVGFnKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2xpcFBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZWxlbWVudCA9IGNsaXBQYXRoW2ldO1xuICAgICAgICBrbGFzcyA9IHRoaXMuZmluZFRhZyhlbGVtZW50KTtcbiAgICAgICAga2xhc3MuZnJvbUVsZW1lbnQoXG4gICAgICAgICAgZWxlbWVudCxcbiAgICAgICAgICB0aGlzLmNyZWF0ZUNsaXBQYXRoQ2FsbGJhY2sob2JqLCBjb250YWluZXIpLFxuICAgICAgICAgIHRoaXMub3B0aW9uc1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGNvbnRhaW5lci5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgY2xpcFBhdGggPSBjb250YWluZXJbMF07XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY2xpcFBhdGggPSBuZXcgZmFicmljLkdyb3VwKGNvbnRhaW5lcik7XG4gICAgICB9XG4gICAgICBnVHJhbnNmb3JtID0gZmFicmljLnV0aWwubXVsdGlwbHlUcmFuc2Zvcm1NYXRyaWNlcyhcbiAgICAgICAgb2JqVHJhbnNmb3JtSW52LFxuICAgICAgICBjbGlwUGF0aC5jYWxjVHJhbnNmb3JtTWF0cml4KClcbiAgICAgICk7XG4gICAgICBpZiAoY2xpcFBhdGguY2xpcFBhdGgpIHtcbiAgICAgICAgdGhpcy5yZXNvbHZlQ2xpcFBhdGgoY2xpcFBhdGgsIGNsaXBQYXRoT3duZXIpO1xuICAgICAgfVxuICAgICAgdmFyIG9wdGlvbnMgPSBmYWJyaWMudXRpbC5xckRlY29tcG9zZShnVHJhbnNmb3JtKTtcbiAgICAgIGNsaXBQYXRoLmZsaXBYID0gZmFsc2U7XG4gICAgICBjbGlwUGF0aC5mbGlwWSA9IGZhbHNlO1xuICAgICAgY2xpcFBhdGguc2V0KCdzY2FsZVgnLCBvcHRpb25zLnNjYWxlWCk7XG4gICAgICBjbGlwUGF0aC5zZXQoJ3NjYWxlWScsIG9wdGlvbnMuc2NhbGVZKTtcbiAgICAgIGNsaXBQYXRoLmFuZ2xlID0gb3B0aW9ucy5hbmdsZTtcbiAgICAgIGNsaXBQYXRoLnNrZXdYID0gb3B0aW9ucy5za2V3WDtcbiAgICAgIGNsaXBQYXRoLnNrZXdZID0gMDtcbiAgICAgIGNsaXBQYXRoLnNldFBvc2l0aW9uQnlPcmlnaW4oeyB4OiBvcHRpb25zLnRyYW5zbGF0ZVgsIHk6IG9wdGlvbnMudHJhbnNsYXRlWSB9LCAnY2VudGVyJywgJ2NlbnRlcicpO1xuICAgICAgb2JqLmNsaXBQYXRoID0gY2xpcFBhdGg7XG4gICAgfVxuICB9O1xuXG4gIHByb3RvLmNoZWNrSWZEb25lID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKC0tdGhpcy5udW1FbGVtZW50cyA9PT0gMCkge1xuICAgICAgdGhpcy5pbnN0YW5jZXMgPSB0aGlzLmluc3RhbmNlcy5maWx0ZXIoZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGwsIGVxZXFlcVxuICAgICAgICByZXR1cm4gZWwgIT0gbnVsbDtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLmluc3RhbmNlcywgdGhpcy5lbGVtZW50cyk7XG4gICAgfVxuICB9O1xufSkoZmFicmljLkVsZW1lbnRzUGFyc2VyLnByb3RvdHlwZSk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICAvKiBBZGFwdGF0aW9uIG9mIHdvcmsgb2YgS2V2aW4gTGluZHNleSAoa2V2aW5Aa2V2bGluZGV2LmNvbSkgKi9cblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSk7XG5cbiAgaWYgKGZhYnJpYy5Qb2ludCkge1xuICAgIGZhYnJpYy53YXJuKCdmYWJyaWMuUG9pbnQgaXMgYWxyZWFkeSBkZWZpbmVkJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZmFicmljLlBvaW50ID0gUG9pbnQ7XG5cbiAgLyoqXG4gICAqIFBvaW50IGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuUG9pbnRcbiAgICogQG1lbWJlck9mIGZhYnJpY1xuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHhcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAgICogQHJldHVybiB7ZmFicmljLlBvaW50fSB0aGlzQXJnXG4gICAqL1xuICBmdW5jdGlvbiBQb2ludCh4LCB5KSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xuICB9XG5cbiAgUG9pbnQucHJvdG90eXBlID0gLyoqIEBsZW5kcyBmYWJyaWMuUG9pbnQucHJvdG90eXBlICovIHtcblxuICAgIHR5cGU6ICdwb2ludCcsXG5cbiAgICBjb25zdHJ1Y3RvcjogUG9pbnQsXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGFub3RoZXIgcG9pbnQgdG8gdGhpcyBvbmUgYW5kIHJldHVybnMgYW5vdGhlciBvbmVcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gdGhhdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH0gbmV3IFBvaW50IGluc3RhbmNlIHdpdGggYWRkZWQgdmFsdWVzXG4gICAgICovXG4gICAgYWRkOiBmdW5jdGlvbiAodGhhdCkge1xuICAgICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLnggKyB0aGF0LngsIHRoaXMueSArIHRoYXQueSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYW5vdGhlciBwb2ludCB0byB0aGlzIG9uZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSB0aGF0XG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGFkZEVxdWFsczogZnVuY3Rpb24gKHRoYXQpIHtcbiAgICAgIHRoaXMueCArPSB0aGF0Lng7XG4gICAgICB0aGlzLnkgKz0gdGhhdC55O1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZHMgdmFsdWUgdG8gdGhpcyBwb2ludCBhbmQgcmV0dXJucyBhIG5ldyBvbmVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGFyXG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fSBuZXcgUG9pbnQgd2l0aCBhZGRlZCB2YWx1ZVxuICAgICAqL1xuICAgIHNjYWxhckFkZDogZnVuY3Rpb24gKHNjYWxhcikge1xuICAgICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLnggKyBzY2FsYXIsIHRoaXMueSArIHNjYWxhcik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkZHMgdmFsdWUgdG8gdGhpcyBwb2ludFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsYXJcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2NhbGFyQWRkRXF1YWxzOiBmdW5jdGlvbiAoc2NhbGFyKSB7XG4gICAgICB0aGlzLnggKz0gc2NhbGFyO1xuICAgICAgdGhpcy55ICs9IHNjYWxhcjtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTdWJ0cmFjdHMgYW5vdGhlciBwb2ludCBmcm9tIHRoaXMgcG9pbnQgYW5kIHJldHVybnMgYSBuZXcgb25lXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHRoYXRcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9IG5ldyBQb2ludCBvYmplY3Qgd2l0aCBzdWJ0cmFjdGVkIHZhbHVlc1xuICAgICAqL1xuICAgIHN1YnRyYWN0OiBmdW5jdGlvbiAodGhhdCkge1xuICAgICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLnggLSB0aGF0LngsIHRoaXMueSAtIHRoYXQueSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0cyBhbm90aGVyIHBvaW50IGZyb20gdGhpcyBwb2ludFxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSB0aGF0XG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHN1YnRyYWN0RXF1YWxzOiBmdW5jdGlvbiAodGhhdCkge1xuICAgICAgdGhpcy54IC09IHRoYXQueDtcbiAgICAgIHRoaXMueSAtPSB0aGF0Lnk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU3VidHJhY3RzIHZhbHVlIGZyb20gdGhpcyBwb2ludCBhbmQgcmV0dXJucyBhIG5ldyBvbmVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGFyXG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fVxuICAgICAqL1xuICAgIHNjYWxhclN1YnRyYWN0OiBmdW5jdGlvbiAoc2NhbGFyKSB7XG4gICAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMueCAtIHNjYWxhciwgdGhpcy55IC0gc2NhbGFyKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU3VidHJhY3RzIHZhbHVlIGZyb20gdGhpcyBwb2ludFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzY2FsYXJcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2NhbGFyU3VidHJhY3RFcXVhbHM6IGZ1bmN0aW9uIChzY2FsYXIpIHtcbiAgICAgIHRoaXMueCAtPSBzY2FsYXI7XG4gICAgICB0aGlzLnkgLT0gc2NhbGFyO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE11bHRpcGxpZXMgdGhpcyBwb2ludCBieSBhIHZhbHVlIGFuZCByZXR1cm5zIGEgbmV3IG9uZVxuICAgICAqIFRPRE86IHJlbmFtZSBpbiBzY2FsYXJNdWx0aXBseSBpbiAyLjBcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGFyXG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fVxuICAgICAqL1xuICAgIG11bHRpcGx5OiBmdW5jdGlvbiAoc2NhbGFyKSB7XG4gICAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMueCAqIHNjYWxhciwgdGhpcy55ICogc2NhbGFyKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTXVsdGlwbGllcyB0aGlzIHBvaW50IGJ5IGEgdmFsdWVcbiAgICAgKiBUT0RPOiByZW5hbWUgaW4gc2NhbGFyTXVsdGlwbHlFcXVhbHMgaW4gMi4wXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxhclxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBtdWx0aXBseUVxdWFsczogZnVuY3Rpb24gKHNjYWxhcikge1xuICAgICAgdGhpcy54ICo9IHNjYWxhcjtcbiAgICAgIHRoaXMueSAqPSBzY2FsYXI7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGl2aWRlcyB0aGlzIHBvaW50IGJ5IGEgdmFsdWUgYW5kIHJldHVybnMgYSBuZXcgb25lXG4gICAgICogVE9ETzogcmVuYW1lIGluIHNjYWxhckRpdmlkZSBpbiAyLjBcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGFyXG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fVxuICAgICAqL1xuICAgIGRpdmlkZTogZnVuY3Rpb24gKHNjYWxhcikge1xuICAgICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLnggLyBzY2FsYXIsIHRoaXMueSAvIHNjYWxhcik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERpdmlkZXMgdGhpcyBwb2ludCBieSBhIHZhbHVlXG4gICAgICogVE9ETzogcmVuYW1lIGluIHNjYWxhckRpdmlkZUVxdWFscyBpbiAyLjBcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGFyXG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGRpdmlkZUVxdWFsczogZnVuY3Rpb24gKHNjYWxhcikge1xuICAgICAgdGhpcy54IC89IHNjYWxhcjtcbiAgICAgIHRoaXMueSAvPSBzY2FsYXI7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgcG9pbnQgaXMgZXF1YWwgdG8gYW5vdGhlciBvbmVcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gdGhhdFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgZXE6IGZ1bmN0aW9uICh0aGF0KSB7XG4gICAgICByZXR1cm4gKHRoaXMueCA9PT0gdGhhdC54ICYmIHRoaXMueSA9PT0gdGhhdC55KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgcG9pbnQgaXMgbGVzcyB0aGFuIGFub3RoZXIgb25lXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHRoYXRcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGx0OiBmdW5jdGlvbiAodGhhdCkge1xuICAgICAgcmV0dXJuICh0aGlzLnggPCB0aGF0LnggJiYgdGhpcy55IDwgdGhhdC55KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgcG9pbnQgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGFub3RoZXIgb25lXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHRoYXRcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGx0ZTogZnVuY3Rpb24gKHRoYXQpIHtcbiAgICAgIHJldHVybiAodGhpcy54IDw9IHRoYXQueCAmJiB0aGlzLnkgPD0gdGhhdC55KTtcbiAgICB9LFxuXG4gICAgLyoqXG5cbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBwb2ludCBpcyBncmVhdGVyIGFub3RoZXIgb25lXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHRoYXRcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGd0OiBmdW5jdGlvbiAodGhhdCkge1xuICAgICAgcmV0dXJuICh0aGlzLnggPiB0aGF0LnggJiYgdGhpcy55ID4gdGhhdC55KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgcG9pbnQgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGFub3RoZXIgb25lXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHRoYXRcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGd0ZTogZnVuY3Rpb24gKHRoYXQpIHtcbiAgICAgIHJldHVybiAodGhpcy54ID49IHRoYXQueCAmJiB0aGlzLnkgPj0gdGhhdC55KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBuZXcgcG9pbnQgd2hpY2ggaXMgdGhlIHJlc3VsdCBvZiBsaW5lYXIgaW50ZXJwb2xhdGlvbiB3aXRoIHRoaXMgb25lIGFuZCBhbm90aGVyIG9uZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSB0aGF0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHQgLCBwb3NpdGlvbiBvZiBpbnRlcnBvbGF0aW9uLCBiZXR3ZWVuIDAgYW5kIDEgZGVmYXVsdCAwLjVcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9XG4gICAgICovXG4gICAgbGVycDogZnVuY3Rpb24gKHRoYXQsIHQpIHtcbiAgICAgIGlmICh0eXBlb2YgdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdCA9IDAuNTtcbiAgICAgIH1cbiAgICAgIHQgPSBNYXRoLm1heChNYXRoLm1pbigxLCB0KSwgMCk7XG4gICAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMueCArICh0aGF0LnggLSB0aGlzLngpICogdCwgdGhpcy55ICsgKHRoYXQueSAtIHRoaXMueSkgKiB0KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBkaXN0YW5jZSBmcm9tIHRoaXMgcG9pbnQgYW5kIGFub3RoZXIgb25lXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHRoYXRcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICovXG4gICAgZGlzdGFuY2VGcm9tOiBmdW5jdGlvbiAodGhhdCkge1xuICAgICAgdmFyIGR4ID0gdGhpcy54IC0gdGhhdC54LFxuICAgICAgICAgIGR5ID0gdGhpcy55IC0gdGhhdC55O1xuICAgICAgcmV0dXJuIE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHBvaW50IGJldHdlZW4gdGhpcyBwb2ludCBhbmQgYW5vdGhlciBvbmVcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gdGhhdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH1cbiAgICAgKi9cbiAgICBtaWRQb2ludEZyb206IGZ1bmN0aW9uICh0aGF0KSB7XG4gICAgICByZXR1cm4gdGhpcy5sZXJwKHRoYXQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IHBvaW50IHdoaWNoIGlzIHRoZSBtaW4gb2YgdGhpcyBhbmQgYW5vdGhlciBvbmVcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gdGhhdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH1cbiAgICAgKi9cbiAgICBtaW46IGZ1bmN0aW9uICh0aGF0KSB7XG4gICAgICByZXR1cm4gbmV3IFBvaW50KE1hdGgubWluKHRoaXMueCwgdGhhdC54KSwgTWF0aC5taW4odGhpcy55LCB0aGF0LnkpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBwb2ludCB3aGljaCBpcyB0aGUgbWF4IG9mIHRoaXMgYW5kIGFub3RoZXIgb25lXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHRoYXRcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9XG4gICAgICovXG4gICAgbWF4OiBmdW5jdGlvbiAodGhhdCkge1xuICAgICAgcmV0dXJuIG5ldyBQb2ludChNYXRoLm1heCh0aGlzLngsIHRoYXQueCksIE1hdGgubWF4KHRoaXMueSwgdGhhdC55KSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnggKyAnLCcgKyB0aGlzLnk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgeC95IG9mIHRoaXMgcG9pbnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHNldFhZOiBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgdGhpcy54ID0geDtcbiAgICAgIHRoaXMueSA9IHk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB4IG9mIHRoaXMgcG9pbnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geFxuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXRYOiBmdW5jdGlvbiAoeCkge1xuICAgICAgdGhpcy54ID0geDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHkgb2YgdGhpcyBwb2ludFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5XG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHNldFk6IGZ1bmN0aW9uICh5KSB7XG4gICAgICB0aGlzLnkgPSB5O1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgeC95IG9mIHRoaXMgcG9pbnQgZnJvbSBhbm90aGVyIHBvaW50XG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHRoYXRcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2V0RnJvbVBvaW50OiBmdW5jdGlvbiAodGhhdCkge1xuICAgICAgdGhpcy54ID0gdGhhdC54O1xuICAgICAgdGhpcy55ID0gdGhhdC55O1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFN3YXBzIHgveSBvZiB0aGlzIHBvaW50IGFuZCBhbm90aGVyIHBvaW50XG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHRoYXRcbiAgICAgKi9cbiAgICBzd2FwOiBmdW5jdGlvbiAodGhhdCkge1xuICAgICAgdmFyIHggPSB0aGlzLngsXG4gICAgICAgICAgeSA9IHRoaXMueTtcbiAgICAgIHRoaXMueCA9IHRoYXQueDtcbiAgICAgIHRoaXMueSA9IHRoYXQueTtcbiAgICAgIHRoYXQueCA9IHg7XG4gICAgICB0aGF0LnkgPSB5O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZXR1cm4gYSBjbG9uZWQgaW5zdGFuY2Ugb2YgdGhlIHBvaW50XG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fVxuICAgICAqL1xuICAgIGNsb25lOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gbmV3IFBvaW50KHRoaXMueCwgdGhpcy55KTtcbiAgICB9XG4gIH07XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qIEFkYXB0YXRpb24gb2Ygd29yayBvZiBLZXZpbiBMaW5kc2V5IChrZXZpbkBrZXZsaW5kZXYuY29tKSAqL1xuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSk7XG5cbiAgaWYgKGZhYnJpYy5JbnRlcnNlY3Rpb24pIHtcbiAgICBmYWJyaWMud2FybignZmFicmljLkludGVyc2VjdGlvbiBpcyBhbHJlYWR5IGRlZmluZWQnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogSW50ZXJzZWN0aW9uIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuSW50ZXJzZWN0aW9uXG4gICAqIEBtZW1iZXJPZiBmYWJyaWNcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBmdW5jdGlvbiBJbnRlcnNlY3Rpb24oc3RhdHVzKSB7XG4gICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgdGhpcy5wb2ludHMgPSBbXTtcbiAgfVxuXG4gIGZhYnJpYy5JbnRlcnNlY3Rpb24gPSBJbnRlcnNlY3Rpb247XG5cbiAgZmFicmljLkludGVyc2VjdGlvbi5wcm90b3R5cGUgPSAvKiogQGxlbmRzIGZhYnJpYy5JbnRlcnNlY3Rpb24ucHJvdG90eXBlICovIHtcblxuICAgIGNvbnN0cnVjdG9yOiBJbnRlcnNlY3Rpb24sXG5cbiAgICAvKipcbiAgICAgKiBBcHBlbmRzIGEgcG9pbnQgdG8gaW50ZXJzZWN0aW9uXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHBvaW50XG4gICAgICogQHJldHVybiB7ZmFicmljLkludGVyc2VjdGlvbn0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBhcHBlbmRQb2ludDogZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICB0aGlzLnBvaW50cy5wdXNoKHBvaW50KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBcHBlbmRzIHBvaW50cyB0byBpbnRlcnNlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwb2ludHNcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuSW50ZXJzZWN0aW9ufSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGFwcGVuZFBvaW50czogZnVuY3Rpb24gKHBvaW50cykge1xuICAgICAgdGhpcy5wb2ludHMgPSB0aGlzLnBvaW50cy5jb25jYXQocG9pbnRzKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIGlmIG9uZSBsaW5lIGludGVyc2VjdHMgYW5vdGhlclxuICAgKiBUT0RPOiByZW5hbWUgaW4gaW50ZXJzZWN0U2VnbWVudFNlZ21lbnRcbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gYTFcbiAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IGEyXG4gICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBiMVxuICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gYjJcbiAgICogQHJldHVybiB7ZmFicmljLkludGVyc2VjdGlvbn1cbiAgICovXG4gIGZhYnJpYy5JbnRlcnNlY3Rpb24uaW50ZXJzZWN0TGluZUxpbmUgPSBmdW5jdGlvbiAoYTEsIGEyLCBiMSwgYjIpIHtcbiAgICB2YXIgcmVzdWx0LFxuICAgICAgICB1YVQgPSAoYjIueCAtIGIxLngpICogKGExLnkgLSBiMS55KSAtIChiMi55IC0gYjEueSkgKiAoYTEueCAtIGIxLngpLFxuICAgICAgICB1YlQgPSAoYTIueCAtIGExLngpICogKGExLnkgLSBiMS55KSAtIChhMi55IC0gYTEueSkgKiAoYTEueCAtIGIxLngpLFxuICAgICAgICB1QiA9IChiMi55IC0gYjEueSkgKiAoYTIueCAtIGExLngpIC0gKGIyLnggLSBiMS54KSAqIChhMi55IC0gYTEueSk7XG4gICAgaWYgKHVCICE9PSAwKSB7XG4gICAgICB2YXIgdWEgPSB1YVQgLyB1QixcbiAgICAgICAgICB1YiA9IHViVCAvIHVCO1xuICAgICAgaWYgKDAgPD0gdWEgJiYgdWEgPD0gMSAmJiAwIDw9IHViICYmIHViIDw9IDEpIHtcbiAgICAgICAgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbignSW50ZXJzZWN0aW9uJyk7XG4gICAgICAgIHJlc3VsdC5hcHBlbmRQb2ludChuZXcgZmFicmljLlBvaW50KGExLnggKyB1YSAqIChhMi54IC0gYTEueCksIGExLnkgKyB1YSAqIChhMi55IC0gYTEueSkpKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaWYgKHVhVCA9PT0gMCB8fCB1YlQgPT09IDApIHtcbiAgICAgICAgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbignQ29pbmNpZGVudCcpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oJ1BhcmFsbGVsJyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBsaW5lIGludGVyc2VjdHMgcG9seWdvblxuICAgKiBUT0RPOiByZW5hbWUgaW4gaW50ZXJzZWN0U2VnbWVudFBvbHlnb25cbiAgICogZml4IGRldGVjdGlvbiBvZiBjb2luY2lkZW50XG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IGExXG4gICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBhMlxuICAgKiBAcGFyYW0ge0FycmF5fSBwb2ludHNcbiAgICogQHJldHVybiB7ZmFicmljLkludGVyc2VjdGlvbn1cbiAgICovXG4gIGZhYnJpYy5JbnRlcnNlY3Rpb24uaW50ZXJzZWN0TGluZVBvbHlnb24gPSBmdW5jdGlvbihhMSwgYTIsIHBvaW50cykge1xuICAgIHZhciByZXN1bHQgPSBuZXcgSW50ZXJzZWN0aW9uKCksXG4gICAgICAgIGxlbmd0aCA9IHBvaW50cy5sZW5ndGgsXG4gICAgICAgIGIxLCBiMiwgaW50ZXIsIGk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGIxID0gcG9pbnRzW2ldO1xuICAgICAgYjIgPSBwb2ludHNbKGkgKyAxKSAlIGxlbmd0aF07XG4gICAgICBpbnRlciA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RMaW5lTGluZShhMSwgYTIsIGIxLCBiMik7XG5cbiAgICAgIHJlc3VsdC5hcHBlbmRQb2ludHMoaW50ZXIucG9pbnRzKTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdC5wb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgcmVzdWx0LnN0YXR1cyA9ICdJbnRlcnNlY3Rpb24nO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgcG9seWdvbiBpbnRlcnNlY3RzIGFub3RoZXIgcG9seWdvblxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7QXJyYXl9IHBvaW50czFcbiAgICogQHBhcmFtIHtBcnJheX0gcG9pbnRzMlxuICAgKiBAcmV0dXJuIHtmYWJyaWMuSW50ZXJzZWN0aW9ufVxuICAgKi9cbiAgZmFicmljLkludGVyc2VjdGlvbi5pbnRlcnNlY3RQb2x5Z29uUG9seWdvbiA9IGZ1bmN0aW9uIChwb2ludHMxLCBwb2ludHMyKSB7XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBJbnRlcnNlY3Rpb24oKSxcbiAgICAgICAgbGVuZ3RoID0gcG9pbnRzMS5sZW5ndGgsIGk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBhMSA9IHBvaW50czFbaV0sXG4gICAgICAgICAgYTIgPSBwb2ludHMxWyhpICsgMSkgJSBsZW5ndGhdLFxuICAgICAgICAgIGludGVyID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdExpbmVQb2x5Z29uKGExLCBhMiwgcG9pbnRzMik7XG5cbiAgICAgIHJlc3VsdC5hcHBlbmRQb2ludHMoaW50ZXIucG9pbnRzKTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdC5wb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgcmVzdWx0LnN0YXR1cyA9ICdJbnRlcnNlY3Rpb24nO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgcG9seWdvbiBpbnRlcnNlY3RzIHJlY3RhbmdsZVxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7QXJyYXl9IHBvaW50c1xuICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gcjFcbiAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHIyXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbnRlcnNlY3Rpb259XG4gICAqL1xuICBmYWJyaWMuSW50ZXJzZWN0aW9uLmludGVyc2VjdFBvbHlnb25SZWN0YW5nbGUgPSBmdW5jdGlvbiAocG9pbnRzLCByMSwgcjIpIHtcbiAgICB2YXIgbWluID0gcjEubWluKHIyKSxcbiAgICAgICAgbWF4ID0gcjEubWF4KHIyKSxcbiAgICAgICAgdG9wUmlnaHQgPSBuZXcgZmFicmljLlBvaW50KG1heC54LCBtaW4ueSksXG4gICAgICAgIGJvdHRvbUxlZnQgPSBuZXcgZmFicmljLlBvaW50KG1pbi54LCBtYXgueSksXG4gICAgICAgIGludGVyMSA9IEludGVyc2VjdGlvbi5pbnRlcnNlY3RMaW5lUG9seWdvbihtaW4sIHRvcFJpZ2h0LCBwb2ludHMpLFxuICAgICAgICBpbnRlcjIgPSBJbnRlcnNlY3Rpb24uaW50ZXJzZWN0TGluZVBvbHlnb24odG9wUmlnaHQsIG1heCwgcG9pbnRzKSxcbiAgICAgICAgaW50ZXIzID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdExpbmVQb2x5Z29uKG1heCwgYm90dG9tTGVmdCwgcG9pbnRzKSxcbiAgICAgICAgaW50ZXI0ID0gSW50ZXJzZWN0aW9uLmludGVyc2VjdExpbmVQb2x5Z29uKGJvdHRvbUxlZnQsIG1pbiwgcG9pbnRzKSxcbiAgICAgICAgcmVzdWx0ID0gbmV3IEludGVyc2VjdGlvbigpO1xuXG4gICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlcjEucG9pbnRzKTtcbiAgICByZXN1bHQuYXBwZW5kUG9pbnRzKGludGVyMi5wb2ludHMpO1xuICAgIHJlc3VsdC5hcHBlbmRQb2ludHMoaW50ZXIzLnBvaW50cyk7XG4gICAgcmVzdWx0LmFwcGVuZFBvaW50cyhpbnRlcjQucG9pbnRzKTtcblxuICAgIGlmIChyZXN1bHQucG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJlc3VsdC5zdGF0dXMgPSAnSW50ZXJzZWN0aW9uJztcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pO1xuXG4gIGlmIChmYWJyaWMuQ29sb3IpIHtcbiAgICBmYWJyaWMud2FybignZmFicmljLkNvbG9yIGlzIGFscmVhZHkgZGVmaW5lZC4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ29sb3IgY2xhc3NcbiAgICogVGhlIHB1cnBvc2Ugb2Yge0BsaW5rIGZhYnJpYy5Db2xvcn0gaXMgdG8gYWJzdHJhY3QgYW5kIGVuY2Fwc3VsYXRlIGNvbW1vbiBjb2xvciBvcGVyYXRpb25zO1xuICAgKiB7QGxpbmsgZmFicmljLkNvbG9yfSBpcyBhIGNvbnN0cnVjdG9yIGFuZCBjcmVhdGVzIGluc3RhbmNlcyBvZiB7QGxpbmsgZmFicmljLkNvbG9yfSBvYmplY3RzLlxuICAgKlxuICAgKiBAY2xhc3MgZmFicmljLkNvbG9yXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjb2xvciBvcHRpb25hbCBpbiBoZXggb3IgcmdiKGEpIG9yIGhzbCBmb3JtYXQgb3IgZnJvbSBrbm93biBjb2xvciBsaXN0XG4gICAqIEByZXR1cm4ge2ZhYnJpYy5Db2xvcn0gdGhpc0FyZ1xuICAgKiBAdHV0b3JpYWwge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vZmFicmljLWludHJvLXBhcnQtMi8jY29sb3JzfVxuICAgKi9cbiAgZnVuY3Rpb24gQ29sb3IoY29sb3IpIHtcbiAgICBpZiAoIWNvbG9yKSB7XG4gICAgICB0aGlzLnNldFNvdXJjZShbMCwgMCwgMCwgMV0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuX3RyeVBhcnNpbmdDb2xvcihjb2xvcik7XG4gICAgfVxuICB9XG5cbiAgZmFicmljLkNvbG9yID0gQ29sb3I7XG5cbiAgZmFicmljLkNvbG9yLnByb3RvdHlwZSA9IC8qKiBAbGVuZHMgZmFicmljLkNvbG9yLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfEFycmF5fSBjb2xvciBDb2xvciB2YWx1ZSB0byBwYXJzZVxuICAgICAqL1xuICAgIF90cnlQYXJzaW5nQ29sb3I6IGZ1bmN0aW9uKGNvbG9yKSB7XG4gICAgICB2YXIgc291cmNlO1xuXG4gICAgICBpZiAoY29sb3IgaW4gQ29sb3IuY29sb3JOYW1lTWFwKSB7XG4gICAgICAgIGNvbG9yID0gQ29sb3IuY29sb3JOYW1lTWFwW2NvbG9yXTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNvbG9yID09PSAndHJhbnNwYXJlbnQnKSB7XG4gICAgICAgIHNvdXJjZSA9IFsyNTUsIDI1NSwgMjU1LCAwXTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgc291cmNlID0gQ29sb3Iuc291cmNlRnJvbUhleChjb2xvcik7XG4gICAgICB9XG4gICAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICBzb3VyY2UgPSBDb2xvci5zb3VyY2VGcm9tUmdiKGNvbG9yKTtcbiAgICAgIH1cbiAgICAgIGlmICghc291cmNlKSB7XG4gICAgICAgIHNvdXJjZSA9IENvbG9yLnNvdXJjZUZyb21Ic2woY29sb3IpO1xuICAgICAgfVxuICAgICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgLy9pZiBjb2xvciBpcyBub3QgcmVjb2duaXplIGxldCdzIG1ha2UgYmxhY2sgYXMgY2FudmFzIGRvZXNcbiAgICAgICAgc291cmNlID0gWzAsIDAsIDAsIDFdO1xuICAgICAgfVxuICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICB0aGlzLnNldFNvdXJjZShzb3VyY2UpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGFwdGVkIGZyb20gPGEgaHJlZj1cImh0dHBzOi8vcmF3Z2l0aHViLmNvbS9tamlqYWNrc29uL21qaWphY2tzb24uZ2l0aHViLmNvbS9tYXN0ZXIvMjAwOC8wMi9yZ2ItdG8taHNsLWFuZC1yZ2ItdG8taHN2LWNvbG9yLW1vZGVsLWNvbnZlcnNpb24tYWxnb3JpdGhtcy1pbi1qYXZhc2NyaXB0Lmh0bWxcIj5odHRwczovL2dpdGh1Yi5jb20vbWppamFja3NvbjwvYT5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByIFJlZCBjb2xvciB2YWx1ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBnIEdyZWVuIGNvbG9yIHZhbHVlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGIgQmx1ZSBjb2xvciB2YWx1ZVxuICAgICAqIEByZXR1cm4ge0FycmF5fSBIc2wgY29sb3JcbiAgICAgKi9cbiAgICBfcmdiVG9Ic2w6IGZ1bmN0aW9uKHIsIGcsIGIpIHtcbiAgICAgIHIgLz0gMjU1OyBnIC89IDI1NTsgYiAvPSAyNTU7XG5cbiAgICAgIHZhciBoLCBzLCBsLFxuICAgICAgICAgIG1heCA9IGZhYnJpYy51dGlsLmFycmF5Lm1heChbciwgZywgYl0pLFxuICAgICAgICAgIG1pbiA9IGZhYnJpYy51dGlsLmFycmF5Lm1pbihbciwgZywgYl0pO1xuXG4gICAgICBsID0gKG1heCArIG1pbikgLyAyO1xuXG4gICAgICBpZiAobWF4ID09PSBtaW4pIHtcbiAgICAgICAgaCA9IHMgPSAwOyAvLyBhY2hyb21hdGljXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIGQgPSBtYXggLSBtaW47XG4gICAgICAgIHMgPSBsID4gMC41ID8gZCAvICgyIC0gbWF4IC0gbWluKSA6IGQgLyAobWF4ICsgbWluKTtcbiAgICAgICAgc3dpdGNoIChtYXgpIHtcbiAgICAgICAgICBjYXNlIHI6XG4gICAgICAgICAgICBoID0gKGcgLSBiKSAvIGQgKyAoZyA8IGIgPyA2IDogMCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIGc6XG4gICAgICAgICAgICBoID0gKGIgLSByKSAvIGQgKyAyO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBiOlxuICAgICAgICAgICAgaCA9IChyIC0gZykgLyBkICsgNDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGggLz0gNjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFtcbiAgICAgICAgTWF0aC5yb3VuZChoICogMzYwKSxcbiAgICAgICAgTWF0aC5yb3VuZChzICogMTAwKSxcbiAgICAgICAgTWF0aC5yb3VuZChsICogMTAwKVxuICAgICAgXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzb3VyY2Ugb2YgdGhpcyBjb2xvciAod2hlcmUgc291cmNlIGlzIGFuIGFycmF5IHJlcHJlc2VudGF0aW9uOyBleDogWzIwMCwgMjAwLCAxMDAsIDFdKVxuICAgICAqIEByZXR1cm4ge0FycmF5fVxuICAgICAqL1xuICAgIGdldFNvdXJjZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc291cmNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHNvdXJjZSBvZiB0aGlzIGNvbG9yICh3aGVyZSBzb3VyY2UgaXMgYW4gYXJyYXkgcmVwcmVzZW50YXRpb247IGV4OiBbMjAwLCAyMDAsIDEwMCwgMV0pXG4gICAgICogQHBhcmFtIHtBcnJheX0gc291cmNlXG4gICAgICovXG4gICAgc2V0U291cmNlOiBmdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgIHRoaXMuX3NvdXJjZSA9IHNvdXJjZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb2xvciByZXByZXNlbnRhdGlvbiBpbiBSR0IgZm9ybWF0XG4gICAgICogQHJldHVybiB7U3RyaW5nfSBleDogcmdiKDAtMjU1LDAtMjU1LDAtMjU1KVxuICAgICAqL1xuICAgIHRvUmdiOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldFNvdXJjZSgpO1xuICAgICAgcmV0dXJuICdyZ2IoJyArIHNvdXJjZVswXSArICcsJyArIHNvdXJjZVsxXSArICcsJyArIHNvdXJjZVsyXSArICcpJztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb2xvciByZXByZXNlbnRhdGlvbiBpbiBSR0JBIGZvcm1hdFxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gZXg6IHJnYmEoMC0yNTUsMC0yNTUsMC0yNTUsMC0xKVxuICAgICAqL1xuICAgIHRvUmdiYTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc291cmNlID0gdGhpcy5nZXRTb3VyY2UoKTtcbiAgICAgIHJldHVybiAncmdiYSgnICsgc291cmNlWzBdICsgJywnICsgc291cmNlWzFdICsgJywnICsgc291cmNlWzJdICsgJywnICsgc291cmNlWzNdICsgJyknO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvbG9yIHJlcHJlc2VudGF0aW9uIGluIEhTTCBmb3JtYXRcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IGV4OiBoc2woMC0zNjAsMCUtMTAwJSwwJS0xMDAlKVxuICAgICAqL1xuICAgIHRvSHNsOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldFNvdXJjZSgpLFxuICAgICAgICAgIGhzbCA9IHRoaXMuX3JnYlRvSHNsKHNvdXJjZVswXSwgc291cmNlWzFdLCBzb3VyY2VbMl0pO1xuXG4gICAgICByZXR1cm4gJ2hzbCgnICsgaHNsWzBdICsgJywnICsgaHNsWzFdICsgJyUsJyArIGhzbFsyXSArICclKSc7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY29sb3IgcmVwcmVzZW50YXRpb24gaW4gSFNMQSBmb3JtYXRcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IGV4OiBoc2xhKDAtMzYwLDAlLTEwMCUsMCUtMTAwJSwwLTEpXG4gICAgICovXG4gICAgdG9Ic2xhOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldFNvdXJjZSgpLFxuICAgICAgICAgIGhzbCA9IHRoaXMuX3JnYlRvSHNsKHNvdXJjZVswXSwgc291cmNlWzFdLCBzb3VyY2VbMl0pO1xuXG4gICAgICByZXR1cm4gJ2hzbGEoJyArIGhzbFswXSArICcsJyArIGhzbFsxXSArICclLCcgKyBoc2xbMl0gKyAnJSwnICsgc291cmNlWzNdICsgJyknO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvbG9yIHJlcHJlc2VudGF0aW9uIGluIEhFWCBmb3JtYXRcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IGV4OiBGRjU1NTVcbiAgICAgKi9cbiAgICB0b0hleDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc291cmNlID0gdGhpcy5nZXRTb3VyY2UoKSwgciwgZywgYjtcblxuICAgICAgciA9IHNvdXJjZVswXS50b1N0cmluZygxNik7XG4gICAgICByID0gKHIubGVuZ3RoID09PSAxKSA/ICgnMCcgKyByKSA6IHI7XG5cbiAgICAgIGcgPSBzb3VyY2VbMV0udG9TdHJpbmcoMTYpO1xuICAgICAgZyA9IChnLmxlbmd0aCA9PT0gMSkgPyAoJzAnICsgZykgOiBnO1xuXG4gICAgICBiID0gc291cmNlWzJdLnRvU3RyaW5nKDE2KTtcbiAgICAgIGIgPSAoYi5sZW5ndGggPT09IDEpID8gKCcwJyArIGIpIDogYjtcblxuICAgICAgcmV0dXJuIHIudG9VcHBlckNhc2UoKSArIGcudG9VcHBlckNhc2UoKSArIGIudG9VcHBlckNhc2UoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb2xvciByZXByZXNlbnRhdGlvbiBpbiBIRVhBIGZvcm1hdFxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gZXg6IEZGNTU1NUNDXG4gICAgICovXG4gICAgdG9IZXhhOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldFNvdXJjZSgpLCBhO1xuXG4gICAgICBhID0gTWF0aC5yb3VuZChzb3VyY2VbM10gKiAyNTUpO1xuICAgICAgYSA9IGEudG9TdHJpbmcoMTYpO1xuICAgICAgYSA9IChhLmxlbmd0aCA9PT0gMSkgPyAoJzAnICsgYSkgOiBhO1xuXG4gICAgICByZXR1cm4gdGhpcy50b0hleCgpICsgYS50b1VwcGVyQ2FzZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHZhbHVlIG9mIGFscGhhIGNoYW5uZWwgZm9yIHRoaXMgY29sb3JcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IDAtMVxuICAgICAqL1xuICAgIGdldEFscGhhOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldFNvdXJjZSgpWzNdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHZhbHVlIG9mIGFscGhhIGNoYW5uZWwgZm9yIHRoaXMgY29sb3JcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYWxwaGEgQWxwaGEgdmFsdWUgMC0xXG4gICAgICogQHJldHVybiB7ZmFicmljLkNvbG9yfSB0aGlzQXJnXG4gICAgICovXG4gICAgc2V0QWxwaGE6IGZ1bmN0aW9uKGFscGhhKSB7XG4gICAgICB2YXIgc291cmNlID0gdGhpcy5nZXRTb3VyY2UoKTtcbiAgICAgIHNvdXJjZVszXSA9IGFscGhhO1xuICAgICAgdGhpcy5zZXRTb3VyY2Uoc291cmNlKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm1zIGNvbG9yIHRvIGl0cyBncmF5c2NhbGUgcmVwcmVzZW50YXRpb25cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ29sb3J9IHRoaXNBcmdcbiAgICAgKi9cbiAgICB0b0dyYXlzY2FsZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc291cmNlID0gdGhpcy5nZXRTb3VyY2UoKSxcbiAgICAgICAgICBhdmVyYWdlID0gcGFyc2VJbnQoKHNvdXJjZVswXSAqIDAuMyArIHNvdXJjZVsxXSAqIDAuNTkgKyBzb3VyY2VbMl0gKiAwLjExKS50b0ZpeGVkKDApLCAxMCksXG4gICAgICAgICAgY3VycmVudEFscGhhID0gc291cmNlWzNdO1xuICAgICAgdGhpcy5zZXRTb3VyY2UoW2F2ZXJhZ2UsIGF2ZXJhZ2UsIGF2ZXJhZ2UsIGN1cnJlbnRBbHBoYV0pO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybXMgY29sb3IgdG8gaXRzIGJsYWNrIGFuZCB3aGl0ZSByZXByZXNlbnRhdGlvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0aHJlc2hvbGRcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ29sb3J9IHRoaXNBcmdcbiAgICAgKi9cbiAgICB0b0JsYWNrV2hpdGU6IGZ1bmN0aW9uKHRocmVzaG9sZCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuZ2V0U291cmNlKCksXG4gICAgICAgICAgYXZlcmFnZSA9IChzb3VyY2VbMF0gKiAwLjMgKyBzb3VyY2VbMV0gKiAwLjU5ICsgc291cmNlWzJdICogMC4xMSkudG9GaXhlZCgwKSxcbiAgICAgICAgICBjdXJyZW50QWxwaGEgPSBzb3VyY2VbM107XG5cbiAgICAgIHRocmVzaG9sZCA9IHRocmVzaG9sZCB8fCAxMjc7XG5cbiAgICAgIGF2ZXJhZ2UgPSAoTnVtYmVyKGF2ZXJhZ2UpIDwgTnVtYmVyKHRocmVzaG9sZCkpID8gMCA6IDI1NTtcbiAgICAgIHRoaXMuc2V0U291cmNlKFthdmVyYWdlLCBhdmVyYWdlLCBhdmVyYWdlLCBjdXJyZW50QWxwaGFdKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBPdmVybGF5cyBjb2xvciB3aXRoIGFub3RoZXIgY29sb3JcbiAgICAgKiBAcGFyYW0ge1N0cmluZ3xmYWJyaWMuQ29sb3J9IG90aGVyQ29sb3JcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ29sb3J9IHRoaXNBcmdcbiAgICAgKi9cbiAgICBvdmVybGF5V2l0aDogZnVuY3Rpb24ob3RoZXJDb2xvcikge1xuICAgICAgaWYgKCEob3RoZXJDb2xvciBpbnN0YW5jZW9mIENvbG9yKSkge1xuICAgICAgICBvdGhlckNvbG9yID0gbmV3IENvbG9yKG90aGVyQ29sb3IpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVzdWx0ID0gW10sXG4gICAgICAgICAgYWxwaGEgPSB0aGlzLmdldEFscGhhKCksXG4gICAgICAgICAgb3RoZXJBbHBoYSA9IDAuNSxcbiAgICAgICAgICBzb3VyY2UgPSB0aGlzLmdldFNvdXJjZSgpLFxuICAgICAgICAgIG90aGVyU291cmNlID0gb3RoZXJDb2xvci5nZXRTb3VyY2UoKSwgaTtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICByZXN1bHQucHVzaChNYXRoLnJvdW5kKChzb3VyY2VbaV0gKiAoMSAtIG90aGVyQWxwaGEpKSArIChvdGhlclNvdXJjZVtpXSAqIG90aGVyQWxwaGEpKSk7XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdFszXSA9IGFscGhhO1xuICAgICAgdGhpcy5zZXRTb3VyY2UocmVzdWx0KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUmVnZXggbWF0Y2hpbmcgY29sb3IgaW4gUkdCIG9yIFJHQkEgZm9ybWF0cyAoZXg6IHJnYigwLCAwLCAwKSwgcmdiYSgyNTUsIDEwMCwgMTAsIDAuNSksIHJnYmEoIDI1NSAsIDEwMCAsIDEwICwgMC41ICksIHJnYigxLDEsMSksIHJnYmEoMTAwJSwgNjAlLCAxMCUsIDAuNSkpXG4gICAqIEBzdGF0aWNcbiAgICogQGZpZWxkXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuQ29sb3JcbiAgICovXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gIGZhYnJpYy5Db2xvci5yZVJHQmEgPSAvXnJnYmE/XFwoXFxzKihcXGR7MSwzfSg/OlxcLlxcZCspP1xcJT8pXFxzKixcXHMqKFxcZHsxLDN9KD86XFwuXFxkKyk/XFwlPylcXHMqLFxccyooXFxkezEsM30oPzpcXC5cXGQrKT9cXCU/KVxccyooPzpcXHMqLFxccyooKD86XFxkKlxcLj9cXGQrKT8pXFxzKik/XFwpJC9pO1xuXG4gIC8qKlxuICAgKiBSZWdleCBtYXRjaGluZyBjb2xvciBpbiBIU0wgb3IgSFNMQSBmb3JtYXRzIChleDogaHNsKDIwMCwgODAlLCAxMCUpLCBoc2xhKDMwMCwgNTAlLCA4MCUsIDAuNSksIGhzbGEoIDMwMCAsIDUwJSAsIDgwJSAsIDAuNSApKVxuICAgKiBAc3RhdGljXG4gICAqIEBmaWVsZFxuICAgKiBAbWVtYmVyT2YgZmFicmljLkNvbG9yXG4gICAqL1xuICBmYWJyaWMuQ29sb3IucmVIU0xhID0gL15oc2xhP1xcKFxccyooXFxkezEsM30pXFxzKixcXHMqKFxcZHsxLDN9XFwlKVxccyosXFxzKihcXGR7MSwzfVxcJSlcXHMqKD86XFxzKixcXHMqKFxcZCsoPzpcXC5cXGQrKT8pXFxzKik/XFwpJC9pO1xuXG4gIC8qKlxuICAgKiBSZWdleCBtYXRjaGluZyBjb2xvciBpbiBIRVggZm9ybWF0IChleDogI0ZGNTU0NENDLCAjRkY1NTU1LCAwMTAxNTUsIGFmZilcbiAgICogQHN0YXRpY1xuICAgKiBAZmllbGRcbiAgICogQG1lbWJlck9mIGZhYnJpYy5Db2xvclxuICAgKi9cbiAgZmFicmljLkNvbG9yLnJlSGV4ID0gL14jPyhbMC05YS1mXXs4fXxbMC05YS1mXXs2fXxbMC05YS1mXXs0fXxbMC05YS1mXXszfSkkL2k7XG5cbiAgLyoqXG4gICAqIE1hcCBvZiB0aGUgMTQ4IGNvbG9yIG5hbWVzIHdpdGggSEVYIGNvZGVcbiAgICogQHN0YXRpY1xuICAgKiBAZmllbGRcbiAgICogQG1lbWJlck9mIGZhYnJpYy5Db2xvclxuICAgKiBAc2VlOiBodHRwczovL3d3dy53My5vcmcvVFIvY3NzMy1jb2xvci8jc3ZnLWNvbG9yXG4gICAqL1xuICBmYWJyaWMuQ29sb3IuY29sb3JOYW1lTWFwID0ge1xuICAgIGFsaWNlYmx1ZTogICAgICAgICAgICAnI0YwRjhGRicsXG4gICAgYW50aXF1ZXdoaXRlOiAgICAgICAgICcjRkFFQkQ3JyxcbiAgICBhcXVhOiAgICAgICAgICAgICAgICAgJyMwMEZGRkYnLFxuICAgIGFxdWFtYXJpbmU6ICAgICAgICAgICAnIzdGRkZENCcsXG4gICAgYXp1cmU6ICAgICAgICAgICAgICAgICcjRjBGRkZGJyxcbiAgICBiZWlnZTogICAgICAgICAgICAgICAgJyNGNUY1REMnLFxuICAgIGJpc3F1ZTogICAgICAgICAgICAgICAnI0ZGRTRDNCcsXG4gICAgYmxhY2s6ICAgICAgICAgICAgICAgICcjMDAwMDAwJyxcbiAgICBibGFuY2hlZGFsbW9uZDogICAgICAgJyNGRkVCQ0QnLFxuICAgIGJsdWU6ICAgICAgICAgICAgICAgICAnIzAwMDBGRicsXG4gICAgYmx1ZXZpb2xldDogICAgICAgICAgICcjOEEyQkUyJyxcbiAgICBicm93bjogICAgICAgICAgICAgICAgJyNBNTJBMkEnLFxuICAgIGJ1cmx5d29vZDogICAgICAgICAgICAnI0RFQjg4NycsXG4gICAgY2FkZXRibHVlOiAgICAgICAgICAgICcjNUY5RUEwJyxcbiAgICBjaGFydHJldXNlOiAgICAgICAgICAgJyM3RkZGMDAnLFxuICAgIGNob2NvbGF0ZTogICAgICAgICAgICAnI0QyNjkxRScsXG4gICAgY29yYWw6ICAgICAgICAgICAgICAgICcjRkY3RjUwJyxcbiAgICBjb3JuZmxvd2VyYmx1ZTogICAgICAgJyM2NDk1RUQnLFxuICAgIGNvcm5zaWxrOiAgICAgICAgICAgICAnI0ZGRjhEQycsXG4gICAgY3JpbXNvbjogICAgICAgICAgICAgICcjREMxNDNDJyxcbiAgICBjeWFuOiAgICAgICAgICAgICAgICAgJyMwMEZGRkYnLFxuICAgIGRhcmtibHVlOiAgICAgICAgICAgICAnIzAwMDA4QicsXG4gICAgZGFya2N5YW46ICAgICAgICAgICAgICcjMDA4QjhCJyxcbiAgICBkYXJrZ29sZGVucm9kOiAgICAgICAgJyNCODg2MEInLFxuICAgIGRhcmtncmF5OiAgICAgICAgICAgICAnI0E5QTlBOScsXG4gICAgZGFya2dyZXk6ICAgICAgICAgICAgICcjQTlBOUE5JyxcbiAgICBkYXJrZ3JlZW46ICAgICAgICAgICAgJyMwMDY0MDAnLFxuICAgIGRhcmtraGFraTogICAgICAgICAgICAnI0JEQjc2QicsXG4gICAgZGFya21hZ2VudGE6ICAgICAgICAgICcjOEIwMDhCJyxcbiAgICBkYXJrb2xpdmVncmVlbjogICAgICAgJyM1NTZCMkYnLFxuICAgIGRhcmtvcmFuZ2U6ICAgICAgICAgICAnI0ZGOEMwMCcsXG4gICAgZGFya29yY2hpZDogICAgICAgICAgICcjOTkzMkNDJyxcbiAgICBkYXJrcmVkOiAgICAgICAgICAgICAgJyM4QjAwMDAnLFxuICAgIGRhcmtzYWxtb246ICAgICAgICAgICAnI0U5OTY3QScsXG4gICAgZGFya3NlYWdyZWVuOiAgICAgICAgICcjOEZCQzhGJyxcbiAgICBkYXJrc2xhdGVibHVlOiAgICAgICAgJyM0ODNEOEInLFxuICAgIGRhcmtzbGF0ZWdyYXk6ICAgICAgICAnIzJGNEY0RicsXG4gICAgZGFya3NsYXRlZ3JleTogICAgICAgICcjMkY0RjRGJyxcbiAgICBkYXJrdHVycXVvaXNlOiAgICAgICAgJyMwMENFRDEnLFxuICAgIGRhcmt2aW9sZXQ6ICAgICAgICAgICAnIzk0MDBEMycsXG4gICAgZGVlcHBpbms6ICAgICAgICAgICAgICcjRkYxNDkzJyxcbiAgICBkZWVwc2t5Ymx1ZTogICAgICAgICAgJyMwMEJGRkYnLFxuICAgIGRpbWdyYXk6ICAgICAgICAgICAgICAnIzY5Njk2OScsXG4gICAgZGltZ3JleTogICAgICAgICAgICAgICcjNjk2OTY5JyxcbiAgICBkb2RnZXJibHVlOiAgICAgICAgICAgJyMxRTkwRkYnLFxuICAgIGZpcmVicmljazogICAgICAgICAgICAnI0IyMjIyMicsXG4gICAgZmxvcmFsd2hpdGU6ICAgICAgICAgICcjRkZGQUYwJyxcbiAgICBmb3Jlc3RncmVlbjogICAgICAgICAgJyMyMjhCMjInLFxuICAgIGZ1Y2hzaWE6ICAgICAgICAgICAgICAnI0ZGMDBGRicsXG4gICAgZ2FpbnNib3JvOiAgICAgICAgICAgICcjRENEQ0RDJyxcbiAgICBnaG9zdHdoaXRlOiAgICAgICAgICAgJyNGOEY4RkYnLFxuICAgIGdvbGQ6ICAgICAgICAgICAgICAgICAnI0ZGRDcwMCcsXG4gICAgZ29sZGVucm9kOiAgICAgICAgICAgICcjREFBNTIwJyxcbiAgICBncmF5OiAgICAgICAgICAgICAgICAgJyM4MDgwODAnLFxuICAgIGdyZXk6ICAgICAgICAgICAgICAgICAnIzgwODA4MCcsXG4gICAgZ3JlZW46ICAgICAgICAgICAgICAgICcjMDA4MDAwJyxcbiAgICBncmVlbnllbGxvdzogICAgICAgICAgJyNBREZGMkYnLFxuICAgIGhvbmV5ZGV3OiAgICAgICAgICAgICAnI0YwRkZGMCcsXG4gICAgaG90cGluazogICAgICAgICAgICAgICcjRkY2OUI0JyxcbiAgICBpbmRpYW5yZWQ6ICAgICAgICAgICAgJyNDRDVDNUMnLFxuICAgIGluZGlnbzogICAgICAgICAgICAgICAnIzRCMDA4MicsXG4gICAgaXZvcnk6ICAgICAgICAgICAgICAgICcjRkZGRkYwJyxcbiAgICBraGFraTogICAgICAgICAgICAgICAgJyNGMEU2OEMnLFxuICAgIGxhdmVuZGVyOiAgICAgICAgICAgICAnI0U2RTZGQScsXG4gICAgbGF2ZW5kZXJibHVzaDogICAgICAgICcjRkZGMEY1JyxcbiAgICBsYXduZ3JlZW46ICAgICAgICAgICAgJyM3Q0ZDMDAnLFxuICAgIGxlbW9uY2hpZmZvbjogICAgICAgICAnI0ZGRkFDRCcsXG4gICAgbGlnaHRibHVlOiAgICAgICAgICAgICcjQUREOEU2JyxcbiAgICBsaWdodGNvcmFsOiAgICAgICAgICAgJyNGMDgwODAnLFxuICAgIGxpZ2h0Y3lhbjogICAgICAgICAgICAnI0UwRkZGRicsXG4gICAgbGlnaHRnb2xkZW5yb2R5ZWxsb3c6ICcjRkFGQUQyJyxcbiAgICBsaWdodGdyYXk6ICAgICAgICAgICAgJyNEM0QzRDMnLFxuICAgIGxpZ2h0Z3JleTogICAgICAgICAgICAnI0QzRDNEMycsXG4gICAgbGlnaHRncmVlbjogICAgICAgICAgICcjOTBFRTkwJyxcbiAgICBsaWdodHBpbms6ICAgICAgICAgICAgJyNGRkI2QzEnLFxuICAgIGxpZ2h0c2FsbW9uOiAgICAgICAgICAnI0ZGQTA3QScsXG4gICAgbGlnaHRzZWFncmVlbjogICAgICAgICcjMjBCMkFBJyxcbiAgICBsaWdodHNreWJsdWU6ICAgICAgICAgJyM4N0NFRkEnLFxuICAgIGxpZ2h0c2xhdGVncmF5OiAgICAgICAnIzc3ODg5OScsXG4gICAgbGlnaHRzbGF0ZWdyZXk6ICAgICAgICcjNzc4ODk5JyxcbiAgICBsaWdodHN0ZWVsYmx1ZTogICAgICAgJyNCMEM0REUnLFxuICAgIGxpZ2h0eWVsbG93OiAgICAgICAgICAnI0ZGRkZFMCcsXG4gICAgbGltZTogICAgICAgICAgICAgICAgICcjMDBGRjAwJyxcbiAgICBsaW1lZ3JlZW46ICAgICAgICAgICAgJyMzMkNEMzInLFxuICAgIGxpbmVuOiAgICAgICAgICAgICAgICAnI0ZBRjBFNicsXG4gICAgbWFnZW50YTogICAgICAgICAgICAgICcjRkYwMEZGJyxcbiAgICBtYXJvb246ICAgICAgICAgICAgICAgJyM4MDAwMDAnLFxuICAgIG1lZGl1bWFxdWFtYXJpbmU6ICAgICAnIzY2Q0RBQScsXG4gICAgbWVkaXVtYmx1ZTogICAgICAgICAgICcjMDAwMENEJyxcbiAgICBtZWRpdW1vcmNoaWQ6ICAgICAgICAgJyNCQTU1RDMnLFxuICAgIG1lZGl1bXB1cnBsZTogICAgICAgICAnIzkzNzBEQicsXG4gICAgbWVkaXVtc2VhZ3JlZW46ICAgICAgICcjM0NCMzcxJyxcbiAgICBtZWRpdW1zbGF0ZWJsdWU6ICAgICAgJyM3QjY4RUUnLFxuICAgIG1lZGl1bXNwcmluZ2dyZWVuOiAgICAnIzAwRkE5QScsXG4gICAgbWVkaXVtdHVycXVvaXNlOiAgICAgICcjNDhEMUNDJyxcbiAgICBtZWRpdW12aW9sZXRyZWQ6ICAgICAgJyNDNzE1ODUnLFxuICAgIG1pZG5pZ2h0Ymx1ZTogICAgICAgICAnIzE5MTk3MCcsXG4gICAgbWludGNyZWFtOiAgICAgICAgICAgICcjRjVGRkZBJyxcbiAgICBtaXN0eXJvc2U6ICAgICAgICAgICAgJyNGRkU0RTEnLFxuICAgIG1vY2Nhc2luOiAgICAgICAgICAgICAnI0ZGRTRCNScsXG4gICAgbmF2YWpvd2hpdGU6ICAgICAgICAgICcjRkZERUFEJyxcbiAgICBuYXZ5OiAgICAgICAgICAgICAgICAgJyMwMDAwODAnLFxuICAgIG9sZGxhY2U6ICAgICAgICAgICAgICAnI0ZERjVFNicsXG4gICAgb2xpdmU6ICAgICAgICAgICAgICAgICcjODA4MDAwJyxcbiAgICBvbGl2ZWRyYWI6ICAgICAgICAgICAgJyM2QjhFMjMnLFxuICAgIG9yYW5nZTogICAgICAgICAgICAgICAnI0ZGQTUwMCcsXG4gICAgb3JhbmdlcmVkOiAgICAgICAgICAgICcjRkY0NTAwJyxcbiAgICBvcmNoaWQ6ICAgICAgICAgICAgICAgJyNEQTcwRDYnLFxuICAgIHBhbGVnb2xkZW5yb2Q6ICAgICAgICAnI0VFRThBQScsXG4gICAgcGFsZWdyZWVuOiAgICAgICAgICAgICcjOThGQjk4JyxcbiAgICBwYWxldHVycXVvaXNlOiAgICAgICAgJyNBRkVFRUUnLFxuICAgIHBhbGV2aW9sZXRyZWQ6ICAgICAgICAnI0RCNzA5MycsXG4gICAgcGFwYXlhd2hpcDogICAgICAgICAgICcjRkZFRkQ1JyxcbiAgICBwZWFjaHB1ZmY6ICAgICAgICAgICAgJyNGRkRBQjknLFxuICAgIHBlcnU6ICAgICAgICAgICAgICAgICAnI0NEODUzRicsXG4gICAgcGluazogICAgICAgICAgICAgICAgICcjRkZDMENCJyxcbiAgICBwbHVtOiAgICAgICAgICAgICAgICAgJyNEREEwREQnLFxuICAgIHBvd2RlcmJsdWU6ICAgICAgICAgICAnI0IwRTBFNicsXG4gICAgcHVycGxlOiAgICAgICAgICAgICAgICcjODAwMDgwJyxcbiAgICByZWJlY2NhcHVycGxlOiAgICAgICAgJyM2NjMzOTknLFxuICAgIHJlZDogICAgICAgICAgICAgICAgICAnI0ZGMDAwMCcsXG4gICAgcm9zeWJyb3duOiAgICAgICAgICAgICcjQkM4RjhGJyxcbiAgICByb3lhbGJsdWU6ICAgICAgICAgICAgJyM0MTY5RTEnLFxuICAgIHNhZGRsZWJyb3duOiAgICAgICAgICAnIzhCNDUxMycsXG4gICAgc2FsbW9uOiAgICAgICAgICAgICAgICcjRkE4MDcyJyxcbiAgICBzYW5keWJyb3duOiAgICAgICAgICAgJyNGNEE0NjAnLFxuICAgIHNlYWdyZWVuOiAgICAgICAgICAgICAnIzJFOEI1NycsXG4gICAgc2Vhc2hlbGw6ICAgICAgICAgICAgICcjRkZGNUVFJyxcbiAgICBzaWVubmE6ICAgICAgICAgICAgICAgJyNBMDUyMkQnLFxuICAgIHNpbHZlcjogICAgICAgICAgICAgICAnI0MwQzBDMCcsXG4gICAgc2t5Ymx1ZTogICAgICAgICAgICAgICcjODdDRUVCJyxcbiAgICBzbGF0ZWJsdWU6ICAgICAgICAgICAgJyM2QTVBQ0QnLFxuICAgIHNsYXRlZ3JheTogICAgICAgICAgICAnIzcwODA5MCcsXG4gICAgc2xhdGVncmV5OiAgICAgICAgICAgICcjNzA4MDkwJyxcbiAgICBzbm93OiAgICAgICAgICAgICAgICAgJyNGRkZBRkEnLFxuICAgIHNwcmluZ2dyZWVuOiAgICAgICAgICAnIzAwRkY3RicsXG4gICAgc3RlZWxibHVlOiAgICAgICAgICAgICcjNDY4MkI0JyxcbiAgICB0YW46ICAgICAgICAgICAgICAgICAgJyNEMkI0OEMnLFxuICAgIHRlYWw6ICAgICAgICAgICAgICAgICAnIzAwODA4MCcsXG4gICAgdGhpc3RsZTogICAgICAgICAgICAgICcjRDhCRkQ4JyxcbiAgICB0b21hdG86ICAgICAgICAgICAgICAgJyNGRjYzNDcnLFxuICAgIHR1cnF1b2lzZTogICAgICAgICAgICAnIzQwRTBEMCcsXG4gICAgdmlvbGV0OiAgICAgICAgICAgICAgICcjRUU4MkVFJyxcbiAgICB3aGVhdDogICAgICAgICAgICAgICAgJyNGNURFQjMnLFxuICAgIHdoaXRlOiAgICAgICAgICAgICAgICAnI0ZGRkZGRicsXG4gICAgd2hpdGVzbW9rZTogICAgICAgICAgICcjRjVGNUY1JyxcbiAgICB5ZWxsb3c6ICAgICAgICAgICAgICAgJyNGRkZGMDAnLFxuICAgIHllbGxvd2dyZWVuOiAgICAgICAgICAnIzlBQ0QzMidcbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHBcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHFcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHRcbiAgICogQHJldHVybiB7TnVtYmVyfVxuICAgKi9cbiAgZnVuY3Rpb24gaHVlMnJnYihwLCBxLCB0KSB7XG4gICAgaWYgKHQgPCAwKSB7XG4gICAgICB0ICs9IDE7XG4gICAgfVxuICAgIGlmICh0ID4gMSkge1xuICAgICAgdCAtPSAxO1xuICAgIH1cbiAgICBpZiAodCA8IDEgLyA2KSB7XG4gICAgICByZXR1cm4gcCArIChxIC0gcCkgKiA2ICogdDtcbiAgICB9XG4gICAgaWYgKHQgPCAxIC8gMikge1xuICAgICAgcmV0dXJuIHE7XG4gICAgfVxuICAgIGlmICh0IDwgMiAvIDMpIHtcbiAgICAgIHJldHVybiBwICsgKHEgLSBwKSAqICgyIC8gMyAtIHQpICogNjtcbiAgICB9XG4gICAgcmV0dXJuIHA7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBuZXcgY29sb3Igb2JqZWN0LCB3aGVuIGdpdmVuIGEgY29sb3IgaW4gUkdCIGZvcm1hdFxuICAgKiBAbWVtYmVyT2YgZmFicmljLkNvbG9yXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjb2xvciBDb2xvciB2YWx1ZSBleDogcmdiKDAtMjU1LDAtMjU1LDAtMjU1KVxuICAgKiBAcmV0dXJuIHtmYWJyaWMuQ29sb3J9XG4gICAqL1xuICBmYWJyaWMuQ29sb3IuZnJvbVJnYiA9IGZ1bmN0aW9uKGNvbG9yKSB7XG4gICAgcmV0dXJuIENvbG9yLmZyb21Tb3VyY2UoQ29sb3Iuc291cmNlRnJvbVJnYihjb2xvcikpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFycmF5IHJlcHJlc2VudGF0aW9uIChleDogWzEwMCwgMTAwLCAyMDAsIDFdKSBvZiBhIGNvbG9yIHRoYXQncyBpbiBSR0Igb3IgUkdCQSBmb3JtYXRcbiAgICogQG1lbWJlck9mIGZhYnJpYy5Db2xvclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY29sb3IgQ29sb3IgdmFsdWUgZXg6IHJnYigwLTI1NSwwLTI1NSwwLTI1NSksIHJnYigwJS0xMDAlLDAlLTEwMCUsMCUtMTAwJSlcbiAgICogQHJldHVybiB7QXJyYXl9IHNvdXJjZVxuICAgKi9cbiAgZmFicmljLkNvbG9yLnNvdXJjZUZyb21SZ2IgPSBmdW5jdGlvbihjb2xvcikge1xuICAgIHZhciBtYXRjaCA9IGNvbG9yLm1hdGNoKENvbG9yLnJlUkdCYSk7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICB2YXIgciA9IHBhcnNlSW50KG1hdGNoWzFdLCAxMCkgLyAoLyUkLy50ZXN0KG1hdGNoWzFdKSA/IDEwMCA6IDEpICogKC8lJC8udGVzdChtYXRjaFsxXSkgPyAyNTUgOiAxKSxcbiAgICAgICAgICBnID0gcGFyc2VJbnQobWF0Y2hbMl0sIDEwKSAvICgvJSQvLnRlc3QobWF0Y2hbMl0pID8gMTAwIDogMSkgKiAoLyUkLy50ZXN0KG1hdGNoWzJdKSA/IDI1NSA6IDEpLFxuICAgICAgICAgIGIgPSBwYXJzZUludChtYXRjaFszXSwgMTApIC8gKC8lJC8udGVzdChtYXRjaFszXSkgPyAxMDAgOiAxKSAqICgvJSQvLnRlc3QobWF0Y2hbM10pID8gMjU1IDogMSk7XG5cbiAgICAgIHJldHVybiBbXG4gICAgICAgIHBhcnNlSW50KHIsIDEwKSxcbiAgICAgICAgcGFyc2VJbnQoZywgMTApLFxuICAgICAgICBwYXJzZUludChiLCAxMCksXG4gICAgICAgIG1hdGNoWzRdID8gcGFyc2VGbG9hdChtYXRjaFs0XSkgOiAxXG4gICAgICBdO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyBuZXcgY29sb3Igb2JqZWN0LCB3aGVuIGdpdmVuIGEgY29sb3IgaW4gUkdCQSBmb3JtYXRcbiAgICogQHN0YXRpY1xuICAgKiBAZnVuY3Rpb25cbiAgICogQG1lbWJlck9mIGZhYnJpYy5Db2xvclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY29sb3JcbiAgICogQHJldHVybiB7ZmFicmljLkNvbG9yfVxuICAgKi9cbiAgZmFicmljLkNvbG9yLmZyb21SZ2JhID0gQ29sb3IuZnJvbVJnYjtcblxuICAvKipcbiAgICogUmV0dXJucyBuZXcgY29sb3Igb2JqZWN0LCB3aGVuIGdpdmVuIGEgY29sb3IgaW4gSFNMIGZvcm1hdFxuICAgKiBAcGFyYW0ge1N0cmluZ30gY29sb3IgQ29sb3IgdmFsdWUgZXg6IGhzbCgwLTI2MCwwJS0xMDAlLDAlLTEwMCUpXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuQ29sb3JcbiAgICogQHJldHVybiB7ZmFicmljLkNvbG9yfVxuICAgKi9cbiAgZmFicmljLkNvbG9yLmZyb21Ic2wgPSBmdW5jdGlvbihjb2xvcikge1xuICAgIHJldHVybiBDb2xvci5mcm9tU291cmNlKENvbG9yLnNvdXJjZUZyb21Ic2woY29sb3IpKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyBhcnJheSByZXByZXNlbnRhdGlvbiAoZXg6IFsxMDAsIDEwMCwgMjAwLCAxXSkgb2YgYSBjb2xvciB0aGF0J3MgaW4gSFNMIG9yIEhTTEEgZm9ybWF0LlxuICAgKiBBZGFwdGVkIGZyb20gPGEgaHJlZj1cImh0dHBzOi8vcmF3Z2l0aHViLmNvbS9tamlqYWNrc29uL21qaWphY2tzb24uZ2l0aHViLmNvbS9tYXN0ZXIvMjAwOC8wMi9yZ2ItdG8taHNsLWFuZC1yZ2ItdG8taHN2LWNvbG9yLW1vZGVsLWNvbnZlcnNpb24tYWxnb3JpdGhtcy1pbi1qYXZhc2NyaXB0Lmh0bWxcIj5odHRwczovL2dpdGh1Yi5jb20vbWppamFja3NvbjwvYT5cbiAgICogQG1lbWJlck9mIGZhYnJpYy5Db2xvclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY29sb3IgQ29sb3IgdmFsdWUgZXg6IGhzbCgwLTM2MCwwJS0xMDAlLDAlLTEwMCUpIG9yIGhzbGEoMC0zNjAsMCUtMTAwJSwwJS0xMDAlLCAwLTEpXG4gICAqIEByZXR1cm4ge0FycmF5fSBzb3VyY2VcbiAgICogQHNlZSBodHRwOi8vaHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1jb2xvci8jaHNsLWNvbG9yXG4gICAqL1xuICBmYWJyaWMuQ29sb3Iuc291cmNlRnJvbUhzbCA9IGZ1bmN0aW9uKGNvbG9yKSB7XG4gICAgdmFyIG1hdGNoID0gY29sb3IubWF0Y2goQ29sb3IucmVIU0xhKTtcbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGggPSAoKChwYXJzZUZsb2F0KG1hdGNoWzFdKSAlIDM2MCkgKyAzNjApICUgMzYwKSAvIDM2MCxcbiAgICAgICAgcyA9IHBhcnNlRmxvYXQobWF0Y2hbMl0pIC8gKC8lJC8udGVzdChtYXRjaFsyXSkgPyAxMDAgOiAxKSxcbiAgICAgICAgbCA9IHBhcnNlRmxvYXQobWF0Y2hbM10pIC8gKC8lJC8udGVzdChtYXRjaFszXSkgPyAxMDAgOiAxKSxcbiAgICAgICAgciwgZywgYjtcblxuICAgIGlmIChzID09PSAwKSB7XG4gICAgICByID0gZyA9IGIgPSBsO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHZhciBxID0gbCA8PSAwLjUgPyBsICogKHMgKyAxKSA6IGwgKyBzIC0gbCAqIHMsXG4gICAgICAgICAgcCA9IGwgKiAyIC0gcTtcblxuICAgICAgciA9IGh1ZTJyZ2IocCwgcSwgaCArIDEgLyAzKTtcbiAgICAgIGcgPSBodWUycmdiKHAsIHEsIGgpO1xuICAgICAgYiA9IGh1ZTJyZ2IocCwgcSwgaCAtIDEgLyAzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gW1xuICAgICAgTWF0aC5yb3VuZChyICogMjU1KSxcbiAgICAgIE1hdGgucm91bmQoZyAqIDI1NSksXG4gICAgICBNYXRoLnJvdW5kKGIgKiAyNTUpLFxuICAgICAgbWF0Y2hbNF0gPyBwYXJzZUZsb2F0KG1hdGNoWzRdKSA6IDFcbiAgICBdO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIG5ldyBjb2xvciBvYmplY3QsIHdoZW4gZ2l2ZW4gYSBjb2xvciBpbiBIU0xBIGZvcm1hdFxuICAgKiBAc3RhdGljXG4gICAqIEBmdW5jdGlvblxuICAgKiBAbWVtYmVyT2YgZmFicmljLkNvbG9yXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjb2xvclxuICAgKiBAcmV0dXJuIHtmYWJyaWMuQ29sb3J9XG4gICAqL1xuICBmYWJyaWMuQ29sb3IuZnJvbUhzbGEgPSBDb2xvci5mcm9tSHNsO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIG5ldyBjb2xvciBvYmplY3QsIHdoZW4gZ2l2ZW4gYSBjb2xvciBpbiBIRVggZm9ybWF0XG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5Db2xvclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY29sb3IgQ29sb3IgdmFsdWUgZXg6IEZGNTU1NVxuICAgKiBAcmV0dXJuIHtmYWJyaWMuQ29sb3J9XG4gICAqL1xuICBmYWJyaWMuQ29sb3IuZnJvbUhleCA9IGZ1bmN0aW9uKGNvbG9yKSB7XG4gICAgcmV0dXJuIENvbG9yLmZyb21Tb3VyY2UoQ29sb3Iuc291cmNlRnJvbUhleChjb2xvcikpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFycmF5IHJlcHJlc2VudGF0aW9uIChleDogWzEwMCwgMTAwLCAyMDAsIDFdKSBvZiBhIGNvbG9yIHRoYXQncyBpbiBIRVggZm9ybWF0XG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5Db2xvclxuICAgKiBAcGFyYW0ge1N0cmluZ30gY29sb3IgZXg6IEZGNTU1NSBvciBGRjU1NDRDQyAoUkdCYSlcbiAgICogQHJldHVybiB7QXJyYXl9IHNvdXJjZVxuICAgKi9cbiAgZmFicmljLkNvbG9yLnNvdXJjZUZyb21IZXggPSBmdW5jdGlvbihjb2xvcikge1xuICAgIGlmIChjb2xvci5tYXRjaChDb2xvci5yZUhleCkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGNvbG9yLnNsaWNlKGNvbG9yLmluZGV4T2YoJyMnKSArIDEpLFxuICAgICAgICAgIGlzU2hvcnROb3RhdGlvbiA9ICh2YWx1ZS5sZW5ndGggPT09IDMgfHwgdmFsdWUubGVuZ3RoID09PSA0KSxcbiAgICAgICAgICBpc1JHQmEgPSAodmFsdWUubGVuZ3RoID09PSA4IHx8IHZhbHVlLmxlbmd0aCA9PT0gNCksXG4gICAgICAgICAgciA9IGlzU2hvcnROb3RhdGlvbiA/ICh2YWx1ZS5jaGFyQXQoMCkgKyB2YWx1ZS5jaGFyQXQoMCkpIDogdmFsdWUuc3Vic3RyaW5nKDAsIDIpLFxuICAgICAgICAgIGcgPSBpc1Nob3J0Tm90YXRpb24gPyAodmFsdWUuY2hhckF0KDEpICsgdmFsdWUuY2hhckF0KDEpKSA6IHZhbHVlLnN1YnN0cmluZygyLCA0KSxcbiAgICAgICAgICBiID0gaXNTaG9ydE5vdGF0aW9uID8gKHZhbHVlLmNoYXJBdCgyKSArIHZhbHVlLmNoYXJBdCgyKSkgOiB2YWx1ZS5zdWJzdHJpbmcoNCwgNiksXG4gICAgICAgICAgYSA9IGlzUkdCYSA/IChpc1Nob3J0Tm90YXRpb24gPyAodmFsdWUuY2hhckF0KDMpICsgdmFsdWUuY2hhckF0KDMpKSA6IHZhbHVlLnN1YnN0cmluZyg2LCA4KSkgOiAnRkYnO1xuXG4gICAgICByZXR1cm4gW1xuICAgICAgICBwYXJzZUludChyLCAxNiksXG4gICAgICAgIHBhcnNlSW50KGcsIDE2KSxcbiAgICAgICAgcGFyc2VJbnQoYiwgMTYpLFxuICAgICAgICBwYXJzZUZsb2F0KChwYXJzZUludChhLCAxNikgLyAyNTUpLnRvRml4ZWQoMikpXG4gICAgICBdO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyBuZXcgY29sb3Igb2JqZWN0LCB3aGVuIGdpdmVuIGNvbG9yIGluIGFycmF5IHJlcHJlc2VudGF0aW9uIChleDogWzIwMCwgMTAwLCAxMDAsIDAuNV0pXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5Db2xvclxuICAgKiBAcGFyYW0ge0FycmF5fSBzb3VyY2VcbiAgICogQHJldHVybiB7ZmFicmljLkNvbG9yfVxuICAgKi9cbiAgZmFicmljLkNvbG9yLmZyb21Tb3VyY2UgPSBmdW5jdGlvbihzb3VyY2UpIHtcbiAgICB2YXIgb0NvbG9yID0gbmV3IENvbG9yKCk7XG4gICAgb0NvbG9yLnNldFNvdXJjZShzb3VyY2UpO1xuICAgIHJldHVybiBvQ29sb3I7XG4gIH07XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgLyogX0ZST01fU1ZHX1NUQVJUXyAqL1xuICBmdW5jdGlvbiBnZXRDb2xvclN0b3AoZWwsIG11bHRpcGxpZXIpIHtcbiAgICB2YXIgc3R5bGUgPSBlbC5nZXRBdHRyaWJ1dGUoJ3N0eWxlJyksXG4gICAgICAgIG9mZnNldCA9IGVsLmdldEF0dHJpYnV0ZSgnb2Zmc2V0JykgfHwgMCxcbiAgICAgICAgY29sb3IsIGNvbG9yQWxwaGEsIG9wYWNpdHksIGk7XG5cbiAgICAvLyBjb252ZXJ0IHBlcmNlbnRzIHRvIGFic29sdXRlIHZhbHVlc1xuICAgIG9mZnNldCA9IHBhcnNlRmxvYXQob2Zmc2V0KSAvICgvJSQvLnRlc3Qob2Zmc2V0KSA/IDEwMCA6IDEpO1xuICAgIG9mZnNldCA9IG9mZnNldCA8IDAgPyAwIDogb2Zmc2V0ID4gMSA/IDEgOiBvZmZzZXQ7XG4gICAgaWYgKHN0eWxlKSB7XG4gICAgICB2YXIga2V5VmFsdWVQYWlycyA9IHN0eWxlLnNwbGl0KC9cXHMqO1xccyovKTtcblxuICAgICAgaWYgKGtleVZhbHVlUGFpcnNba2V5VmFsdWVQYWlycy5sZW5ndGggLSAxXSA9PT0gJycpIHtcbiAgICAgICAga2V5VmFsdWVQYWlycy5wb3AoKTtcbiAgICAgIH1cblxuICAgICAgZm9yIChpID0ga2V5VmFsdWVQYWlycy5sZW5ndGg7IGktLTsgKSB7XG5cbiAgICAgICAgdmFyIHNwbGl0ID0ga2V5VmFsdWVQYWlyc1tpXS5zcGxpdCgvXFxzKjpcXHMqLyksXG4gICAgICAgICAgICBrZXkgPSBzcGxpdFswXS50cmltKCksXG4gICAgICAgICAgICB2YWx1ZSA9IHNwbGl0WzFdLnRyaW0oKTtcblxuICAgICAgICBpZiAoa2V5ID09PSAnc3RvcC1jb2xvcicpIHtcbiAgICAgICAgICBjb2xvciA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gJ3N0b3Atb3BhY2l0eScpIHtcbiAgICAgICAgICBvcGFjaXR5ID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWNvbG9yKSB7XG4gICAgICBjb2xvciA9IGVsLmdldEF0dHJpYnV0ZSgnc3RvcC1jb2xvcicpIHx8ICdyZ2IoMCwwLDApJztcbiAgICB9XG4gICAgaWYgKCFvcGFjaXR5KSB7XG4gICAgICBvcGFjaXR5ID0gZWwuZ2V0QXR0cmlidXRlKCdzdG9wLW9wYWNpdHknKTtcbiAgICB9XG5cbiAgICBjb2xvciA9IG5ldyBmYWJyaWMuQ29sb3IoY29sb3IpO1xuICAgIGNvbG9yQWxwaGEgPSBjb2xvci5nZXRBbHBoYSgpO1xuICAgIG9wYWNpdHkgPSBpc05hTihwYXJzZUZsb2F0KG9wYWNpdHkpKSA/IDEgOiBwYXJzZUZsb2F0KG9wYWNpdHkpO1xuICAgIG9wYWNpdHkgKj0gY29sb3JBbHBoYSAqIG11bHRpcGxpZXI7XG5cbiAgICByZXR1cm4ge1xuICAgICAgb2Zmc2V0OiBvZmZzZXQsXG4gICAgICBjb2xvcjogY29sb3IudG9SZ2IoKSxcbiAgICAgIG9wYWNpdHk6IG9wYWNpdHlcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TGluZWFyQ29vcmRzKGVsKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHgxOiBlbC5nZXRBdHRyaWJ1dGUoJ3gxJykgfHwgMCxcbiAgICAgIHkxOiBlbC5nZXRBdHRyaWJ1dGUoJ3kxJykgfHwgMCxcbiAgICAgIHgyOiBlbC5nZXRBdHRyaWJ1dGUoJ3gyJykgfHwgJzEwMCUnLFxuICAgICAgeTI6IGVsLmdldEF0dHJpYnV0ZSgneTInKSB8fCAwXG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFJhZGlhbENvb3JkcyhlbCkge1xuICAgIHJldHVybiB7XG4gICAgICB4MTogZWwuZ2V0QXR0cmlidXRlKCdmeCcpIHx8IGVsLmdldEF0dHJpYnV0ZSgnY3gnKSB8fCAnNTAlJyxcbiAgICAgIHkxOiBlbC5nZXRBdHRyaWJ1dGUoJ2Z5JykgfHwgZWwuZ2V0QXR0cmlidXRlKCdjeScpIHx8ICc1MCUnLFxuICAgICAgcjE6IDAsXG4gICAgICB4MjogZWwuZ2V0QXR0cmlidXRlKCdjeCcpIHx8ICc1MCUnLFxuICAgICAgeTI6IGVsLmdldEF0dHJpYnV0ZSgnY3knKSB8fCAnNTAlJyxcbiAgICAgIHIyOiBlbC5nZXRBdHRyaWJ1dGUoJ3InKSB8fCAnNTAlJ1xuICAgIH07XG4gIH1cbiAgLyogX0ZST01fU1ZHX0VORF8gKi9cblxuICB2YXIgY2xvbmUgPSBmYWJyaWMudXRpbC5vYmplY3QuY2xvbmU7XG5cbiAgLyoqXG4gICAqIEdyYWRpZW50IGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuR3JhZGllbnRcbiAgICogQHR1dG9yaWFsIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ZhYnJpYy1pbnRyby1wYXJ0LTIjZ3JhZGllbnRzfVxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuR3JhZGllbnQjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICovXG4gIGZhYnJpYy5HcmFkaWVudCA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKC8qKiBAbGVuZHMgZmFicmljLkdyYWRpZW50LnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBIb3Jpem9udGFsIG9mZnNldCBmb3IgYWxpZ25pbmcgZ3JhZGllbnRzIGNvbWluZyBmcm9tIFNWRyB3aGVuIG91dHNpZGUgcGF0aGdyb3Vwc1xuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cbiAgICBvZmZzZXRYOiAwLFxuXG4gICAgLyoqXG4gICAgICogVmVydGljYWwgb2Zmc2V0IGZvciBhbGlnbmluZyBncmFkaWVudHMgY29taW5nIGZyb20gU1ZHIHdoZW4gb3V0c2lkZSBwYXRoZ3JvdXBzXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIG9mZnNldFk6IDAsXG5cbiAgICAvKipcbiAgICAgKiBBIHRyYW5zZm9ybSBtYXRyaXggdG8gYXBwbHkgdG8gdGhlIGdyYWRpZW50IGJlZm9yZSBwYWludGluZy5cbiAgICAgKiBJbXBvcnRlZCBmcm9tIHN2ZyBncmFkaWVudHMsIGlzIG5vdCBhcHBsaWVkIHdpdGggdGhlIGN1cnJlbnQgdHJhbnNmb3JtIGluIHRoZSBjZW50ZXIuXG4gICAgICogQmVmb3JlIHRoaXMgdHJhbnNmb3JtIGlzIGFwcGxpZWQsIHRoZSBvcmlnaW4gcG9pbnQgaXMgYXQgdGhlIHRvcCBsZWZ0IGNvcm5lciBvZiB0aGUgb2JqZWN0XG4gICAgICogcGx1cyB0aGUgYWRkaXRpb24gb2Ygb2Zmc2V0WSBhbmQgb2Zmc2V0WC5cbiAgICAgKiBAdHlwZSBOdW1iZXJbXVxuICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgKi9cbiAgICBncmFkaWVudFRyYW5zZm9ybTogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIGNvb3JkaW5hdGVzIHVuaXRzIGZvciBjb29yZHMuXG4gICAgICogSWYgYHBpeGVsc2AsIHRoZSBudW1iZXIgb2YgY29vcmRzIGFyZSBpbiB0aGUgc2FtZSB1bml0IG9mIHdpZHRoIC8gaGVpZ2h0LlxuICAgICAqIElmIHNldCBhcyBgcGVyY2VudGFnZWAgdGhlIGNvb3JkcyBhcmUgc3RpbGwgYSBudW1iZXIsIGJ1dCAxIG1lYW5zIDEwMCUgb2Ygd2lkdGhcbiAgICAgKiBmb3IgdGhlIFggYW5kIDEwMCUgb2YgdGhlIGhlaWdodCBmb3IgdGhlIHkuIEl0IGNhbiBiZSBiaWdnZXIgdGhhbiAxIGFuZCBuZWdhdGl2ZS5cbiAgICAgKiBhbGxvd2VkIHZhbHVlcyBwaXhlbHMgb3IgcGVyY2VudGFnZS5cbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdCAncGl4ZWxzJ1xuICAgICAqL1xuICAgIGdyYWRpZW50VW5pdHM6ICdwaXhlbHMnLFxuXG4gICAgLyoqXG4gICAgICogR3JhZGllbnQgdHlwZSBsaW5lYXIgb3IgcmFkaWFsXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHQgJ3BpeGVscydcbiAgICAgKi9cbiAgICB0eXBlOiAnbGluZWFyJyxcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgT3B0aW9ucyBvYmplY3Qgd2l0aCB0eXBlLCBjb29yZHMsIGdyYWRpZW50VW5pdHMgYW5kIGNvbG9yU3RvcHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMudHlwZV0gZ3JhZGllbnQgdHlwZSBsaW5lYXIgb3IgcmFkaWFsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmdyYWRpZW50VW5pdHNdIGdyYWRpZW50IHVuaXRzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLm9mZnNldFhdIFNWRyBpbXBvcnQgY29tcGF0aWJpbGl0eVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucy5vZmZzZXRZXSBTVkcgaW1wb3J0IGNvbXBhdGliaWxpdHlcbiAgICAgKiBAcGFyYW0ge09iamVjdFtdfSBvcHRpb25zLmNvbG9yU3RvcHMgY29udGFpbnMgdGhlIGNvbG9yc3RvcHMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMuY29vcmRzIGNvbnRhaW5zIHRoZSBjb29yZHMgb2YgdGhlIGdyYWRpZW50XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmNvb3Jkcy54MV0gWCBjb29yZGlhbnRlIG9mIHRoZSBmaXJzdCBwb2ludCBmb3IgbGluZWFyIG9yIG9mIHRoZSBmb2NhbCBwb2ludCBmb3IgcmFkaWFsXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmNvb3Jkcy55MV0gWSBjb29yZGlhbnRlIG9mIHRoZSBmaXJzdCBwb2ludCBmb3IgbGluZWFyIG9yIG9mIHRoZSBmb2NhbCBwb2ludCBmb3IgcmFkaWFsXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmNvb3Jkcy54Ml0gWCBjb29yZGlhbnRlIG9mIHRoZSBzZWNvbmQgcG9pbnQgZm9yIGxpbmVhciBvciBvZiB0aGUgY2VudGVyIHBvaW50IGZvciByYWRpYWxcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuY29vcmRzLnkyXSBZIGNvb3JkaWFudGUgb2YgdGhlIHNlY29uZCBwb2ludCBmb3IgbGluZWFyIG9yIG9mIHRoZSBjZW50ZXIgcG9pbnQgZm9yIHJhZGlhbFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5jb29yZHMucjFdIG9ubHkgZm9yIHJhZGlhbCBncmFkaWVudCwgcmFkaXVzIG9mIHRoZSBpbm5lciBjaXJjbGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuY29vcmRzLnIyXSBvbmx5IGZvciByYWRpYWwgZ3JhZGllbnQsIHJhZGl1cyBvZiB0aGUgZXh0ZXJuYWwgY2lyY2xlXG4gICAgICogQHJldHVybiB7ZmFicmljLkdyYWRpZW50fSB0aGlzQXJnXG4gICAgICovXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHsgfSk7XG4gICAgICBvcHRpb25zLmNvb3JkcyB8fCAob3B0aW9ucy5jb29yZHMgPSB7IH0pO1xuXG4gICAgICB2YXIgY29vcmRzLCBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIC8vIHNldHMgZXZlcnl0aGluZywgdGhlbiBjb29yZHMgYW5kIGNvbG9yc3RvcHMgZ2V0IHNldHMgYWdhaW5cbiAgICAgIE9iamVjdC5rZXlzKG9wdGlvbnMpLmZvckVhY2goZnVuY3Rpb24ob3B0aW9uKSB7XG4gICAgICAgIF90aGlzW29wdGlvbl0gPSBvcHRpb25zW29wdGlvbl07XG4gICAgICB9KTtcblxuICAgICAgaWYgKHRoaXMuaWQpIHtcbiAgICAgICAgdGhpcy5pZCArPSAnXycgKyBmYWJyaWMuT2JqZWN0Ll9fdWlkKys7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5pZCA9IGZhYnJpYy5PYmplY3QuX191aWQrKztcbiAgICAgIH1cblxuICAgICAgY29vcmRzID0ge1xuICAgICAgICB4MTogb3B0aW9ucy5jb29yZHMueDEgfHwgMCxcbiAgICAgICAgeTE6IG9wdGlvbnMuY29vcmRzLnkxIHx8IDAsXG4gICAgICAgIHgyOiBvcHRpb25zLmNvb3Jkcy54MiB8fCAwLFxuICAgICAgICB5Mjogb3B0aW9ucy5jb29yZHMueTIgfHwgMFxuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ3JhZGlhbCcpIHtcbiAgICAgICAgY29vcmRzLnIxID0gb3B0aW9ucy5jb29yZHMucjEgfHwgMDtcbiAgICAgICAgY29vcmRzLnIyID0gb3B0aW9ucy5jb29yZHMucjIgfHwgMDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jb29yZHMgPSBjb29yZHM7XG4gICAgICB0aGlzLmNvbG9yU3RvcHMgPSBvcHRpb25zLmNvbG9yU3RvcHMuc2xpY2UoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhbm90aGVyIGNvbG9yU3RvcFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb2xvclN0b3AgT2JqZWN0IHdpdGggb2Zmc2V0IGFuZCBjb2xvclxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5HcmFkaWVudH0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGFkZENvbG9yU3RvcDogZnVuY3Rpb24oY29sb3JTdG9wcykge1xuICAgICAgZm9yICh2YXIgcG9zaXRpb24gaW4gY29sb3JTdG9wcykge1xuICAgICAgICB2YXIgY29sb3IgPSBuZXcgZmFicmljLkNvbG9yKGNvbG9yU3RvcHNbcG9zaXRpb25dKTtcbiAgICAgICAgdGhpcy5jb2xvclN0b3BzLnB1c2goe1xuICAgICAgICAgIG9mZnNldDogcGFyc2VGbG9hdChwb3NpdGlvbiksXG4gICAgICAgICAgY29sb3I6IGNvbG9yLnRvUmdiKCksXG4gICAgICAgICAgb3BhY2l0eTogY29sb3IuZ2V0QWxwaGEoKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhIGdyYWRpZW50XG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24ocHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgdmFyIG9iamVjdCA9IHtcbiAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICBjb29yZHM6IHRoaXMuY29vcmRzLFxuICAgICAgICBjb2xvclN0b3BzOiB0aGlzLmNvbG9yU3RvcHMsXG4gICAgICAgIG9mZnNldFg6IHRoaXMub2Zmc2V0WCxcbiAgICAgICAgb2Zmc2V0WTogdGhpcy5vZmZzZXRZLFxuICAgICAgICBncmFkaWVudFVuaXRzOiB0aGlzLmdyYWRpZW50VW5pdHMsXG4gICAgICAgIGdyYWRpZW50VHJhbnNmb3JtOiB0aGlzLmdyYWRpZW50VHJhbnNmb3JtID8gdGhpcy5ncmFkaWVudFRyYW5zZm9ybS5jb25jYXQoKSA6IHRoaXMuZ3JhZGllbnRUcmFuc2Zvcm1cbiAgICAgIH07XG4gICAgICBmYWJyaWMudXRpbC5wb3B1bGF0ZVdpdGhQcm9wZXJ0aWVzKHRoaXMsIG9iamVjdCwgcHJvcGVydGllc1RvSW5jbHVkZSk7XG5cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSxcblxuICAgIC8qIF9UT19TVkdfU1RBUlRfICovXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBTVkcgcmVwcmVzZW50YXRpb24gb2YgYW4gZ3JhZGllbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYSBncmFkaWVudCBmb3JcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFNWRyByZXByZXNlbnRhdGlvbiBvZiBhbiBncmFkaWVudCAobGluZWFyL3JhZGlhbClcbiAgICAgKi9cbiAgICB0b1NWRzogZnVuY3Rpb24ob2JqZWN0LCBvcHRpb25zKSB7XG4gICAgICB2YXIgY29vcmRzID0gY2xvbmUodGhpcy5jb29yZHMsIHRydWUpLCBpLCBsZW4sIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9LFxuICAgICAgICAgIG1hcmt1cCwgY29tbW9uQXR0cmlidXRlcywgY29sb3JTdG9wcyA9IGNsb25lKHRoaXMuY29sb3JTdG9wcywgdHJ1ZSksXG4gICAgICAgICAgbmVlZHNTd2FwID0gY29vcmRzLnIxID4gY29vcmRzLnIyLFxuICAgICAgICAgIHRyYW5zZm9ybSA9IHRoaXMuZ3JhZGllbnRUcmFuc2Zvcm0gPyB0aGlzLmdyYWRpZW50VHJhbnNmb3JtLmNvbmNhdCgpIDogZmFicmljLmlNYXRyaXguY29uY2F0KCksXG4gICAgICAgICAgb2Zmc2V0WCA9IC10aGlzLm9mZnNldFgsIG9mZnNldFkgPSAtdGhpcy5vZmZzZXRZLFxuICAgICAgICAgIHdpdGhWaWV3cG9ydCA9ICEhb3B0aW9ucy5hZGRpdGlvbmFsVHJhbnNmb3JtLFxuICAgICAgICAgIGdyYWRpZW50VW5pdHMgPSB0aGlzLmdyYWRpZW50VW5pdHMgPT09ICdwaXhlbHMnID8gJ3VzZXJTcGFjZU9uVXNlJyA6ICdvYmplY3RCb3VuZGluZ0JveCc7XG4gICAgICAvLyBjb2xvclN0b3BzIG11c3QgYmUgc29ydGVkIGFzY2VuZGluZ1xuICAgICAgY29sb3JTdG9wcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGEub2Zmc2V0IC0gYi5vZmZzZXQ7XG4gICAgICB9KTtcblxuICAgICAgaWYgKGdyYWRpZW50VW5pdHMgPT09ICdvYmplY3RCb3VuZGluZ0JveCcpIHtcbiAgICAgICAgb2Zmc2V0WCAvPSBvYmplY3Qud2lkdGg7XG4gICAgICAgIG9mZnNldFkgLz0gb2JqZWN0LmhlaWdodDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBvZmZzZXRYICs9IG9iamVjdC53aWR0aCAvIDI7XG4gICAgICAgIG9mZnNldFkgKz0gb2JqZWN0LmhlaWdodCAvIDI7XG4gICAgICB9XG4gICAgICBpZiAob2JqZWN0LnR5cGUgPT09ICdwYXRoJykge1xuICAgICAgICBvZmZzZXRYIC09IG9iamVjdC5wYXRoT2Zmc2V0Lng7XG4gICAgICAgIG9mZnNldFkgLT0gb2JqZWN0LnBhdGhPZmZzZXQueTtcbiAgICAgIH1cblxuXG4gICAgICB0cmFuc2Zvcm1bNF0gLT0gb2Zmc2V0WDtcbiAgICAgIHRyYW5zZm9ybVs1XSAtPSBvZmZzZXRZO1xuXG4gICAgICBjb21tb25BdHRyaWJ1dGVzID0gJ2lkPVwiU1ZHSURfJyArIHRoaXMuaWQgK1xuICAgICAgICAgICAgICAgICAgICAgJ1wiIGdyYWRpZW50VW5pdHM9XCInICsgZ3JhZGllbnRVbml0cyArICdcIic7XG4gICAgICBjb21tb25BdHRyaWJ1dGVzICs9ICcgZ3JhZGllbnRUcmFuc2Zvcm09XCInICsgKHdpdGhWaWV3cG9ydCA/XG4gICAgICAgIG9wdGlvbnMuYWRkaXRpb25hbFRyYW5zZm9ybSArICcgJyA6ICcnKSArIGZhYnJpYy51dGlsLm1hdHJpeFRvU1ZHKHRyYW5zZm9ybSkgKyAnXCIgJztcblxuICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ2xpbmVhcicpIHtcbiAgICAgICAgbWFya3VwID0gW1xuICAgICAgICAgICc8bGluZWFyR3JhZGllbnQgJyxcbiAgICAgICAgICBjb21tb25BdHRyaWJ1dGVzLFxuICAgICAgICAgICcgeDE9XCInLCBjb29yZHMueDEsXG4gICAgICAgICAgJ1wiIHkxPVwiJywgY29vcmRzLnkxLFxuICAgICAgICAgICdcIiB4Mj1cIicsIGNvb3Jkcy54MixcbiAgICAgICAgICAnXCIgeTI9XCInLCBjb29yZHMueTIsXG4gICAgICAgICAgJ1wiPlxcbidcbiAgICAgICAgXTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHRoaXMudHlwZSA9PT0gJ3JhZGlhbCcpIHtcbiAgICAgICAgLy8gc3ZnIHJhZGlhbCBncmFkaWVudCBoYXMganVzdCAxIHJhZGl1cy4gdGhlIGJpZ2dlc3QuXG4gICAgICAgIG1hcmt1cCA9IFtcbiAgICAgICAgICAnPHJhZGlhbEdyYWRpZW50ICcsXG4gICAgICAgICAgY29tbW9uQXR0cmlidXRlcyxcbiAgICAgICAgICAnIGN4PVwiJywgbmVlZHNTd2FwID8gY29vcmRzLngxIDogY29vcmRzLngyLFxuICAgICAgICAgICdcIiBjeT1cIicsIG5lZWRzU3dhcCA/IGNvb3Jkcy55MSA6IGNvb3Jkcy55MixcbiAgICAgICAgICAnXCIgcj1cIicsIG5lZWRzU3dhcCA/IGNvb3Jkcy5yMSA6IGNvb3Jkcy5yMixcbiAgICAgICAgICAnXCIgZng9XCInLCBuZWVkc1N3YXAgPyBjb29yZHMueDIgOiBjb29yZHMueDEsXG4gICAgICAgICAgJ1wiIGZ5PVwiJywgbmVlZHNTd2FwID8gY29vcmRzLnkyIDogY29vcmRzLnkxLFxuICAgICAgICAgICdcIj5cXG4nXG4gICAgICAgIF07XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdyYWRpYWwnKSB7XG4gICAgICAgIGlmIChuZWVkc1N3YXApIHtcbiAgICAgICAgICAvLyBzdmcgZ29lcyBmcm9tIGludGVybmFsIHRvIGV4dGVybmFsIHJhZGl1cy4gaWYgcmFkaXVzIGFyZSBpbnZlcnRlZCwgc3dhcCBjb2xvciBzdG9wcy5cbiAgICAgICAgICBjb2xvclN0b3BzID0gY29sb3JTdG9wcy5jb25jYXQoKTtcbiAgICAgICAgICBjb2xvclN0b3BzLnJldmVyc2UoKTtcbiAgICAgICAgICBmb3IgKGkgPSAwLCBsZW4gPSBjb2xvclN0b3BzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjb2xvclN0b3BzW2ldLm9mZnNldCA9IDEgLSBjb2xvclN0b3BzW2ldLm9mZnNldDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1pblJhZGl1cyA9IE1hdGgubWluKGNvb3Jkcy5yMSwgY29vcmRzLnIyKTtcbiAgICAgICAgaWYgKG1pblJhZGl1cyA+IDApIHtcbiAgICAgICAgICAvLyBpIGhhdmUgdG8gc2hpZnQgYWxsIGNvbG9yU3RvcHMgYW5kIGFkZCBuZXcgb25lIGluIDAuXG4gICAgICAgICAgdmFyIG1heFJhZGl1cyA9IE1hdGgubWF4KGNvb3Jkcy5yMSwgY29vcmRzLnIyKSxcbiAgICAgICAgICAgICAgcGVyY2VudGFnZVNoaWZ0ID0gbWluUmFkaXVzIC8gbWF4UmFkaXVzO1xuICAgICAgICAgIGZvciAoaSA9IDAsIGxlbiA9IGNvbG9yU3RvcHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGNvbG9yU3RvcHNbaV0ub2Zmc2V0ICs9IHBlcmNlbnRhZ2VTaGlmdCAqICgxIC0gY29sb3JTdG9wc1tpXS5vZmZzZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSBjb2xvclN0b3BzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBjb2xvclN0b3AgPSBjb2xvclN0b3BzW2ldO1xuICAgICAgICBtYXJrdXAucHVzaChcbiAgICAgICAgICAnPHN0b3AgJyxcbiAgICAgICAgICAnb2Zmc2V0PVwiJywgKGNvbG9yU3RvcC5vZmZzZXQgKiAxMDApICsgJyUnLFxuICAgICAgICAgICdcIiBzdHlsZT1cInN0b3AtY29sb3I6JywgY29sb3JTdG9wLmNvbG9yLFxuICAgICAgICAgICh0eXBlb2YgY29sb3JTdG9wLm9wYWNpdHkgIT09ICd1bmRlZmluZWQnID8gJztzdG9wLW9wYWNpdHk6ICcgKyBjb2xvclN0b3Aub3BhY2l0eSA6ICc7JyksXG4gICAgICAgICAgJ1wiLz5cXG4nXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIG1hcmt1cC5wdXNoKCh0aGlzLnR5cGUgPT09ICdsaW5lYXInID8gJzwvbGluZWFyR3JhZGllbnQ+XFxuJyA6ICc8L3JhZGlhbEdyYWRpZW50PlxcbicpKTtcblxuICAgICAgcmV0dXJuIG1hcmt1cC5qb2luKCcnKTtcbiAgICB9LFxuICAgIC8qIF9UT19TVkdfRU5EXyAqL1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBpbnN0YW5jZSBvZiBDYW52YXNHcmFkaWVudFxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iamVjdCB0aGUgZmFicmljLk9iamVjdCBmb3Igd2hpY2ggdGhlIGdyYWRpZW50IGlzXG4gICAgICogQHJldHVybiB7Q2FudmFzR3JhZGllbnR9XG4gICAgICovXG4gICAgdG9MaXZlOiBmdW5jdGlvbihjdHgsIG9iamVjdCkge1xuICAgICAgdmFyIGdyYWRpZW50LCBjb29yZHMgPSBmYWJyaWMudXRpbC5vYmplY3QuY2xvbmUodGhpcy5jb29yZHMpLCBpLCBsZW4sXG4gICAgICAgICAgeDEgPSBjb29yZHMueDEsIHkxID0gY29vcmRzLnkxLCB4MiA9IGNvb3Jkcy54MiwgeTIgPSBjb29yZHMueTIsXG4gICAgICAgICAgc3RvcHMgPSB0aGlzLmNvbG9yU3RvcHM7XG5cbiAgICAgIGlmICghdGhpcy50eXBlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIGZhYnJpYy5UZXh0ICYmIHRoaXMuZ3JhZGllbnRVbml0cyA9PT0gJ3BlcmNlbnRhZ2UnKSB7XG4gICAgICAgIHgxICo9IG9iamVjdC53aWR0aDtcbiAgICAgICAgeTEgKj0gb2JqZWN0LmhlaWdodDtcbiAgICAgICAgeDIgKj0gb2JqZWN0LndpZHRoO1xuICAgICAgICB5MiAqPSBvYmplY3QuaGVpZ2h0O1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ2xpbmVhcicpIHtcbiAgICAgICAgZ3JhZGllbnQgPSBjdHguY3JlYXRlTGluZWFyR3JhZGllbnQoeDEsIHkxLCB4MiwgeTIpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodGhpcy50eXBlID09PSAncmFkaWFsJykge1xuICAgICAgICBncmFkaWVudCA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudCh4MSwgeTEsIGNvb3Jkcy5yMSwgeDIsIHkyLCBjb29yZHMucjIpO1xuICAgICAgfVxuICAgICAgZm9yIChpID0gMCwgbGVuID0gc3RvcHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGNvbG9yID0gc3RvcHNbaV0uY29sb3IsXG4gICAgICAgICAgICBvcGFjaXR5ID0gc3RvcHNbaV0ub3BhY2l0eSxcbiAgICAgICAgICAgIG9mZnNldCA9IHN0b3BzW2ldLm9mZnNldDtcblxuICAgICAgICBpZiAodHlwZW9mIG9wYWNpdHkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgY29sb3IgPSBuZXcgZmFicmljLkNvbG9yKGNvbG9yKS5zZXRBbHBoYShvcGFjaXR5KS50b1JnYmEoKTtcbiAgICAgICAgfVxuICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3Aob2Zmc2V0LCBjb2xvcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBncmFkaWVudDtcbiAgICB9XG4gIH0pO1xuXG4gIGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQoZmFicmljLkdyYWRpZW50LCB7XG5cbiAgICAvKiBfRlJPTV9TVkdfU1RBUlRfICovXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB7QGxpbmsgZmFicmljLkdyYWRpZW50fSBpbnN0YW5jZSBmcm9tIGFuIFNWRyBlbGVtZW50XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMuR3JhZGllbnRcbiAgICAgKiBAcGFyYW0ge1NWR0dyYWRpZW50RWxlbWVudH0gZWwgU1ZHIGdyYWRpZW50IGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9wYWNpdHlBdHRyIEEgZmlsbC1vcGFjaXR5IG9yIHN0cm9rZS1vcGFjaXR5IGF0dHJpYnV0ZSB0byBtdWx0aXBseSB0byBlYWNoIHN0b3AncyBvcGFjaXR5LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdmdPcHRpb25zIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBzaXplIG9mIHRoZSBTVkcgaW4gb3JkZXIgdG8gcGFyc2UgY29ycmVjdGx5IGdyYWlkZW50c1xuICAgICAqIHRoYXQgdXNlcyBncmFkaWVudFVuaXRzIGFzICd1c2VyU3BhY2VPblVzZScgYW5kIHBlcmNlbnRhZ2VzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0Lm51bWJlcn0gdmlld0JveFdpZHRoIHdpZHRoIHBhcnQgb2YgdGhlIHZpZXdCb3ggYXR0cmlidXRlIG9uIHN2Z1xuICAgICAqIEBwYXJhbSB7T2JqZWN0Lm51bWJlcn0gdmlld0JveEhlaWdodCBoZWlnaHQgcGFydCBvZiB0aGUgdmlld0JveCBhdHRyaWJ1dGUgb24gc3ZnXG4gICAgICogQHBhcmFtIHtPYmplY3QubnVtYmVyfSB3aWR0aCB3aWR0aCBwYXJ0IG9mIHRoZSBzdmcgdGFnIGlmIHZpZXdCb3ggaXMgbm90IHNwZWNpZmllZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0Lm51bWJlcn0gaGVpZ2h0IGhlaWdodCBwYXJ0IG9mIHRoZSBzdmcgdGFnIGlmIHZpZXdCb3ggaXMgbm90IHNwZWNpZmllZFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5HcmFkaWVudH0gR3JhZGllbnQgaW5zdGFuY2VcbiAgICAgKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9wc2VydmVycy5odG1sI0xpbmVhckdyYWRpZW50RWxlbWVudFxuICAgICAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHL3BzZXJ2ZXJzLmh0bWwjUmFkaWFsR3JhZGllbnRFbGVtZW50XG4gICAgICovXG4gICAgZnJvbUVsZW1lbnQ6IGZ1bmN0aW9uKGVsLCBpbnN0YW5jZSwgb3BhY2l0eUF0dHIsIHN2Z09wdGlvbnMpIHtcbiAgICAgIC8qKlxuICAgICAgICogIEBleGFtcGxlOlxuICAgICAgICpcbiAgICAgICAqICA8bGluZWFyR3JhZGllbnQgaWQ9XCJsaW5lYXJHcmFkMVwiPlxuICAgICAgICogICAgPHN0b3Agb2Zmc2V0PVwiMCVcIiBzdG9wLWNvbG9yPVwid2hpdGVcIi8+XG4gICAgICAgKiAgICA8c3RvcCBvZmZzZXQ9XCIxMDAlXCIgc3RvcC1jb2xvcj1cImJsYWNrXCIvPlxuICAgICAgICogIDwvbGluZWFyR3JhZGllbnQ+XG4gICAgICAgKlxuICAgICAgICogIE9SXG4gICAgICAgKlxuICAgICAgICogIDxsaW5lYXJHcmFkaWVudCBpZD1cImxpbmVhckdyYWQyXCI+XG4gICAgICAgKiAgICA8c3RvcCBvZmZzZXQ9XCIwXCIgc3R5bGU9XCJzdG9wLWNvbG9yOnJnYigyNTUsMjU1LDI1NSlcIi8+XG4gICAgICAgKiAgICA8c3RvcCBvZmZzZXQ9XCIxXCIgc3R5bGU9XCJzdG9wLWNvbG9yOnJnYigwLDAsMClcIi8+XG4gICAgICAgKiAgPC9saW5lYXJHcmFkaWVudD5cbiAgICAgICAqXG4gICAgICAgKiAgT1JcbiAgICAgICAqXG4gICAgICAgKiAgPHJhZGlhbEdyYWRpZW50IGlkPVwicmFkaWFsR3JhZDFcIj5cbiAgICAgICAqICAgIDxzdG9wIG9mZnNldD1cIjAlXCIgc3RvcC1jb2xvcj1cIndoaXRlXCIgc3RvcC1vcGFjaXR5PVwiMVwiIC8+XG4gICAgICAgKiAgICA8c3RvcCBvZmZzZXQ9XCI1MCVcIiBzdG9wLWNvbG9yPVwiYmxhY2tcIiBzdG9wLW9wYWNpdHk9XCIwLjVcIiAvPlxuICAgICAgICogICAgPHN0b3Agb2Zmc2V0PVwiMTAwJVwiIHN0b3AtY29sb3I9XCJ3aGl0ZVwiIHN0b3Atb3BhY2l0eT1cIjFcIiAvPlxuICAgICAgICogIDwvcmFkaWFsR3JhZGllbnQ+XG4gICAgICAgKlxuICAgICAgICogIE9SXG4gICAgICAgKlxuICAgICAgICogIDxyYWRpYWxHcmFkaWVudCBpZD1cInJhZGlhbEdyYWQyXCI+XG4gICAgICAgKiAgICA8c3RvcCBvZmZzZXQ9XCIwXCIgc3RvcC1jb2xvcj1cInJnYigyNTUsMjU1LDI1NSlcIiAvPlxuICAgICAgICogICAgPHN0b3Agb2Zmc2V0PVwiMC41XCIgc3RvcC1jb2xvcj1cInJnYigwLDAsMClcIiAvPlxuICAgICAgICogICAgPHN0b3Agb2Zmc2V0PVwiMVwiIHN0b3AtY29sb3I9XCJyZ2IoMjU1LDI1NSwyNTUpXCIgLz5cbiAgICAgICAqICA8L3JhZGlhbEdyYWRpZW50PlxuICAgICAgICpcbiAgICAgICAqL1xuXG4gICAgICB2YXIgbXVsdGlwbGllciA9IHBhcnNlRmxvYXQob3BhY2l0eUF0dHIpIC8gKC8lJC8udGVzdChvcGFjaXR5QXR0cikgPyAxMDAgOiAxKTtcbiAgICAgIG11bHRpcGxpZXIgPSBtdWx0aXBsaWVyIDwgMCA/IDAgOiBtdWx0aXBsaWVyID4gMSA/IDEgOiBtdWx0aXBsaWVyO1xuICAgICAgaWYgKGlzTmFOKG11bHRpcGxpZXIpKSB7XG4gICAgICAgIG11bHRpcGxpZXIgPSAxO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29sb3JTdG9wRWxzID0gZWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3N0b3AnKSxcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIGdyYWRpZW50VW5pdHMgPSBlbC5nZXRBdHRyaWJ1dGUoJ2dyYWRpZW50VW5pdHMnKSA9PT0gJ3VzZXJTcGFjZU9uVXNlJyA/XG4gICAgICAgICAgICAncGl4ZWxzJyA6ICdwZXJjZW50YWdlJyxcbiAgICAgICAgICBncmFkaWVudFRyYW5zZm9ybSA9IGVsLmdldEF0dHJpYnV0ZSgnZ3JhZGllbnRUcmFuc2Zvcm0nKSB8fCAnJyxcbiAgICAgICAgICBjb2xvclN0b3BzID0gW10sXG4gICAgICAgICAgY29vcmRzLCBpLCBvZmZzZXRYID0gMCwgb2Zmc2V0WSA9IDAsXG4gICAgICAgICAgdHJhbnNmb3JtTWF0cml4O1xuICAgICAgaWYgKGVsLm5vZGVOYW1lID09PSAnbGluZWFyR3JhZGllbnQnIHx8IGVsLm5vZGVOYW1lID09PSAnTElORUFSR1JBRElFTlQnKSB7XG4gICAgICAgIHR5cGUgPSAnbGluZWFyJztcbiAgICAgICAgY29vcmRzID0gZ2V0TGluZWFyQ29vcmRzKGVsKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0eXBlID0gJ3JhZGlhbCc7XG4gICAgICAgIGNvb3JkcyA9IGdldFJhZGlhbENvb3JkcyhlbCk7XG4gICAgICB9XG5cbiAgICAgIGZvciAoaSA9IGNvbG9yU3RvcEVscy5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgIGNvbG9yU3RvcHMucHVzaChnZXRDb2xvclN0b3AoY29sb3JTdG9wRWxzW2ldLCBtdWx0aXBsaWVyKSk7XG4gICAgICB9XG5cbiAgICAgIHRyYW5zZm9ybU1hdHJpeCA9IGZhYnJpYy5wYXJzZVRyYW5zZm9ybUF0dHJpYnV0ZShncmFkaWVudFRyYW5zZm9ybSk7XG5cbiAgICAgIF9fY29udmVydFBlcmNlbnRVbml0c1RvVmFsdWVzKGluc3RhbmNlLCBjb29yZHMsIHN2Z09wdGlvbnMsIGdyYWRpZW50VW5pdHMpO1xuXG4gICAgICBpZiAoZ3JhZGllbnRVbml0cyA9PT0gJ3BpeGVscycpIHtcbiAgICAgICAgb2Zmc2V0WCA9IC1pbnN0YW5jZS5sZWZ0O1xuICAgICAgICBvZmZzZXRZID0gLWluc3RhbmNlLnRvcDtcbiAgICAgIH1cblxuICAgICAgdmFyIGdyYWRpZW50ID0gbmV3IGZhYnJpYy5HcmFkaWVudCh7XG4gICAgICAgIGlkOiBlbC5nZXRBdHRyaWJ1dGUoJ2lkJyksXG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIGNvb3JkczogY29vcmRzLFxuICAgICAgICBjb2xvclN0b3BzOiBjb2xvclN0b3BzLFxuICAgICAgICBncmFkaWVudFVuaXRzOiBncmFkaWVudFVuaXRzLFxuICAgICAgICBncmFkaWVudFRyYW5zZm9ybTogdHJhbnNmb3JtTWF0cml4LFxuICAgICAgICBvZmZzZXRYOiBvZmZzZXRYLFxuICAgICAgICBvZmZzZXRZOiBvZmZzZXRZLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBncmFkaWVudDtcbiAgICB9LFxuICAgIC8qIF9GUk9NX1NWR19FTkRfICovXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHtAbGluayBmYWJyaWMuR3JhZGllbnR9IGluc3RhbmNlIGZyb20gaXRzIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgICAqIHRoaXMgZnVuY3Rpb24gaXMgdW5pcXVlbHkgdXNlZCBieSBPYmplY3Quc2V0R3JhZGllbnQgYW5kIGlzIGRlcHJlY2F0ZWQgd2l0aCBpdC5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgMy40LjBcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLkdyYWRpZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9ialxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKi9cbiAgICBmb3JPYmplY3Q6IGZ1bmN0aW9uKG9iaiwgb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHsgfSk7XG4gICAgICBfX2NvbnZlcnRQZXJjZW50VW5pdHNUb1ZhbHVlcyhvYmosIG9wdGlvbnMuY29vcmRzLCBvcHRpb25zLmdyYWRpZW50VW5pdHMsIHtcbiAgICAgICAgLy8gdGhvc2UgdmFsdWVzIGFyZSB0byBhdm9pZCBlcnJvcnMuIHRoaXMgZnVuY3Rpb24gaXMgdW5pcXVlbHkgdXNlZCBieVxuICAgICAgICB2aWV3Qm94V2lkdGg6IDEwMCxcbiAgICAgICAgdmlld0JveEhlaWdodDogMTAwLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3IGZhYnJpYy5HcmFkaWVudChvcHRpb25zKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gX19jb252ZXJ0UGVyY2VudFVuaXRzVG9WYWx1ZXMoaW5zdGFuY2UsIG9wdGlvbnMsIHN2Z09wdGlvbnMsIGdyYWRpZW50VW5pdHMpIHtcbiAgICB2YXIgcHJvcFZhbHVlLCBmaW5hbFZhbHVlO1xuICAgIE9iamVjdC5rZXlzKG9wdGlvbnMpLmZvckVhY2goZnVuY3Rpb24ocHJvcCkge1xuICAgICAgcHJvcFZhbHVlID0gb3B0aW9uc1twcm9wXTtcbiAgICAgIGlmIChwcm9wVmFsdWUgPT09ICdJbmZpbml0eScpIHtcbiAgICAgICAgZmluYWxWYWx1ZSA9IDE7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChwcm9wVmFsdWUgPT09ICctSW5maW5pdHknKSB7XG4gICAgICAgIGZpbmFsVmFsdWUgPSAwO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGZpbmFsVmFsdWUgPSBwYXJzZUZsb2F0KG9wdGlvbnNbcHJvcF0sIDEwKTtcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9wVmFsdWUgPT09ICdzdHJpbmcnICYmIC9eKFxcZCtcXC5cXGQrKSV8KFxcZCspJSQvLnRlc3QocHJvcFZhbHVlKSkge1xuICAgICAgICAgIGZpbmFsVmFsdWUgKj0gMC4wMTtcbiAgICAgICAgICBpZiAoZ3JhZGllbnRVbml0cyA9PT0gJ3BpeGVscycpIHtcbiAgICAgICAgICAgIC8vIHRoZW4gd2UgbmVlZCB0byBmaXggdGhvc2UgcGVyY2VudGFnZXMgaGVyZSBpbiBzdmcgcGFyc2luZ1xuICAgICAgICAgICAgaWYgKHByb3AgPT09ICd4MScgfHwgcHJvcCA9PT0gJ3gyJyB8fCBwcm9wID09PSAncjInKSB7XG4gICAgICAgICAgICAgIGZpbmFsVmFsdWUgKj0gc3ZnT3B0aW9ucy52aWV3Qm94V2lkdGggfHwgc3ZnT3B0aW9ucy53aWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcm9wID09PSAneTEnIHx8IHByb3AgPT09ICd5MicpIHtcbiAgICAgICAgICAgICAgZmluYWxWYWx1ZSAqPSBzdmdPcHRpb25zLnZpZXdCb3hIZWlnaHQgfHwgc3ZnT3B0aW9ucy5oZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBvcHRpb25zW3Byb3BdID0gZmluYWxWYWx1ZTtcbiAgICB9KTtcbiAgfVxufSkoKTtcblxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciB0b0ZpeGVkID0gZmFicmljLnV0aWwudG9GaXhlZDtcblxuICAvKipcbiAgICogUGF0dGVybiBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLlBhdHRlcm5cbiAgICogQHNlZSB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9wYXR0ZXJuc3xQYXR0ZXJuIGRlbW99XG4gICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vZHluYW1pYy1wYXR0ZXJuc3xEeW5hbWljUGF0dGVybiBkZW1vfVxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuUGF0dGVybiNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKi9cblxuXG4gIGZhYnJpYy5QYXR0ZXJuID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoLyoqIEBsZW5kcyBmYWJyaWMuUGF0dGVybi5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogUmVwZWF0IHByb3BlcnR5IG9mIGEgcGF0dGVybiAob25lIG9mIHJlcGVhdCwgcmVwZWF0LXgsIHJlcGVhdC15IG9yIG5vLXJlcGVhdClcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHJlcGVhdDogJ3JlcGVhdCcsXG5cbiAgICAvKipcbiAgICAgKiBQYXR0ZXJuIGhvcml6b250YWwgb2Zmc2V0IGZyb20gb2JqZWN0J3MgbGVmdC90b3AgY29ybmVyXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBvZmZzZXRYOiAwLFxuXG4gICAgLyoqXG4gICAgICogUGF0dGVybiB2ZXJ0aWNhbCBvZmZzZXQgZnJvbSBvYmplY3QncyBsZWZ0L3RvcCBjb3JuZXJcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG9mZnNldFk6IDAsXG5cbiAgICAvKipcbiAgICAgKiBjcm9zc09yaWdpbiB2YWx1ZSAob25lIG9mIFwiXCIsIFwiYW5vbnltb3VzXCIsIFwidXNlLWNyZWRlbnRpYWxzXCIpXG4gICAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0hUTUwvQ09SU19zZXR0aW5nc19hdHRyaWJ1dGVzXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjcm9zc09yaWdpbjogJycsXG5cbiAgICAvKipcbiAgICAgKiB0cmFuc2Zvcm0gbWF0cml4IHRvIGNoYW5nZSB0aGUgcGF0dGVybiwgaW1wb3J0ZWQgZnJvbSBzdmdzLlxuICAgICAqIEB0eXBlIEFycmF5XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBwYXR0ZXJuVHJhbnNmb3JtOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBmdW5jdGlvbiB0byBpbnZva2UgYWZ0ZXIgY2FsbGJhY2sgaW5pdC5cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUGF0dGVybn0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0geyB9KTtcblxuICAgICAgdGhpcy5pZCA9IGZhYnJpYy5PYmplY3QuX191aWQrKztcbiAgICAgIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICAgIGlmICghb3B0aW9ucy5zb3VyY2UgfHwgKG9wdGlvbnMuc291cmNlICYmIHR5cGVvZiBvcHRpb25zLnNvdXJjZSAhPT0gJ3N0cmluZycpKSB7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHRoaXMpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBmdW5jdGlvbiBzdHJpbmdcbiAgICAgIGlmICh0eXBlb2YgZmFicmljLnV0aWwuZ2V0RnVuY3Rpb25Cb2R5KG9wdGlvbnMuc291cmNlKSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBuZXcgRnVuY3Rpb24oZmFicmljLnV0aWwuZ2V0RnVuY3Rpb25Cb2R5KG9wdGlvbnMuc291cmNlKSk7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHRoaXMpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIGltZyBzcmMgc3RyaW5nXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuc291cmNlID0gZmFicmljLnV0aWwuY3JlYXRlSW1hZ2UoKTtcbiAgICAgICAgZmFicmljLnV0aWwubG9hZEltYWdlKG9wdGlvbnMuc291cmNlLCBmdW5jdGlvbihpbWcpIHtcbiAgICAgICAgICBfdGhpcy5zb3VyY2UgPSBpbWc7XG4gICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soX3RoaXMpO1xuICAgICAgICB9LCBudWxsLCB0aGlzLmNyb3NzT3JpZ2luKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYSBwYXR0ZXJuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGEgcGF0dGVybiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvT2JqZWN0OiBmdW5jdGlvbihwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICB2YXIgTlVNX0ZSQUNUSU9OX0RJR0lUUyA9IGZhYnJpYy5PYmplY3QuTlVNX0ZSQUNUSU9OX0RJR0lUUyxcbiAgICAgICAgICBzb3VyY2UsIG9iamVjdDtcblxuICAgICAgLy8gY2FsbGJhY2tcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5zb3VyY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgc291cmNlID0gU3RyaW5nKHRoaXMuc291cmNlKTtcbiAgICAgIH1cbiAgICAgIC8vIDxpbWc+IGVsZW1lbnRcbiAgICAgIGVsc2UgaWYgKHR5cGVvZiB0aGlzLnNvdXJjZS5zcmMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHNvdXJjZSA9IHRoaXMuc291cmNlLnNyYztcbiAgICAgIH1cbiAgICAgIC8vIDxjYW52YXM+IGVsZW1lbnRcbiAgICAgIGVsc2UgaWYgKHR5cGVvZiB0aGlzLnNvdXJjZSA9PT0gJ29iamVjdCcgJiYgdGhpcy5zb3VyY2UudG9EYXRhVVJMKSB7XG4gICAgICAgIHNvdXJjZSA9IHRoaXMuc291cmNlLnRvRGF0YVVSTCgpO1xuICAgICAgfVxuXG4gICAgICBvYmplY3QgPSB7XG4gICAgICAgIHR5cGU6ICdwYXR0ZXJuJyxcbiAgICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICAgIHJlcGVhdDogdGhpcy5yZXBlYXQsXG4gICAgICAgIGNyb3NzT3JpZ2luOiB0aGlzLmNyb3NzT3JpZ2luLFxuICAgICAgICBvZmZzZXRYOiB0b0ZpeGVkKHRoaXMub2Zmc2V0WCwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgIG9mZnNldFk6IHRvRml4ZWQodGhpcy5vZmZzZXRZLCBOVU1fRlJBQ1RJT05fRElHSVRTKSxcbiAgICAgICAgcGF0dGVyblRyYW5zZm9ybTogdGhpcy5wYXR0ZXJuVHJhbnNmb3JtID8gdGhpcy5wYXR0ZXJuVHJhbnNmb3JtLmNvbmNhdCgpIDogbnVsbFxuICAgICAgfTtcbiAgICAgIGZhYnJpYy51dGlsLnBvcHVsYXRlV2l0aFByb3BlcnRpZXModGhpcywgb2JqZWN0LCBwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcblxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9LFxuXG4gICAgLyogX1RPX1NWR19TVEFSVF8gKi9cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIFNWRyByZXByZXNlbnRhdGlvbiBvZiBhIHBhdHRlcm5cbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iamVjdFxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gU1ZHIHJlcHJlc2VudGF0aW9uIG9mIGEgcGF0dGVyblxuICAgICAqL1xuICAgIHRvU1ZHOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHZhciBwYXR0ZXJuU291cmNlID0gdHlwZW9mIHRoaXMuc291cmNlID09PSAnZnVuY3Rpb24nID8gdGhpcy5zb3VyY2UoKSA6IHRoaXMuc291cmNlLFxuICAgICAgICAgIHBhdHRlcm5XaWR0aCA9IHBhdHRlcm5Tb3VyY2Uud2lkdGggLyBvYmplY3Qud2lkdGgsXG4gICAgICAgICAgcGF0dGVybkhlaWdodCA9IHBhdHRlcm5Tb3VyY2UuaGVpZ2h0IC8gb2JqZWN0LmhlaWdodCxcbiAgICAgICAgICBwYXR0ZXJuT2Zmc2V0WCA9IHRoaXMub2Zmc2V0WCAvIG9iamVjdC53aWR0aCxcbiAgICAgICAgICBwYXR0ZXJuT2Zmc2V0WSA9IHRoaXMub2Zmc2V0WSAvIG9iamVjdC5oZWlnaHQsXG4gICAgICAgICAgcGF0dGVybkltZ1NyYyA9ICcnO1xuICAgICAgaWYgKHRoaXMucmVwZWF0ID09PSAncmVwZWF0LXgnIHx8IHRoaXMucmVwZWF0ID09PSAnbm8tcmVwZWF0Jykge1xuICAgICAgICBwYXR0ZXJuSGVpZ2h0ID0gMTtcbiAgICAgICAgaWYgKHBhdHRlcm5PZmZzZXRZKSB7XG4gICAgICAgICAgcGF0dGVybkhlaWdodCArPSBNYXRoLmFicyhwYXR0ZXJuT2Zmc2V0WSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnJlcGVhdCA9PT0gJ3JlcGVhdC15JyB8fCB0aGlzLnJlcGVhdCA9PT0gJ25vLXJlcGVhdCcpIHtcbiAgICAgICAgcGF0dGVybldpZHRoID0gMTtcbiAgICAgICAgaWYgKHBhdHRlcm5PZmZzZXRYKSB7XG4gICAgICAgICAgcGF0dGVybldpZHRoICs9IE1hdGguYWJzKHBhdHRlcm5PZmZzZXRYKTtcbiAgICAgICAgfVxuXG4gICAgICB9XG4gICAgICBpZiAocGF0dGVyblNvdXJjZS5zcmMpIHtcbiAgICAgICAgcGF0dGVybkltZ1NyYyA9IHBhdHRlcm5Tb3VyY2Uuc3JjO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAocGF0dGVyblNvdXJjZS50b0RhdGFVUkwpIHtcbiAgICAgICAgcGF0dGVybkltZ1NyYyA9IHBhdHRlcm5Tb3VyY2UudG9EYXRhVVJMKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAnPHBhdHRlcm4gaWQ9XCJTVkdJRF8nICsgdGhpcy5pZCArXG4gICAgICAgICAgICAgICAgICAgICdcIiB4PVwiJyArIHBhdHRlcm5PZmZzZXRYICtcbiAgICAgICAgICAgICAgICAgICAgJ1wiIHk9XCInICsgcGF0dGVybk9mZnNldFkgK1xuICAgICAgICAgICAgICAgICAgICAnXCIgd2lkdGg9XCInICsgcGF0dGVybldpZHRoICtcbiAgICAgICAgICAgICAgICAgICAgJ1wiIGhlaWdodD1cIicgKyBwYXR0ZXJuSGVpZ2h0ICsgJ1wiPlxcbicgK1xuICAgICAgICAgICAgICAgJzxpbWFnZSB4PVwiMFwiIHk9XCIwXCInICtcbiAgICAgICAgICAgICAgICAgICAgICAnIHdpZHRoPVwiJyArIHBhdHRlcm5Tb3VyY2Uud2lkdGggK1xuICAgICAgICAgICAgICAgICAgICAgICdcIiBoZWlnaHQ9XCInICsgcGF0dGVyblNvdXJjZS5oZWlnaHQgK1xuICAgICAgICAgICAgICAgICAgICAgICdcIiB4bGluazpocmVmPVwiJyArIHBhdHRlcm5JbWdTcmMgK1xuICAgICAgICAgICAgICAgJ1wiPjwvaW1hZ2U+XFxuJyArXG4gICAgICAgICAgICAgJzwvcGF0dGVybj5cXG4nO1xuICAgIH0sXG4gICAgLyogX1RPX1NWR19FTkRfICovXG5cbiAgICBzZXRPcHRpb25zOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBmb3IgKHZhciBwcm9wIGluIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpc1twcm9wXSA9IG9wdGlvbnNbcHJvcF07XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gaW5zdGFuY2Ugb2YgQ2FudmFzUGF0dGVyblxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byBjcmVhdGUgcGF0dGVyblxuICAgICAqIEByZXR1cm4ge0NhbnZhc1BhdHRlcm59XG4gICAgICovXG4gICAgdG9MaXZlOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIHZhciBzb3VyY2UgPSB0eXBlb2YgdGhpcy5zb3VyY2UgPT09ICdmdW5jdGlvbicgPyB0aGlzLnNvdXJjZSgpIDogdGhpcy5zb3VyY2U7XG5cbiAgICAgIC8vIGlmIHRoZSBpbWFnZSBmYWlsZWQgdG8gbG9hZCwgcmV0dXJuLCBhbmQgYWxsb3cgcmVzdCB0byBjb250aW51ZSBsb2FkaW5nXG4gICAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgICB9XG5cbiAgICAgIC8vIGlmIGFuIGltYWdlXG4gICAgICBpZiAodHlwZW9mIHNvdXJjZS5zcmMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGlmICghc291cmNlLmNvbXBsZXRlKSB7XG4gICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzb3VyY2UubmF0dXJhbFdpZHRoID09PSAwIHx8IHNvdXJjZS5uYXR1cmFsSGVpZ2h0ID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gY3R4LmNyZWF0ZVBhdHRlcm4oc291cmNlLCB0aGlzLnJlcGVhdCk7XG4gICAgfVxuICB9KTtcbn0pKCk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICB0b0ZpeGVkID0gZmFicmljLnV0aWwudG9GaXhlZDtcblxuICBpZiAoZmFicmljLlNoYWRvdykge1xuICAgIGZhYnJpYy53YXJuKCdmYWJyaWMuU2hhZG93IGlzIGFscmVhZHkgZGVmaW5lZC4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogU2hhZG93IGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuU2hhZG93XG4gICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vc2hhZG93c3xTaGFkb3cgZGVtb31cbiAgICogQHNlZSB7QGxpbmsgZmFicmljLlNoYWRvdyNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKi9cbiAgZmFicmljLlNoYWRvdyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKC8qKiBAbGVuZHMgZmFicmljLlNoYWRvdy5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogU2hhZG93IGNvbG9yXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjb2xvcjogJ3JnYigwLDAsMCknLFxuXG4gICAgLyoqXG4gICAgICogU2hhZG93IGJsdXJcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKi9cbiAgICBibHVyOiAwLFxuXG4gICAgLyoqXG4gICAgICogU2hhZG93IGhvcml6b250YWwgb2Zmc2V0XG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBvZmZzZXRYOiAwLFxuXG4gICAgLyoqXG4gICAgICogU2hhZG93IHZlcnRpY2FsIG9mZnNldFxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgb2Zmc2V0WTogMCxcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHNoYWRvdyBzaG91bGQgYWZmZWN0IHN0cm9rZSBvcGVyYXRpb25zXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgYWZmZWN0U3Ryb2tlOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRvT2JqZWN0IHNob3VsZCBpbmNsdWRlIGRlZmF1bHQgdmFsdWVzXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgaW5jbHVkZURlZmF1bHRWYWx1ZXM6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGBmYWxzZWAsIHRoZSBzaGFkb3cgd2lsbCBzY2FsZSB3aXRoIHRoZSBvYmplY3QuXG4gICAgICogV2hlbiBgdHJ1ZWAsIHRoZSBzaGFkb3cncyBvZmZzZXRYLCBvZmZzZXRZLCBhbmQgYmx1ciB3aWxsIG5vdCBiZSBhZmZlY3RlZCBieSB0aGUgb2JqZWN0J3Mgc2NhbGUuXG4gICAgICogZGVmYXVsdCB0byBmYWxzZVxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG5vblNjYWxpbmc6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdCB3aXRoIGFueSBvZiBjb2xvciwgYmx1ciwgb2Zmc2V0WCwgb2Zmc2V0WSBwcm9wZXJ0aWVzIG9yIHN0cmluZyAoZS5nLiBcInJnYmEoMCwwLDAsMC4yKSAycHggMnB4IDEwcHhcIilcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuU2hhZG93fSB0aGlzQXJnXG4gICAgICovXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucykge1xuXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIG9wdGlvbnMgPSB0aGlzLl9wYXJzZVNoYWRvdyhvcHRpb25zKTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgcHJvcCBpbiBvcHRpb25zKSB7XG4gICAgICAgIHRoaXNbcHJvcF0gPSBvcHRpb25zW3Byb3BdO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmlkID0gZmFicmljLk9iamVjdC5fX3VpZCsrO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzaGFkb3cgU2hhZG93IHZhbHVlIHRvIHBhcnNlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBTaGFkb3cgb2JqZWN0IHdpdGggY29sb3IsIG9mZnNldFgsIG9mZnNldFkgYW5kIGJsdXJcbiAgICAgKi9cbiAgICBfcGFyc2VTaGFkb3c6IGZ1bmN0aW9uKHNoYWRvdykge1xuICAgICAgdmFyIHNoYWRvd1N0ciA9IHNoYWRvdy50cmltKCksXG4gICAgICAgICAgb2Zmc2V0c0FuZEJsdXIgPSBmYWJyaWMuU2hhZG93LnJlT2Zmc2V0c0FuZEJsdXIuZXhlYyhzaGFkb3dTdHIpIHx8IFtdLFxuICAgICAgICAgIGNvbG9yID0gc2hhZG93U3RyLnJlcGxhY2UoZmFicmljLlNoYWRvdy5yZU9mZnNldHNBbmRCbHVyLCAnJykgfHwgJ3JnYigwLDAsMCknO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb2xvcjogY29sb3IudHJpbSgpLFxuICAgICAgICBvZmZzZXRYOiBwYXJzZUludChvZmZzZXRzQW5kQmx1clsxXSwgMTApIHx8IDAsXG4gICAgICAgIG9mZnNldFk6IHBhcnNlSW50KG9mZnNldHNBbmRCbHVyWzJdLCAxMCkgfHwgMCxcbiAgICAgICAgYmx1cjogcGFyc2VJbnQob2Zmc2V0c0FuZEJsdXJbM10sIDEwKSB8fCAwXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MtdGV4dC1kZWNvci0zLyN0ZXh0LXNoYWRvd1xuICAgICAqIEByZXR1cm4ge1N0cmluZ30gUmV0dXJucyBDU1MzIHRleHQtc2hhZG93IGRlY2xhcmF0aW9uXG4gICAgICovXG4gICAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFt0aGlzLm9mZnNldFgsIHRoaXMub2Zmc2V0WSwgdGhpcy5ibHVyLCB0aGlzLmNvbG9yXS5qb2luKCdweCAnKTtcbiAgICB9LFxuXG4gICAgLyogX1RPX1NWR19TVEFSVF8gKi9cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIFNWRyByZXByZXNlbnRhdGlvbiBvZiBhIHNoYWRvd1xuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0XG4gICAgICogQHJldHVybiB7U3RyaW5nfSBTVkcgcmVwcmVzZW50YXRpb24gb2YgYSBzaGFkb3dcbiAgICAgKi9cbiAgICB0b1NWRzogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICB2YXIgZkJveFggPSA0MCwgZkJveFkgPSA0MCwgTlVNX0ZSQUNUSU9OX0RJR0lUUyA9IGZhYnJpYy5PYmplY3QuTlVNX0ZSQUNUSU9OX0RJR0lUUyxcbiAgICAgICAgICBvZmZzZXQgPSBmYWJyaWMudXRpbC5yb3RhdGVWZWN0b3IoXG4gICAgICAgICAgICB7IHg6IHRoaXMub2Zmc2V0WCwgeTogdGhpcy5vZmZzZXRZIH0sXG4gICAgICAgICAgICBmYWJyaWMudXRpbC5kZWdyZWVzVG9SYWRpYW5zKC1vYmplY3QuYW5nbGUpKSxcbiAgICAgICAgICBCTFVSX0JPWCA9IDIwLCBjb2xvciA9IG5ldyBmYWJyaWMuQ29sb3IodGhpcy5jb2xvcik7XG5cbiAgICAgIGlmIChvYmplY3Qud2lkdGggJiYgb2JqZWN0LmhlaWdodCkge1xuICAgICAgICAvL2h0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9maWx0ZXJzLmh0bWwjRmlsdGVyRWZmZWN0c1JlZ2lvblxuICAgICAgICAvLyB3ZSBhZGQgc29tZSBleHRyYSBzcGFjZSB0byBmaWx0ZXIgYm94IHRvIGNvbnRhaW4gdGhlIGJsdXIgKCAyMCApXG4gICAgICAgIGZCb3hYID0gdG9GaXhlZCgoTWF0aC5hYnMob2Zmc2V0LngpICsgdGhpcy5ibHVyKSAvIG9iamVjdC53aWR0aCwgTlVNX0ZSQUNUSU9OX0RJR0lUUykgKiAxMDAgKyBCTFVSX0JPWDtcbiAgICAgICAgZkJveFkgPSB0b0ZpeGVkKChNYXRoLmFicyhvZmZzZXQueSkgKyB0aGlzLmJsdXIpIC8gb2JqZWN0LmhlaWdodCwgTlVNX0ZSQUNUSU9OX0RJR0lUUykgKiAxMDAgKyBCTFVSX0JPWDtcbiAgICAgIH1cbiAgICAgIGlmIChvYmplY3QuZmxpcFgpIHtcbiAgICAgICAgb2Zmc2V0LnggKj0gLTE7XG4gICAgICB9XG4gICAgICBpZiAob2JqZWN0LmZsaXBZKSB7XG4gICAgICAgIG9mZnNldC55ICo9IC0xO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gKFxuICAgICAgICAnPGZpbHRlciBpZD1cIlNWR0lEXycgKyB0aGlzLmlkICsgJ1wiIHk9XCItJyArIGZCb3hZICsgJyVcIiBoZWlnaHQ9XCInICsgKDEwMCArIDIgKiBmQm94WSkgKyAnJVwiICcgK1xuICAgICAgICAgICd4PVwiLScgKyBmQm94WCArICclXCIgd2lkdGg9XCInICsgKDEwMCArIDIgKiBmQm94WCkgKyAnJVwiICcgKyAnPlxcbicgK1xuICAgICAgICAgICdcXHQ8ZmVHYXVzc2lhbkJsdXIgaW49XCJTb3VyY2VBbHBoYVwiIHN0ZERldmlhdGlvbj1cIicgK1xuICAgICAgICAgICAgdG9GaXhlZCh0aGlzLmJsdXIgPyB0aGlzLmJsdXIgLyAyIDogMCwgTlVNX0ZSQUNUSU9OX0RJR0lUUykgKyAnXCI+PC9mZUdhdXNzaWFuQmx1cj5cXG4nICtcbiAgICAgICAgICAnXFx0PGZlT2Zmc2V0IGR4PVwiJyArIHRvRml4ZWQob2Zmc2V0LngsIE5VTV9GUkFDVElPTl9ESUdJVFMpICtcbiAgICAgICAgICAnXCIgZHk9XCInICsgdG9GaXhlZChvZmZzZXQueSwgTlVNX0ZSQUNUSU9OX0RJR0lUUykgKyAnXCIgcmVzdWx0PVwib0JsdXJcIiA+PC9mZU9mZnNldD5cXG4nICtcbiAgICAgICAgICAnXFx0PGZlRmxvb2QgZmxvb2QtY29sb3I9XCInICsgY29sb3IudG9SZ2IoKSArICdcIiBmbG9vZC1vcGFjaXR5PVwiJyArIGNvbG9yLmdldEFscGhhKCkgKyAnXCIvPlxcbicgK1xuICAgICAgICAgICdcXHQ8ZmVDb21wb3NpdGUgaW4yPVwib0JsdXJcIiBvcGVyYXRvcj1cImluXCIgLz5cXG4nICtcbiAgICAgICAgICAnXFx0PGZlTWVyZ2U+XFxuJyArXG4gICAgICAgICAgICAnXFx0XFx0PGZlTWVyZ2VOb2RlPjwvZmVNZXJnZU5vZGU+XFxuJyArXG4gICAgICAgICAgICAnXFx0XFx0PGZlTWVyZ2VOb2RlIGluPVwiU291cmNlR3JhcGhpY1wiPjwvZmVNZXJnZU5vZGU+XFxuJyArXG4gICAgICAgICAgJ1xcdDwvZmVNZXJnZT5cXG4nICtcbiAgICAgICAgJzwvZmlsdGVyPlxcbicpO1xuICAgIH0sXG4gICAgLyogX1RPX1NWR19FTkRfICovXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhIHNoYWRvd1xuICAgICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGEgc2hhZG93IGluc3RhbmNlXG4gICAgICovXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuaW5jbHVkZURlZmF1bHRWYWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBjb2xvcjogdGhpcy5jb2xvcixcbiAgICAgICAgICBibHVyOiB0aGlzLmJsdXIsXG4gICAgICAgICAgb2Zmc2V0WDogdGhpcy5vZmZzZXRYLFxuICAgICAgICAgIG9mZnNldFk6IHRoaXMub2Zmc2V0WSxcbiAgICAgICAgICBhZmZlY3RTdHJva2U6IHRoaXMuYWZmZWN0U3Ryb2tlLFxuICAgICAgICAgIG5vblNjYWxpbmc6IHRoaXMubm9uU2NhbGluZ1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgdmFyIG9iaiA9IHsgfSwgcHJvdG8gPSBmYWJyaWMuU2hhZG93LnByb3RvdHlwZTtcblxuICAgICAgWydjb2xvcicsICdibHVyJywgJ29mZnNldFgnLCAnb2Zmc2V0WScsICdhZmZlY3RTdHJva2UnLCAnbm9uU2NhbGluZyddLmZvckVhY2goZnVuY3Rpb24ocHJvcCkge1xuICAgICAgICBpZiAodGhpc1twcm9wXSAhPT0gcHJvdG9bcHJvcF0pIHtcbiAgICAgICAgICBvYmpbcHJvcF0gPSB0aGlzW3Byb3BdO1xuICAgICAgICB9XG4gICAgICB9LCB0aGlzKTtcblxuICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZWdleCBtYXRjaGluZyBzaGFkb3cgb2Zmc2V0WCwgb2Zmc2V0WSBhbmQgYmx1ciAoZXg6IFwiMnB4IDJweCAxMHB4IHJnYmEoMCwwLDAsMC4yKVwiLCBcInJnYigwLDI1NSwwKSAycHggMnB4XCIpXG4gICAqIEBzdGF0aWNcbiAgICogQGZpZWxkXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuU2hhZG93XG4gICAqL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbWF4LWxlblxuICBmYWJyaWMuU2hhZG93LnJlT2Zmc2V0c0FuZEJsdXIgPSAvKD86XFxzfF4pKC0/XFxkKyg/OnB4KT8oPzpcXHM/fCQpKT8oLT9cXGQrKD86cHgpPyg/Olxccz98JCkpPyhcXGQrKD86cHgpPyk/KD86XFxzP3wkKSg/OiR8XFxzKS87XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24gKCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICBpZiAoZmFicmljLlN0YXRpY0NhbnZhcykge1xuICAgIGZhYnJpYy53YXJuKCdmYWJyaWMuU3RhdGljQ2FudmFzIGlzIGFscmVhZHkgZGVmaW5lZC4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBhbGlhc2VzIGZvciBmYXN0ZXIgcmVzb2x1dGlvblxuICB2YXIgZXh0ZW5kID0gZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZCxcbiAgICAgIGdldEVsZW1lbnRPZmZzZXQgPSBmYWJyaWMudXRpbC5nZXRFbGVtZW50T2Zmc2V0LFxuICAgICAgcmVtb3ZlRnJvbUFycmF5ID0gZmFicmljLnV0aWwucmVtb3ZlRnJvbUFycmF5LFxuICAgICAgdG9GaXhlZCA9IGZhYnJpYy51dGlsLnRvRml4ZWQsXG4gICAgICB0cmFuc2Zvcm1Qb2ludCA9IGZhYnJpYy51dGlsLnRyYW5zZm9ybVBvaW50LFxuICAgICAgaW52ZXJ0VHJhbnNmb3JtID0gZmFicmljLnV0aWwuaW52ZXJ0VHJhbnNmb3JtLFxuICAgICAgZ2V0Tm9kZUNhbnZhcyA9IGZhYnJpYy51dGlsLmdldE5vZGVDYW52YXMsXG4gICAgICBjcmVhdGVDYW52YXNFbGVtZW50ID0gZmFicmljLnV0aWwuY3JlYXRlQ2FudmFzRWxlbWVudCxcblxuICAgICAgQ0FOVkFTX0lOSVRfRVJST1IgPSBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBpbml0aWFsaXplIGBjYW52YXNgIGVsZW1lbnQnKTtcblxuICAvKipcbiAgICogU3RhdGljIGNhbnZhcyBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLlN0YXRpY0NhbnZhc1xuICAgKiBAbWl4ZXMgZmFicmljLkNvbGxlY3Rpb25cbiAgICogQG1peGVzIGZhYnJpYy5PYnNlcnZhYmxlXG4gICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vc3RhdGljX2NhbnZhc3xTdGF0aWNDYW52YXMgZGVtb31cbiAgICogQHNlZSB7QGxpbmsgZmFicmljLlN0YXRpY0NhbnZhcyNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKiBAZmlyZXMgYmVmb3JlOnJlbmRlclxuICAgKiBAZmlyZXMgYWZ0ZXI6cmVuZGVyXG4gICAqIEBmaXJlcyBjYW52YXM6Y2xlYXJlZFxuICAgKiBAZmlyZXMgb2JqZWN0OmFkZGVkXG4gICAqIEBmaXJlcyBvYmplY3Q6cmVtb3ZlZFxuICAgKi9cbiAgZmFicmljLlN0YXRpY0NhbnZhcyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKGZhYnJpYy5Db21tb25NZXRob2RzLCAvKiogQGxlbmRzIGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudCB8IFN0cmluZ30gZWwgJmx0O2NhbnZhcz4gZWxlbWVudCB0byBpbml0aWFsaXplIGluc3RhbmNlIG9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGVsLCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0geyB9KTtcbiAgICAgIHRoaXMucmVuZGVyQW5kUmVzZXRCb3VuZCA9IHRoaXMucmVuZGVyQW5kUmVzZXQuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMucmVxdWVzdFJlbmRlckFsbEJvdW5kID0gdGhpcy5yZXF1ZXN0UmVuZGVyQWxsLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9pbml0U3RhdGljKGVsLCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQmFja2dyb3VuZCBjb2xvciBvZiBjYW52YXMgaW5zdGFuY2UuXG4gICAgICogU2hvdWxkIGJlIHNldCB2aWEge0BsaW5rIGZhYnJpYy5TdGF0aWNDYW52YXMjc2V0QmFja2dyb3VuZENvbG9yfS5cbiAgICAgKiBAdHlwZSB7KFN0cmluZ3xmYWJyaWMuUGF0dGVybil9XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICcnLFxuXG4gICAgLyoqXG4gICAgICogQmFja2dyb3VuZCBpbWFnZSBvZiBjYW52YXMgaW5zdGFuY2UuXG4gICAgICogU2hvdWxkIGJlIHNldCB2aWEge0BsaW5rIGZhYnJpYy5TdGF0aWNDYW52YXMjc2V0QmFja2dyb3VuZEltYWdlfS5cbiAgICAgKiA8Yj5CYWNrd2FyZHMgaW5jb21wYXRpYmlsaXR5IG5vdGU6PC9iPiBUaGUgXCJiYWNrZ3JvdW5kSW1hZ2VPcGFjaXR5XCJcbiAgICAgKiBhbmQgXCJiYWNrZ3JvdW5kSW1hZ2VTdHJldGNoXCIgcHJvcGVydGllcyBhcmUgZGVwcmVjYXRlZCBzaW5jZSAxLjMuOS5cbiAgICAgKiBVc2Uge0BsaW5rIGZhYnJpYy5JbWFnZSNvcGFjaXR5fSwge0BsaW5rIGZhYnJpYy5JbWFnZSN3aWR0aH0gYW5kIHtAbGluayBmYWJyaWMuSW1hZ2UjaGVpZ2h0fS5cbiAgICAgKiBzaW5jZSAyLjQuMCBpbWFnZSBjYWNoaW5nIGlzIGFjdGl2ZSwgcGxlYXNlIHdoZW4gcHV0dGluZyBhbiBpbWFnZSBhcyBiYWNrZ3JvdW5kLCBhZGQgdG8gdGhlXG4gICAgICogY2FudmFzIHByb3BlcnR5IGEgcmVmZXJlbmNlIHRvIHRoZSBjYW52YXMgaXQgaXMgb24uIE90aGVyd2lzZSB0aGUgaW1hZ2UgY2Fubm90IGRldGVjdCB0aGUgem9vbVxuICAgICAqIHZhbGUuIEFzIGFuIGFsdGVybmF0aXZlIHlvdSBjYW4gZGlzYWJsZSBpbWFnZSBvYmplY3RDYWNoaW5nXG4gICAgICogQHR5cGUgZmFicmljLkltYWdlXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBiYWNrZ3JvdW5kSW1hZ2U6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBPdmVybGF5IGNvbG9yIG9mIGNhbnZhcyBpbnN0YW5jZS5cbiAgICAgKiBTaG91bGQgYmUgc2V0IHZpYSB7QGxpbmsgZmFicmljLlN0YXRpY0NhbnZhcyNzZXRPdmVybGF5Q29sb3J9XG4gICAgICogQHNpbmNlIDEuMy45XG4gICAgICogQHR5cGUgeyhTdHJpbmd8ZmFicmljLlBhdHRlcm4pfVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgb3ZlcmxheUNvbG9yOiAnJyxcblxuICAgIC8qKlxuICAgICAqIE92ZXJsYXkgaW1hZ2Ugb2YgY2FudmFzIGluc3RhbmNlLlxuICAgICAqIFNob3VsZCBiZSBzZXQgdmlhIHtAbGluayBmYWJyaWMuU3RhdGljQ2FudmFzI3NldE92ZXJsYXlJbWFnZX0uXG4gICAgICogPGI+QmFja3dhcmRzIGluY29tcGF0aWJpbGl0eSBub3RlOjwvYj4gVGhlIFwib3ZlcmxheUltYWdlTGVmdFwiXG4gICAgICogYW5kIFwib3ZlcmxheUltYWdlVG9wXCIgcHJvcGVydGllcyBhcmUgZGVwcmVjYXRlZCBzaW5jZSAxLjMuOS5cbiAgICAgKiBVc2Uge0BsaW5rIGZhYnJpYy5JbWFnZSNsZWZ0fSBhbmQge0BsaW5rIGZhYnJpYy5JbWFnZSN0b3B9LlxuICAgICAqIHNpbmNlIDIuNC4wIGltYWdlIGNhY2hpbmcgaXMgYWN0aXZlLCBwbGVhc2Ugd2hlbiBwdXR0aW5nIGFuIGltYWdlIGFzIG92ZXJsYXksIGFkZCB0byB0aGVcbiAgICAgKiBjYW52YXMgcHJvcGVydHkgYSByZWZlcmVuY2UgdG8gdGhlIGNhbnZhcyBpdCBpcyBvbi4gT3RoZXJ3aXNlIHRoZSBpbWFnZSBjYW5ub3QgZGV0ZWN0IHRoZSB6b29tXG4gICAgICogdmFsZS4gQXMgYW4gYWx0ZXJuYXRpdmUgeW91IGNhbiBkaXNhYmxlIGltYWdlIG9iamVjdENhY2hpbmdcbiAgICAgKiBAdHlwZSBmYWJyaWMuSW1hZ2VcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG92ZXJsYXlJbWFnZTogbnVsbCxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRvT2JqZWN0L3RvRGF0YWxlc3NPYmplY3Qgc2hvdWxkIGluY2x1ZGUgZGVmYXVsdCB2YWx1ZXNcbiAgICAgKiBpZiBzZXQgdG8gZmFsc2UsIHRha2VzIHByZWNlZGVuY2Ugb3ZlciB0aGUgb2JqZWN0IHZhbHVlLlxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGluY2x1ZGVEZWZhdWx0VmFsdWVzOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgb2JqZWN0cycgc3RhdGUgc2hvdWxkIGJlIHNhdmVkXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc3RhdGVmdWw6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIge0BsaW5rIGZhYnJpYy5Db2xsZWN0aW9uLmFkZH0sIHtAbGluayBmYWJyaWMuQ29sbGVjdGlvbi5pbnNlcnRBdH0gYW5kIHtAbGluayBmYWJyaWMuQ29sbGVjdGlvbi5yZW1vdmV9LFxuICAgICAqIHtAbGluayBmYWJyaWMuU3RhdGljQ2FudmFzLm1vdmVUb30sIHtAbGluayBmYWJyaWMuU3RhdGljQ2FudmFzLmNsZWFyfSBhbmQgbWFueSBtb3JlLCBzaG91bGQgYWxzbyByZS1yZW5kZXIgY2FudmFzLlxuICAgICAqIERpc2FibGluZyB0aGlzIG9wdGlvbiB3aWxsIG5vdCBnaXZlIGEgcGVyZm9ybWFuY2UgYm9vc3Qgd2hlbiBhZGRpbmcvcmVtb3ZpbmcgYSBsb3Qgb2Ygb2JqZWN0cyB0by9mcm9tIGNhbnZhcyBhdCBvbmNlXG4gICAgICogc2luY2UgdGhlIHJlbmRlcnMgYXJlIHF1ZXF1ZWQgYW5kIGV4ZWN1dGVkIG9uZSBwZXIgZnJhbWUuXG4gICAgICogRGlzYWJsaW5nIGlzIHN1Z2dlc3RlZCBhbnl3YXkgYW5kIG1hbmFnaW5nIHRoZSByZW5kZXJzIG9mIHRoZSBhcHAgbWFudWFsbHkgaXMgbm90IGEgYmlnIGVmZm9ydCAoIGNhbnZhcy5yZXF1ZXN0UmVuZGVyQWxsKCkgKVxuICAgICAqIExlZnQgZGVmYXVsdCB0byB0cnVlIHRvIGRvIG5vdCBicmVhayBkb2N1bWVudGF0aW9uIGFuZCBvbGQgYXBwLCBmaWRkbGVzLlxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHJlbmRlck9uQWRkUmVtb3ZlOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogRnVuY3Rpb24gdGhhdCBkZXRlcm1pbmVzIGNsaXBwaW5nIG9mIGVudGlyZSBjYW52YXMgYXJlYVxuICAgICAqIEJlaW5nIHBhc3NlZCBjb250ZXh0IGFzIGZpcnN0IGFyZ3VtZW50LlxuICAgICAqIElmIHlvdSBhcmUgdXNpbmcgY29kZSBtaW5pZmljYXRpb24sIGN0eCBhcmd1bWVudCBjYW4gYmUgbWluaWZpZWQvbWFuZ2xpZWQgeW91IHNob3VsZCB1c2VcbiAgICAgKiBhcyBhIHdvcmthcm91bmQgYHZhciBjdHggPSBhcmd1bWVudHNbMF07YCBpbiB0aGUgZnVuY3Rpb247XG4gICAgICogU2VlIGNsaXBwaW5nIGNhbnZhcyBhcmVhIGluIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20va2FuZ2F4L2ZhYnJpYy5qcy93aWtpL0ZBUX1cbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSAyLjAuMFxuICAgICAqIEB0eXBlIEZ1bmN0aW9uXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjbGlwVG86IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciBvYmplY3QgY29udHJvbHMgKGJvcmRlcnMvY29udHJvbHMpIGFyZSByZW5kZXJlZCBhYm92ZSBvdmVybGF5IGltYWdlXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgY29udHJvbHNBYm92ZU92ZXJsYXk6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGJyb3dzZXIgY2FuIGJlIHNjcm9sbGVkIHdoZW4gdXNpbmcgYSB0b3VjaHNjcmVlbiBhbmQgZHJhZ2dpbmcgb24gdGhlIGNhbnZhc1xuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGFsbG93VG91Y2hTY3JvbGxpbmc6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhpcyBjYW52YXMgd2lsbCB1c2UgaW1hZ2Ugc21vb3RoaW5nLCB0aGlzIGlzIG9uIGJ5IGRlZmF1bHQgaW4gYnJvd3NlcnNcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBpbWFnZVNtb290aGluZ0VuYWJsZWQ6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBUaGUgdHJhbnNmb3JtYXRpb24gKGluIHRoZSBmb3JtYXQgb2YgQ2FudmFzIHRyYW5zZm9ybSkgd2hpY2ggZm9jdXNlcyB0aGUgdmlld3BvcnRcbiAgICAgKiBAdHlwZSBBcnJheVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdmlld3BvcnRUcmFuc2Zvcm06IGZhYnJpYy5pTWF0cml4LmNvbmNhdCgpLFxuXG4gICAgLyoqXG4gICAgICogaWYgc2V0IHRvIGZhbHNlIGJhY2tncm91bmQgaW1hZ2UgaXMgbm90IGFmZmVjdGVkIGJ5IHZpZXdwb3J0IHRyYW5zZm9ybVxuICAgICAqIEBzaW5jZSAxLjYuM1xuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGJhY2tncm91bmRWcHQ6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBpZiBzZXQgdG8gZmFsc2Ugb3Zlcmx5YSBpbWFnZSBpcyBub3QgYWZmZWN0ZWQgYnkgdmlld3BvcnQgdHJhbnNmb3JtXG4gICAgICogQHNpbmNlIDEuNi4zXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgb3ZlcmxheVZwdDogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIENhbGxiYWNrOyBpbnZva2VkIHJpZ2h0IGJlZm9yZSBvYmplY3QgaXMgYWJvdXQgdG8gYmUgc2NhbGVkL3JvdGF0ZWRcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSAyLjMuMFxuICAgICAqIFVzZSBiZWZvcmU6dHJhbnNmb3JtIGV2ZW50XG4gICAgICovXG4gICAgb25CZWZvcmVTY2FsZVJvdGF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgLyogTk9PUCAqL1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRydWUsIGNhbnZhcyBpcyBzY2FsZWQgYnkgZGV2aWNlUGl4ZWxSYXRpbyBmb3IgYmV0dGVyIHJlbmRlcmluZyBvbiByZXRpbmEgc2NyZWVuc1xuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGVuYWJsZVJldGluYVNjYWxpbmc6IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBEZXNjcmliZSBjYW52YXMgZWxlbWVudCBleHRlbnNpb24gb3ZlciBkZXNpZ25cbiAgICAgKiBwcm9wZXJ0aWVzIGFyZSB0bCx0cixibCxici5cbiAgICAgKiBpZiBjYW52YXMgaXMgbm90IHpvb21lZC9wYW5uZWQgdGhvc2UgcG9pbnRzIGFyZSB0aGUgZm91ciBjb3JuZXIgb2YgY2FudmFzXG4gICAgICogaWYgY2FudmFzIGlzIHZpZXdwb3J0VHJhbnNmb3JtZWQgeW91IHRob3NlIHBvaW50cyBpbmRpY2F0ZSB0aGUgZXh0ZW5zaW9uXG4gICAgICogb2YgY2FudmFzIGVsZW1lbnQgaW4gcGxhaW4gdW50cmFzZm9ybWVkIGNvb3JkaW5hdGVzXG4gICAgICogVGhlIGNvb3JkaW5hdGVzIGdldCB1cGRhdGVkIHdpdGggQG1ldGhvZCBjYWxjVmlld3BvcnRCb3VuZGFyaWVzLlxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZVxuICAgICAqL1xuICAgIHZwdENvb3JkczogeyB9LFxuXG4gICAgLyoqXG4gICAgICogQmFzZWQgb24gdnB0Q29vcmRzIGFuZCBvYmplY3QuYUNvb3Jkcywgc2tpcCByZW5kZXJpbmcgb2Ygb2JqZWN0cyB0aGF0XG4gICAgICogYXJlIG5vdCBpbmNsdWRlZCBpbiBjdXJyZW50IHZpZXdwb3J0LlxuICAgICAqIE1heSBncmVhdGx5IGhlbHAgaW4gYXBwbGljYXRpb25zIHdpdGggY3Jvd2RlZCBjYW52YXMgYW5kIHVzZSBvZiB6b29tL3BhblxuICAgICAqIElmIE9uZSBvZiB0aGUgY29ybmVyIG9mIHRoZSBib3VuZGluZyBib3ggb2YgdGhlIG9iamVjdCBpcyBvbiB0aGUgY2FudmFzXG4gICAgICogdGhlIG9iamVjdHMgZ2V0IHJlbmRlcmVkLlxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZVxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHNraXBPZmZzY3JlZW46IHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBhIGZhYnJpY09iamVjdCB0aGF0LCB3aXRob3V0IHN0cm9rZSBkZWZpbmUgYSBjbGlwcGluZyBhcmVhIHdpdGggdGhlaXIgc2hhcGUuIGZpbGxlZCBpbiBibGFja1xuICAgICAqIHRoZSBjbGlwUGF0aCBvYmplY3QgZ2V0cyB1c2VkIHdoZW4gdGhlIGNhbnZhcyBoYXMgcmVuZGVyZWQsIGFuZCB0aGUgY29udGV4dCBpcyBwbGFjZWQgaW4gdGhlXG4gICAgICogdG9wIGxlZnQgY29ybmVyIG9mIHRoZSBjYW52YXMuXG4gICAgICogY2xpcFBhdGggd2lsbCBjbGlwIGF3YXkgY29udHJvbHMsIGlmIHlvdSBkbyBub3Qgd2FudCB0aGlzIHRvIGhhcHBlbiB1c2UgY29udHJvbHNBYm92ZU92ZXJsYXkgPSB0cnVlXG4gICAgICogQHR5cGUgZmFicmljLk9iamVjdFxuICAgICAqL1xuICAgIGNsaXBQYXRoOiB1bmRlZmluZWQsXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnQgfCBTdHJpbmd9IGVsICZsdDtjYW52YXM+IGVsZW1lbnQgdG8gaW5pdGlhbGl6ZSBpbnN0YW5jZSBvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKi9cbiAgICBfaW5pdFN0YXRpYzogZnVuY3Rpb24oZWwsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBjYiA9IHRoaXMucmVxdWVzdFJlbmRlckFsbEJvdW5kO1xuICAgICAgdGhpcy5fb2JqZWN0cyA9IFtdO1xuICAgICAgdGhpcy5fY3JlYXRlTG93ZXJDYW52YXMoZWwpO1xuICAgICAgdGhpcy5faW5pdE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICB0aGlzLl9zZXRJbWFnZVNtb290aGluZygpO1xuICAgICAgLy8gb25seSBpbml0aWFsaXplIHJldGluYSBzY2FsaW5nIG9uY2VcbiAgICAgIGlmICghdGhpcy5pbnRlcmFjdGl2ZSkge1xuICAgICAgICB0aGlzLl9pbml0UmV0aW5hU2NhbGluZygpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5vdmVybGF5SW1hZ2UpIHtcbiAgICAgICAgdGhpcy5zZXRPdmVybGF5SW1hZ2Uob3B0aW9ucy5vdmVybGF5SW1hZ2UsIGNiKTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLmJhY2tncm91bmRJbWFnZSkge1xuICAgICAgICB0aGlzLnNldEJhY2tncm91bmRJbWFnZShvcHRpb25zLmJhY2tncm91bmRJbWFnZSwgY2IpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMuYmFja2dyb3VuZENvbG9yKSB7XG4gICAgICAgIHRoaXMuc2V0QmFja2dyb3VuZENvbG9yKG9wdGlvbnMuYmFja2dyb3VuZENvbG9yLCBjYik7XG4gICAgICB9XG4gICAgICBpZiAob3B0aW9ucy5vdmVybGF5Q29sb3IpIHtcbiAgICAgICAgdGhpcy5zZXRPdmVybGF5Q29sb3Iob3B0aW9ucy5vdmVybGF5Q29sb3IsIGNiKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2FsY09mZnNldCgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pc1JldGluYVNjYWxpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIChmYWJyaWMuZGV2aWNlUGl4ZWxSYXRpbyAhPT0gMSAmJiB0aGlzLmVuYWJsZVJldGluYVNjYWxpbmcpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge051bWJlcn0gcmV0aW5hU2NhbGluZyBpZiBhcHBsaWVkLCBvdGhlcndpc2UgMTtcbiAgICAgKi9cbiAgICBnZXRSZXRpbmFTY2FsaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9pc1JldGluYVNjYWxpbmcoKSA/IGZhYnJpYy5kZXZpY2VQaXhlbFJhdGlvIDogMTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaW5pdFJldGluYVNjYWxpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCF0aGlzLl9pc1JldGluYVNjYWxpbmcoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgc2NhbGVSYXRpbyA9IGZhYnJpYy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgdGhpcy5fX2luaXRSZXRpbmFTY2FsaW5nKHNjYWxlUmF0aW8sIHRoaXMubG93ZXJDYW52YXNFbCwgdGhpcy5jb250ZXh0Q29udGFpbmVyKTtcbiAgICAgIGlmICh0aGlzLnVwcGVyQ2FudmFzRWwpIHtcbiAgICAgICAgdGhpcy5fX2luaXRSZXRpbmFTY2FsaW5nKHNjYWxlUmF0aW8sIHRoaXMudXBwZXJDYW52YXNFbCwgdGhpcy5jb250ZXh0VG9wKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgX19pbml0UmV0aW5hU2NhbGluZzogZnVuY3Rpb24oc2NhbGVSYXRpbywgY2FudmFzLCBjb250ZXh0KSB7XG4gICAgICBjYW52YXMuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHRoaXMud2lkdGggKiBzY2FsZVJhdGlvKTtcbiAgICAgIGNhbnZhcy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIHRoaXMuaGVpZ2h0ICogc2NhbGVSYXRpbyk7XG4gICAgICBjb250ZXh0LnNjYWxlKHNjYWxlUmF0aW8sIHNjYWxlUmF0aW8pO1xuICAgIH0sXG5cblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgY2FudmFzIGVsZW1lbnQgb2Zmc2V0IHJlbGF0aXZlIHRvIHRoZSBkb2N1bWVudFxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGFsc28gYXR0YWNoZWQgYXMgXCJyZXNpemVcIiBldmVudCBoYW5kbGVyIG9mIHdpbmRvd1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGNhbGNPZmZzZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuX29mZnNldCA9IGdldEVsZW1lbnRPZmZzZXQodGhpcy5sb3dlckNhbnZhc0VsKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHtAbGluayBmYWJyaWMuU3RhdGljQ2FudmFzI292ZXJsYXlJbWFnZXxvdmVybGF5IGltYWdlfSBmb3IgdGhpcyBjYW52YXNcbiAgICAgKiBAcGFyYW0geyhmYWJyaWMuSW1hZ2V8U3RyaW5nKX0gaW1hZ2UgZmFicmljLkltYWdlIGluc3RhbmNlIG9yIFVSTCBvZiBhbiBpbWFnZSB0byBzZXQgb3ZlcmxheSB0b1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGNhbGxiYWNrIHRvIGludm9rZSB3aGVuIGltYWdlIGlzIGxvYWRlZCBhbmQgc2V0IGFzIGFuIG92ZXJsYXlcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbmFsIG9wdGlvbnMgdG8gc2V0IGZvciB0aGUge0BsaW5rIGZhYnJpYy5JbWFnZXxvdmVybGF5IGltYWdlfS5cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9qc2ZpZGRsZS5uZXQvZmFicmljanMvTW56SFQvfGpzRmlkZGxlIGRlbW99XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+Tm9ybWFsIG92ZXJsYXlJbWFnZSB3aXRoIGxlZnQvdG9wID0gMDwvY2FwdGlvbj5cbiAgICAgKiBjYW52YXMuc2V0T3ZlcmxheUltYWdlKCdodHRwOi8vZmFicmljanMuY29tL2Fzc2V0cy9qYWlsX2NlbGxfYmFycy5wbmcnLCBjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKSwge1xuICAgICAqICAgLy8gTmVlZGVkIHRvIHBvc2l0aW9uIG92ZXJsYXlJbWFnZSBhdCAwLzBcbiAgICAgKiAgIG9yaWdpblg6ICdsZWZ0JyxcbiAgICAgKiAgIG9yaWdpblk6ICd0b3AnXG4gICAgICogfSk7XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+b3ZlcmxheUltYWdlIHdpdGggZGlmZmVyZW50IHByb3BlcnRpZXM8L2NhcHRpb24+XG4gICAgICogY2FudmFzLnNldE92ZXJsYXlJbWFnZSgnaHR0cDovL2ZhYnJpY2pzLmNvbS9hc3NldHMvamFpbF9jZWxsX2JhcnMucG5nJywgY2FudmFzLnJlbmRlckFsbC5iaW5kKGNhbnZhcyksIHtcbiAgICAgKiAgIG9wYWNpdHk6IDAuNSxcbiAgICAgKiAgIGFuZ2xlOiA0NSxcbiAgICAgKiAgIGxlZnQ6IDQwMCxcbiAgICAgKiAgIHRvcDogNDAwLFxuICAgICAqICAgb3JpZ2luWDogJ2xlZnQnLFxuICAgICAqICAgb3JpZ2luWTogJ3RvcCdcbiAgICAgKiB9KTtcbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5TdHJldGNoZWQgb3ZlcmxheUltYWdlICMxIC0gd2lkdGgvaGVpZ2h0IGNvcnJlc3BvbmQgdG8gY2FudmFzIHdpZHRoL2hlaWdodDwvY2FwdGlvbj5cbiAgICAgKiBmYWJyaWMuSW1hZ2UuZnJvbVVSTCgnaHR0cDovL2ZhYnJpY2pzLmNvbS9hc3NldHMvamFpbF9jZWxsX2JhcnMucG5nJywgZnVuY3Rpb24oaW1nKSB7XG4gICAgICogICAgaW1nLnNldCh7d2lkdGg6IGNhbnZhcy53aWR0aCwgaGVpZ2h0OiBjYW52YXMuaGVpZ2h0LCBvcmlnaW5YOiAnbGVmdCcsIG9yaWdpblk6ICd0b3AnfSk7XG4gICAgICogICAgY2FudmFzLnNldE92ZXJsYXlJbWFnZShpbWcsIGNhbnZhcy5yZW5kZXJBbGwuYmluZChjYW52YXMpKTtcbiAgICAgKiB9KTtcbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5TdHJldGNoZWQgb3ZlcmxheUltYWdlICMyIC0gd2lkdGgvaGVpZ2h0IGNvcnJlc3BvbmQgdG8gY2FudmFzIHdpZHRoL2hlaWdodDwvY2FwdGlvbj5cbiAgICAgKiBjYW52YXMuc2V0T3ZlcmxheUltYWdlKCdodHRwOi8vZmFicmljanMuY29tL2Fzc2V0cy9qYWlsX2NlbGxfYmFycy5wbmcnLCBjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKSwge1xuICAgICAqICAgd2lkdGg6IGNhbnZhcy53aWR0aCxcbiAgICAgKiAgIGhlaWdodDogY2FudmFzLmhlaWdodCxcbiAgICAgKiAgIC8vIE5lZWRlZCB0byBwb3NpdGlvbiBvdmVybGF5SW1hZ2UgYXQgMC8wXG4gICAgICogICBvcmlnaW5YOiAnbGVmdCcsXG4gICAgICogICBvcmlnaW5ZOiAndG9wJ1xuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPm92ZXJsYXlJbWFnZSBsb2FkZWQgZnJvbSBjcm9zcy1vcmlnaW48L2NhcHRpb24+XG4gICAgICogY2FudmFzLnNldE92ZXJsYXlJbWFnZSgnaHR0cDovL2ZhYnJpY2pzLmNvbS9hc3NldHMvamFpbF9jZWxsX2JhcnMucG5nJywgY2FudmFzLnJlbmRlckFsbC5iaW5kKGNhbnZhcyksIHtcbiAgICAgKiAgIG9wYWNpdHk6IDAuNSxcbiAgICAgKiAgIGFuZ2xlOiA0NSxcbiAgICAgKiAgIGxlZnQ6IDQwMCxcbiAgICAgKiAgIHRvcDogNDAwLFxuICAgICAqICAgb3JpZ2luWDogJ2xlZnQnLFxuICAgICAqICAgb3JpZ2luWTogJ3RvcCcsXG4gICAgICogICBjcm9zc09yaWdpbjogJ2Fub255bW91cydcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICBzZXRPdmVybGF5SW1hZ2U6IGZ1bmN0aW9uIChpbWFnZSwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fc2V0QmdPdmVybGF5SW1hZ2UoJ292ZXJsYXlJbWFnZScsIGltYWdlLCBjYWxsYmFjaywgb3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMge0BsaW5rIGZhYnJpYy5TdGF0aWNDYW52YXMjYmFja2dyb3VuZEltYWdlfGJhY2tncm91bmQgaW1hZ2V9IGZvciB0aGlzIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7KGZhYnJpYy5JbWFnZXxTdHJpbmcpfSBpbWFnZSBmYWJyaWMuSW1hZ2UgaW5zdGFuY2Ugb3IgVVJMIG9mIGFuIGltYWdlIHRvIHNldCBiYWNrZ3JvdW5kIHRvXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gaW1hZ2UgaXMgbG9hZGVkIGFuZCBzZXQgYXMgYmFja2dyb3VuZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9uYWwgb3B0aW9ucyB0byBzZXQgZm9yIHRoZSB7QGxpbmsgZmFicmljLkltYWdlfGJhY2tncm91bmQgaW1hZ2V9LlxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cDovL2pzZmlkZGxlLm5ldC9kam5yOG83YS8yOC98anNGaWRkbGUgZGVtb31cbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5Ob3JtYWwgYmFja2dyb3VuZEltYWdlIHdpdGggbGVmdC90b3AgPSAwPC9jYXB0aW9uPlxuICAgICAqIGNhbnZhcy5zZXRCYWNrZ3JvdW5kSW1hZ2UoJ2h0dHA6Ly9mYWJyaWNqcy5jb20vYXNzZXRzL2hvbmV5X2ltX3N1YnRsZS5wbmcnLCBjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKSwge1xuICAgICAqICAgLy8gTmVlZGVkIHRvIHBvc2l0aW9uIGJhY2tncm91bmRJbWFnZSBhdCAwLzBcbiAgICAgKiAgIG9yaWdpblg6ICdsZWZ0JyxcbiAgICAgKiAgIG9yaWdpblk6ICd0b3AnXG4gICAgICogfSk7XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+YmFja2dyb3VuZEltYWdlIHdpdGggZGlmZmVyZW50IHByb3BlcnRpZXM8L2NhcHRpb24+XG4gICAgICogY2FudmFzLnNldEJhY2tncm91bmRJbWFnZSgnaHR0cDovL2ZhYnJpY2pzLmNvbS9hc3NldHMvaG9uZXlfaW1fc3VidGxlLnBuZycsIGNhbnZhcy5yZW5kZXJBbGwuYmluZChjYW52YXMpLCB7XG4gICAgICogICBvcGFjaXR5OiAwLjUsXG4gICAgICogICBhbmdsZTogNDUsXG4gICAgICogICBsZWZ0OiA0MDAsXG4gICAgICogICB0b3A6IDQwMCxcbiAgICAgKiAgIG9yaWdpblg6ICdsZWZ0JyxcbiAgICAgKiAgIG9yaWdpblk6ICd0b3AnXG4gICAgICogfSk7XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+U3RyZXRjaGVkIGJhY2tncm91bmRJbWFnZSAjMSAtIHdpZHRoL2hlaWdodCBjb3JyZXNwb25kIHRvIGNhbnZhcyB3aWR0aC9oZWlnaHQ8L2NhcHRpb24+XG4gICAgICogZmFicmljLkltYWdlLmZyb21VUkwoJ2h0dHA6Ly9mYWJyaWNqcy5jb20vYXNzZXRzL2hvbmV5X2ltX3N1YnRsZS5wbmcnLCBmdW5jdGlvbihpbWcpIHtcbiAgICAgKiAgICBpbWcuc2V0KHt3aWR0aDogY2FudmFzLndpZHRoLCBoZWlnaHQ6IGNhbnZhcy5oZWlnaHQsIG9yaWdpblg6ICdsZWZ0Jywgb3JpZ2luWTogJ3RvcCd9KTtcbiAgICAgKiAgICBjYW52YXMuc2V0QmFja2dyb3VuZEltYWdlKGltZywgY2FudmFzLnJlbmRlckFsbC5iaW5kKGNhbnZhcykpO1xuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPlN0cmV0Y2hlZCBiYWNrZ3JvdW5kSW1hZ2UgIzIgLSB3aWR0aC9oZWlnaHQgY29ycmVzcG9uZCB0byBjYW52YXMgd2lkdGgvaGVpZ2h0PC9jYXB0aW9uPlxuICAgICAqIGNhbnZhcy5zZXRCYWNrZ3JvdW5kSW1hZ2UoJ2h0dHA6Ly9mYWJyaWNqcy5jb20vYXNzZXRzL2hvbmV5X2ltX3N1YnRsZS5wbmcnLCBjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKSwge1xuICAgICAqICAgd2lkdGg6IGNhbnZhcy53aWR0aCxcbiAgICAgKiAgIGhlaWdodDogY2FudmFzLmhlaWdodCxcbiAgICAgKiAgIC8vIE5lZWRlZCB0byBwb3NpdGlvbiBiYWNrZ3JvdW5kSW1hZ2UgYXQgMC8wXG4gICAgICogICBvcmlnaW5YOiAnbGVmdCcsXG4gICAgICogICBvcmlnaW5ZOiAndG9wJ1xuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPmJhY2tncm91bmRJbWFnZSBsb2FkZWQgZnJvbSBjcm9zcy1vcmlnaW48L2NhcHRpb24+XG4gICAgICogY2FudmFzLnNldEJhY2tncm91bmRJbWFnZSgnaHR0cDovL2ZhYnJpY2pzLmNvbS9hc3NldHMvaG9uZXlfaW1fc3VidGxlLnBuZycsIGNhbnZhcy5yZW5kZXJBbGwuYmluZChjYW52YXMpLCB7XG4gICAgICogICBvcGFjaXR5OiAwLjUsXG4gICAgICogICBhbmdsZTogNDUsXG4gICAgICogICBsZWZ0OiA0MDAsXG4gICAgICogICB0b3A6IDQwMCxcbiAgICAgKiAgIG9yaWdpblg6ICdsZWZ0JyxcbiAgICAgKiAgIG9yaWdpblk6ICd0b3AnLFxuICAgICAqICAgY3Jvc3NPcmlnaW46ICdhbm9ueW1vdXMnXG4gICAgICogfSk7XG4gICAgICovXG4gICAgLy8gVE9ETzogZml4IHN0cmV0Y2hlZCBleGFtcGxlc1xuICAgIHNldEJhY2tncm91bmRJbWFnZTogZnVuY3Rpb24gKGltYWdlLCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuX19zZXRCZ092ZXJsYXlJbWFnZSgnYmFja2dyb3VuZEltYWdlJywgaW1hZ2UsIGNhbGxiYWNrLCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB7QGxpbmsgZmFicmljLlN0YXRpY0NhbnZhcyNvdmVybGF5Q29sb3J8Zm9yZWdyb3VuZCBjb2xvcn0gZm9yIHRoaXMgY2FudmFzXG4gICAgICogQHBhcmFtIHsoU3RyaW5nfGZhYnJpYy5QYXR0ZXJuKX0gb3ZlcmxheUNvbG9yIENvbG9yIG9yIHBhdHRlcm4gdG8gc2V0IGZvcmVncm91bmQgY29sb3IgdG9cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjayB0byBpbnZva2Ugd2hlbiBmb3JlZ3JvdW5kIGNvbG9yIGlzIHNldFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cDovL2pzZmlkZGxlLm5ldC9mYWJyaWNqcy9wQjU1aC98anNGaWRkbGUgZGVtb31cbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5Ob3JtYWwgb3ZlcmxheUNvbG9yIC0gY29sb3IgdmFsdWU8L2NhcHRpb24+XG4gICAgICogY2FudmFzLnNldE92ZXJsYXlDb2xvcigncmdiYSgyNTUsIDczLCA2NCwgMC42KScsIGNhbnZhcy5yZW5kZXJBbGwuYmluZChjYW52YXMpKTtcbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5mYWJyaWMuUGF0dGVybiB1c2VkIGFzIG92ZXJsYXlDb2xvcjwvY2FwdGlvbj5cbiAgICAgKiBjYW52YXMuc2V0T3ZlcmxheUNvbG9yKHtcbiAgICAgKiAgIHNvdXJjZTogJ2h0dHA6Ly9mYWJyaWNqcy5jb20vYXNzZXRzL2VzY2hlcmVzcXVlX3N0ZS5wbmcnXG4gICAgICogfSwgY2FudmFzLnJlbmRlckFsbC5iaW5kKGNhbnZhcykpO1xuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPmZhYnJpYy5QYXR0ZXJuIHVzZWQgYXMgb3ZlcmxheUNvbG9yIHdpdGggcmVwZWF0IGFuZCBvZmZzZXQ8L2NhcHRpb24+XG4gICAgICogY2FudmFzLnNldE92ZXJsYXlDb2xvcih7XG4gICAgICogICBzb3VyY2U6ICdodHRwOi8vZmFicmljanMuY29tL2Fzc2V0cy9lc2NoZXJlc3F1ZV9zdGUucG5nJyxcbiAgICAgKiAgIHJlcGVhdDogJ3JlcGVhdCcsXG4gICAgICogICBvZmZzZXRYOiAyMDAsXG4gICAgICogICBvZmZzZXRZOiAxMDBcbiAgICAgKiB9LCBjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKSk7XG4gICAgICovXG4gICAgc2V0T3ZlcmxheUNvbG9yOiBmdW5jdGlvbihvdmVybGF5Q29sb3IsIGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3NldEJnT3ZlcmxheUNvbG9yKCdvdmVybGF5Q29sb3InLCBvdmVybGF5Q29sb3IsIGNhbGxiYWNrKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB7QGxpbmsgZmFicmljLlN0YXRpY0NhbnZhcyNiYWNrZ3JvdW5kQ29sb3J8YmFja2dyb3VuZCBjb2xvcn0gZm9yIHRoaXMgY2FudmFzXG4gICAgICogQHBhcmFtIHsoU3RyaW5nfGZhYnJpYy5QYXR0ZXJuKX0gYmFja2dyb3VuZENvbG9yIENvbG9yIG9yIHBhdHRlcm4gdG8gc2V0IGJhY2tncm91bmQgY29sb3IgdG9cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjayB0byBpbnZva2Ugd2hlbiBiYWNrZ3JvdW5kIGNvbG9yIGlzIHNldFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cDovL2pzZmlkZGxlLm5ldC9mYWJyaWNqcy9oWHp2ay98anNGaWRkbGUgZGVtb31cbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5Ob3JtYWwgYmFja2dyb3VuZENvbG9yIC0gY29sb3IgdmFsdWU8L2NhcHRpb24+XG4gICAgICogY2FudmFzLnNldEJhY2tncm91bmRDb2xvcigncmdiYSgyNTUsIDczLCA2NCwgMC42KScsIGNhbnZhcy5yZW5kZXJBbGwuYmluZChjYW52YXMpKTtcbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5mYWJyaWMuUGF0dGVybiB1c2VkIGFzIGJhY2tncm91bmRDb2xvcjwvY2FwdGlvbj5cbiAgICAgKiBjYW52YXMuc2V0QmFja2dyb3VuZENvbG9yKHtcbiAgICAgKiAgIHNvdXJjZTogJ2h0dHA6Ly9mYWJyaWNqcy5jb20vYXNzZXRzL2VzY2hlcmVzcXVlX3N0ZS5wbmcnXG4gICAgICogfSwgY2FudmFzLnJlbmRlckFsbC5iaW5kKGNhbnZhcykpO1xuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPmZhYnJpYy5QYXR0ZXJuIHVzZWQgYXMgYmFja2dyb3VuZENvbG9yIHdpdGggcmVwZWF0IGFuZCBvZmZzZXQ8L2NhcHRpb24+XG4gICAgICogY2FudmFzLnNldEJhY2tncm91bmRDb2xvcih7XG4gICAgICogICBzb3VyY2U6ICdodHRwOi8vZmFicmljanMuY29tL2Fzc2V0cy9lc2NoZXJlc3F1ZV9zdGUucG5nJyxcbiAgICAgKiAgIHJlcGVhdDogJ3JlcGVhdCcsXG4gICAgICogICBvZmZzZXRYOiAyMDAsXG4gICAgICogICBvZmZzZXRZOiAxMDBcbiAgICAgKiB9LCBjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKSk7XG4gICAgICovXG4gICAgc2V0QmFja2dyb3VuZENvbG9yOiBmdW5jdGlvbihiYWNrZ3JvdW5kQ29sb3IsIGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gdGhpcy5fX3NldEJnT3ZlcmxheUNvbG9yKCdiYWNrZ3JvdW5kQ29sb3InLCBiYWNrZ3JvdW5kQ29sb3IsIGNhbGxiYWNrKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAc2VlIHtAbGluayBodHRwOi8vd3d3LndoYXR3Zy5vcmcvc3BlY3Mvd2ViLWFwcHMvY3VycmVudC13b3JrL211bHRpcGFnZS90aGUtY2FudmFzLWVsZW1lbnQuaHRtbCNkb20tY29udGV4dC0yZC1pbWFnZXNtb290aGluZ2VuYWJsZWR8V2hhdFdHIENhbnZhcyBTdGFuZGFyZH1cbiAgICAgKi9cbiAgICBfc2V0SW1hZ2VTbW9vdGhpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGN0eCA9IHRoaXMuZ2V0Q29udGV4dCgpO1xuXG4gICAgICBjdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCB8fCBjdHgud2Via2l0SW1hZ2VTbW9vdGhpbmdFbmFibGVkXG4gICAgICAgIHx8IGN0eC5tb3pJbWFnZVNtb290aGluZ0VuYWJsZWQgfHwgY3R4Lm1zSW1hZ2VTbW9vdGhpbmdFbmFibGVkIHx8IGN0eC5vSW1hZ2VTbW9vdGhpbmdFbmFibGVkO1xuICAgICAgY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IHRoaXMuaW1hZ2VTbW9vdGhpbmdFbmFibGVkO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSB0byBzZXQgKHtAbGluayBmYWJyaWMuU3RhdGljQ2FudmFzI2JhY2tncm91bmRJbWFnZXxiYWNrZ3JvdW5kSW1hZ2V9XG4gICAgICogb3Ige0BsaW5rIGZhYnJpYy5TdGF0aWNDYW52YXMjb3ZlcmxheUltYWdlfG92ZXJsYXlJbWFnZX0pXG4gICAgICogQHBhcmFtIHsoZmFicmljLkltYWdlfFN0cmluZ3xudWxsKX0gaW1hZ2UgZmFicmljLkltYWdlIGluc3RhbmNlLCBVUkwgb2YgYW4gaW1hZ2Ugb3IgbnVsbCB0byBzZXQgYmFja2dyb3VuZCBvciBvdmVybGF5IHRvXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gaW1hZ2UgaXMgbG9hZGVkIGFuZCBzZXQgYXMgYmFja2dyb3VuZCBvciBvdmVybGF5XG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25hbCBvcHRpb25zIHRvIHNldCBmb3IgdGhlIHtAbGluayBmYWJyaWMuSW1hZ2V8aW1hZ2V9LlxuICAgICAqL1xuICAgIF9fc2V0QmdPdmVybGF5SW1hZ2U6IGZ1bmN0aW9uKHByb3BlcnR5LCBpbWFnZSwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICAgIGlmICh0eXBlb2YgaW1hZ2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGZhYnJpYy51dGlsLmxvYWRJbWFnZShpbWFnZSwgZnVuY3Rpb24oaW1nKSB7XG4gICAgICAgICAgaWYgKGltZykge1xuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gbmV3IGZhYnJpYy5JbWFnZShpbWcsIG9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpc1twcm9wZXJ0eV0gPSBpbnN0YW5jZTtcbiAgICAgICAgICAgIGluc3RhbmNlLmNhbnZhcyA9IHRoaXM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGltZyk7XG4gICAgICAgIH0sIHRoaXMsIG9wdGlvbnMgJiYgb3B0aW9ucy5jcm9zc09yaWdpbik7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgb3B0aW9ucyAmJiBpbWFnZS5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICB0aGlzW3Byb3BlcnR5XSA9IGltYWdlO1xuICAgICAgICBpbWFnZSAmJiAoaW1hZ2UuY2FudmFzID0gdGhpcyk7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGltYWdlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5IFByb3BlcnR5IHRvIHNldCAoe0BsaW5rIGZhYnJpYy5TdGF0aWNDYW52YXMjYmFja2dyb3VuZENvbG9yfGJhY2tncm91bmRDb2xvcn1cbiAgICAgKiBvciB7QGxpbmsgZmFicmljLlN0YXRpY0NhbnZhcyNvdmVybGF5Q29sb3J8b3ZlcmxheUNvbG9yfSlcbiAgICAgKiBAcGFyYW0geyhPYmplY3R8U3RyaW5nfG51bGwpfSBjb2xvciBPYmplY3Qgd2l0aCBwYXR0ZXJuIGluZm9ybWF0aW9uLCBjb2xvciB2YWx1ZSBvciBudWxsXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBDYWxsYmFjayBpcyBpbnZva2VkIHdoZW4gY29sb3IgaXMgc2V0XG4gICAgICovXG4gICAgX19zZXRCZ092ZXJsYXlDb2xvcjogZnVuY3Rpb24ocHJvcGVydHksIGNvbG9yLCBjYWxsYmFjaykge1xuICAgICAgdGhpc1twcm9wZXJ0eV0gPSBjb2xvcjtcbiAgICAgIHRoaXMuX2luaXRHcmFkaWVudChjb2xvciwgcHJvcGVydHkpO1xuICAgICAgdGhpcy5faW5pdFBhdHRlcm4oY29sb3IsIHByb3BlcnR5LCBjYWxsYmFjayk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY3JlYXRlQ2FudmFzRWxlbWVudDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IGNyZWF0ZUNhbnZhc0VsZW1lbnQoKTtcbiAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICB0aHJvdyBDQU5WQVNfSU5JVF9FUlJPUjtcbiAgICAgIH1cbiAgICAgIGlmICghZWxlbWVudC5zdHlsZSkge1xuICAgICAgICBlbGVtZW50LnN0eWxlID0geyB9O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBlbGVtZW50LmdldENvbnRleHQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRocm93IENBTlZBU19JTklUX0VSUk9SO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqL1xuICAgIF9pbml0T3B0aW9uczogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgIHZhciBsb3dlckNhbnZhc0VsID0gdGhpcy5sb3dlckNhbnZhc0VsO1xuICAgICAgdGhpcy5fc2V0T3B0aW9ucyhvcHRpb25zKTtcblxuICAgICAgdGhpcy53aWR0aCA9IHRoaXMud2lkdGggfHwgcGFyc2VJbnQobG93ZXJDYW52YXNFbC53aWR0aCwgMTApIHx8IDA7XG4gICAgICB0aGlzLmhlaWdodCA9IHRoaXMuaGVpZ2h0IHx8IHBhcnNlSW50KGxvd2VyQ2FudmFzRWwuaGVpZ2h0LCAxMCkgfHwgMDtcblxuICAgICAgaWYgKCF0aGlzLmxvd2VyQ2FudmFzRWwuc3R5bGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBsb3dlckNhbnZhc0VsLndpZHRoID0gdGhpcy53aWR0aDtcbiAgICAgIGxvd2VyQ2FudmFzRWwuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG5cbiAgICAgIGxvd2VyQ2FudmFzRWwuc3R5bGUud2lkdGggPSB0aGlzLndpZHRoICsgJ3B4JztcbiAgICAgIGxvd2VyQ2FudmFzRWwuc3R5bGUuaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyAncHgnO1xuXG4gICAgICB0aGlzLnZpZXdwb3J0VHJhbnNmb3JtID0gdGhpcy52aWV3cG9ydFRyYW5zZm9ybS5zbGljZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYm90dG9tIGNhbnZhc1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gW2NhbnZhc0VsXVxuICAgICAqL1xuICAgIF9jcmVhdGVMb3dlckNhbnZhczogZnVuY3Rpb24gKGNhbnZhc0VsKSB7XG4gICAgICAvLyBjYW52YXNFbCA9PT0gJ0hUTUxDYW52YXNFbGVtZW50JyBkb2VzIG5vdCB3b3JrIG9uIGpzZG9tL25vZGVcbiAgICAgIGlmIChjYW52YXNFbCAmJiBjYW52YXNFbC5nZXRDb250ZXh0KSB7XG4gICAgICAgIHRoaXMubG93ZXJDYW52YXNFbCA9IGNhbnZhc0VsO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMubG93ZXJDYW52YXNFbCA9IGZhYnJpYy51dGlsLmdldEJ5SWQoY2FudmFzRWwpIHx8IHRoaXMuX2NyZWF0ZUNhbnZhc0VsZW1lbnQoKTtcbiAgICAgIH1cblxuICAgICAgZmFicmljLnV0aWwuYWRkQ2xhc3ModGhpcy5sb3dlckNhbnZhc0VsLCAnbG93ZXItY2FudmFzJyk7XG5cbiAgICAgIGlmICh0aGlzLmludGVyYWN0aXZlKSB7XG4gICAgICAgIHRoaXMuX2FwcGx5Q2FudmFzU3R5bGUodGhpcy5sb3dlckNhbnZhc0VsKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jb250ZXh0Q29udGFpbmVyID0gdGhpcy5sb3dlckNhbnZhc0VsLmdldENvbnRleHQoJzJkJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY2FudmFzIHdpZHRoIChpbiBweClcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICovXG4gICAgZ2V0V2lkdGg6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLndpZHRoO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNhbnZhcyBoZWlnaHQgKGluIHB4KVxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKi9cbiAgICBnZXRIZWlnaHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmhlaWdodDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB3aWR0aCBvZiB0aGlzIGNhbnZhcyBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfFN0cmluZ30gdmFsdWUgICAgICAgICAgICAgICAgICAgICAgICAgVmFsdWUgdG8gc2V0IHdpZHRoIHRvXG4gICAgICogQHBhcmFtIHtPYmplY3R9ICAgICAgICBbb3B0aW9uc10gICAgICAgICAgICAgICAgICAgICBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gICAgICAgW29wdGlvbnMuYmFja3N0b3JlT25seT1mYWxzZV0gU2V0IHRoZSBnaXZlbiBkaW1lbnNpb25zIG9ubHkgYXMgY2FudmFzIGJhY2tzdG9yZSBkaW1lbnNpb25zXG4gICAgICogQHBhcmFtIHtCb29sZWFufSAgICAgICBbb3B0aW9ucy5jc3NPbmx5PWZhbHNlXSAgICAgICBTZXQgdGhlIGdpdmVuIGRpbWVuc2lvbnMgb25seSBhcyBjc3MgZGltZW5zaW9uc1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZSB0cnVlXG4gICAgICovXG4gICAgc2V0V2lkdGg6IGZ1bmN0aW9uICh2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0RGltZW5zaW9ucyh7IHdpZHRoOiB2YWx1ZSB9LCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyBoZWlnaHQgb2YgdGhpcyBjYW52YXMgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge051bWJlcnxTdHJpbmd9IHZhbHVlICAgICAgICAgICAgICAgICAgICAgICAgIFZhbHVlIHRvIHNldCBoZWlnaHQgdG9cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gICAgICAgIFtvcHRpb25zXSAgICAgICAgICAgICAgICAgICAgIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSAgICAgICBbb3B0aW9ucy5iYWNrc3RvcmVPbmx5PWZhbHNlXSBTZXQgdGhlIGdpdmVuIGRpbWVuc2lvbnMgb25seSBhcyBjYW52YXMgYmFja3N0b3JlIGRpbWVuc2lvbnNcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59ICAgICAgIFtvcHRpb25zLmNzc09ubHk9ZmFsc2VdICAgICAgIFNldCB0aGUgZ2l2ZW4gZGltZW5zaW9ucyBvbmx5IGFzIGNzcyBkaW1lbnNpb25zXG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gaW5zdGFuY2VcbiAgICAgKiBAY2hhaW5hYmxlIHRydWVcbiAgICAgKi9cbiAgICBzZXRIZWlnaHQ6IGZ1bmN0aW9uICh2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0RGltZW5zaW9ucyh7IGhlaWdodDogdmFsdWUgfSwgb3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgZGltZW5zaW9ucyAod2lkdGgsIGhlaWdodCkgb2YgdGhpcyBjYW52YXMgaW5zdGFuY2UuIHdoZW4gb3B0aW9ucy5jc3NPbmx5IGZsYWcgYWN0aXZlIHlvdSBzaG91bGQgYWxzbyBzdXBwbHkgdGhlIHVuaXQgb2YgbWVhc3VyZSAocHgvJS9lbSlcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gICAgICAgIGRpbWVuc2lvbnMgICAgICAgICAgICAgICAgICAgIE9iamVjdCB3aXRoIHdpZHRoL2hlaWdodCBwcm9wZXJ0aWVzXG4gICAgICogQHBhcmFtIHtOdW1iZXJ8U3RyaW5nfSBbZGltZW5zaW9ucy53aWR0aF0gICAgICAgICAgICBXaWR0aCBvZiBjYW52YXMgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfFN0cmluZ30gW2RpbWVuc2lvbnMuaGVpZ2h0XSAgICAgICAgICAgSGVpZ2h0IG9mIGNhbnZhcyBlbGVtZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9ICAgICAgICBbb3B0aW9uc10gICAgICAgICAgICAgICAgICAgICBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gICAgICAgW29wdGlvbnMuYmFja3N0b3JlT25seT1mYWxzZV0gU2V0IHRoZSBnaXZlbiBkaW1lbnNpb25zIG9ubHkgYXMgY2FudmFzIGJhY2tzdG9yZSBkaW1lbnNpb25zXG4gICAgICogQHBhcmFtIHtCb29sZWFufSAgICAgICBbb3B0aW9ucy5jc3NPbmx5PWZhbHNlXSAgICAgICBTZXQgdGhlIGdpdmVuIGRpbWVuc2lvbnMgb25seSBhcyBjc3MgZGltZW5zaW9uc1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2V0RGltZW5zaW9uczogZnVuY3Rpb24gKGRpbWVuc2lvbnMsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBjc3NWYWx1ZTtcblxuICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgIGZvciAodmFyIHByb3AgaW4gZGltZW5zaW9ucykge1xuICAgICAgICBjc3NWYWx1ZSA9IGRpbWVuc2lvbnNbcHJvcF07XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLmNzc09ubHkpIHtcbiAgICAgICAgICB0aGlzLl9zZXRCYWNrc3RvcmVEaW1lbnNpb24ocHJvcCwgZGltZW5zaW9uc1twcm9wXSk7XG4gICAgICAgICAgY3NzVmFsdWUgKz0gJ3B4JztcbiAgICAgICAgICB0aGlzLmhhc0xvc3RDb250ZXh0ID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghb3B0aW9ucy5iYWNrc3RvcmVPbmx5KSB7XG4gICAgICAgICAgdGhpcy5fc2V0Q3NzRGltZW5zaW9uKHByb3AsIGNzc1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX2lzQ3VycmVudGx5RHJhd2luZykge1xuICAgICAgICB0aGlzLmZyZWVEcmF3aW5nQnJ1c2ggJiYgdGhpcy5mcmVlRHJhd2luZ0JydXNoLl9zZXRCcnVzaFN0eWxlcygpO1xuICAgICAgfVxuICAgICAgdGhpcy5faW5pdFJldGluYVNjYWxpbmcoKTtcbiAgICAgIHRoaXMuX3NldEltYWdlU21vb3RoaW5nKCk7XG4gICAgICB0aGlzLmNhbGNPZmZzZXQoKTtcblxuICAgICAgaWYgKCFvcHRpb25zLmNzc09ubHkpIHtcbiAgICAgICAgdGhpcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgZm9yIHNldHRpbmcgd2lkdGgvaGVpZ2h0XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcCBwcm9wZXJ0eSAod2lkdGh8aGVpZ2h0KVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB2YWx1ZSB2YWx1ZSB0byBzZXQgcHJvcGVydHkgdG9cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSBpbnN0YW5jZVxuICAgICAqIEBjaGFpbmFibGUgdHJ1ZVxuICAgICAqL1xuICAgIF9zZXRCYWNrc3RvcmVEaW1lbnNpb246IGZ1bmN0aW9uIChwcm9wLCB2YWx1ZSkge1xuICAgICAgdGhpcy5sb3dlckNhbnZhc0VsW3Byb3BdID0gdmFsdWU7XG5cbiAgICAgIGlmICh0aGlzLnVwcGVyQ2FudmFzRWwpIHtcbiAgICAgICAgdGhpcy51cHBlckNhbnZhc0VsW3Byb3BdID0gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmNhY2hlQ2FudmFzRWwpIHtcbiAgICAgICAgdGhpcy5jYWNoZUNhbnZhc0VsW3Byb3BdID0gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHRoaXNbcHJvcF0gPSB2YWx1ZTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmb3Igc2V0dGluZyBjc3Mgd2lkdGgvaGVpZ2h0XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcCBwcm9wZXJ0eSAod2lkdGh8aGVpZ2h0KVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZSB2YWx1ZSB0byBzZXQgcHJvcGVydHkgdG9cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSBpbnN0YW5jZVxuICAgICAqIEBjaGFpbmFibGUgdHJ1ZVxuICAgICAqL1xuICAgIF9zZXRDc3NEaW1lbnNpb246IGZ1bmN0aW9uIChwcm9wLCB2YWx1ZSkge1xuICAgICAgdGhpcy5sb3dlckNhbnZhc0VsLnN0eWxlW3Byb3BdID0gdmFsdWU7XG5cbiAgICAgIGlmICh0aGlzLnVwcGVyQ2FudmFzRWwpIHtcbiAgICAgICAgdGhpcy51cHBlckNhbnZhc0VsLnN0eWxlW3Byb3BdID0gdmFsdWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLndyYXBwZXJFbCkge1xuICAgICAgICB0aGlzLndyYXBwZXJFbC5zdHlsZVtwcm9wXSA9IHZhbHVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjYW52YXMgem9vbSBsZXZlbFxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKi9cbiAgICBnZXRab29tOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy52aWV3cG9ydFRyYW5zZm9ybVswXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB2aWV3cG9ydCB0cmFuc2Zvcm0gb2YgdGhpcyBjYW52YXMgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2cHQgdGhlIHRyYW5zZm9ybSBpbiB0aGUgZm9ybSBvZiBjb250ZXh0LnRyYW5zZm9ybVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZSB0cnVlXG4gICAgICovXG4gICAgc2V0Vmlld3BvcnRUcmFuc2Zvcm06IGZ1bmN0aW9uICh2cHQpIHtcbiAgICAgIHZhciBhY3RpdmVPYmplY3QgPSB0aGlzLl9hY3RpdmVPYmplY3QsIG9iamVjdCwgaWdub3JlVnB0ID0gZmFsc2UsIHNraXBBYnNvbHV0ZSA9IHRydWUsIGksIGxlbjtcbiAgICAgIHRoaXMudmlld3BvcnRUcmFuc2Zvcm0gPSB2cHQ7XG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSB0aGlzLl9vYmplY3RzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIG9iamVjdCA9IHRoaXMuX29iamVjdHNbaV07XG4gICAgICAgIG9iamVjdC5ncm91cCB8fCBvYmplY3Quc2V0Q29vcmRzKGlnbm9yZVZwdCwgc2tpcEFic29sdXRlKTtcbiAgICAgIH1cbiAgICAgIGlmIChhY3RpdmVPYmplY3QgJiYgYWN0aXZlT2JqZWN0LnR5cGUgPT09ICdhY3RpdmVTZWxlY3Rpb24nKSB7XG4gICAgICAgIGFjdGl2ZU9iamVjdC5zZXRDb29yZHMoaWdub3JlVnB0LCBza2lwQWJzb2x1dGUpO1xuICAgICAgfVxuICAgICAgdGhpcy5jYWxjVmlld3BvcnRCb3VuZGFyaWVzKCk7XG4gICAgICB0aGlzLnJlbmRlck9uQWRkUmVtb3ZlICYmIHRoaXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgem9vbSBsZXZlbCBvZiB0aGlzIGNhbnZhcyBpbnN0YW5jZSwgem9vbSBjZW50ZXJlZCBhcm91bmQgcG9pbnRcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gcG9pbnQgdG8gem9vbSB3aXRoIHJlc3BlY3QgdG9cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdmFsdWUgdG8gc2V0IHpvb20gdG8sIGxlc3MgdGhhbiAxIHpvb21zIG91dFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZSB0cnVlXG4gICAgICovXG4gICAgem9vbVRvUG9pbnQ6IGZ1bmN0aW9uIChwb2ludCwgdmFsdWUpIHtcbiAgICAgIC8vIFRPRE86IGp1c3QgY2hhbmdlIHRoZSBzY2FsZSwgcHJlc2VydmUgb3RoZXIgdHJhbnNmb3JtYXRpb25zXG4gICAgICB2YXIgYmVmb3JlID0gcG9pbnQsIHZwdCA9IHRoaXMudmlld3BvcnRUcmFuc2Zvcm0uc2xpY2UoMCk7XG4gICAgICBwb2ludCA9IHRyYW5zZm9ybVBvaW50KHBvaW50LCBpbnZlcnRUcmFuc2Zvcm0odGhpcy52aWV3cG9ydFRyYW5zZm9ybSkpO1xuICAgICAgdnB0WzBdID0gdmFsdWU7XG4gICAgICB2cHRbM10gPSB2YWx1ZTtcbiAgICAgIHZhciBhZnRlciA9IHRyYW5zZm9ybVBvaW50KHBvaW50LCB2cHQpO1xuICAgICAgdnB0WzRdICs9IGJlZm9yZS54IC0gYWZ0ZXIueDtcbiAgICAgIHZwdFs1XSArPSBiZWZvcmUueSAtIGFmdGVyLnk7XG4gICAgICByZXR1cm4gdGhpcy5zZXRWaWV3cG9ydFRyYW5zZm9ybSh2cHQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHpvb20gbGV2ZWwgb2YgdGhpcyBjYW52YXMgaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdmFsdWUgdG8gc2V0IHpvb20gdG8sIGxlc3MgdGhhbiAxIHpvb21zIG91dFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZSB0cnVlXG4gICAgICovXG4gICAgc2V0Wm9vbTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICB0aGlzLnpvb21Ub1BvaW50KG5ldyBmYWJyaWMuUG9pbnQoMCwgMCksIHZhbHVlKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQYW4gdmlld3BvcnQgc28gYXMgdG8gcGxhY2UgcG9pbnQgYXQgdG9wIGxlZnQgY29ybmVyIG9mIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBwb2ludCB0byBtb3ZlIHRvXG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gaW5zdGFuY2VcbiAgICAgKiBAY2hhaW5hYmxlIHRydWVcbiAgICAgKi9cbiAgICBhYnNvbHV0ZVBhbjogZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICB2YXIgdnB0ID0gdGhpcy52aWV3cG9ydFRyYW5zZm9ybS5zbGljZSgwKTtcbiAgICAgIHZwdFs0XSA9IC1wb2ludC54O1xuICAgICAgdnB0WzVdID0gLXBvaW50Lnk7XG4gICAgICByZXR1cm4gdGhpcy5zZXRWaWV3cG9ydFRyYW5zZm9ybSh2cHQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQYW5zIHZpZXdwb2ludCByZWxhdGl2ZWx5XG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHBvaW50IChwb3NpdGlvbiB2ZWN0b3IpIHRvIG1vdmUgYnlcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSBpbnN0YW5jZVxuICAgICAqIEBjaGFpbmFibGUgdHJ1ZVxuICAgICAqL1xuICAgIHJlbGF0aXZlUGFuOiBmdW5jdGlvbiAocG9pbnQpIHtcbiAgICAgIHJldHVybiB0aGlzLmFic29sdXRlUGFuKG5ldyBmYWJyaWMuUG9pbnQoXG4gICAgICAgIC1wb2ludC54IC0gdGhpcy52aWV3cG9ydFRyYW5zZm9ybVs0XSxcbiAgICAgICAgLXBvaW50LnkgLSB0aGlzLnZpZXdwb3J0VHJhbnNmb3JtWzVdXG4gICAgICApKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyAmbHQ7Y2FudmFzPiBlbGVtZW50IGNvcnJlc3BvbmRpbmcgdG8gdGhpcyBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAqL1xuICAgIGdldEVsZW1lbnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmxvd2VyQ2FudmFzRWw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmogT2JqZWN0IHRoYXQgd2FzIGFkZGVkXG4gICAgICovXG4gICAgX29uT2JqZWN0QWRkZWQ6IGZ1bmN0aW9uKG9iaikge1xuICAgICAgdGhpcy5zdGF0ZWZ1bCAmJiBvYmouc2V0dXBTdGF0ZSgpO1xuICAgICAgb2JqLl9zZXQoJ2NhbnZhcycsIHRoaXMpO1xuICAgICAgb2JqLnNldENvb3JkcygpO1xuICAgICAgdGhpcy5maXJlKCdvYmplY3Q6YWRkZWQnLCB7IHRhcmdldDogb2JqIH0pO1xuICAgICAgb2JqLmZpcmUoJ2FkZGVkJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmogT2JqZWN0IHRoYXQgd2FzIHJlbW92ZWRcbiAgICAgKi9cbiAgICBfb25PYmplY3RSZW1vdmVkOiBmdW5jdGlvbihvYmopIHtcbiAgICAgIHRoaXMuZmlyZSgnb2JqZWN0OnJlbW92ZWQnLCB7IHRhcmdldDogb2JqIH0pO1xuICAgICAgb2JqLmZpcmUoJ3JlbW92ZWQnKTtcbiAgICAgIGRlbGV0ZSBvYmouY2FudmFzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgc3BlY2lmaWVkIGNvbnRleHQgb2YgY2FudmFzIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gY2xlYXJcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGNsZWFyQ29udGV4dDogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvbnRleHQgb2YgY2FudmFzIHdoZXJlIG9iamVjdHMgYXJlIGRyYXduXG4gICAgICogQHJldHVybiB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAqL1xuICAgIGdldENvbnRleHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRleHRDb250YWluZXI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENsZWFycyBhbGwgY29udGV4dHMgKGJhY2tncm91bmQsIG1haW4sIHRvcCkgb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGNsZWFyOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLl9vYmplY3RzLmxlbmd0aCA9IDA7XG4gICAgICB0aGlzLmJhY2tncm91bmRJbWFnZSA9IG51bGw7XG4gICAgICB0aGlzLm92ZXJsYXlJbWFnZSA9IG51bGw7XG4gICAgICB0aGlzLmJhY2tncm91bmRDb2xvciA9ICcnO1xuICAgICAgdGhpcy5vdmVybGF5Q29sb3IgPSAnJztcbiAgICAgIGlmICh0aGlzLl9oYXNJVGV4dEhhbmRsZXJzKSB7XG4gICAgICAgIHRoaXMub2ZmKCdtb3VzZTp1cCcsIHRoaXMuX21vdXNlVXBJVGV4dEhhbmRsZXIpO1xuICAgICAgICB0aGlzLl9pVGV4dEluc3RhbmNlcyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2hhc0lUZXh0SGFuZGxlcnMgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2xlYXJDb250ZXh0KHRoaXMuY29udGV4dENvbnRhaW5lcik7XG4gICAgICB0aGlzLmZpcmUoJ2NhbnZhczpjbGVhcmVkJyk7XG4gICAgICB0aGlzLnJlbmRlck9uQWRkUmVtb3ZlICYmIHRoaXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIGNhbnZhc1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHJlbmRlckFsbDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGNhbnZhc1RvRHJhd09uID0gdGhpcy5jb250ZXh0Q29udGFpbmVyO1xuICAgICAgdGhpcy5yZW5kZXJDYW52YXMoY2FudmFzVG9EcmF3T24sIHRoaXMuX29iamVjdHMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIGNyZWF0ZWQgdG8gYmUgaW5zdGFuY2UgYm91bmQgYXQgaW5pdGlhbGl6YXRpb25cbiAgICAgKiB1c2VkIGluIHJlcXVlc3RBbmltYXRpb25GcmFtZSByZW5kZXJpbmdcbiAgICAgKiBMZXQgdGhlIGZhYnJpY0pTIGNhbGwgaXQuIElmIHlvdSBjYWxsIGl0IG1hbnVhbGx5IHlvdSBjb3VsZCBoYXZlIG1vcmVcbiAgICAgKiBhbmltYXRpb25GcmFtZSBzdGFja2luZyBvbiB0byBvZiBlYWNoIG90aGVyXG4gICAgICogZm9yIGFuIGltcGVyYXRpdmUgcmVuZGVyaW5nLCB1c2UgY2FudmFzLnJlbmRlckFsbFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gaW5zdGFuY2VcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgcmVuZGVyQW5kUmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5pc1JlbmRlcmluZyA9IDA7XG4gICAgICB0aGlzLnJlbmRlckFsbCgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBcHBlbmQgYSByZW5kZXJBbGwgcmVxdWVzdCB0byBuZXh0IGFuaW1hdGlvbiBmcmFtZS5cbiAgICAgKiB1bmxlc3Mgb25lIGlzIGFscmVhZHkgaW4gcHJvZ3Jlc3MsIGluIHRoYXQgY2FzZSBub3RoaW5nIGlzIGRvbmVcbiAgICAgKiBhIGJvb2xlYW4gZmxhZyB3aWxsIGF2b2lkIGFwcGVuZGluZyBtb3JlLlxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHJlcXVlc3RSZW5kZXJBbGw6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghdGhpcy5pc1JlbmRlcmluZykge1xuICAgICAgICB0aGlzLmlzUmVuZGVyaW5nID0gZmFicmljLnV0aWwucmVxdWVzdEFuaW1GcmFtZSh0aGlzLnJlbmRlckFuZFJlc2V0Qm91bmQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSB0aGUgcG9zaXRpb24gb2YgdGhlIDQgY29ybmVyIG9mIGNhbnZhcyB3aXRoIGN1cnJlbnQgdmlld3BvcnRUcmFuc2Zvcm0uXG4gICAgICogaGVscHMgdG8gZGV0ZXJtaW5hdGUgd2hlbiBhbiBvYmplY3QgaXMgaW4gdGhlIGN1cnJlbnQgcmVuZGVyaW5nIHZpZXdwb3J0IHVzaW5nXG4gICAgICogb2JqZWN0IGFic29sdXRlIGNvb3JkaW5hdGVzICggYUNvb3JkcyApXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBwb2ludHMudGxcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgY2FsY1ZpZXdwb3J0Qm91bmRhcmllczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcG9pbnRzID0geyB9LCB3aWR0aCA9IHRoaXMud2lkdGgsIGhlaWdodCA9IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgIGlWcHQgPSBpbnZlcnRUcmFuc2Zvcm0odGhpcy52aWV3cG9ydFRyYW5zZm9ybSk7XG4gICAgICBwb2ludHMudGwgPSB0cmFuc2Zvcm1Qb2ludCh7IHg6IDAsIHk6IDAgfSwgaVZwdCk7XG4gICAgICBwb2ludHMuYnIgPSB0cmFuc2Zvcm1Qb2ludCh7IHg6IHdpZHRoLCB5OiBoZWlnaHQgfSwgaVZwdCk7XG4gICAgICBwb2ludHMudHIgPSBuZXcgZmFicmljLlBvaW50KHBvaW50cy5ici54LCBwb2ludHMudGwueSk7XG4gICAgICBwb2ludHMuYmwgPSBuZXcgZmFicmljLlBvaW50KHBvaW50cy50bC54LCBwb2ludHMuYnIueSk7XG4gICAgICB0aGlzLnZwdENvb3JkcyA9IHBvaW50cztcbiAgICAgIHJldHVybiBwb2ludHM7XG4gICAgfSxcblxuICAgIGNhbmNlbFJlcXVlc3RlZFJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5pc1JlbmRlcmluZykge1xuICAgICAgICBmYWJyaWMudXRpbC5jYW5jZWxBbmltRnJhbWUodGhpcy5pc1JlbmRlcmluZyk7XG4gICAgICAgIHRoaXMuaXNSZW5kZXJpbmcgPSAwO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGJhY2tncm91bmQsIG9iamVjdHMsIG92ZXJsYXkgYW5kIGNvbnRyb2xzLlxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHJlbmRlckNhbnZhczogZnVuY3Rpb24oY3R4LCBvYmplY3RzKSB7XG4gICAgICB2YXIgdiA9IHRoaXMudmlld3BvcnRUcmFuc2Zvcm0sIHBhdGggPSB0aGlzLmNsaXBQYXRoO1xuICAgICAgdGhpcy5jYW5jZWxSZXF1ZXN0ZWRSZW5kZXIoKTtcbiAgICAgIHRoaXMuY2FsY1ZpZXdwb3J0Qm91bmRhcmllcygpO1xuICAgICAgdGhpcy5jbGVhckNvbnRleHQoY3R4KTtcbiAgICAgIHRoaXMuZmlyZSgnYmVmb3JlOnJlbmRlcicsIHsgY3R4OiBjdHgsIH0pO1xuICAgICAgaWYgKHRoaXMuY2xpcFRvKSB7XG4gICAgICAgIGZhYnJpYy51dGlsLmNsaXBDb250ZXh0KHRoaXMsIGN0eCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9yZW5kZXJCYWNrZ3JvdW5kKGN0eCk7XG5cbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAvL2FwcGx5IHZpZXdwb3J0IHRyYW5zZm9ybSBvbmNlIGZvciBhbGwgcmVuZGVyaW5nIHByb2Nlc3NcbiAgICAgIGN0eC50cmFuc2Zvcm0odlswXSwgdlsxXSwgdlsyXSwgdlszXSwgdls0XSwgdls1XSk7XG4gICAgICB0aGlzLl9yZW5kZXJPYmplY3RzKGN0eCwgb2JqZWN0cyk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgaWYgKCF0aGlzLmNvbnRyb2xzQWJvdmVPdmVybGF5ICYmIHRoaXMuaW50ZXJhY3RpdmUpIHtcbiAgICAgICAgdGhpcy5kcmF3Q29udHJvbHMoY3R4KTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmNsaXBUbykge1xuICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgfVxuICAgICAgaWYgKHBhdGgpIHtcbiAgICAgICAgcGF0aC5jYW52YXMgPSB0aGlzO1xuICAgICAgICAvLyBuZWVkZWQgdG8gc2V0dXAgYSBjb3VwbGUgb2YgdmFyaWFibGVzXG4gICAgICAgIHBhdGguc2hvdWxkQ2FjaGUoKTtcbiAgICAgICAgcGF0aC5fdHJhbnNmb3JtRG9uZSA9IHRydWU7XG4gICAgICAgIHBhdGgucmVuZGVyQ2FjaGUoeyBmb3JDbGlwcGluZzogdHJ1ZSB9KTtcbiAgICAgICAgdGhpcy5kcmF3Q2xpcFBhdGhPbkNhbnZhcyhjdHgpO1xuICAgICAgfVxuICAgICAgdGhpcy5fcmVuZGVyT3ZlcmxheShjdHgpO1xuICAgICAgaWYgKHRoaXMuY29udHJvbHNBYm92ZU92ZXJsYXkgJiYgdGhpcy5pbnRlcmFjdGl2ZSkge1xuICAgICAgICB0aGlzLmRyYXdDb250cm9scyhjdHgpO1xuICAgICAgfVxuICAgICAgdGhpcy5maXJlKCdhZnRlcjpyZW5kZXInLCB7IGN0eDogY3R4LCB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUGFpbnQgdGhlIGNhY2hlZCBjbGlwUGF0aCBvbiB0aGUgbG93ZXJDYW52YXNFbFxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBkcmF3Q2xpcFBhdGhPbkNhbnZhczogZnVuY3Rpb24oY3R4KSB7XG4gICAgICB2YXIgdiA9IHRoaXMudmlld3BvcnRUcmFuc2Zvcm0sIHBhdGggPSB0aGlzLmNsaXBQYXRoO1xuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIGN0eC50cmFuc2Zvcm0odlswXSwgdlsxXSwgdlsyXSwgdlszXSwgdls0XSwgdls1XSk7XG4gICAgICAvLyBERUJVRzogdW5jb21tZW50IHRoaXMgbGluZSwgY29tbWVudCB0aGUgZm9sbG93aW5nXG4gICAgICAvLyBjdHguZ2xvYmFsQWxwaGEgPSAwLjQ7XG4gICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2Rlc3RpbmF0aW9uLWluJztcbiAgICAgIHBhdGgudHJhbnNmb3JtKGN0eCk7XG4gICAgICBjdHguc2NhbGUoMSAvIHBhdGguem9vbVgsIDEgLyBwYXRoLnpvb21ZKTtcbiAgICAgIGN0eC5kcmF3SW1hZ2UocGF0aC5fY2FjaGVDYW52YXMsIC1wYXRoLmNhY2hlVHJhbnNsYXRpb25YLCAtcGF0aC5jYWNoZVRyYW5zbGF0aW9uWSk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBvYmplY3RzIHRvIHJlbmRlclxuICAgICAqL1xuICAgIF9yZW5kZXJPYmplY3RzOiBmdW5jdGlvbihjdHgsIG9iamVjdHMpIHtcbiAgICAgIHZhciBpLCBsZW47XG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSBvYmplY3RzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIG9iamVjdHNbaV0gJiYgb2JqZWN0c1tpXS5yZW5kZXIoY3R4KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5ICdiYWNrZ3JvdW5kJyBvciAnb3ZlcmxheSdcbiAgICAgKi9cbiAgICBfcmVuZGVyQmFja2dyb3VuZE9yT3ZlcmxheTogZnVuY3Rpb24oY3R4LCBwcm9wZXJ0eSkge1xuICAgICAgdmFyIGZpbGwgPSB0aGlzW3Byb3BlcnR5ICsgJ0NvbG9yJ10sIG9iamVjdCA9IHRoaXNbcHJvcGVydHkgKyAnSW1hZ2UnXSxcbiAgICAgICAgICB2ID0gdGhpcy52aWV3cG9ydFRyYW5zZm9ybSwgbmVlZHNWcHQgPSB0aGlzW3Byb3BlcnR5ICsgJ1ZwdCddO1xuICAgICAgaWYgKCFmaWxsICYmICFvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGZpbGwpIHtcbiAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICBjdHgubW92ZVRvKDAsIDApO1xuICAgICAgICBjdHgubGluZVRvKHRoaXMud2lkdGgsIDApO1xuICAgICAgICBjdHgubGluZVRvKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICAgICAgY3R4LmxpbmVUbygwLCB0aGlzLmhlaWdodCk7XG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGZpbGwudG9MaXZlXG4gICAgICAgICAgPyBmaWxsLnRvTGl2ZShjdHgsIHRoaXMpXG4gICAgICAgICAgOiBmaWxsO1xuICAgICAgICBpZiAobmVlZHNWcHQpIHtcbiAgICAgICAgICBjdHgudHJhbnNmb3JtKHZbMF0sIHZbMV0sIHZbMl0sIHZbM10sIHZbNF0sIHZbNV0pO1xuICAgICAgICB9XG4gICAgICAgIGN0eC50cmFuc2Zvcm0oMSwgMCwgMCwgMSwgZmlsbC5vZmZzZXRYIHx8IDAsIGZpbGwub2Zmc2V0WSB8fCAwKTtcbiAgICAgICAgdmFyIG0gPSBmaWxsLmdyYWRpZW50VHJhbnNmb3JtIHx8IGZpbGwucGF0dGVyblRyYW5zZm9ybTtcbiAgICAgICAgbSAmJiBjdHgudHJhbnNmb3JtKG1bMF0sIG1bMV0sIG1bMl0sIG1bM10sIG1bNF0sIG1bNV0pO1xuICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgfVxuICAgICAgaWYgKG9iamVjdCkge1xuICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICBpZiAobmVlZHNWcHQpIHtcbiAgICAgICAgICBjdHgudHJhbnNmb3JtKHZbMF0sIHZbMV0sIHZbMl0sIHZbM10sIHZbNF0sIHZbNV0pO1xuICAgICAgICB9XG4gICAgICAgIG9iamVjdC5yZW5kZXIoY3R4KTtcbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgX3JlbmRlckJhY2tncm91bmQ6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgdGhpcy5fcmVuZGVyQmFja2dyb3VuZE9yT3ZlcmxheShjdHgsICdiYWNrZ3JvdW5kJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXJPdmVybGF5OiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIHRoaXMuX3JlbmRlckJhY2tncm91bmRPck92ZXJsYXkoY3R4LCAnb3ZlcmxheScpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvb3JkaW5hdGVzIG9mIGEgY2VudGVyIG9mIGNhbnZhcy5cbiAgICAgKiBSZXR1cm5lZCB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCB0b3AgYW5kIGxlZnQgcHJvcGVydGllc1xuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0IHdpdGggXCJ0b3BcIiBhbmQgXCJsZWZ0XCIgbnVtYmVyIHZhbHVlc1xuICAgICAqL1xuICAgIGdldENlbnRlcjogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9wOiB0aGlzLmhlaWdodCAvIDIsXG4gICAgICAgIGxlZnQ6IHRoaXMud2lkdGggLyAyXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDZW50ZXJzIG9iamVjdCBob3Jpem9udGFsbHkgaW4gdGhlIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjZW50ZXIgaG9yaXpvbnRhbGx5XG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgICAqL1xuICAgIGNlbnRlck9iamVjdEg6IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jZW50ZXJPYmplY3Qob2JqZWN0LCBuZXcgZmFicmljLlBvaW50KHRoaXMuZ2V0Q2VudGVyKCkubGVmdCwgb2JqZWN0LmdldENlbnRlclBvaW50KCkueSkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDZW50ZXJzIG9iamVjdCB2ZXJ0aWNhbGx5IGluIHRoZSBjYW52YXNcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY2VudGVyIHZlcnRpY2FsbHlcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGNlbnRlck9iamVjdFY6IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgIHJldHVybiB0aGlzLl9jZW50ZXJPYmplY3Qob2JqZWN0LCBuZXcgZmFicmljLlBvaW50KG9iamVjdC5nZXRDZW50ZXJQb2ludCgpLngsIHRoaXMuZ2V0Q2VudGVyKCkudG9wKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENlbnRlcnMgb2JqZWN0IHZlcnRpY2FsbHkgYW5kIGhvcml6b250YWxseSBpbiB0aGUgY2FudmFzXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNlbnRlciB2ZXJ0aWNhbGx5IGFuZCBob3Jpem9udGFsbHlcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGNlbnRlck9iamVjdDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICB2YXIgY2VudGVyID0gdGhpcy5nZXRDZW50ZXIoKTtcblxuICAgICAgcmV0dXJuIHRoaXMuX2NlbnRlck9iamVjdChvYmplY3QsIG5ldyBmYWJyaWMuUG9pbnQoY2VudGVyLmxlZnQsIGNlbnRlci50b3ApKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2VudGVycyBvYmplY3QgdmVydGljYWxseSBhbmQgaG9yaXpvbnRhbGx5IGluIHRoZSB2aWV3cG9ydFxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjZW50ZXIgdmVydGljYWxseSBhbmQgaG9yaXpvbnRhbGx5XG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICB2aWV3cG9ydENlbnRlck9iamVjdDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICB2YXIgdnBDZW50ZXIgPSB0aGlzLmdldFZwQ2VudGVyKCk7XG5cbiAgICAgIHJldHVybiB0aGlzLl9jZW50ZXJPYmplY3Qob2JqZWN0LCB2cENlbnRlcik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENlbnRlcnMgb2JqZWN0IGhvcml6b250YWxseSBpbiB0aGUgdmlld3BvcnQsIG9iamVjdC50b3AgaXMgdW5jaGFuZ2VkXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNlbnRlciB2ZXJ0aWNhbGx5IGFuZCBob3Jpem9udGFsbHlcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHZpZXdwb3J0Q2VudGVyT2JqZWN0SDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICB2YXIgdnBDZW50ZXIgPSB0aGlzLmdldFZwQ2VudGVyKCk7XG4gICAgICB0aGlzLl9jZW50ZXJPYmplY3Qob2JqZWN0LCBuZXcgZmFicmljLlBvaW50KHZwQ2VudGVyLngsIG9iamVjdC5nZXRDZW50ZXJQb2ludCgpLnkpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDZW50ZXJzIG9iamVjdCBWZXJ0aWNhbGx5IGluIHRoZSB2aWV3cG9ydCwgb2JqZWN0LnRvcCBpcyB1bmNoYW5nZWRcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY2VudGVyIHZlcnRpY2FsbHkgYW5kIGhvcml6b250YWxseVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgdmlld3BvcnRDZW50ZXJPYmplY3RWOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHZhciB2cENlbnRlciA9IHRoaXMuZ2V0VnBDZW50ZXIoKTtcblxuICAgICAgcmV0dXJuIHRoaXMuX2NlbnRlck9iamVjdChvYmplY3QsIG5ldyBmYWJyaWMuUG9pbnQob2JqZWN0LmdldENlbnRlclBvaW50KCkueCwgdnBDZW50ZXIueSkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIHBvaW50IGluIGNhbnZhcyB0aGF0IGNvcnJlc3BvbmQgdG8gdGhlIGNlbnRlciBvZiBhY3R1YWwgdmlld3BvcnQuXG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fSB2cENlbnRlciwgdmlld3BvcnQgY2VudGVyXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGdldFZwQ2VudGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjZW50ZXIgPSB0aGlzLmdldENlbnRlcigpLFxuICAgICAgICAgIGlWcHQgPSBpbnZlcnRUcmFuc2Zvcm0odGhpcy52aWV3cG9ydFRyYW5zZm9ybSk7XG4gICAgICByZXR1cm4gdHJhbnNmb3JtUG9pbnQoeyB4OiBjZW50ZXIubGVmdCwgeTogY2VudGVyLnRvcCB9LCBpVnB0KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY2VudGVyXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IGNlbnRlciBDZW50ZXIgcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIF9jZW50ZXJPYmplY3Q6IGZ1bmN0aW9uKG9iamVjdCwgY2VudGVyKSB7XG4gICAgICBvYmplY3Quc2V0UG9zaXRpb25CeU9yaWdpbihjZW50ZXIsICdjZW50ZXInLCAnY2VudGVyJyk7XG4gICAgICBvYmplY3Quc2V0Q29vcmRzKCk7XG4gICAgICB0aGlzLnJlbmRlck9uQWRkUmVtb3ZlICYmIHRoaXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVycyBkYXRhbGVzcyBKU09OIHJlcHJlc2VudGF0aW9uIG9mIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzVG9JbmNsdWRlXSBBbnkgcHJvcGVydGllcyB0aGF0IHlvdSBtaWdodCB3YW50IHRvIGFkZGl0aW9uYWxseSBpbmNsdWRlIGluIHRoZSBvdXRwdXRcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IGpzb24gc3RyaW5nXG4gICAgICovXG4gICAgdG9EYXRhbGVzc0pTT046IGZ1bmN0aW9uIChwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICByZXR1cm4gdGhpcy50b0RhdGFsZXNzT2JqZWN0KHByb3BlcnRpZXNUb0luY2x1ZGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBjYW52YXNcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcGVydGllc1RvSW5jbHVkZV0gQW55IHByb3BlcnRpZXMgdGhhdCB5b3UgbWlnaHQgd2FudCB0byBhZGRpdGlvbmFsbHkgaW5jbHVkZSBpbiB0aGUgb3V0cHV0XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24gKHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcbiAgICAgIHJldHVybiB0aGlzLl90b09iamVjdE1ldGhvZCgndG9PYmplY3QnLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBkYXRhbGVzcyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgY2FudmFzXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9EYXRhbGVzc09iamVjdDogZnVuY3Rpb24gKHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcbiAgICAgIHJldHVybiB0aGlzLl90b09iamVjdE1ldGhvZCgndG9EYXRhbGVzc09iamVjdCcsIHByb3BlcnRpZXNUb0luY2x1ZGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF90b09iamVjdE1ldGhvZDogZnVuY3Rpb24gKG1ldGhvZE5hbWUsIHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcblxuICAgICAgdmFyIGNsaXBQYXRoID0gdGhpcy5jbGlwUGF0aCwgZGF0YSA9IHtcbiAgICAgICAgdmVyc2lvbjogZmFicmljLnZlcnNpb24sXG4gICAgICAgIG9iamVjdHM6IHRoaXMuX3RvT2JqZWN0cyhtZXRob2ROYW1lLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKSxcbiAgICAgIH07XG4gICAgICBpZiAoY2xpcFBhdGgpIHtcbiAgICAgICAgZGF0YS5jbGlwUGF0aCA9IHRoaXMuX3RvT2JqZWN0KHRoaXMuY2xpcFBhdGgsIG1ldGhvZE5hbWUsIHByb3BlcnRpZXNUb0luY2x1ZGUpO1xuICAgICAgfVxuICAgICAgZXh0ZW5kKGRhdGEsIHRoaXMuX19zZXJpYWxpemVCZ092ZXJsYXkobWV0aG9kTmFtZSwgcHJvcGVydGllc1RvSW5jbHVkZSkpO1xuXG4gICAgICBmYWJyaWMudXRpbC5wb3B1bGF0ZVdpdGhQcm9wZXJ0aWVzKHRoaXMsIGRhdGEsIHByb3BlcnRpZXNUb0luY2x1ZGUpO1xuXG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdG9PYmplY3RzOiBmdW5jdGlvbihtZXRob2ROYW1lLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fb2JqZWN0cy5maWx0ZXIoZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiAhb2JqZWN0LmV4Y2x1ZGVGcm9tRXhwb3J0O1xuICAgICAgfSkubWFwKGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90b09iamVjdChpbnN0YW5jZSwgbWV0aG9kTmFtZSwgcHJvcGVydGllc1RvSW5jbHVkZSk7XG4gICAgICB9LCB0aGlzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdG9PYmplY3Q6IGZ1bmN0aW9uKGluc3RhbmNlLCBtZXRob2ROYW1lLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICB2YXIgb3JpZ2luYWxWYWx1ZTtcblxuICAgICAgaWYgKCF0aGlzLmluY2x1ZGVEZWZhdWx0VmFsdWVzKSB7XG4gICAgICAgIG9yaWdpbmFsVmFsdWUgPSBpbnN0YW5jZS5pbmNsdWRlRGVmYXVsdFZhbHVlcztcbiAgICAgICAgaW5zdGFuY2UuaW5jbHVkZURlZmF1bHRWYWx1ZXMgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIG9iamVjdCA9IGluc3RhbmNlW21ldGhvZE5hbWVdKHByb3BlcnRpZXNUb0luY2x1ZGUpO1xuICAgICAgaWYgKCF0aGlzLmluY2x1ZGVEZWZhdWx0VmFsdWVzKSB7XG4gICAgICAgIGluc3RhbmNlLmluY2x1ZGVEZWZhdWx0VmFsdWVzID0gb3JpZ2luYWxWYWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX19zZXJpYWxpemVCZ092ZXJsYXk6IGZ1bmN0aW9uKG1ldGhvZE5hbWUsIHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcbiAgICAgIHZhciBkYXRhID0geyB9LCBiZ0ltYWdlID0gdGhpcy5iYWNrZ3JvdW5kSW1hZ2UsIG92ZXJsYXkgPSB0aGlzLm92ZXJsYXlJbWFnZTtcblxuICAgICAgaWYgKHRoaXMuYmFja2dyb3VuZENvbG9yKSB7XG4gICAgICAgIGRhdGEuYmFja2dyb3VuZCA9IHRoaXMuYmFja2dyb3VuZENvbG9yLnRvT2JqZWN0XG4gICAgICAgICAgPyB0aGlzLmJhY2tncm91bmRDb2xvci50b09iamVjdChwcm9wZXJ0aWVzVG9JbmNsdWRlKVxuICAgICAgICAgIDogdGhpcy5iYWNrZ3JvdW5kQ29sb3I7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLm92ZXJsYXlDb2xvcikge1xuICAgICAgICBkYXRhLm92ZXJsYXkgPSB0aGlzLm92ZXJsYXlDb2xvci50b09iamVjdFxuICAgICAgICAgID8gdGhpcy5vdmVybGF5Q29sb3IudG9PYmplY3QocHJvcGVydGllc1RvSW5jbHVkZSlcbiAgICAgICAgICA6IHRoaXMub3ZlcmxheUNvbG9yO1xuICAgICAgfVxuICAgICAgaWYgKGJnSW1hZ2UgJiYgIWJnSW1hZ2UuZXhjbHVkZUZyb21FeHBvcnQpIHtcbiAgICAgICAgZGF0YS5iYWNrZ3JvdW5kSW1hZ2UgPSB0aGlzLl90b09iamVjdChiZ0ltYWdlLCBtZXRob2ROYW1lLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICAgIH1cbiAgICAgIGlmIChvdmVybGF5ICYmICFvdmVybGF5LmV4Y2x1ZGVGcm9tRXhwb3J0KSB7XG4gICAgICAgIGRhdGEub3ZlcmxheUltYWdlID0gdGhpcy5fdG9PYmplY3Qob3ZlcmxheSwgbWV0aG9kTmFtZSwgcHJvcGVydGllc1RvSW5jbHVkZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH0sXG5cbiAgICAvKiBfVE9fU1ZHX1NUQVJUXyAqL1xuICAgIC8qKlxuICAgICAqIFdoZW4gdHJ1ZSwgZ2V0U3ZnVHJhbnNmb3JtKCkgd2lsbCBhcHBseSB0aGUgU3RhdGljQ2FudmFzLnZpZXdwb3J0VHJhbnNmb3JtIHRvIHRoZSBTVkcgdHJhbnNmb3JtYXRpb24uIFdoZW4gdHJ1ZSxcbiAgICAgKiBhIHpvb21lZCBjYW52YXMgd2lsbCB0aGVuIHByb2R1Y2Ugem9vbWVkIFNWRyBvdXRwdXQuXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc3ZnVmlld3BvcnRUcmFuc2Zvcm1hdGlvbjogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgU1ZHIHJlcHJlc2VudGF0aW9uIG9mIGNhbnZhc1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3QgZm9yIFNWRyBvdXRwdXRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLnN1cHByZXNzUHJlYW1ibGU9ZmFsc2VdIElmIHRydWUgeG1sIHRhZyBpcyBub3QgaW5jbHVkZWRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMudmlld0JveF0gU1ZHIHZpZXdib3ggb2JqZWN0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnZpZXdCb3gueF0geC1jb29yaWRuYXRlIG9mIHZpZXdib3hcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMudmlld0JveC55XSB5LWNvb3JkaW5hdGUgb2Ygdmlld2JveFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy52aWV3Qm94LndpZHRoXSBXaWR0aCBvZiB2aWV3Ym94XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnZpZXdCb3guaGVpZ2h0XSBIZWlnaHQgb2Ygdmlld2JveFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5lbmNvZGluZz1VVEYtOF0gRW5jb2Rpbmcgb2YgU1ZHIG91dHB1dFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy53aWR0aF0gZGVzaXJlZCB3aWR0aCBvZiBzdmcgd2l0aCBvciB3aXRob3V0IHVuaXRzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmhlaWdodF0gZGVzaXJlZCBoZWlnaHQgb2Ygc3ZnIHdpdGggb3Igd2l0aG91dCB1bml0c1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXZpdmVyXSBNZXRob2QgZm9yIGZ1cnRoZXIgcGFyc2luZyBvZiBzdmcgZWxlbWVudHMsIGNhbGxlZCBhZnRlciBlYWNoIGZhYnJpYyBvYmplY3QgY29udmVydGVkIGludG8gc3ZnIHJlcHJlc2VudGF0aW9uLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gU1ZHIHN0cmluZ1xuICAgICAqIEB0dXRvcmlhbCB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9mYWJyaWMtaW50cm8tcGFydC0zI3NlcmlhbGl6YXRpb259XG4gICAgICogQHNlZSB7QGxpbmsgaHR0cDovL2pzZmlkZGxlLm5ldC9mYWJyaWNqcy9qUTNaWi98anNGaWRkbGUgZGVtb31cbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5Ob3JtYWwgU1ZHIG91dHB1dDwvY2FwdGlvbj5cbiAgICAgKiB2YXIgc3ZnID0gY2FudmFzLnRvU1ZHKCk7XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+U1ZHIG91dHB1dCB3aXRob3V0IHByZWFtYmxlICh3aXRob3V0ICZsdDs/eG1sIC4uLz4pPC9jYXB0aW9uPlxuICAgICAqIHZhciBzdmcgPSBjYW52YXMudG9TVkcoe3N1cHByZXNzUHJlYW1ibGU6IHRydWV9KTtcbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5TVkcgb3V0cHV0IHdpdGggdmlld0JveCBhdHRyaWJ1dGU8L2NhcHRpb24+XG4gICAgICogdmFyIHN2ZyA9IGNhbnZhcy50b1NWRyh7XG4gICAgICogICB2aWV3Qm94OiB7XG4gICAgICogICAgIHg6IDEwMCxcbiAgICAgKiAgICAgeTogMTAwLFxuICAgICAqICAgICB3aWR0aDogMjAwLFxuICAgICAqICAgICBoZWlnaHQ6IDMwMFxuICAgICAqICAgfVxuICAgICAqIH0pO1xuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPlNWRyBvdXRwdXQgd2l0aCBkaWZmZXJlbnQgZW5jb2RpbmcgKGRlZmF1bHQ6IFVURi04KTwvY2FwdGlvbj5cbiAgICAgKiB2YXIgc3ZnID0gY2FudmFzLnRvU1ZHKHtlbmNvZGluZzogJ0lTTy04ODU5LTEnfSk7XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+TW9kaWZ5IFNWRyBvdXRwdXQgd2l0aCByZXZpdmVyIGZ1bmN0aW9uPC9jYXB0aW9uPlxuICAgICAqIHZhciBzdmcgPSBjYW52YXMudG9TVkcobnVsbCwgZnVuY3Rpb24oc3ZnKSB7XG4gICAgICogICByZXR1cm4gc3ZnLnJlcGxhY2UoJ3N0cm9rZS1kYXNoYXJyYXk6IDsgc3Ryb2tlLWxpbmVjYXA6IGJ1dHQ7IHN0cm9rZS1saW5lam9pbjogbWl0ZXI7IHN0cm9rZS1taXRlcmxpbWl0OiAxMDsgJywgJycpO1xuICAgICAqIH0pO1xuICAgICAqL1xuICAgIHRvU1ZHOiBmdW5jdGlvbihvcHRpb25zLCByZXZpdmVyKSB7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0geyB9KTtcbiAgICAgIG9wdGlvbnMucmV2aXZlciA9IHJldml2ZXI7XG4gICAgICB2YXIgbWFya3VwID0gW107XG5cbiAgICAgIHRoaXMuX3NldFNWR1ByZWFtYmxlKG1hcmt1cCwgb3B0aW9ucyk7XG4gICAgICB0aGlzLl9zZXRTVkdIZWFkZXIobWFya3VwLCBvcHRpb25zKTtcbiAgICAgIGlmICh0aGlzLmNsaXBQYXRoKSB7XG4gICAgICAgIG1hcmt1cC5wdXNoKCc8ZyBjbGlwLXBhdGg9XCJ1cmwoIycgKyB0aGlzLmNsaXBQYXRoLmNsaXBQYXRoSWQgKyAnKVwiID5cXG4nKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3NldFNWR0JnT3ZlcmxheUNvbG9yKG1hcmt1cCwgJ2JhY2tncm91bmQnKTtcbiAgICAgIHRoaXMuX3NldFNWR0JnT3ZlcmxheUltYWdlKG1hcmt1cCwgJ2JhY2tncm91bmRJbWFnZScsIHJldml2ZXIpO1xuICAgICAgdGhpcy5fc2V0U1ZHT2JqZWN0cyhtYXJrdXAsIHJldml2ZXIpO1xuICAgICAgaWYgKHRoaXMuY2xpcFBhdGgpIHtcbiAgICAgICAgbWFya3VwLnB1c2goJzwvZz5cXG4nKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3NldFNWR0JnT3ZlcmxheUNvbG9yKG1hcmt1cCwgJ292ZXJsYXknKTtcbiAgICAgIHRoaXMuX3NldFNWR0JnT3ZlcmxheUltYWdlKG1hcmt1cCwgJ292ZXJsYXlJbWFnZScsIHJldml2ZXIpO1xuXG4gICAgICBtYXJrdXAucHVzaCgnPC9zdmc+Jyk7XG5cbiAgICAgIHJldHVybiBtYXJrdXAuam9pbignJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldFNWR1ByZWFtYmxlOiBmdW5jdGlvbihtYXJrdXAsIG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zLnN1cHByZXNzUHJlYW1ibGUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbWFya3VwLnB1c2goXG4gICAgICAgICc8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCInLCAob3B0aW9ucy5lbmNvZGluZyB8fCAnVVRGLTgnKSwgJ1wiIHN0YW5kYWxvbmU9XCJub1wiID8+XFxuJyxcbiAgICAgICAgJzwhRE9DVFlQRSBzdmcgUFVCTElDIFwiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU5cIiAnLFxuICAgICAgICAnXCJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGRcIj5cXG4nXG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXRTVkdIZWFkZXI6IGZ1bmN0aW9uKG1hcmt1cCwgb3B0aW9ucykge1xuICAgICAgdmFyIHdpZHRoID0gb3B0aW9ucy53aWR0aCB8fCB0aGlzLndpZHRoLFxuICAgICAgICAgIGhlaWdodCA9IG9wdGlvbnMuaGVpZ2h0IHx8IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgIHZwdCwgdmlld0JveCA9ICd2aWV3Qm94PVwiMCAwICcgKyB0aGlzLndpZHRoICsgJyAnICsgdGhpcy5oZWlnaHQgKyAnXCIgJyxcbiAgICAgICAgICBOVU1fRlJBQ1RJT05fRElHSVRTID0gZmFicmljLk9iamVjdC5OVU1fRlJBQ1RJT05fRElHSVRTO1xuXG4gICAgICBpZiAob3B0aW9ucy52aWV3Qm94KSB7XG4gICAgICAgIHZpZXdCb3ggPSAndmlld0JveD1cIicgK1xuICAgICAgICAgICAgICAgIG9wdGlvbnMudmlld0JveC54ICsgJyAnICtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnZpZXdCb3gueSArICcgJyArXG4gICAgICAgICAgICAgICAgb3B0aW9ucy52aWV3Qm94LndpZHRoICsgJyAnICtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnZpZXdCb3guaGVpZ2h0ICsgJ1wiICc7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMuc3ZnVmlld3BvcnRUcmFuc2Zvcm1hdGlvbikge1xuICAgICAgICAgIHZwdCA9IHRoaXMudmlld3BvcnRUcmFuc2Zvcm07XG4gICAgICAgICAgdmlld0JveCA9ICd2aWV3Qm94PVwiJyArXG4gICAgICAgICAgICAgICAgICB0b0ZpeGVkKC12cHRbNF0gLyB2cHRbMF0sIE5VTV9GUkFDVElPTl9ESUdJVFMpICsgJyAnICtcbiAgICAgICAgICAgICAgICAgIHRvRml4ZWQoLXZwdFs1XSAvIHZwdFszXSwgTlVNX0ZSQUNUSU9OX0RJR0lUUykgKyAnICcgK1xuICAgICAgICAgICAgICAgICAgdG9GaXhlZCh0aGlzLndpZHRoIC8gdnB0WzBdLCBOVU1fRlJBQ1RJT05fRElHSVRTKSArICcgJyArXG4gICAgICAgICAgICAgICAgICB0b0ZpeGVkKHRoaXMuaGVpZ2h0IC8gdnB0WzNdLCBOVU1fRlJBQ1RJT05fRElHSVRTKSArICdcIiAnO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1hcmt1cC5wdXNoKFxuICAgICAgICAnPHN2ZyAnLFxuICAgICAgICAneG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiICcsXG4gICAgICAgICd4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiAnLFxuICAgICAgICAndmVyc2lvbj1cIjEuMVwiICcsXG4gICAgICAgICd3aWR0aD1cIicsIHdpZHRoLCAnXCIgJyxcbiAgICAgICAgJ2hlaWdodD1cIicsIGhlaWdodCwgJ1wiICcsXG4gICAgICAgIHZpZXdCb3gsXG4gICAgICAgICd4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiPlxcbicsXG4gICAgICAgICc8ZGVzYz5DcmVhdGVkIHdpdGggRmFicmljLmpzICcsIGZhYnJpYy52ZXJzaW9uLCAnPC9kZXNjPlxcbicsXG4gICAgICAgICc8ZGVmcz5cXG4nLFxuICAgICAgICB0aGlzLmNyZWF0ZVNWR0ZvbnRGYWNlc01hcmt1cCgpLFxuICAgICAgICB0aGlzLmNyZWF0ZVNWR1JlZkVsZW1lbnRzTWFya3VwKCksXG4gICAgICAgIHRoaXMuY3JlYXRlU1ZHQ2xpcFBhdGhNYXJrdXAob3B0aW9ucyksXG4gICAgICAgICc8L2RlZnM+XFxuJ1xuICAgICAgKTtcbiAgICB9LFxuXG4gICAgY3JlYXRlU1ZHQ2xpcFBhdGhNYXJrdXA6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBjbGlwUGF0aCA9IHRoaXMuY2xpcFBhdGg7XG4gICAgICBpZiAoY2xpcFBhdGgpIHtcbiAgICAgICAgY2xpcFBhdGguY2xpcFBhdGhJZCA9ICdDTElQUEFUSF8nICsgZmFicmljLk9iamVjdC5fX3VpZCsrO1xuICAgICAgICByZXR1cm4gICc8Y2xpcFBhdGggaWQ9XCInICsgY2xpcFBhdGguY2xpcFBhdGhJZCArICdcIiA+XFxuJyArXG4gICAgICAgICAgdGhpcy5jbGlwUGF0aC50b0NsaXBQYXRoU1ZHKG9wdGlvbnMucmV2aXZlcikgK1xuICAgICAgICAgICc8L2NsaXBQYXRoPlxcbic7XG4gICAgICB9XG4gICAgICByZXR1cm4gJyc7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgbWFya3VwIGNvbnRhaW5pbmcgU1ZHIHJlZmVyZW5jZWQgZWxlbWVudHMgbGlrZSBwYXR0ZXJucywgZ3JhZGllbnRzIGV0Yy5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgY3JlYXRlU1ZHUmVmRWxlbWVudHNNYXJrdXA6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgICAgICBtYXJrdXAgPSBbJ2JhY2tncm91bmQnLCAnb3ZlcmxheSddLm1hcChmdW5jdGlvbihwcm9wKSB7XG4gICAgICAgICAgICB2YXIgZmlsbCA9IF90aGlzW3Byb3AgKyAnQ29sb3InXTtcbiAgICAgICAgICAgIGlmIChmaWxsICYmIGZpbGwudG9MaXZlKSB7XG4gICAgICAgICAgICAgIHZhciBzaG91bGRUcmFuc2Zvcm0gPSBfdGhpc1twcm9wICsgJ1ZwdCddLCB2cHQgPSBfdGhpcy52aWV3cG9ydFRyYW5zZm9ybSxcbiAgICAgICAgICAgICAgICAgIG9iamVjdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IF90aGlzLndpZHRoIC8gKHNob3VsZFRyYW5zZm9ybSA/IHZwdFswXSA6IDEpLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IF90aGlzLmhlaWdodCAvIChzaG91bGRUcmFuc2Zvcm0gPyB2cHRbM10gOiAxKVxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZpbGwudG9TVkcoXG4gICAgICAgICAgICAgICAgb2JqZWN0LFxuICAgICAgICAgICAgICAgIHsgYWRkaXRpb25hbFRyYW5zZm9ybTogc2hvdWxkVHJhbnNmb3JtID8gZmFicmljLnV0aWwubWF0cml4VG9TVkcodnB0KSA6ICcnIH1cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgIHJldHVybiBtYXJrdXAuam9pbignJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgbWFya3VwIGNvbnRhaW5pbmcgU1ZHIGZvbnQgZmFjZXMsXG4gICAgICogZm9udCBVUkxzIGZvciBmb250IGZhY2VzIG11c3QgYmUgY29sbGVjdGVkIGJ5IGRldmVsb3BlcnNcbiAgICAgKiBhbmQgYXJlIG5vdCBleHRyYWN0ZWQgZnJvbSB0aGUgRE9NIGJ5IGZhYnJpY2pzXG4gICAgICogQHBhcmFtIHtBcnJheX0gb2JqZWN0cyBBcnJheSBvZiBmYWJyaWMgb2JqZWN0c1xuICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgKi9cbiAgICBjcmVhdGVTVkdGb250RmFjZXNNYXJrdXA6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG1hcmt1cCA9ICcnLCBmb250TGlzdCA9IHsgfSwgb2JqLCBmb250RmFtaWx5LFxuICAgICAgICAgIHN0eWxlLCByb3csIHJvd0luZGV4LCBfY2hhciwgY2hhckluZGV4LCBpLCBsZW4sXG4gICAgICAgICAgZm9udFBhdGhzID0gZmFicmljLmZvbnRQYXRocywgb2JqZWN0cyA9IHRoaXMuX29iamVjdHM7XG5cbiAgICAgIGZvciAoaSA9IDAsIGxlbiA9IG9iamVjdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgb2JqID0gb2JqZWN0c1tpXTtcbiAgICAgICAgZm9udEZhbWlseSA9IG9iai5mb250RmFtaWx5O1xuICAgICAgICBpZiAob2JqLnR5cGUuaW5kZXhPZigndGV4dCcpID09PSAtMSB8fCBmb250TGlzdFtmb250RmFtaWx5XSB8fCAhZm9udFBhdGhzW2ZvbnRGYW1pbHldKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgZm9udExpc3RbZm9udEZhbWlseV0gPSB0cnVlO1xuICAgICAgICBpZiAoIW9iai5zdHlsZXMpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBzdHlsZSA9IG9iai5zdHlsZXM7XG4gICAgICAgIGZvciAocm93SW5kZXggaW4gc3R5bGUpIHtcbiAgICAgICAgICByb3cgPSBzdHlsZVtyb3dJbmRleF07XG4gICAgICAgICAgZm9yIChjaGFySW5kZXggaW4gcm93KSB7XG4gICAgICAgICAgICBfY2hhciA9IHJvd1tjaGFySW5kZXhdO1xuICAgICAgICAgICAgZm9udEZhbWlseSA9IF9jaGFyLmZvbnRGYW1pbHk7XG4gICAgICAgICAgICBpZiAoIWZvbnRMaXN0W2ZvbnRGYW1pbHldICYmIGZvbnRQYXRoc1tmb250RmFtaWx5XSkge1xuICAgICAgICAgICAgICBmb250TGlzdFtmb250RmFtaWx5XSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGogaW4gZm9udExpc3QpIHtcbiAgICAgICAgbWFya3VwICs9IFtcbiAgICAgICAgICAnXFx0XFx0QGZvbnQtZmFjZSB7XFxuJyxcbiAgICAgICAgICAnXFx0XFx0XFx0Zm9udC1mYW1pbHk6IFxcJycsIGosICdcXCc7XFxuJyxcbiAgICAgICAgICAnXFx0XFx0XFx0c3JjOiB1cmwoXFwnJywgZm9udFBhdGhzW2pdLCAnXFwnKTtcXG4nLFxuICAgICAgICAgICdcXHRcXHR9XFxuJ1xuICAgICAgICBdLmpvaW4oJycpO1xuICAgICAgfVxuXG4gICAgICBpZiAobWFya3VwKSB7XG4gICAgICAgIG1hcmt1cCA9IFtcbiAgICAgICAgICAnXFx0PHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPicsXG4gICAgICAgICAgJzwhW0NEQVRBW1xcbicsXG4gICAgICAgICAgbWFya3VwLFxuICAgICAgICAgICddXT4nLFxuICAgICAgICAgICc8L3N0eWxlPlxcbidcbiAgICAgICAgXS5qb2luKCcnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1hcmt1cDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0U1ZHT2JqZWN0czogZnVuY3Rpb24obWFya3VwLCByZXZpdmVyKSB7XG4gICAgICB2YXIgaW5zdGFuY2UsIGksIGxlbiwgb2JqZWN0cyA9IHRoaXMuX29iamVjdHM7XG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSBvYmplY3RzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGluc3RhbmNlID0gb2JqZWN0c1tpXTtcbiAgICAgICAgaWYgKGluc3RhbmNlLmV4Y2x1ZGVGcm9tRXhwb3J0KSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2V0U1ZHT2JqZWN0KG1hcmt1cCwgaW5zdGFuY2UsIHJldml2ZXIpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXRTVkdPYmplY3Q6IGZ1bmN0aW9uKG1hcmt1cCwgaW5zdGFuY2UsIHJldml2ZXIpIHtcbiAgICAgIG1hcmt1cC5wdXNoKGluc3RhbmNlLnRvU1ZHKHJldml2ZXIpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0U1ZHQmdPdmVybGF5SW1hZ2U6IGZ1bmN0aW9uKG1hcmt1cCwgcHJvcGVydHksIHJldml2ZXIpIHtcbiAgICAgIGlmICh0aGlzW3Byb3BlcnR5XSAmJiAhdGhpc1twcm9wZXJ0eV0uZXhjbHVkZUZyb21FeHBvcnQgJiYgdGhpc1twcm9wZXJ0eV0udG9TVkcpIHtcbiAgICAgICAgbWFya3VwLnB1c2godGhpc1twcm9wZXJ0eV0udG9TVkcocmV2aXZlcikpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXRTVkdCZ092ZXJsYXlDb2xvcjogZnVuY3Rpb24obWFya3VwLCBwcm9wZXJ0eSkge1xuICAgICAgdmFyIGZpbGxlciA9IHRoaXNbcHJvcGVydHkgKyAnQ29sb3InXSwgdnB0ID0gdGhpcy52aWV3cG9ydFRyYW5zZm9ybSwgZmluYWxXaWR0aCA9IHRoaXMud2lkdGgsXG4gICAgICAgICAgZmluYWxIZWlnaHQgPSB0aGlzLmhlaWdodDtcbiAgICAgIGlmICghZmlsbGVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChmaWxsZXIudG9MaXZlKSB7XG4gICAgICAgIHZhciByZXBlYXQgPSBmaWxsZXIucmVwZWF0LCBpVnB0ID0gZmFicmljLnV0aWwuaW52ZXJ0VHJhbnNmb3JtKHZwdCksIHNob3VsZEludmVydCA9IHRoaXNbcHJvcGVydHkgKyAnVnB0J10sXG4gICAgICAgICAgICBhZGRpdGlvbmFsVHJhbnNmb3JtID0gc2hvdWxkSW52ZXJ0ID8gZmFicmljLnV0aWwubWF0cml4VG9TVkcoaVZwdCkgOiAnJztcbiAgICAgICAgbWFya3VwLnB1c2goXG4gICAgICAgICAgJzxyZWN0IHRyYW5zZm9ybT1cIicgKyBhZGRpdGlvbmFsVHJhbnNmb3JtICsgJyB0cmFuc2xhdGUoJywgZmluYWxXaWR0aCAvIDIsICcsJywgZmluYWxIZWlnaHQgLyAyLCAnKVwiJyxcbiAgICAgICAgICAnIHg9XCInLCBmaWxsZXIub2Zmc2V0WCAtIGZpbmFsV2lkdGggLyAyLFxuICAgICAgICAgICdcIiB5PVwiJywgZmlsbGVyLm9mZnNldFkgLSBmaW5hbEhlaWdodCAvIDIsICdcIiAnLFxuICAgICAgICAgICd3aWR0aD1cIicsXG4gICAgICAgICAgKHJlcGVhdCA9PT0gJ3JlcGVhdC15JyB8fCByZXBlYXQgPT09ICduby1yZXBlYXQnXG4gICAgICAgICAgICA/IGZpbGxlci5zb3VyY2Uud2lkdGhcbiAgICAgICAgICAgIDogZmluYWxXaWR0aCApLFxuICAgICAgICAgICdcIiBoZWlnaHQ9XCInLFxuICAgICAgICAgIChyZXBlYXQgPT09ICdyZXBlYXQteCcgfHwgcmVwZWF0ID09PSAnbm8tcmVwZWF0J1xuICAgICAgICAgICAgPyBmaWxsZXIuc291cmNlLmhlaWdodFxuICAgICAgICAgICAgOiBmaW5hbEhlaWdodCksXG4gICAgICAgICAgJ1wiIGZpbGw9XCJ1cmwoI1NWR0lEXycgKyBmaWxsZXIuaWQgKyAnKVwiJyxcbiAgICAgICAgICAnPjwvcmVjdD5cXG4nXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbWFya3VwLnB1c2goXG4gICAgICAgICAgJzxyZWN0IHg9XCIwXCIgeT1cIjBcIiB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCIgJyxcbiAgICAgICAgICAnZmlsbD1cIicsIGZpbGxlciwgJ1wiJyxcbiAgICAgICAgICAnPjwvcmVjdD5cXG4nXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSxcbiAgICAvKiBfVE9fU1ZHX0VORF8gKi9cblxuICAgIC8qKlxuICAgICAqIE1vdmVzIGFuIG9iamVjdCBvciB0aGUgb2JqZWN0cyBvZiBhIG11bHRpcGxlIHNlbGVjdGlvblxuICAgICAqIHRvIHRoZSBib3R0b20gb2YgdGhlIHN0YWNrIG9mIGRyYXduIG9iamVjdHNcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iamVjdCBPYmplY3QgdG8gc2VuZCB0byBiYWNrXG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZW5kVG9CYWNrOiBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICBpZiAoIW9iamVjdCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBhY3RpdmVTZWxlY3Rpb24gPSB0aGlzLl9hY3RpdmVPYmplY3QsXG4gICAgICAgICAgaSwgb2JqLCBvYmpzO1xuICAgICAgaWYgKG9iamVjdCA9PT0gYWN0aXZlU2VsZWN0aW9uICYmIG9iamVjdC50eXBlID09PSAnYWN0aXZlU2VsZWN0aW9uJykge1xuICAgICAgICBvYmpzID0gYWN0aXZlU2VsZWN0aW9uLl9vYmplY3RzO1xuICAgICAgICBmb3IgKGkgPSBvYmpzLmxlbmd0aDsgaS0tOykge1xuICAgICAgICAgIG9iaiA9IG9ianNbaV07XG4gICAgICAgICAgcmVtb3ZlRnJvbUFycmF5KHRoaXMuX29iamVjdHMsIG9iaik7XG4gICAgICAgICAgdGhpcy5fb2JqZWN0cy51bnNoaWZ0KG9iaik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZW1vdmVGcm9tQXJyYXkodGhpcy5fb2JqZWN0cywgb2JqZWN0KTtcbiAgICAgICAgdGhpcy5fb2JqZWN0cy51bnNoaWZ0KG9iamVjdCk7XG4gICAgICB9XG4gICAgICB0aGlzLnJlbmRlck9uQWRkUmVtb3ZlICYmIHRoaXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1vdmVzIGFuIG9iamVjdCBvciB0aGUgb2JqZWN0cyBvZiBhIG11bHRpcGxlIHNlbGVjdGlvblxuICAgICAqIHRvIHRoZSB0b3Agb2YgdGhlIHN0YWNrIG9mIGRyYXduIG9iamVjdHNcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iamVjdCBPYmplY3QgdG8gc2VuZFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgYnJpbmdUb0Zyb250OiBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICBpZiAoIW9iamVjdCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIHZhciBhY3RpdmVTZWxlY3Rpb24gPSB0aGlzLl9hY3RpdmVPYmplY3QsXG4gICAgICAgICAgaSwgb2JqLCBvYmpzO1xuICAgICAgaWYgKG9iamVjdCA9PT0gYWN0aXZlU2VsZWN0aW9uICYmIG9iamVjdC50eXBlID09PSAnYWN0aXZlU2VsZWN0aW9uJykge1xuICAgICAgICBvYmpzID0gYWN0aXZlU2VsZWN0aW9uLl9vYmplY3RzO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb2Jqcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIG9iaiA9IG9ianNbaV07XG4gICAgICAgICAgcmVtb3ZlRnJvbUFycmF5KHRoaXMuX29iamVjdHMsIG9iaik7XG4gICAgICAgICAgdGhpcy5fb2JqZWN0cy5wdXNoKG9iaik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZW1vdmVGcm9tQXJyYXkodGhpcy5fb2JqZWN0cywgb2JqZWN0KTtcbiAgICAgICAgdGhpcy5fb2JqZWN0cy5wdXNoKG9iamVjdCk7XG4gICAgICB9XG4gICAgICB0aGlzLnJlbmRlck9uQWRkUmVtb3ZlICYmIHRoaXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1vdmVzIGFuIG9iamVjdCBvciBhIHNlbGVjdGlvbiBkb3duIGluIHN0YWNrIG9mIGRyYXduIG9iamVjdHNcbiAgICAgKiBBbiBvcHRpb25hbCBwYXJhbXRlciwgaW50ZXJzZWN0aW5nIGFsbG93ZXMgdG8gbW92ZSB0aGUgb2JqZWN0IGluIGJlaGluZFxuICAgICAqIHRoZSBmaXJzdCBpbnRlcnNlY3Rpbmcgb2JqZWN0LiBXaGVyZSBpbnRlcnNlY3Rpb24gaXMgY2FsY3VsYXRlZCB3aXRoXG4gICAgICogYm91bmRpbmcgYm94LiBJZiBubyBpbnRlcnNlY3Rpb24gaXMgZm91bmQsIHRoZXJlIHdpbGwgbm90IGJlIGNoYW5nZSBpbiB0aGVcbiAgICAgKiBzdGFjay5cbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iamVjdCBPYmplY3QgdG8gc2VuZFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2ludGVyc2VjdGluZ10gSWYgYHRydWVgLCBzZW5kIG9iamVjdCBiZWhpbmQgbmV4dCBsb3dlciBpbnRlcnNlY3Rpbmcgb2JqZWN0XG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZW5kQmFja3dhcmRzOiBmdW5jdGlvbiAob2JqZWN0LCBpbnRlcnNlY3RpbmcpIHtcbiAgICAgIGlmICghb2JqZWN0KSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdmFyIGFjdGl2ZVNlbGVjdGlvbiA9IHRoaXMuX2FjdGl2ZU9iamVjdCxcbiAgICAgICAgICBpLCBvYmosIGlkeCwgbmV3SWR4LCBvYmpzLCBvYmpzTW92ZWQgPSAwO1xuXG4gICAgICBpZiAob2JqZWN0ID09PSBhY3RpdmVTZWxlY3Rpb24gJiYgb2JqZWN0LnR5cGUgPT09ICdhY3RpdmVTZWxlY3Rpb24nKSB7XG4gICAgICAgIG9ianMgPSBhY3RpdmVTZWxlY3Rpb24uX29iamVjdHM7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBvYmpzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgb2JqID0gb2Jqc1tpXTtcbiAgICAgICAgICBpZHggPSB0aGlzLl9vYmplY3RzLmluZGV4T2Yob2JqKTtcbiAgICAgICAgICBpZiAoaWR4ID4gMCArIG9ianNNb3ZlZCkge1xuICAgICAgICAgICAgbmV3SWR4ID0gaWR4IC0gMTtcbiAgICAgICAgICAgIHJlbW92ZUZyb21BcnJheSh0aGlzLl9vYmplY3RzLCBvYmopO1xuICAgICAgICAgICAgdGhpcy5fb2JqZWN0cy5zcGxpY2UobmV3SWR4LCAwLCBvYmopO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvYmpzTW92ZWQrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGlkeCA9IHRoaXMuX29iamVjdHMuaW5kZXhPZihvYmplY3QpO1xuICAgICAgICBpZiAoaWR4ICE9PSAwKSB7XG4gICAgICAgICAgLy8gaWYgb2JqZWN0IGlzIG5vdCBvbiB0aGUgYm90dG9tIG9mIHN0YWNrXG4gICAgICAgICAgbmV3SWR4ID0gdGhpcy5fZmluZE5ld0xvd2VySW5kZXgob2JqZWN0LCBpZHgsIGludGVyc2VjdGluZyk7XG4gICAgICAgICAgcmVtb3ZlRnJvbUFycmF5KHRoaXMuX29iamVjdHMsIG9iamVjdCk7XG4gICAgICAgICAgdGhpcy5fb2JqZWN0cy5zcGxpY2UobmV3SWR4LCAwLCBvYmplY3QpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLnJlbmRlck9uQWRkUmVtb3ZlICYmIHRoaXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2ZpbmROZXdMb3dlckluZGV4OiBmdW5jdGlvbihvYmplY3QsIGlkeCwgaW50ZXJzZWN0aW5nKSB7XG4gICAgICB2YXIgbmV3SWR4LCBpO1xuXG4gICAgICBpZiAoaW50ZXJzZWN0aW5nKSB7XG4gICAgICAgIG5ld0lkeCA9IGlkeDtcblxuICAgICAgICAvLyB0cmF2ZXJzZSBkb3duIHRoZSBzdGFjayBsb29raW5nIGZvciB0aGUgbmVhcmVzdCBpbnRlcnNlY3Rpbmcgb2JqZWN0XG4gICAgICAgIGZvciAoaSA9IGlkeCAtIDE7IGkgPj0gMDsgLS1pKSB7XG5cbiAgICAgICAgICB2YXIgaXNJbnRlcnNlY3RpbmcgPSBvYmplY3QuaW50ZXJzZWN0c1dpdGhPYmplY3QodGhpcy5fb2JqZWN0c1tpXSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuaXNDb250YWluZWRXaXRoaW5PYmplY3QodGhpcy5fb2JqZWN0c1tpXSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vYmplY3RzW2ldLmlzQ29udGFpbmVkV2l0aGluT2JqZWN0KG9iamVjdCk7XG5cbiAgICAgICAgICBpZiAoaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICAgIG5ld0lkeCA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBuZXdJZHggPSBpZHggLSAxO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3SWR4O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNb3ZlcyBhbiBvYmplY3Qgb3IgYSBzZWxlY3Rpb24gdXAgaW4gc3RhY2sgb2YgZHJhd24gb2JqZWN0c1xuICAgICAqIEFuIG9wdGlvbmFsIHBhcmFtdGVyLCBpbnRlcnNlY3RpbmcgYWxsb3dlcyB0byBtb3ZlIHRoZSBvYmplY3QgaW4gZnJvbnRcbiAgICAgKiBvZiB0aGUgZmlyc3QgaW50ZXJzZWN0aW5nIG9iamVjdC4gV2hlcmUgaW50ZXJzZWN0aW9uIGlzIGNhbGN1bGF0ZWQgd2l0aFxuICAgICAqIGJvdW5kaW5nIGJveC4gSWYgbm8gaW50ZXJzZWN0aW9uIGlzIGZvdW5kLCB0aGVyZSB3aWxsIG5vdCBiZSBjaGFuZ2UgaW4gdGhlXG4gICAgICogc3RhY2suXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIHNlbmRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtpbnRlcnNlY3RpbmddIElmIGB0cnVlYCwgc2VuZCBvYmplY3QgaW4gZnJvbnQgb2YgbmV4dCB1cHBlciBpbnRlcnNlY3Rpbmcgb2JqZWN0XG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBicmluZ0ZvcndhcmQ6IGZ1bmN0aW9uIChvYmplY3QsIGludGVyc2VjdGluZykge1xuICAgICAgaWYgKCFvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICB2YXIgYWN0aXZlU2VsZWN0aW9uID0gdGhpcy5fYWN0aXZlT2JqZWN0LFxuICAgICAgICAgIGksIG9iaiwgaWR4LCBuZXdJZHgsIG9ianMsIG9ianNNb3ZlZCA9IDA7XG5cbiAgICAgIGlmIChvYmplY3QgPT09IGFjdGl2ZVNlbGVjdGlvbiAmJiBvYmplY3QudHlwZSA9PT0gJ2FjdGl2ZVNlbGVjdGlvbicpIHtcbiAgICAgICAgb2JqcyA9IGFjdGl2ZVNlbGVjdGlvbi5fb2JqZWN0cztcbiAgICAgICAgZm9yIChpID0gb2Jqcy5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgICBvYmogPSBvYmpzW2ldO1xuICAgICAgICAgIGlkeCA9IHRoaXMuX29iamVjdHMuaW5kZXhPZihvYmopO1xuICAgICAgICAgIGlmIChpZHggPCB0aGlzLl9vYmplY3RzLmxlbmd0aCAtIDEgLSBvYmpzTW92ZWQpIHtcbiAgICAgICAgICAgIG5ld0lkeCA9IGlkeCArIDE7XG4gICAgICAgICAgICByZW1vdmVGcm9tQXJyYXkodGhpcy5fb2JqZWN0cywgb2JqKTtcbiAgICAgICAgICAgIHRoaXMuX29iamVjdHMuc3BsaWNlKG5ld0lkeCwgMCwgb2JqKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgb2Jqc01vdmVkKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBpZHggPSB0aGlzLl9vYmplY3RzLmluZGV4T2Yob2JqZWN0KTtcbiAgICAgICAgaWYgKGlkeCAhPT0gdGhpcy5fb2JqZWN0cy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgLy8gaWYgb2JqZWN0IGlzIG5vdCBvbiB0b3Agb2Ygc3RhY2sgKGxhc3QgaXRlbSBpbiBhbiBhcnJheSlcbiAgICAgICAgICBuZXdJZHggPSB0aGlzLl9maW5kTmV3VXBwZXJJbmRleChvYmplY3QsIGlkeCwgaW50ZXJzZWN0aW5nKTtcbiAgICAgICAgICByZW1vdmVGcm9tQXJyYXkodGhpcy5fb2JqZWN0cywgb2JqZWN0KTtcbiAgICAgICAgICB0aGlzLl9vYmplY3RzLnNwbGljZShuZXdJZHgsIDAsIG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMucmVuZGVyT25BZGRSZW1vdmUgJiYgdGhpcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZmluZE5ld1VwcGVySW5kZXg6IGZ1bmN0aW9uKG9iamVjdCwgaWR4LCBpbnRlcnNlY3RpbmcpIHtcbiAgICAgIHZhciBuZXdJZHgsIGksIGxlbjtcblxuICAgICAgaWYgKGludGVyc2VjdGluZykge1xuICAgICAgICBuZXdJZHggPSBpZHg7XG5cbiAgICAgICAgLy8gdHJhdmVyc2UgdXAgdGhlIHN0YWNrIGxvb2tpbmcgZm9yIHRoZSBuZWFyZXN0IGludGVyc2VjdGluZyBvYmplY3RcbiAgICAgICAgZm9yIChpID0gaWR4ICsgMSwgbGVuID0gdGhpcy5fb2JqZWN0cy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuXG4gICAgICAgICAgdmFyIGlzSW50ZXJzZWN0aW5nID0gb2JqZWN0LmludGVyc2VjdHNXaXRoT2JqZWN0KHRoaXMuX29iamVjdHNbaV0pIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmlzQ29udGFpbmVkV2l0aGluT2JqZWN0KHRoaXMuX29iamVjdHNbaV0pIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb2JqZWN0c1tpXS5pc0NvbnRhaW5lZFdpdGhpbk9iamVjdChvYmplY3QpO1xuXG4gICAgICAgICAgaWYgKGlzSW50ZXJzZWN0aW5nKSB7XG4gICAgICAgICAgICBuZXdJZHggPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbmV3SWR4ID0gaWR4ICsgMTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ld0lkeDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTW92ZXMgYW4gb2JqZWN0IHRvIHNwZWNpZmllZCBsZXZlbCBpbiBzdGFjayBvZiBkcmF3biBvYmplY3RzXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIHNlbmRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaW5kZXggUG9zaXRpb24gdG8gbW92ZSB0b1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgbW92ZVRvOiBmdW5jdGlvbiAob2JqZWN0LCBpbmRleCkge1xuICAgICAgcmVtb3ZlRnJvbUFycmF5KHRoaXMuX29iamVjdHMsIG9iamVjdCk7XG4gICAgICB0aGlzLl9vYmplY3RzLnNwbGljZShpbmRleCwgMCwgb2JqZWN0KTtcbiAgICAgIHJldHVybiB0aGlzLnJlbmRlck9uQWRkUmVtb3ZlICYmIHRoaXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgYSBjYW52YXMgZWxlbWVudCBhbmQgZGlzcG9zZSBvYmplY3RzXG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBkaXNwb3NlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBjYW5jZWwgZXZlbnR1YWxseSBvbmdvaW5nIHJlbmRlcnNcbiAgICAgIGlmICh0aGlzLmlzUmVuZGVyaW5nKSB7XG4gICAgICAgIGZhYnJpYy51dGlsLmNhbmNlbEFuaW1GcmFtZSh0aGlzLmlzUmVuZGVyaW5nKTtcbiAgICAgICAgdGhpcy5pc1JlbmRlcmluZyA9IDA7XG4gICAgICB9XG4gICAgICB0aGlzLmZvckVhY2hPYmplY3QoZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIG9iamVjdC5kaXNwb3NlICYmIG9iamVjdC5kaXNwb3NlKCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuX29iamVjdHMgPSBbXTtcbiAgICAgIGlmICh0aGlzLmJhY2tncm91bmRJbWFnZSAmJiB0aGlzLmJhY2tncm91bmRJbWFnZS5kaXNwb3NlKSB7XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZEltYWdlLmRpc3Bvc2UoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuYmFja2dyb3VuZEltYWdlID0gbnVsbDtcbiAgICAgIGlmICh0aGlzLm92ZXJsYXlJbWFnZSAmJiB0aGlzLm92ZXJsYXlJbWFnZS5kaXNwb3NlKSB7XG4gICAgICAgIHRoaXMub3ZlcmxheUltYWdlLmRpc3Bvc2UoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMub3ZlcmxheUltYWdlID0gbnVsbDtcbiAgICAgIHRoaXMuX2lUZXh0SW5zdGFuY2VzID0gbnVsbDtcbiAgICAgIHRoaXMuY29udGV4dENvbnRhaW5lciA9IG51bGw7XG4gICAgICBmYWJyaWMudXRpbC5jbGVhblVwSnNkb21Ob2RlKHRoaXMubG93ZXJDYW52YXNFbCk7XG4gICAgICB0aGlzLmxvd2VyQ2FudmFzRWwgPSB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAnIzxmYWJyaWMuQ2FudmFzICgnICsgdGhpcy5jb21wbGV4aXR5KCkgKyAnKTogJyArXG4gICAgICAgICAgICAgICAneyBvYmplY3RzOiAnICsgdGhpcy5fb2JqZWN0cy5sZW5ndGggKyAnIH0+JztcbiAgICB9XG4gIH0pO1xuXG4gIGV4dGVuZChmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZSwgZmFicmljLk9ic2VydmFibGUpO1xuICBleHRlbmQoZmFicmljLlN0YXRpY0NhbnZhcy5wcm90b3R5cGUsIGZhYnJpYy5Db2xsZWN0aW9uKTtcbiAgZXh0ZW5kKGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlLCBmYWJyaWMuRGF0YVVSTEV4cG9ydGVyKTtcblxuICBleHRlbmQoZmFicmljLlN0YXRpY0NhbnZhcywgLyoqIEBsZW5kcyBmYWJyaWMuU3RhdGljQ2FudmFzICovIHtcblxuICAgIC8qKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIEVNUFRZX0pTT046ICd7XCJvYmplY3RzXCI6IFtdLCBcImJhY2tncm91bmRcIjogXCJ3aGl0ZVwifScsXG5cbiAgICAvKipcbiAgICAgKiBQcm92aWRlcyBhIHdheSB0byBjaGVjayBzdXBwb3J0IG9mIHNvbWUgb2YgdGhlIGNhbnZhcyBtZXRob2RzXG4gICAgICogKGVpdGhlciB0aG9zZSBvZiBIVE1MQ2FudmFzRWxlbWVudCBpdHNlbGYsIG9yIHJlbmRlcmluZyBjb250ZXh0KVxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1ldGhvZE5hbWUgTWV0aG9kIHRvIGNoZWNrIHN1cHBvcnQgZm9yO1xuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvdWxkIGJlIG9uZSBvZiBcInNldExpbmVEYXNoXCJcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFuIHwgbnVsbH0gYHRydWVgIGlmIG1ldGhvZCBpcyBzdXBwb3J0ZWQgKG9yIGF0IGxlYXN0IGV4aXN0cyksXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgIGBudWxsYCBpZiBjYW52YXMgZWxlbWVudCBvciBjb250ZXh0IGNhbiBub3QgYmUgaW5pdGlhbGl6ZWRcbiAgICAgKi9cbiAgICBzdXBwb3J0czogZnVuY3Rpb24gKG1ldGhvZE5hbWUpIHtcbiAgICAgIHZhciBlbCA9IGNyZWF0ZUNhbnZhc0VsZW1lbnQoKTtcblxuICAgICAgaWYgKCFlbCB8fCAhZWwuZ2V0Q29udGV4dCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIGN0eCA9IGVsLmdldENvbnRleHQoJzJkJyk7XG4gICAgICBpZiAoIWN0eCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChtZXRob2ROYW1lKSB7XG5cbiAgICAgICAgY2FzZSAnc2V0TGluZURhc2gnOlxuICAgICAgICAgIHJldHVybiB0eXBlb2YgY3R4LnNldExpbmVEYXNoICE9PSAndW5kZWZpbmVkJztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgSlNPTiByZXByZXNlbnRhdGlvbiBvZiBjYW52YXNcbiAgICogQGZ1bmN0aW9uXG4gICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzVG9JbmNsdWRlXSBBbnkgcHJvcGVydGllcyB0aGF0IHlvdSBtaWdodCB3YW50IHRvIGFkZGl0aW9uYWxseSBpbmNsdWRlIGluIHRoZSBvdXRwdXRcbiAgICogQHJldHVybiB7U3RyaW5nfSBKU09OIHN0cmluZ1xuICAgKiBAdHV0b3JpYWwge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vZmFicmljLWludHJvLXBhcnQtMyNzZXJpYWxpemF0aW9ufVxuICAgKiBAc2VlIHtAbGluayBodHRwOi8vanNmaWRkbGUubmV0L2ZhYnJpY2pzL3BlYzg2L3xqc0ZpZGRsZSBkZW1vfVxuICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5KU09OIHdpdGhvdXQgYWRkaXRpb25hbCBwcm9wZXJ0aWVzPC9jYXB0aW9uPlxuICAgKiB2YXIganNvbiA9IGNhbnZhcy50b0pTT04oKTtcbiAgICogQGV4YW1wbGUgPGNhcHRpb24+SlNPTiB3aXRoIGFkZGl0aW9uYWwgcHJvcGVydGllcyBpbmNsdWRlZDwvY2FwdGlvbj5cbiAgICogdmFyIGpzb24gPSBjYW52YXMudG9KU09OKFsnbG9ja01vdmVtZW50WCcsICdsb2NrTW92ZW1lbnRZJywgJ2xvY2tSb3RhdGlvbicsICdsb2NrU2NhbGluZ1gnLCAnbG9ja1NjYWxpbmdZJywgJ2xvY2tVbmlTY2FsaW5nJ10pO1xuICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5KU09OIHdpdGhvdXQgZGVmYXVsdCB2YWx1ZXM8L2NhcHRpb24+XG4gICAqIGNhbnZhcy5pbmNsdWRlRGVmYXVsdFZhbHVlcyA9IGZhbHNlO1xuICAgKiB2YXIganNvbiA9IGNhbnZhcy50b0pTT04oKTtcbiAgICovXG4gIGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlLnRvSlNPTiA9IGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlLnRvT2JqZWN0O1xuXG4gIGlmIChmYWJyaWMuaXNMaWtlbHlOb2RlKSB7XG4gICAgZmFicmljLlN0YXRpY0NhbnZhcy5wcm90b3R5cGUuY3JlYXRlUE5HU3RyZWFtID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaW1wbCA9IGdldE5vZGVDYW52YXModGhpcy5sb3dlckNhbnZhc0VsKTtcbiAgICAgIHJldHVybiBpbXBsICYmIGltcGwuY3JlYXRlUE5HU3RyZWFtKCk7XG4gICAgfTtcbiAgICBmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZS5jcmVhdGVKUEVHU3RyZWFtID0gZnVuY3Rpb24ob3B0cykge1xuICAgICAgdmFyIGltcGwgPSBnZXROb2RlQ2FudmFzKHRoaXMubG93ZXJDYW52YXNFbCk7XG4gICAgICByZXR1cm4gaW1wbCAmJiBpbXBsLmNyZWF0ZUpQRUdTdHJlYW0ob3B0cyk7XG4gICAgfTtcbiAgfVxufSkoKTtcblxuXG4vKipcbiAqIEJhc2VCcnVzaCBjbGFzc1xuICogQGNsYXNzIGZhYnJpYy5CYXNlQnJ1c2hcbiAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vZnJlZWRyYXdpbmd8RnJlZWRyYXdpbmcgZGVtb31cbiAqL1xuZmFicmljLkJhc2VCcnVzaCA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKC8qKiBAbGVuZHMgZmFicmljLkJhc2VCcnVzaC5wcm90b3R5cGUgKi8ge1xuXG4gIC8qKlxuICAgKiBDb2xvciBvZiBhIGJydXNoXG4gICAqIEB0eXBlIFN0cmluZ1xuICAgKiBAZGVmYXVsdFxuICAgKi9cbiAgY29sb3I6ICdyZ2IoMCwgMCwgMCknLFxuXG4gIC8qKlxuICAgKiBXaWR0aCBvZiBhIGJydXNoLCBoYXMgdG8gYmUgYSBOdW1iZXIsIG5vIHN0cmluZyBsaXRlcmFsc1xuICAgKiBAdHlwZSBOdW1iZXJcbiAgICogQGRlZmF1bHRcbiAgICovXG4gIHdpZHRoOiAxLFxuXG4gIC8qKlxuICAgKiBTaGFkb3cgb2JqZWN0IHJlcHJlc2VudGluZyBzaGFkb3cgb2YgdGhpcyBzaGFwZS5cbiAgICogPGI+QmFja3dhcmRzIGluY29tcGF0aWJpbGl0eSBub3RlOjwvYj4gVGhpcyBwcm9wZXJ0eSByZXBsYWNlcyBcInNoYWRvd0NvbG9yXCIgKFN0cmluZyksIFwic2hhZG93T2Zmc2V0WFwiIChOdW1iZXIpLFxuICAgKiBcInNoYWRvd09mZnNldFlcIiAoTnVtYmVyKSBhbmQgXCJzaGFkb3dCbHVyXCIgKE51bWJlcikgc2luY2UgdjEuMi4xMlxuICAgKiBAdHlwZSBmYWJyaWMuU2hhZG93XG4gICAqIEBkZWZhdWx0XG4gICAqL1xuICBzaGFkb3c6IG51bGwsXG5cbiAgLyoqXG4gICAqIExpbmUgZW5kaW5ncyBzdHlsZSBvZiBhIGJydXNoIChvbmUgb2YgXCJidXR0XCIsIFwicm91bmRcIiwgXCJzcXVhcmVcIilcbiAgICogQHR5cGUgU3RyaW5nXG4gICAqIEBkZWZhdWx0XG4gICAqL1xuICBzdHJva2VMaW5lQ2FwOiAncm91bmQnLFxuXG4gIC8qKlxuICAgKiBDb3JuZXIgc3R5bGUgb2YgYSBicnVzaCAob25lIG9mIFwiYmV2ZWxcIiwgXCJyb3VuZFwiLCBcIm1pdGVyXCIpXG4gICAqIEB0eXBlIFN0cmluZ1xuICAgKiBAZGVmYXVsdFxuICAgKi9cbiAgc3Ryb2tlTGluZUpvaW46ICdyb3VuZCcsXG5cbiAgLyoqXG4gICAqIE1heGltdW0gbWl0ZXIgbGVuZ3RoICh1c2VkIGZvciBzdHJva2VMaW5lSm9pbiA9IFwibWl0ZXJcIikgb2YgYSBicnVzaCdzXG4gICAqIEB0eXBlIE51bWJlclxuICAgKiBAZGVmYXVsdFxuICAgKi9cbiAgc3Ryb2tlTWl0ZXJMaW1pdDogICAgICAgICAxMCxcblxuICAvKipcbiAgICogU3Ryb2tlIERhc2ggQXJyYXkuXG4gICAqIEB0eXBlIEFycmF5XG4gICAqIEBkZWZhdWx0XG4gICAqL1xuICBzdHJva2VEYXNoQXJyYXk6IG51bGwsXG5cbiAgLyoqXG4gICAqIFNldHMgc2hhZG93IG9mIGFuIG9iamVjdFxuICAgKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdCBvciBzdHJpbmcgKGUuZy4gXCIycHggMnB4IDEwcHggcmdiYSgwLDAsMCwwLjIpXCIpXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICogQGNoYWluYWJsZVxuICAgKi9cbiAgc2V0U2hhZG93OiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgdGhpcy5zaGFkb3cgPSBuZXcgZmFicmljLlNoYWRvdyhvcHRpb25zKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogU2V0cyBicnVzaCBzdHlsZXNcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zZXRCcnVzaFN0eWxlczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGN0eCA9IHRoaXMuY2FudmFzLmNvbnRleHRUb3A7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5jb2xvcjtcbiAgICBjdHgubGluZVdpZHRoID0gdGhpcy53aWR0aDtcbiAgICBjdHgubGluZUNhcCA9IHRoaXMuc3Ryb2tlTGluZUNhcDtcbiAgICBjdHgubWl0ZXJMaW1pdCA9IHRoaXMuc3Ryb2tlTWl0ZXJMaW1pdDtcbiAgICBjdHgubGluZUpvaW4gPSB0aGlzLnN0cm9rZUxpbmVKb2luO1xuICAgIGlmIChmYWJyaWMuU3RhdGljQ2FudmFzLnN1cHBvcnRzKCdzZXRMaW5lRGFzaCcpKSB7XG4gICAgICBjdHguc2V0TGluZURhc2godGhpcy5zdHJva2VEYXNoQXJyYXkgfHwgW10pO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogU2V0cyB0aGUgdHJhbnNmb3JtYXRpb24gb24gZ2l2ZW4gY29udGV4dFxuICAgKiBAcGFyYW0ge1JlbmRlcmluZ0NvbnRleHQyZH0gY3R4IGNvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2F2ZUFuZFRyYW5zZm9ybTogZnVuY3Rpb24oY3R4KSB7XG4gICAgdmFyIHYgPSB0aGlzLmNhbnZhcy52aWV3cG9ydFRyYW5zZm9ybTtcbiAgICBjdHguc2F2ZSgpO1xuICAgIGN0eC50cmFuc2Zvcm0odlswXSwgdlsxXSwgdlsyXSwgdlszXSwgdls0XSwgdls1XSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldHMgYnJ1c2ggc2hhZG93IHN0eWxlc1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NldFNoYWRvdzogZnVuY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLnNoYWRvdykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBjYW52YXMgPSB0aGlzLmNhbnZhcyxcbiAgICAgICAgc2hhZG93ID0gdGhpcy5zaGFkb3csXG4gICAgICAgIGN0eCA9IGNhbnZhcy5jb250ZXh0VG9wLFxuICAgICAgICB6b29tID0gY2FudmFzLmdldFpvb20oKTtcbiAgICBpZiAoY2FudmFzICYmIGNhbnZhcy5faXNSZXRpbmFTY2FsaW5nKCkpIHtcbiAgICAgIHpvb20gKj0gZmFicmljLmRldmljZVBpeGVsUmF0aW87XG4gICAgfVxuXG4gICAgY3R4LnNoYWRvd0NvbG9yID0gc2hhZG93LmNvbG9yO1xuICAgIGN0eC5zaGFkb3dCbHVyID0gc2hhZG93LmJsdXIgKiB6b29tO1xuICAgIGN0eC5zaGFkb3dPZmZzZXRYID0gc2hhZG93Lm9mZnNldFggKiB6b29tO1xuICAgIGN0eC5zaGFkb3dPZmZzZXRZID0gc2hhZG93Lm9mZnNldFkgKiB6b29tO1xuICB9LFxuXG4gIG5lZWRzRnVsbFJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNvbG9yID0gbmV3IGZhYnJpYy5Db2xvcih0aGlzLmNvbG9yKTtcbiAgICByZXR1cm4gY29sb3IuZ2V0QWxwaGEoKSA8IDEgfHwgISF0aGlzLnNoYWRvdztcbiAgfSxcblxuICAvKipcbiAgICogUmVtb3ZlcyBicnVzaCBzaGFkb3cgc3R5bGVzXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcmVzZXRTaGFkb3c6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjdHggPSB0aGlzLmNhbnZhcy5jb250ZXh0VG9wO1xuXG4gICAgY3R4LnNoYWRvd0NvbG9yID0gJyc7XG4gICAgY3R4LnNoYWRvd0JsdXIgPSBjdHguc2hhZG93T2Zmc2V0WCA9IGN0eC5zaGFkb3dPZmZzZXRZID0gMDtcbiAgfVxufSk7XG5cblxuKGZ1bmN0aW9uKCkge1xuICAvKipcbiAgICogUGVuY2lsQnJ1c2ggY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5QZW5jaWxCcnVzaFxuICAgKiBAZXh0ZW5kcyBmYWJyaWMuQmFzZUJydXNoXG4gICAqL1xuICBmYWJyaWMuUGVuY2lsQnJ1c2ggPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyhmYWJyaWMuQmFzZUJydXNoLCAvKiogQGxlbmRzIGZhYnJpYy5QZW5jaWxCcnVzaC5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogRGlzY2FyZCBwb2ludHMgdGhhdCBhcmUgbGVzcyB0aGFuIGBkZWNpbWF0ZWAgcGl4ZWwgZGlzdGFudCBmcm9tIGVhY2ggb3RoZXJcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdCAwLjRcbiAgICAgKi9cbiAgICBkZWNpbWF0ZTogMC40LFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5DYW52YXN9IGNhbnZhc1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5QZW5jaWxCcnVzaH0gSW5zdGFuY2Ugb2YgYSBwZW5jaWwgYnJ1c2hcbiAgICAgKi9cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihjYW52YXMpIHtcbiAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuICAgICAgdGhpcy5fcG9pbnRzID0gW107XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEludm9rZWQgaW5zaWRlIG9uIG1vdXNlIGRvd24gYW5kIG1vdXNlIG1vdmVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnRlclxuICAgICAqL1xuICAgIF9kcmF3U2VnbWVudDogZnVuY3Rpb24gKGN0eCwgcDEsIHAyKSB7XG4gICAgICB2YXIgbWlkUG9pbnQgPSBwMS5taWRQb2ludEZyb20ocDIpO1xuICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8ocDEueCwgcDEueSwgbWlkUG9pbnQueCwgbWlkUG9pbnQueSk7XG4gICAgICByZXR1cm4gbWlkUG9pbnQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIElub3Zva2VkIG9uIG1vdXNlIGRvd25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnRlclxuICAgICAqL1xuICAgIG9uTW91c2VEb3duOiBmdW5jdGlvbihwb2ludGVyLCBvcHRpb25zKSB7XG4gICAgICBpZiAoIXRoaXMuY2FudmFzLl9pc01haW5FdmVudChvcHRpb25zLmUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3ByZXBhcmVGb3JEcmF3aW5nKHBvaW50ZXIpO1xuICAgICAgLy8gY2FwdHVyZSBjb29yZGluYXRlcyBpbW1lZGlhdGVseVxuICAgICAgLy8gdGhpcyBhbGxvd3MgdG8gZHJhdyBkb3RzICh3aGVuIG1vdmVtZW50IG5ldmVyIG9jY3VycylcbiAgICAgIHRoaXMuX2NhcHR1cmVEcmF3aW5nUGF0aChwb2ludGVyKTtcbiAgICAgIHRoaXMuX3JlbmRlcigpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbm92b2tlZCBvbiBtb3VzZSBtb3ZlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50ZXJcbiAgICAgKi9cbiAgICBvbk1vdXNlTW92ZTogZnVuY3Rpb24ocG9pbnRlciwgb3B0aW9ucykge1xuICAgICAgaWYgKCF0aGlzLmNhbnZhcy5faXNNYWluRXZlbnQob3B0aW9ucy5lKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fY2FwdHVyZURyYXdpbmdQYXRoKHBvaW50ZXIpICYmIHRoaXMuX3BvaW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGlmICh0aGlzLm5lZWRzRnVsbFJlbmRlcigpKSB7XG4gICAgICAgICAgLy8gcmVkcmF3IGN1cnZlXG4gICAgICAgICAgLy8gY2xlYXIgdG9wIGNhbnZhc1xuICAgICAgICAgIHRoaXMuY2FudmFzLmNsZWFyQ29udGV4dCh0aGlzLmNhbnZhcy5jb250ZXh0VG9wKTtcbiAgICAgICAgICB0aGlzLl9yZW5kZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgcG9pbnRzID0gdGhpcy5fcG9pbnRzLCBsZW5ndGggPSBwb2ludHMubGVuZ3RoLCBjdHggPSB0aGlzLmNhbnZhcy5jb250ZXh0VG9wO1xuICAgICAgICAgIC8vIGRyYXcgdGhlIGN1cnZlIHVwZGF0ZVxuICAgICAgICAgIHRoaXMuX3NhdmVBbmRUcmFuc2Zvcm0oY3R4KTtcbiAgICAgICAgICBpZiAodGhpcy5vbGRFbmQpIHtcbiAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8odGhpcy5vbGRFbmQueCwgdGhpcy5vbGRFbmQueSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMub2xkRW5kID0gdGhpcy5fZHJhd1NlZ21lbnQoY3R4LCBwb2ludHNbbGVuZ3RoIC0gMl0sIHBvaW50c1tsZW5ndGggLSAxXSwgdHJ1ZSk7XG4gICAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW52b2tlZCBvbiBtb3VzZSB1cFxuICAgICAqL1xuICAgIG9uTW91c2VVcDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgaWYgKCF0aGlzLmNhbnZhcy5faXNNYWluRXZlbnQob3B0aW9ucy5lKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHRoaXMub2xkRW5kID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fZmluYWxpemVBbmRBZGRQYXRoKCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50ZXIgQWN0dWFsIG1vdXNlIHBvc2l0aW9uIHJlbGF0ZWQgdG8gdGhlIGNhbnZhcy5cbiAgICAgKi9cbiAgICBfcHJlcGFyZUZvckRyYXdpbmc6IGZ1bmN0aW9uKHBvaW50ZXIpIHtcblxuICAgICAgdmFyIHAgPSBuZXcgZmFicmljLlBvaW50KHBvaW50ZXIueCwgcG9pbnRlci55KTtcblxuICAgICAgdGhpcy5fcmVzZXQoKTtcbiAgICAgIHRoaXMuX2FkZFBvaW50KHApO1xuICAgICAgdGhpcy5jYW52YXMuY29udGV4dFRvcC5tb3ZlVG8ocC54LCBwLnkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBwb2ludCBQb2ludCB0byBiZSBhZGRlZCB0byBwb2ludHMgYXJyYXlcbiAgICAgKi9cbiAgICBfYWRkUG9pbnQ6IGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgICBpZiAodGhpcy5fcG9pbnRzLmxlbmd0aCA+IDEgJiYgcG9pbnQuZXEodGhpcy5fcG9pbnRzW3RoaXMuX3BvaW50cy5sZW5ndGggLSAxXSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdGhpcy5fcG9pbnRzLnB1c2gocG9pbnQpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENsZWFyIHBvaW50cyBhcnJheSBhbmQgc2V0IGNvbnRleHRUb3AgY2FudmFzIHN0eWxlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3Jlc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX3BvaW50cyA9IFtdO1xuICAgICAgdGhpcy5fc2V0QnJ1c2hTdHlsZXMoKTtcbiAgICAgIHRoaXMuX3NldFNoYWRvdygpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludGVyIEFjdHVhbCBtb3VzZSBwb3NpdGlvbiByZWxhdGVkIHRvIHRoZSBjYW52YXMuXG4gICAgICovXG4gICAgX2NhcHR1cmVEcmF3aW5nUGF0aDogZnVuY3Rpb24ocG9pbnRlcikge1xuICAgICAgdmFyIHBvaW50ZXJQb2ludCA9IG5ldyBmYWJyaWMuUG9pbnQocG9pbnRlci54LCBwb2ludGVyLnkpO1xuICAgICAgcmV0dXJuIHRoaXMuX2FkZFBvaW50KHBvaW50ZXJQb2ludCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERyYXcgYSBzbW9vdGggcGF0aCBvbiB0aGUgdG9wQ2FudmFzIHVzaW5nIHF1YWRyYXRpY0N1cnZlVG9cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGN0eCAgPSB0aGlzLmNhbnZhcy5jb250ZXh0VG9wLCBpLCBsZW4sXG4gICAgICAgICAgcDEgPSB0aGlzLl9wb2ludHNbMF0sXG4gICAgICAgICAgcDIgPSB0aGlzLl9wb2ludHNbMV07XG5cbiAgICAgIHRoaXMuX3NhdmVBbmRUcmFuc2Zvcm0oY3R4KTtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIC8vaWYgd2Ugb25seSBoYXZlIDIgcG9pbnRzIGluIHRoZSBwYXRoIGFuZCB0aGV5IGFyZSB0aGUgc2FtZVxuICAgICAgLy9pdCBtZWFucyB0aGF0IHRoZSB1c2VyIG9ubHkgY2xpY2tlZCB0aGUgY2FudmFzIHdpdGhvdXQgbW92aW5nIHRoZSBtb3VzZVxuICAgICAgLy90aGVuIHdlIHNob3VsZCBiZSBkcmF3aW5nIGEgZG90LiBBIHBhdGggaXNuJ3QgZHJhd24gYmV0d2VlbiB0d28gaWRlbnRpY2FsIGRvdHNcbiAgICAgIC8vdGhhdCdzIHdoeSB3ZSBzZXQgdGhlbSBhcGFydCBhIGJpdFxuICAgICAgaWYgKHRoaXMuX3BvaW50cy5sZW5ndGggPT09IDIgJiYgcDEueCA9PT0gcDIueCAmJiBwMS55ID09PSBwMi55KSB7XG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMud2lkdGggLyAxMDAwO1xuICAgICAgICBwMSA9IG5ldyBmYWJyaWMuUG9pbnQocDEueCwgcDEueSk7XG4gICAgICAgIHAyID0gbmV3IGZhYnJpYy5Qb2ludChwMi54LCBwMi55KTtcbiAgICAgICAgcDEueCAtPSB3aWR0aDtcbiAgICAgICAgcDIueCArPSB3aWR0aDtcbiAgICAgIH1cbiAgICAgIGN0eC5tb3ZlVG8ocDEueCwgcDEueSk7XG5cbiAgICAgIGZvciAoaSA9IDEsIGxlbiA9IHRoaXMuX3BvaW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAvLyB3ZSBwaWNrIHRoZSBwb2ludCBiZXR3ZWVuIHBpICsgMSAmIHBpICsgMiBhcyB0aGVcbiAgICAgICAgLy8gZW5kIHBvaW50IGFuZCBwMSBhcyBvdXIgY29udHJvbCBwb2ludC5cbiAgICAgICAgdGhpcy5fZHJhd1NlZ21lbnQoY3R4LCBwMSwgcDIpO1xuICAgICAgICBwMSA9IHRoaXMuX3BvaW50c1tpXTtcbiAgICAgICAgcDIgPSB0aGlzLl9wb2ludHNbaSArIDFdO1xuICAgICAgfVxuICAgICAgLy8gRHJhdyBsYXN0IGxpbmUgYXMgYSBzdHJhaWdodCBsaW5lIHdoaWxlXG4gICAgICAvLyB3ZSB3YWl0IGZvciB0aGUgbmV4dCBwb2ludCB0byBiZSBhYmxlIHRvIGNhbGN1bGF0ZVxuICAgICAgLy8gdGhlIGJlemllciBjb250cm9sIHBvaW50XG4gICAgICBjdHgubGluZVRvKHAxLngsIHAxLnkpO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgcG9pbnRzIHRvIFNWRyBwYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gcG9pbnRzIEFycmF5IG9mIHBvaW50c1xuICAgICAqIEByZXR1cm4ge1N0cmluZ30gU1ZHIHBhdGhcbiAgICAgKi9cbiAgICBjb252ZXJ0UG9pbnRzVG9TVkdQYXRoOiBmdW5jdGlvbihwb2ludHMpIHtcbiAgICAgIHZhciBwYXRoID0gW10sIGksIHdpZHRoID0gdGhpcy53aWR0aCAvIDEwMDAsXG4gICAgICAgICAgcDEgPSBuZXcgZmFicmljLlBvaW50KHBvaW50c1swXS54LCBwb2ludHNbMF0ueSksXG4gICAgICAgICAgcDIgPSBuZXcgZmFicmljLlBvaW50KHBvaW50c1sxXS54LCBwb2ludHNbMV0ueSksXG4gICAgICAgICAgbGVuID0gcG9pbnRzLmxlbmd0aCwgbXVsdFNpZ25YID0gMSwgbXVsdFNpZ25ZID0gMCwgbWFueVBvaW50cyA9IGxlbiA+IDI7XG5cbiAgICAgIGlmIChtYW55UG9pbnRzKSB7XG4gICAgICAgIG11bHRTaWduWCA9IHBvaW50c1syXS54IDwgcDIueCA/IC0xIDogcG9pbnRzWzJdLnggPT09IHAyLnggPyAwIDogMTtcbiAgICAgICAgbXVsdFNpZ25ZID0gcG9pbnRzWzJdLnkgPCBwMi55ID8gLTEgOiBwb2ludHNbMl0ueSA9PT0gcDIueSA/IDAgOiAxO1xuICAgICAgfVxuICAgICAgcGF0aC5wdXNoKCdNICcsIHAxLnggLSBtdWx0U2lnblggKiB3aWR0aCwgJyAnLCBwMS55IC0gbXVsdFNpZ25ZICogd2lkdGgsICcgJyk7XG4gICAgICBmb3IgKGkgPSAxOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKCFwMS5lcShwMikpIHtcbiAgICAgICAgICB2YXIgbWlkUG9pbnQgPSBwMS5taWRQb2ludEZyb20ocDIpO1xuICAgICAgICAgIC8vIHAxIGlzIG91ciBiZXppZXIgY29udHJvbCBwb2ludFxuICAgICAgICAgIC8vIG1pZHBvaW50IGlzIG91ciBlbmRwb2ludFxuICAgICAgICAgIC8vIHN0YXJ0IHBvaW50IGlzIHAoaS0xKSB2YWx1ZS5cbiAgICAgICAgICBwYXRoLnB1c2goJ1EgJywgcDEueCwgJyAnLCBwMS55LCAnICcsIG1pZFBvaW50LngsICcgJywgbWlkUG9pbnQueSwgJyAnKTtcbiAgICAgICAgfVxuICAgICAgICBwMSA9IHBvaW50c1tpXTtcbiAgICAgICAgaWYgKChpICsgMSkgPCBwb2ludHMubGVuZ3RoKSB7XG4gICAgICAgICAgcDIgPSBwb2ludHNbaSArIDFdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobWFueVBvaW50cykge1xuICAgICAgICBtdWx0U2lnblggPSBwMS54ID4gcG9pbnRzW2kgLSAyXS54ID8gMSA6IHAxLnggPT09IHBvaW50c1tpIC0gMl0ueCA/IDAgOiAtMTtcbiAgICAgICAgbXVsdFNpZ25ZID0gcDEueSA+IHBvaW50c1tpIC0gMl0ueSA/IDEgOiBwMS55ID09PSBwb2ludHNbaSAtIDJdLnkgPyAwIDogLTE7XG4gICAgICB9XG4gICAgICBwYXRoLnB1c2goJ0wgJywgcDEueCArIG11bHRTaWduWCAqIHdpZHRoLCAnICcsIHAxLnkgKyBtdWx0U2lnblkgKiB3aWR0aCk7XG4gICAgICByZXR1cm4gcGF0aDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBmYWJyaWMuUGF0aCBvYmplY3QgdG8gYWRkIG9uIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoRGF0YSBQYXRoIGRhdGFcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUGF0aH0gUGF0aCB0byBhZGQgb24gY2FudmFzXG4gICAgICovXG4gICAgY3JlYXRlUGF0aDogZnVuY3Rpb24ocGF0aERhdGEpIHtcbiAgICAgIHZhciBwYXRoID0gbmV3IGZhYnJpYy5QYXRoKHBhdGhEYXRhLCB7XG4gICAgICAgIGZpbGw6IG51bGwsXG4gICAgICAgIHN0cm9rZTogdGhpcy5jb2xvcixcbiAgICAgICAgc3Ryb2tlV2lkdGg6IHRoaXMud2lkdGgsXG4gICAgICAgIHN0cm9rZUxpbmVDYXA6IHRoaXMuc3Ryb2tlTGluZUNhcCxcbiAgICAgICAgc3Ryb2tlTWl0ZXJMaW1pdDogdGhpcy5zdHJva2VNaXRlckxpbWl0LFxuICAgICAgICBzdHJva2VMaW5lSm9pbjogdGhpcy5zdHJva2VMaW5lSm9pbixcbiAgICAgICAgc3Ryb2tlRGFzaEFycmF5OiB0aGlzLnN0cm9rZURhc2hBcnJheSxcbiAgICAgIH0pO1xuICAgICAgaWYgKHRoaXMuc2hhZG93KSB7XG4gICAgICAgIHRoaXMuc2hhZG93LmFmZmVjdFN0cm9rZSA9IHRydWU7XG4gICAgICAgIHBhdGguc2V0U2hhZG93KHRoaXMuc2hhZG93KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBhdGg7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERlY2ltYXRlIHBvaW5zIGFycmF5IHdpdGggdGhlIGRlY2ltYXRlIHZhbHVlXG4gICAgICovXG4gICAgZGVjaW1hdGVQb2ludHM6IGZ1bmN0aW9uKHBvaW50cywgZGlzdGFuY2UpIHtcbiAgICAgIGlmIChwb2ludHMubGVuZ3RoIDw9IDIpIHtcbiAgICAgICAgcmV0dXJuIHBvaW50cztcbiAgICAgIH1cbiAgICAgIHZhciB6b29tID0gdGhpcy5jYW52YXMuZ2V0Wm9vbSgpLCBhZGp1c3RlZERpc3RhbmNlID0gTWF0aC5wb3coZGlzdGFuY2UgLyB6b29tLCAyKSxcbiAgICAgICAgICBpLCBsID0gcG9pbnRzLmxlbmd0aCAtIDEsIGxhc3RQb2ludCA9IHBvaW50c1swXSwgbmV3UG9pbnRzID0gW2xhc3RQb2ludF0sXG4gICAgICAgICAgY0Rpc3RhbmNlO1xuICAgICAgZm9yIChpID0gMTsgaSA8IGw7IGkrKykge1xuICAgICAgICBjRGlzdGFuY2UgPSBNYXRoLnBvdyhsYXN0UG9pbnQueCAtIHBvaW50c1tpXS54LCAyKSArIE1hdGgucG93KGxhc3RQb2ludC55IC0gcG9pbnRzW2ldLnksIDIpO1xuICAgICAgICBpZiAoY0Rpc3RhbmNlID49IGFkanVzdGVkRGlzdGFuY2UpIHtcbiAgICAgICAgICBsYXN0UG9pbnQgPSBwb2ludHNbaV07XG4gICAgICAgICAgbmV3UG9pbnRzLnB1c2gobGFzdFBvaW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG5ld1BvaW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgbmV3UG9pbnRzLnB1c2gobmV3IGZhYnJpYy5Qb2ludChuZXdQb2ludHNbMF0ueCwgbmV3UG9pbnRzWzBdLnkpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXdQb2ludHM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE9uIG1vdXNldXAgYWZ0ZXIgZHJhd2luZyB0aGUgcGF0aCBvbiBjb250ZXh0VG9wIGNhbnZhc1xuICAgICAqIHdlIHVzZSB0aGUgcG9pbnRzIGNhcHR1cmVkIHRvIGNyZWF0ZSBhbiBuZXcgZmFicmljIHBhdGggb2JqZWN0XG4gICAgICogYW5kIGFkZCBpdCB0byB0aGUgZmFicmljIGNhbnZhcy5cbiAgICAgKi9cbiAgICBfZmluYWxpemVBbmRBZGRQYXRoOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjdHggPSB0aGlzLmNhbnZhcy5jb250ZXh0VG9wO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgaWYgKHRoaXMuZGVjaW1hdGUpIHtcbiAgICAgICAgdGhpcy5fcG9pbnRzID0gdGhpcy5kZWNpbWF0ZVBvaW50cyh0aGlzLl9wb2ludHMsIHRoaXMuZGVjaW1hdGUpO1xuICAgICAgfVxuICAgICAgdmFyIHBhdGhEYXRhID0gdGhpcy5jb252ZXJ0UG9pbnRzVG9TVkdQYXRoKHRoaXMuX3BvaW50cykuam9pbignJyk7XG4gICAgICBpZiAocGF0aERhdGEgPT09ICdNIDAgMCBRIDAgMCAwIDAgTCAwIDAnKSB7XG4gICAgICAgIC8vIGRvIG5vdCBjcmVhdGUgMCB3aWR0aC9oZWlnaHQgcGF0aHMsIGFzIHRoZXkgYXJlXG4gICAgICAgIC8vIHJlbmRlcmVkIGluY29uc2lzdGVudGx5IGFjcm9zcyBicm93c2Vyc1xuICAgICAgICAvLyBGaXJlZm94IDQsIGZvciBleGFtcGxlLCByZW5kZXJzIGEgZG90LFxuICAgICAgICAvLyB3aGVyZWFzIENocm9tZSAxMCByZW5kZXJzIG5vdGhpbmdcbiAgICAgICAgdGhpcy5jYW52YXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBwYXRoID0gdGhpcy5jcmVhdGVQYXRoKHBhdGhEYXRhKTtcbiAgICAgIHRoaXMuY2FudmFzLmNsZWFyQ29udGV4dCh0aGlzLmNhbnZhcy5jb250ZXh0VG9wKTtcbiAgICAgIHRoaXMuY2FudmFzLmFkZChwYXRoKTtcbiAgICAgIHRoaXMuY2FudmFzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICAgIHBhdGguc2V0Q29vcmRzKCk7XG4gICAgICB0aGlzLl9yZXNldFNoYWRvdygpO1xuXG5cbiAgICAgIC8vIGZpcmUgZXZlbnQgJ3BhdGgnIGNyZWF0ZWRcbiAgICAgIHRoaXMuY2FudmFzLmZpcmUoJ3BhdGg6Y3JlYXRlZCcsIHsgcGF0aDogcGF0aCB9KTtcbiAgICB9XG4gIH0pO1xufSkoKTtcblxuXG4vKipcbiAqIENpcmNsZUJydXNoIGNsYXNzXG4gKiBAY2xhc3MgZmFicmljLkNpcmNsZUJydXNoXG4gKi9cbmZhYnJpYy5DaXJjbGVCcnVzaCA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKGZhYnJpYy5CYXNlQnJ1c2gsIC8qKiBAbGVuZHMgZmFicmljLkNpcmNsZUJydXNoLnByb3RvdHlwZSAqLyB7XG5cbiAgLyoqXG4gICAqIFdpZHRoIG9mIGEgYnJ1c2hcbiAgICogQHR5cGUgTnVtYmVyXG4gICAqIEBkZWZhdWx0XG4gICAqL1xuICB3aWR0aDogMTAsXG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7ZmFicmljLkNhbnZhc30gY2FudmFzXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5DaXJjbGVCcnVzaH0gSW5zdGFuY2Ugb2YgYSBjaXJjbGUgYnJ1c2hcbiAgICovXG4gIGluaXRpYWxpemU6IGZ1bmN0aW9uKGNhbnZhcykge1xuICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuICAgIHRoaXMucG9pbnRzID0gW107XG4gIH0sXG5cbiAgLyoqXG4gICAqIEludm9rZWQgaW5zaWRlIG9uIG1vdXNlIGRvd24gYW5kIG1vdXNlIG1vdmVcbiAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50ZXJcbiAgICovXG4gIGRyYXdEb3Q6IGZ1bmN0aW9uKHBvaW50ZXIpIHtcbiAgICB2YXIgcG9pbnQgPSB0aGlzLmFkZFBvaW50KHBvaW50ZXIpLFxuICAgICAgICBjdHggPSB0aGlzLmNhbnZhcy5jb250ZXh0VG9wO1xuICAgIHRoaXMuX3NhdmVBbmRUcmFuc2Zvcm0oY3R4KTtcbiAgICB0aGlzLmRvdChjdHgsIHBvaW50KTtcbiAgICBjdHgucmVzdG9yZSgpO1xuICB9LFxuXG4gIGRvdDogZnVuY3Rpb24oY3R4LCBwb2ludCkge1xuICAgIGN0eC5maWxsU3R5bGUgPSBwb2ludC5maWxsO1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguYXJjKHBvaW50LngsIHBvaW50LnksIHBvaW50LnJhZGl1cywgMCwgTWF0aC5QSSAqIDIsIGZhbHNlKTtcbiAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgY3R4LmZpbGwoKTtcbiAgfSxcblxuICAvKipcbiAgICogSW52b2tlZCBvbiBtb3VzZSBkb3duXG4gICAqL1xuICBvbk1vdXNlRG93bjogZnVuY3Rpb24ocG9pbnRlcikge1xuICAgIHRoaXMucG9pbnRzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5jYW52YXMuY2xlYXJDb250ZXh0KHRoaXMuY2FudmFzLmNvbnRleHRUb3ApO1xuICAgIHRoaXMuX3NldFNoYWRvdygpO1xuICAgIHRoaXMuZHJhd0RvdChwb2ludGVyKTtcbiAgfSxcblxuICAvKipcbiAgICogUmVuZGVyIHRoZSBmdWxsIHN0YXRlIG9mIHRoZSBicnVzaFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3JlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGN0eCAgPSB0aGlzLmNhbnZhcy5jb250ZXh0VG9wLCBpLCBsZW4sXG4gICAgICAgIHBvaW50cyA9IHRoaXMucG9pbnRzO1xuICAgIHRoaXMuX3NhdmVBbmRUcmFuc2Zvcm0oY3R4KTtcbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBwb2ludHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHRoaXMuZG90KGN0eCwgcG9pbnRzW2ldKTtcbiAgICB9XG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgfSxcblxuICAvKipcbiAgICogSW52b2tlZCBvbiBtb3VzZSBtb3ZlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludGVyXG4gICAqL1xuICBvbk1vdXNlTW92ZTogZnVuY3Rpb24ocG9pbnRlcikge1xuICAgIGlmICh0aGlzLm5lZWRzRnVsbFJlbmRlcigpKSB7XG4gICAgICB0aGlzLmNhbnZhcy5jbGVhckNvbnRleHQodGhpcy5jYW52YXMuY29udGV4dFRvcCk7XG4gICAgICB0aGlzLmFkZFBvaW50KHBvaW50ZXIpO1xuICAgICAgdGhpcy5fcmVuZGVyKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5kcmF3RG90KHBvaW50ZXIpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogSW52b2tlZCBvbiBtb3VzZSB1cFxuICAgKi9cbiAgb25Nb3VzZVVwOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgb3JpZ2luYWxSZW5kZXJPbkFkZFJlbW92ZSA9IHRoaXMuY2FudmFzLnJlbmRlck9uQWRkUmVtb3ZlLCBpLCBsZW47XG4gICAgdGhpcy5jYW52YXMucmVuZGVyT25BZGRSZW1vdmUgPSBmYWxzZTtcblxuICAgIHZhciBjaXJjbGVzID0gW107XG5cbiAgICBmb3IgKGkgPSAwLCBsZW4gPSB0aGlzLnBvaW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFyIHBvaW50ID0gdGhpcy5wb2ludHNbaV0sXG4gICAgICAgICAgY2lyY2xlID0gbmV3IGZhYnJpYy5DaXJjbGUoe1xuICAgICAgICAgICAgcmFkaXVzOiBwb2ludC5yYWRpdXMsXG4gICAgICAgICAgICBsZWZ0OiBwb2ludC54LFxuICAgICAgICAgICAgdG9wOiBwb2ludC55LFxuICAgICAgICAgICAgb3JpZ2luWDogJ2NlbnRlcicsXG4gICAgICAgICAgICBvcmlnaW5ZOiAnY2VudGVyJyxcbiAgICAgICAgICAgIGZpbGw6IHBvaW50LmZpbGxcbiAgICAgICAgICB9KTtcblxuICAgICAgdGhpcy5zaGFkb3cgJiYgY2lyY2xlLnNldFNoYWRvdyh0aGlzLnNoYWRvdyk7XG5cbiAgICAgIGNpcmNsZXMucHVzaChjaXJjbGUpO1xuICAgIH1cbiAgICB2YXIgZ3JvdXAgPSBuZXcgZmFicmljLkdyb3VwKGNpcmNsZXMpO1xuICAgIGdyb3VwLmNhbnZhcyA9IHRoaXMuY2FudmFzO1xuXG4gICAgdGhpcy5jYW52YXMuYWRkKGdyb3VwKTtcbiAgICB0aGlzLmNhbnZhcy5maXJlKCdwYXRoOmNyZWF0ZWQnLCB7IHBhdGg6IGdyb3VwIH0pO1xuXG4gICAgdGhpcy5jYW52YXMuY2xlYXJDb250ZXh0KHRoaXMuY2FudmFzLmNvbnRleHRUb3ApO1xuICAgIHRoaXMuX3Jlc2V0U2hhZG93KCk7XG4gICAgdGhpcy5jYW52YXMucmVuZGVyT25BZGRSZW1vdmUgPSBvcmlnaW5hbFJlbmRlck9uQWRkUmVtb3ZlO1xuICAgIHRoaXMuY2FudmFzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50ZXJcbiAgICogQHJldHVybiB7ZmFicmljLlBvaW50fSBKdXN0IGFkZGVkIHBvaW50ZXIgcG9pbnRcbiAgICovXG4gIGFkZFBvaW50OiBmdW5jdGlvbihwb2ludGVyKSB7XG4gICAgdmFyIHBvaW50ZXJQb2ludCA9IG5ldyBmYWJyaWMuUG9pbnQocG9pbnRlci54LCBwb2ludGVyLnkpLFxuXG4gICAgICAgIGNpcmNsZVJhZGl1cyA9IGZhYnJpYy51dGlsLmdldFJhbmRvbUludChcbiAgICAgICAgICBNYXRoLm1heCgwLCB0aGlzLndpZHRoIC0gMjApLCB0aGlzLndpZHRoICsgMjApIC8gMixcblxuICAgICAgICBjaXJjbGVDb2xvciA9IG5ldyBmYWJyaWMuQ29sb3IodGhpcy5jb2xvcilcbiAgICAgICAgICAuc2V0QWxwaGEoZmFicmljLnV0aWwuZ2V0UmFuZG9tSW50KDAsIDEwMCkgLyAxMDApXG4gICAgICAgICAgLnRvUmdiYSgpO1xuXG4gICAgcG9pbnRlclBvaW50LnJhZGl1cyA9IGNpcmNsZVJhZGl1cztcbiAgICBwb2ludGVyUG9pbnQuZmlsbCA9IGNpcmNsZUNvbG9yO1xuXG4gICAgdGhpcy5wb2ludHMucHVzaChwb2ludGVyUG9pbnQpO1xuXG4gICAgcmV0dXJuIHBvaW50ZXJQb2ludDtcbiAgfVxufSk7XG5cblxuLyoqXG4gKiBTcHJheUJydXNoIGNsYXNzXG4gKiBAY2xhc3MgZmFicmljLlNwcmF5QnJ1c2hcbiAqL1xuZmFicmljLlNwcmF5QnJ1c2ggPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyggZmFicmljLkJhc2VCcnVzaCwgLyoqIEBsZW5kcyBmYWJyaWMuU3ByYXlCcnVzaC5wcm90b3R5cGUgKi8ge1xuXG4gIC8qKlxuICAgKiBXaWR0aCBvZiBhIHNwcmF5XG4gICAqIEB0eXBlIE51bWJlclxuICAgKiBAZGVmYXVsdFxuICAgKi9cbiAgd2lkdGg6ICAgICAgICAgICAgICAxMCxcblxuICAvKipcbiAgICogRGVuc2l0eSBvZiBhIHNwcmF5IChudW1iZXIgb2YgZG90cyBwZXIgY2h1bmspXG4gICAqIEB0eXBlIE51bWJlclxuICAgKiBAZGVmYXVsdFxuICAgKi9cbiAgZGVuc2l0eTogICAgICAgICAgICAyMCxcblxuICAvKipcbiAgICogV2lkdGggb2Ygc3ByYXkgZG90c1xuICAgKiBAdHlwZSBOdW1iZXJcbiAgICogQGRlZmF1bHRcbiAgICovXG4gIGRvdFdpZHRoOiAgICAgICAgICAgMSxcblxuICAvKipcbiAgICogV2lkdGggdmFyaWFuY2Ugb2Ygc3ByYXkgZG90c1xuICAgKiBAdHlwZSBOdW1iZXJcbiAgICogQGRlZmF1bHRcbiAgICovXG4gIGRvdFdpZHRoVmFyaWFuY2U6ICAgMSxcblxuICAvKipcbiAgICogV2hldGhlciBvcGFjaXR5IG9mIGEgZG90IHNob3VsZCBiZSByYW5kb21cbiAgICogQHR5cGUgQm9vbGVhblxuICAgKiBAZGVmYXVsdFxuICAgKi9cbiAgcmFuZG9tT3BhY2l0eTogICAgICAgIGZhbHNlLFxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIG92ZXJsYXBwaW5nIGRvdHMgKHJlY3RhbmdsZXMpIHNob3VsZCBiZSByZW1vdmVkIChmb3IgcGVyZm9ybWFuY2UgcmVhc29ucylcbiAgICogQHR5cGUgQm9vbGVhblxuICAgKiBAZGVmYXVsdFxuICAgKi9cbiAgb3B0aW1pemVPdmVybGFwcGluZzogIHRydWUsXG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7ZmFicmljLkNhbnZhc30gY2FudmFzXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5TcHJheUJydXNofSBJbnN0YW5jZSBvZiBhIHNwcmF5IGJydXNoXG4gICAqL1xuICBpbml0aWFsaXplOiBmdW5jdGlvbihjYW52YXMpIHtcbiAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcbiAgICB0aGlzLnNwcmF5Q2h1bmtzID0gW107XG4gIH0sXG5cbiAgLyoqXG4gICAqIEludm9rZWQgb24gbW91c2UgZG93blxuICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnRlclxuICAgKi9cbiAgb25Nb3VzZURvd246IGZ1bmN0aW9uKHBvaW50ZXIpIHtcbiAgICB0aGlzLnNwcmF5Q2h1bmtzLmxlbmd0aCA9IDA7XG4gICAgdGhpcy5jYW52YXMuY2xlYXJDb250ZXh0KHRoaXMuY2FudmFzLmNvbnRleHRUb3ApO1xuICAgIHRoaXMuX3NldFNoYWRvdygpO1xuXG4gICAgdGhpcy5hZGRTcHJheUNodW5rKHBvaW50ZXIpO1xuICAgIHRoaXMucmVuZGVyKHRoaXMuc3ByYXlDaHVua1BvaW50cyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEludm9rZWQgb24gbW91c2UgbW92ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnRlclxuICAgKi9cbiAgb25Nb3VzZU1vdmU6IGZ1bmN0aW9uKHBvaW50ZXIpIHtcbiAgICB0aGlzLmFkZFNwcmF5Q2h1bmsocG9pbnRlcik7XG4gICAgdGhpcy5yZW5kZXIodGhpcy5zcHJheUNodW5rUG9pbnRzKTtcbiAgfSxcblxuICAvKipcbiAgICogSW52b2tlZCBvbiBtb3VzZSB1cFxuICAgKi9cbiAgb25Nb3VzZVVwOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgb3JpZ2luYWxSZW5kZXJPbkFkZFJlbW92ZSA9IHRoaXMuY2FudmFzLnJlbmRlck9uQWRkUmVtb3ZlO1xuICAgIHRoaXMuY2FudmFzLnJlbmRlck9uQWRkUmVtb3ZlID0gZmFsc2U7XG5cbiAgICB2YXIgcmVjdHMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwLCBpbGVuID0gdGhpcy5zcHJheUNodW5rcy5sZW5ndGg7IGkgPCBpbGVuOyBpKyspIHtcbiAgICAgIHZhciBzcHJheUNodW5rID0gdGhpcy5zcHJheUNodW5rc1tpXTtcblxuICAgICAgZm9yICh2YXIgaiA9IDAsIGpsZW4gPSBzcHJheUNodW5rLmxlbmd0aDsgaiA8IGpsZW47IGorKykge1xuXG4gICAgICAgIHZhciByZWN0ID0gbmV3IGZhYnJpYy5SZWN0KHtcbiAgICAgICAgICB3aWR0aDogc3ByYXlDaHVua1tqXS53aWR0aCxcbiAgICAgICAgICBoZWlnaHQ6IHNwcmF5Q2h1bmtbal0ud2lkdGgsXG4gICAgICAgICAgbGVmdDogc3ByYXlDaHVua1tqXS54ICsgMSxcbiAgICAgICAgICB0b3A6IHNwcmF5Q2h1bmtbal0ueSArIDEsXG4gICAgICAgICAgb3JpZ2luWDogJ2NlbnRlcicsXG4gICAgICAgICAgb3JpZ2luWTogJ2NlbnRlcicsXG4gICAgICAgICAgZmlsbDogdGhpcy5jb2xvclxuICAgICAgICB9KTtcbiAgICAgICAgcmVjdHMucHVzaChyZWN0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpbWl6ZU92ZXJsYXBwaW5nKSB7XG4gICAgICByZWN0cyA9IHRoaXMuX2dldE9wdGltaXplZFJlY3RzKHJlY3RzKTtcbiAgICB9XG5cbiAgICB2YXIgZ3JvdXAgPSBuZXcgZmFicmljLkdyb3VwKHJlY3RzKTtcbiAgICB0aGlzLnNoYWRvdyAmJiBncm91cC5zZXRTaGFkb3codGhpcy5zaGFkb3cpO1xuICAgIHRoaXMuY2FudmFzLmFkZChncm91cCk7XG4gICAgdGhpcy5jYW52YXMuZmlyZSgncGF0aDpjcmVhdGVkJywgeyBwYXRoOiBncm91cCB9KTtcblxuICAgIHRoaXMuY2FudmFzLmNsZWFyQ29udGV4dCh0aGlzLmNhbnZhcy5jb250ZXh0VG9wKTtcbiAgICB0aGlzLl9yZXNldFNoYWRvdygpO1xuICAgIHRoaXMuY2FudmFzLnJlbmRlck9uQWRkUmVtb3ZlID0gb3JpZ2luYWxSZW5kZXJPbkFkZFJlbW92ZTtcbiAgICB0aGlzLmNhbnZhcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHJlY3RzXG4gICAqL1xuICBfZ2V0T3B0aW1pemVkUmVjdHM6IGZ1bmN0aW9uKHJlY3RzKSB7XG5cbiAgICAvLyBhdm9pZCBjcmVhdGluZyBkdXBsaWNhdGUgcmVjdHMgYXQgdGhlIHNhbWUgY29vcmRpbmF0ZXNcbiAgICB2YXIgdW5pcXVlUmVjdHMgPSB7IH0sIGtleSwgaSwgbGVuO1xuXG4gICAgZm9yIChpID0gMCwgbGVuID0gcmVjdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGtleSA9IHJlY3RzW2ldLmxlZnQgKyAnJyArIHJlY3RzW2ldLnRvcDtcbiAgICAgIGlmICghdW5pcXVlUmVjdHNba2V5XSkge1xuICAgICAgICB1bmlxdWVSZWN0c1trZXldID0gcmVjdHNbaV07XG4gICAgICB9XG4gICAgfVxuICAgIHZhciB1bmlxdWVSZWN0c0FycmF5ID0gW107XG4gICAgZm9yIChrZXkgaW4gdW5pcXVlUmVjdHMpIHtcbiAgICAgIHVuaXF1ZVJlY3RzQXJyYXkucHVzaCh1bmlxdWVSZWN0c1trZXldKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdW5pcXVlUmVjdHNBcnJheTtcbiAgfSxcblxuICAvKipcbiAgICogUmVuZGVyIG5ldyBjaHVuayBvZiBzcHJheSBicnVzaFxuICAgKi9cbiAgcmVuZGVyOiBmdW5jdGlvbihzcHJheUNodW5rKSB7XG4gICAgdmFyIGN0eCA9IHRoaXMuY2FudmFzLmNvbnRleHRUb3AsIGksIGxlbjtcbiAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcblxuICAgIHRoaXMuX3NhdmVBbmRUcmFuc2Zvcm0oY3R4KTtcblxuICAgIGZvciAoaSA9IDAsIGxlbiA9IHNwcmF5Q2h1bmsubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciBwb2ludCA9IHNwcmF5Q2h1bmtbaV07XG4gICAgICBpZiAodHlwZW9mIHBvaW50Lm9wYWNpdHkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IHBvaW50Lm9wYWNpdHk7XG4gICAgICB9XG4gICAgICBjdHguZmlsbFJlY3QocG9pbnQueCwgcG9pbnQueSwgcG9pbnQud2lkdGgsIHBvaW50LndpZHRoKTtcbiAgICB9XG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgfSxcblxuICAvKipcbiAgICogUmVuZGVyIGFsbCBzcHJheSBjaHVua3NcbiAgICovXG4gIF9yZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjdHggPSB0aGlzLmNhbnZhcy5jb250ZXh0VG9wLCBpLCBpbGVuO1xuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xuXG4gICAgdGhpcy5fc2F2ZUFuZFRyYW5zZm9ybShjdHgpO1xuXG4gICAgZm9yIChpID0gMCwgaWxlbiA9IHRoaXMuc3ByYXlDaHVua3MubGVuZ3RoOyBpIDwgaWxlbjsgaSsrKSB7XG4gICAgICB0aGlzLnJlbmRlcih0aGlzLnNwcmF5Q2h1bmtzW2ldKTtcbiAgICB9XG4gICAgY3R4LnJlc3RvcmUoKTtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50ZXJcbiAgICovXG4gIGFkZFNwcmF5Q2h1bms6IGZ1bmN0aW9uKHBvaW50ZXIpIHtcbiAgICB0aGlzLnNwcmF5Q2h1bmtQb2ludHMgPSBbXTtcblxuICAgIHZhciB4LCB5LCB3aWR0aCwgcmFkaXVzID0gdGhpcy53aWR0aCAvIDIsIGk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgdGhpcy5kZW5zaXR5OyBpKyspIHtcblxuICAgICAgeCA9IGZhYnJpYy51dGlsLmdldFJhbmRvbUludChwb2ludGVyLnggLSByYWRpdXMsIHBvaW50ZXIueCArIHJhZGl1cyk7XG4gICAgICB5ID0gZmFicmljLnV0aWwuZ2V0UmFuZG9tSW50KHBvaW50ZXIueSAtIHJhZGl1cywgcG9pbnRlci55ICsgcmFkaXVzKTtcblxuICAgICAgaWYgKHRoaXMuZG90V2lkdGhWYXJpYW5jZSkge1xuICAgICAgICB3aWR0aCA9IGZhYnJpYy51dGlsLmdldFJhbmRvbUludChcbiAgICAgICAgICAvLyBib3R0b20gY2xhbXAgd2lkdGggdG8gMVxuICAgICAgICAgIE1hdGgubWF4KDEsIHRoaXMuZG90V2lkdGggLSB0aGlzLmRvdFdpZHRoVmFyaWFuY2UpLFxuICAgICAgICAgIHRoaXMuZG90V2lkdGggKyB0aGlzLmRvdFdpZHRoVmFyaWFuY2UpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHdpZHRoID0gdGhpcy5kb3RXaWR0aDtcbiAgICAgIH1cblxuICAgICAgdmFyIHBvaW50ID0gbmV3IGZhYnJpYy5Qb2ludCh4LCB5KTtcbiAgICAgIHBvaW50LndpZHRoID0gd2lkdGg7XG5cbiAgICAgIGlmICh0aGlzLnJhbmRvbU9wYWNpdHkpIHtcbiAgICAgICAgcG9pbnQub3BhY2l0eSA9IGZhYnJpYy51dGlsLmdldFJhbmRvbUludCgwLCAxMDApIC8gMTAwO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNwcmF5Q2h1bmtQb2ludHMucHVzaChwb2ludCk7XG4gICAgfVxuXG4gICAgdGhpcy5zcHJheUNodW5rcy5wdXNoKHRoaXMuc3ByYXlDaHVua1BvaW50cyk7XG4gIH1cbn0pO1xuXG5cbi8qKlxuICogUGF0dGVybkJydXNoIGNsYXNzXG4gKiBAY2xhc3MgZmFicmljLlBhdHRlcm5CcnVzaFxuICogQGV4dGVuZHMgZmFicmljLkJhc2VCcnVzaFxuICovXG5mYWJyaWMuUGF0dGVybkJydXNoID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoZmFicmljLlBlbmNpbEJydXNoLCAvKiogQGxlbmRzIGZhYnJpYy5QYXR0ZXJuQnJ1c2gucHJvdG90eXBlICovIHtcblxuICBnZXRQYXR0ZXJuU3JjOiBmdW5jdGlvbigpIHtcblxuICAgIHZhciBkb3RXaWR0aCA9IDIwLFxuICAgICAgICBkb3REaXN0YW5jZSA9IDUsXG4gICAgICAgIHBhdHRlcm5DYW52YXMgPSBmYWJyaWMudXRpbC5jcmVhdGVDYW52YXNFbGVtZW50KCksXG4gICAgICAgIHBhdHRlcm5DdHggPSBwYXR0ZXJuQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cbiAgICBwYXR0ZXJuQ2FudmFzLndpZHRoID0gcGF0dGVybkNhbnZhcy5oZWlnaHQgPSBkb3RXaWR0aCArIGRvdERpc3RhbmNlO1xuXG4gICAgcGF0dGVybkN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xuICAgIHBhdHRlcm5DdHguYmVnaW5QYXRoKCk7XG4gICAgcGF0dGVybkN0eC5hcmMoZG90V2lkdGggLyAyLCBkb3RXaWR0aCAvIDIsIGRvdFdpZHRoIC8gMiwgMCwgTWF0aC5QSSAqIDIsIGZhbHNlKTtcbiAgICBwYXR0ZXJuQ3R4LmNsb3NlUGF0aCgpO1xuICAgIHBhdHRlcm5DdHguZmlsbCgpO1xuXG4gICAgcmV0dXJuIHBhdHRlcm5DYW52YXM7XG4gIH0sXG5cbiAgZ2V0UGF0dGVyblNyY0Z1bmN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gU3RyaW5nKHRoaXMuZ2V0UGF0dGVyblNyYykucmVwbGFjZSgndGhpcy5jb2xvcicsICdcIicgKyB0aGlzLmNvbG9yICsgJ1wiJyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgXCJwYXR0ZXJuXCIgaW5zdGFuY2UgcHJvcGVydHlcbiAgICovXG4gIGdldFBhdHRlcm46IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmNhbnZhcy5jb250ZXh0VG9wLmNyZWF0ZVBhdHRlcm4odGhpcy5zb3VyY2UgfHwgdGhpcy5nZXRQYXR0ZXJuU3JjKCksICdyZXBlYXQnKTtcbiAgfSxcblxuICAvKipcbiAgICogU2V0cyBicnVzaCBzdHlsZXNcbiAgICovXG4gIF9zZXRCcnVzaFN0eWxlczogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5jYWxsU3VwZXIoJ19zZXRCcnVzaFN0eWxlcycpO1xuICAgIHRoaXMuY2FudmFzLmNvbnRleHRUb3Auc3Ryb2tlU3R5bGUgPSB0aGlzLmdldFBhdHRlcm4oKTtcbiAgfSxcblxuICAvKipcbiAgICogQ3JlYXRlcyBwYXRoXG4gICAqL1xuICBjcmVhdGVQYXRoOiBmdW5jdGlvbihwYXRoRGF0YSkge1xuICAgIHZhciBwYXRoID0gdGhpcy5jYWxsU3VwZXIoJ2NyZWF0ZVBhdGgnLCBwYXRoRGF0YSksXG4gICAgICAgIHRvcExlZnQgPSBwYXRoLl9nZXRMZWZ0VG9wQ29vcmRzKCkuc2NhbGFyQWRkKHBhdGguc3Ryb2tlV2lkdGggLyAyKTtcblxuICAgIHBhdGguc3Ryb2tlID0gbmV3IGZhYnJpYy5QYXR0ZXJuKHtcbiAgICAgIHNvdXJjZTogdGhpcy5zb3VyY2UgfHwgdGhpcy5nZXRQYXR0ZXJuU3JjRnVuY3Rpb24oKSxcbiAgICAgIG9mZnNldFg6IC10b3BMZWZ0LngsXG4gICAgICBvZmZzZXRZOiAtdG9wTGVmdC55XG4gICAgfSk7XG4gICAgcmV0dXJuIHBhdGg7XG4gIH1cbn0pO1xuXG5cbihmdW5jdGlvbigpIHtcblxuICB2YXIgZ2V0UG9pbnRlciA9IGZhYnJpYy51dGlsLmdldFBvaW50ZXIsXG4gICAgICBkZWdyZWVzVG9SYWRpYW5zID0gZmFicmljLnV0aWwuZGVncmVlc1RvUmFkaWFucyxcbiAgICAgIHJhZGlhbnNUb0RlZ3JlZXMgPSBmYWJyaWMudXRpbC5yYWRpYW5zVG9EZWdyZWVzLFxuICAgICAgYXRhbjIgPSBNYXRoLmF0YW4yLFxuICAgICAgYWJzID0gTWF0aC5hYnMsXG4gICAgICBzdXBwb3J0TGluZURhc2ggPSBmYWJyaWMuU3RhdGljQ2FudmFzLnN1cHBvcnRzKCdzZXRMaW5lRGFzaCcpLFxuXG4gICAgICBTVFJPS0VfT0ZGU0VUID0gMC41O1xuXG4gIC8qKlxuICAgKiBDYW52YXMgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5DYW52YXNcbiAgICogQGV4dGVuZHMgZmFicmljLlN0YXRpY0NhbnZhc1xuICAgKiBAdHV0b3JpYWwge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vZmFicmljLWludHJvLXBhcnQtMSNjYW52YXN9XG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5DYW52YXMjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICpcbiAgICogQGZpcmVzIG9iamVjdDptb2RpZmllZCBhdCB0aGUgZW5kIG9mIGEgdHJhbnNmb3JtIG9yIGFueSBjaGFuZ2Ugd2hlbiBzdGF0ZWZ1bGwgaXMgdHJ1ZVxuICAgKiBAZmlyZXMgb2JqZWN0OnJvdGF0ZWQgYXQgdGhlIGVuZCBvZiBhIHJvdGF0aW9uIHRyYW5zZm9ybVxuICAgKiBAZmlyZXMgb2JqZWN0OnNjYWxlZCBhdCB0aGUgZW5kIG9mIGEgc2NhbGUgdHJhbnNmb3JtXG4gICAqIEBmaXJlcyBvYmplY3Q6bW92ZWQgYXQgdGhlIGVuZCBvZiB0cmFuc2xhdGlvbiB0cmFuc2Zvcm1cbiAgICogQGZpcmVzIG9iamVjdDpza2V3ZWQgYXQgdGhlIGVuZCBvZiBhIHNrZXcgdHJhbnNmb3JtXG4gICAqIEBmaXJlcyBvYmplY3Q6cm90YXRpbmcgd2hpbGUgYW4gb2JqZWN0IGlzIGJlaW5nIHJvdGF0ZWQgZnJvbSB0aGUgY29udHJvbFxuICAgKiBAZmlyZXMgb2JqZWN0OnNjYWxpbmcgd2hpbGUgYW4gb2JqZWN0IGlzIGJlaW5nIHNjYWxlZCBieSBjb250cm9sc1xuICAgKiBAZmlyZXMgb2JqZWN0Om1vdmluZyB3aGlsZSBhbiBvYmplY3QgaXMgYmVpbmcgZHJhZ2dlZFxuICAgKiBAZmlyZXMgb2JqZWN0OnNrZXdpbmcgd2hpbGUgYW4gb2JqZWN0IGlzIGJlaW5nIHNrZXdlZCBmcm9tIHRoZSBjb250cm9sc1xuICAgKiBAZmlyZXMgb2JqZWN0OnNlbGVjdGVkIHRoaXMgZXZlbnQgaXMgZGVwcmVjYXRlZC4gdXNlIHNlbGVjdGlvbjpjcmVhdGVkXG4gICAqXG4gICAqIEBmaXJlcyBiZWZvcmU6dHJhbnNmb3JtIGJlZm9yZSBhIHRyYW5zZm9ybSBpcyBpcyBzdGFydGVkXG4gICAqIEBmaXJlcyBiZWZvcmU6c2VsZWN0aW9uOmNsZWFyZWRcbiAgICogQGZpcmVzIHNlbGVjdGlvbjpjbGVhcmVkXG4gICAqIEBmaXJlcyBzZWxlY3Rpb246dXBkYXRlZFxuICAgKiBAZmlyZXMgc2VsZWN0aW9uOmNyZWF0ZWRcbiAgICpcbiAgICogQGZpcmVzIHBhdGg6Y3JlYXRlZCBhZnRlciBhIGRyYXdpbmcgb3BlcmF0aW9uIGVuZHMgYW5kIHRoZSBwYXRoIGlzIGFkZGVkXG4gICAqIEBmaXJlcyBtb3VzZTpkb3duXG4gICAqIEBmaXJlcyBtb3VzZTptb3ZlXG4gICAqIEBmaXJlcyBtb3VzZTp1cFxuICAgKiBAZmlyZXMgbW91c2U6ZG93bjpiZWZvcmUgIG9uIG1vdXNlIGRvd24sIGJlZm9yZSB0aGUgaW5uZXIgZmFicmljIGxvZ2ljIHJ1bnNcbiAgICogQGZpcmVzIG1vdXNlOm1vdmU6YmVmb3JlIG9uIG1vdXNlIG1vdmUsIGJlZm9yZSB0aGUgaW5uZXIgZmFicmljIGxvZ2ljIHJ1bnNcbiAgICogQGZpcmVzIG1vdXNlOnVwOmJlZm9yZSBvbiBtb3VzZSB1cCwgYmVmb3JlIHRoZSBpbm5lciBmYWJyaWMgbG9naWMgcnVuc1xuICAgKiBAZmlyZXMgbW91c2U6b3ZlclxuICAgKiBAZmlyZXMgbW91c2U6b3V0XG4gICAqIEBmaXJlcyBtb3VzZTpkYmxjbGljayB3aGVuZXZlciBhIG5hdGl2ZSBkYmwgY2xpY2sgZXZlbnQgZmlyZXMgb24gdGhlIGNhbnZhcy5cbiAgICpcbiAgICogQGZpcmVzIGRyYWdvdmVyXG4gICAqIEBmaXJlcyBkcmFnZW50ZXJcbiAgICogQGZpcmVzIGRyYWdsZWF2ZVxuICAgKiBAZmlyZXMgZHJvcFxuICAgKiBAZmlyZXMgYWZ0ZXI6cmVuZGVyIGF0IHRoZSBlbmQgb2YgdGhlIHJlbmRlciBwcm9jZXNzLCByZWNlaXZlcyB0aGUgY29udGV4dCBpbiB0aGUgY2FsbGJhY2tcbiAgICogQGZpcmVzIGJlZm9yZTpyZW5kZXIgYXQgc3RhcnQgdGhlIHJlbmRlciBwcm9jZXNzLCByZWNlaXZlcyB0aGUgY29udGV4dCBpbiB0aGUgY2FsbGJhY2tcbiAgICpcbiAgICovXG4gIGZhYnJpYy5DYW52YXMgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyhmYWJyaWMuU3RhdGljQ2FudmFzLCAvKiogQGxlbmRzIGZhYnJpYy5DYW52YXMucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudCB8IFN0cmluZ30gZWwgJmx0O2NhbnZhcz4gZWxlbWVudCB0byBpbml0aWFsaXplIGluc3RhbmNlIG9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGVsLCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0geyB9KTtcbiAgICAgIHRoaXMucmVuZGVyQW5kUmVzZXRCb3VuZCA9IHRoaXMucmVuZGVyQW5kUmVzZXQuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMucmVxdWVzdFJlbmRlckFsbEJvdW5kID0gdGhpcy5yZXF1ZXN0UmVuZGVyQWxsLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9pbml0U3RhdGljKGVsLCBvcHRpb25zKTtcbiAgICAgIHRoaXMuX2luaXRJbnRlcmFjdGl2ZSgpO1xuICAgICAgdGhpcy5fY3JlYXRlQ2FjaGVDYW52YXMoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0cnVlLCBvYmplY3RzIGNhbiBiZSB0cmFuc2Zvcm1lZCBieSBvbmUgc2lkZSAodW5wcm9wb3J0aW9uYWxseSlcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB1bmlTY2FsZVRyYW5zZm9ybTogICAgICBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGljaCBrZXkgZW5hYmxlIHVucHJvcG9ydGlvbmFsIHNjYWxpbmdcbiAgICAgKiB2YWx1ZXM6ICdhbHRLZXknLCAnc2hpZnRLZXknLCAnY3RybEtleScuXG4gICAgICogSWYgYG51bGxgIG9yICdub25lJyBvciBhbnkgb3RoZXIgc3RyaW5nIHRoYXQgaXMgbm90IGEgbW9kaWZpZXIga2V5XG4gICAgICogZmVhdHVyZSBpcyBkaXNhYmxlZCBmZWF0dXJlIGRpc2FibGVkLlxuICAgICAqIEBzaW5jZSAxLjYuMlxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdW5pU2NhbGVLZXk6ICAgICAgICAgICAnc2hpZnRLZXknLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0cnVlLCBvYmplY3RzIHVzZSBjZW50ZXIgcG9pbnQgYXMgdGhlIG9yaWdpbiBvZiBzY2FsZSB0cmFuc2Zvcm1hdGlvbi5cbiAgICAgKiA8Yj5CYWNrd2FyZHMgaW5jb21wYXRpYmlsaXR5IG5vdGU6PC9iPiBUaGlzIHByb3BlcnR5IHJlcGxhY2VzIFwiY2VudGVyVHJhbnNmb3JtXCIgKEJvb2xlYW4pLlxuICAgICAqIEBzaW5jZSAxLjMuNFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNlbnRlcmVkU2NhbGluZzogICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0cnVlLCBvYmplY3RzIHVzZSBjZW50ZXIgcG9pbnQgYXMgdGhlIG9yaWdpbiBvZiByb3RhdGUgdHJhbnNmb3JtYXRpb24uXG4gICAgICogPGI+QmFja3dhcmRzIGluY29tcGF0aWJpbGl0eSBub3RlOjwvYj4gVGhpcyBwcm9wZXJ0eSByZXBsYWNlcyBcImNlbnRlclRyYW5zZm9ybVwiIChCb29sZWFuKS5cbiAgICAgKiBAc2luY2UgMS4zLjRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjZW50ZXJlZFJvdGF0aW9uOiAgICAgICBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGljaCBrZXkgZW5hYmxlIGNlbnRlcmVkIFRyYW5zZm9ybVxuICAgICAqIHZhbHVlczogJ2FsdEtleScsICdzaGlmdEtleScsICdjdHJsS2V5Jy5cbiAgICAgKiBJZiBgbnVsbGAgb3IgJ25vbmUnIG9yIGFueSBvdGhlciBzdHJpbmcgdGhhdCBpcyBub3QgYSBtb2RpZmllciBrZXlcbiAgICAgKiBmZWF0dXJlIGlzIGRpc2FibGVkIGZlYXR1cmUgZGlzYWJsZWQuXG4gICAgICogQHNpbmNlIDEuNi4yXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjZW50ZXJlZEtleTogICAgICAgICAgICdhbHRLZXknLFxuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoaWNoIGtleSBlbmFibGUgYWx0ZXJuYXRlIGFjdGlvbiBvbiBjb3JuZXJcbiAgICAgKiB2YWx1ZXM6ICdhbHRLZXknLCAnc2hpZnRLZXknLCAnY3RybEtleScuXG4gICAgICogSWYgYG51bGxgIG9yICdub25lJyBvciBhbnkgb3RoZXIgc3RyaW5nIHRoYXQgaXMgbm90IGEgbW9kaWZpZXIga2V5XG4gICAgICogZmVhdHVyZSBpcyBkaXNhYmxlZCBmZWF0dXJlIGRpc2FibGVkLlxuICAgICAqIEBzaW5jZSAxLjYuMlxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgYWx0QWN0aW9uS2V5OiAgICAgICAgICAgJ3NoaWZ0S2V5JyxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB0aGF0IGNhbnZhcyBpcyBpbnRlcmFjdGl2ZS4gVGhpcyBwcm9wZXJ0eSBzaG91bGQgbm90IGJlIGNoYW5nZWQuXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgaW50ZXJhY3RpdmU6ICAgICAgICAgICAgdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIGdyb3VwIHNlbGVjdGlvbiBzaG91bGQgYmUgZW5hYmxlZFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHNlbGVjdGlvbjogICAgICAgICAgICAgIHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hpY2gga2V5IG9yIGtleXMgZW5hYmxlIG11bHRpcGxlIGNsaWNrIHNlbGVjdGlvblxuICAgICAqIFBhc3MgdmFsdWUgYXMgYSBzdHJpbmcgb3IgYXJyYXkgb2Ygc3RyaW5nc1xuICAgICAqIHZhbHVlczogJ2FsdEtleScsICdzaGlmdEtleScsICdjdHJsS2V5Jy5cbiAgICAgKiBJZiBgbnVsbGAgb3IgZW1wdHkgb3IgY29udGFpbmluZyBhbnkgb3RoZXIgc3RyaW5nIHRoYXQgaXMgbm90IGEgbW9kaWZpZXIga2V5XG4gICAgICogZmVhdHVyZSBpcyBkaXNhYmxlZC5cbiAgICAgKiBAc2luY2UgMS42LjJcbiAgICAgKiBAdHlwZSBTdHJpbmd8QXJyYXlcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHNlbGVjdGlvbktleTogICAgICAgICAgICdzaGlmdEtleScsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hpY2gga2V5IGVuYWJsZSBhbHRlcm5hdGl2ZSBzZWxlY3Rpb25cbiAgICAgKiBpbiBjYXNlIG9mIHRhcmdldCBvdmVybGFwcGluZyB3aXRoIGFjdGl2ZSBvYmplY3RcbiAgICAgKiB2YWx1ZXM6ICdhbHRLZXknLCAnc2hpZnRLZXknLCAnY3RybEtleScuXG4gICAgICogRm9yIGEgc2VyaWVzIG9mIHJlYXNvbiB0aGF0IGNvbWUgZnJvbSB0aGUgZ2VuZXJhbCBleHBlY3RhdGlvbnMgb24gaG93XG4gICAgICogdGhpbmdzIHNob3VsZCB3b3JrLCB0aGlzIGZlYXR1cmUgd29ya3Mgb25seSBmb3IgcHJlc2VydmVPYmplY3RTdGFja2luZyB0cnVlLlxuICAgICAqIElmIGBudWxsYCBvciAnbm9uZScgb3IgYW55IG90aGVyIHN0cmluZyB0aGF0IGlzIG5vdCBhIG1vZGlmaWVyIGtleVxuICAgICAqIGZlYXR1cmUgaXMgZGlzYWJsZWQuXG4gICAgICogQHNpbmNlIDEuNi41XG4gICAgICogQHR5cGUgbnVsbHxTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGFsdFNlbGVjdGlvbktleTogICAgICAgICAgIG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBDb2xvciBvZiBzZWxlY3Rpb25cbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHNlbGVjdGlvbkNvbG9yOiAgICAgICAgICdyZ2JhKDEwMCwgMTAwLCAyNTUsIDAuMyknLCAvLyBibHVlXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGRhc2ggYXJyYXkgcGF0dGVyblxuICAgICAqIElmIG5vdCBlbXB0eSB0aGUgc2VsZWN0aW9uIGJvcmRlciBpcyBkYXNoZWRcbiAgICAgKiBAdHlwZSBBcnJheVxuICAgICAqL1xuICAgIHNlbGVjdGlvbkRhc2hBcnJheTogICAgIFtdLFxuXG4gICAgLyoqXG4gICAgICogQ29sb3Igb2YgdGhlIGJvcmRlciBvZiBzZWxlY3Rpb24gKHVzdWFsbHkgc2xpZ2h0bHkgZGFya2VyIHRoYW4gY29sb3Igb2Ygc2VsZWN0aW9uIGl0c2VsZilcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHNlbGVjdGlvbkJvcmRlckNvbG9yOiAgICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMyknLFxuXG4gICAgLyoqXG4gICAgICogV2lkdGggb2YgYSBsaW5lIHVzZWQgaW4gb2JqZWN0L2dyb3VwIHNlbGVjdGlvblxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc2VsZWN0aW9uTGluZVdpZHRoOiAgICAgMSxcblxuICAgIC8qKlxuICAgICAqIFNlbGVjdCBvbmx5IHNoYXBlcyB0aGF0IGFyZSBmdWxseSBjb250YWluZWQgaW4gdGhlIGRyYWdnZWQgc2VsZWN0aW9uIHJlY3RhbmdsZS5cbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzZWxlY3Rpb25GdWxseUNvbnRhaW5lZDogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGN1cnNvciB2YWx1ZSB1c2VkIHdoZW4gaG92ZXJpbmcgb3ZlciBhbiBvYmplY3Qgb24gY2FudmFzXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBob3ZlckN1cnNvcjogICAgICAgICAgICAnbW92ZScsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGN1cnNvciB2YWx1ZSB1c2VkIHdoZW4gbW92aW5nIGFuIG9iamVjdCBvbiBjYW52YXNcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG1vdmVDdXJzb3I6ICAgICAgICAgICAgICdtb3ZlJyxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgY3Vyc29yIHZhbHVlIHVzZWQgZm9yIHRoZSBlbnRpcmUgY2FudmFzXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBkZWZhdWx0Q3Vyc29yOiAgICAgICAgICAnZGVmYXVsdCcsXG5cbiAgICAvKipcbiAgICAgKiBDdXJzb3IgdmFsdWUgdXNlZCBkdXJpbmcgZnJlZSBkcmF3aW5nXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBmcmVlRHJhd2luZ0N1cnNvcjogICAgICAnY3Jvc3NoYWlyJyxcblxuICAgIC8qKlxuICAgICAqIEN1cnNvciB2YWx1ZSB1c2VkIGZvciByb3RhdGlvbiBwb2ludFxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgcm90YXRpb25DdXJzb3I6ICAgICAgICAgJ2Nyb3NzaGFpcicsXG5cbiAgICAvKipcbiAgICAgKiBDdXJzb3IgdmFsdWUgdXNlZCBmb3IgZGlzYWJsZWQgZWxlbWVudHMgKCBjb3JuZXJzIHdpdGggZGlzYWJsZWQgYWN0aW9uIClcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG5vdEFsbG93ZWRDdXJzb3I6ICAgICAgICAgJ25vdC1hbGxvd2VkJyxcblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgZWxlbWVudCBjbGFzcyB0aGF0J3MgZ2l2ZW4gdG8gd3JhcHBlciAoZGl2KSBlbGVtZW50IG9mIGNhbnZhc1xuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgY29udGFpbmVyQ2xhc3M6ICAgICAgICAgJ2NhbnZhcy1jb250YWluZXInLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiB0cnVlLCBvYmplY3QgZGV0ZWN0aW9uIGhhcHBlbnMgb24gcGVyLXBpeGVsIGJhc2lzIHJhdGhlciB0aGFuIG9uIHBlci1ib3VuZGluZy1ib3hcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBwZXJQaXhlbFRhcmdldEZpbmQ6ICAgICBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIE51bWJlciBvZiBwaXhlbHMgYXJvdW5kIHRhcmdldCBwaXhlbCB0byB0b2xlcmF0ZSAoY29uc2lkZXIgYWN0aXZlKSBkdXJpbmcgb2JqZWN0IGRldGVjdGlvblxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdGFyZ2V0RmluZFRvbGVyYW5jZTogICAgMCxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdHJ1ZSwgdGFyZ2V0IGRldGVjdGlvbiBpcyBza2lwcGVkIHdoZW4gaG92ZXJpbmcgb3ZlciBjYW52YXMuIFRoaXMgY2FuIGJlIHVzZWQgdG8gaW1wcm92ZSBwZXJmb3JtYW5jZS5cbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBza2lwVGFyZ2V0RmluZDogICAgICAgICBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdHJ1ZSwgbW91c2UgZXZlbnRzIG9uIGNhbnZhcyAobW91c2Vkb3duL21vdXNlbW92ZS9tb3VzZXVwKSByZXN1bHQgaW4gZnJlZSBkcmF3aW5nLlxuICAgICAqIEFmdGVyIG1vdXNlZG93biwgbW91c2Vtb3ZlIGNyZWF0ZXMgYSBzaGFwZSxcbiAgICAgKiBhbmQgdGhlbiBtb3VzZXVwIGZpbmFsaXplcyBpdCBhbmQgYWRkcyBhbiBpbnN0YW5jZSBvZiBgZmFicmljLlBhdGhgIG9udG8gY2FudmFzLlxuICAgICAqIEB0dXRvcmlhbCB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9mYWJyaWMtaW50cm8tcGFydC00I2ZyZWVfZHJhd2luZ31cbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBpc0RyYXdpbmdNb2RlOiAgICAgICAgICBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIG9iamVjdHMgc2hvdWxkIHJlbWFpbiBpbiBjdXJyZW50IHN0YWNrIHBvc2l0aW9uIHdoZW4gc2VsZWN0ZWQuXG4gICAgICogV2hlbiBmYWxzZSBvYmplY3RzIGFyZSBicm91Z2h0IHRvIHRvcCBhbmQgcmVuZGVyZWQgYXMgcGFydCBvZiB0aGUgc2VsZWN0aW9uIGdyb3VwXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgcHJlc2VydmVPYmplY3RTdGFja2luZzogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgdGhlIGFuZ2xlIHRoYXQgYW4gb2JqZWN0IHdpbGwgbG9jayB0byB3aGlsZSByb3RhdGluZy5cbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAc2luY2UgMS42LjdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHNuYXBBbmdsZTogMCxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgc25hcEFuZ2xlIHRoZSByb3RhdGlvbiB3aWxsIGxvY2sgdG8gdGhlIHNuYXBBbmdsZS5cbiAgICAgKiBXaGVuIGBudWxsYCwgdGhlIHNuYXBUaHJlc2hvbGQgd2lsbCBkZWZhdWx0IHRvIHRoZSBzbmFwQW5nbGUuXG4gICAgICogQHR5cGUgbnVsbHxOdW1iZXJcbiAgICAgKiBAc2luY2UgMS42LjdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHNuYXBUaHJlc2hvbGQ6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIHJpZ2h0IGNsaWNrIG9uIGNhbnZhcyBjYW4gb3V0cHV0IHRoZSBjb250ZXh0IG1lbnUgb3Igbm90XG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBzaW5jZSAxLjYuNVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc3RvcENvbnRleHRNZW51OiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyBpZiB0aGUgY2FudmFzIGNhbiBmaXJlIHJpZ2h0IGNsaWNrIGV2ZW50c1xuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAc2luY2UgMS42LjVcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGZpcmVSaWdodENsaWNrOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyBpZiB0aGUgY2FudmFzIGNhbiBmaXJlIG1pZGRsZSBjbGljayBldmVudHNcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQHNpbmNlIDEuNy44XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBmaXJlTWlkZGxlQ2xpY2s6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogS2VlcCB0cmFjayBvZiB0aGUgc3ViVGFyZ2V0cyBmb3IgTW91c2UgRXZlbnRzXG4gICAgICogQHR5cGUgZmFicmljLk9iamVjdFtdXG4gICAgICovXG4gICAgdGFyZ2V0czogW10sXG5cbiAgICAvKipcbiAgICAgKiBLZWVwIHRyYWNrIG9mIHRoZSBob3ZlcmVkIHRhcmdldFxuICAgICAqIEB0eXBlIGZhYnJpYy5PYmplY3RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9ob3ZlcmVkVGFyZ2V0OiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogaG9sZCB0aGUgbGlzdCBvZiBuZXN0ZWQgdGFyZ2V0cyBob3ZlcmVkXG4gICAgICogQHR5cGUgZmFicmljLk9iamVjdFtdXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaG92ZXJlZFRhcmdldHM6IFtdLFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaW5pdEludGVyYWN0aXZlOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX2N1cnJlbnRUcmFuc2Zvcm0gPSBudWxsO1xuICAgICAgdGhpcy5fZ3JvdXBTZWxlY3RvciA9IG51bGw7XG4gICAgICB0aGlzLl9pbml0V3JhcHBlckVsZW1lbnQoKTtcbiAgICAgIHRoaXMuX2NyZWF0ZVVwcGVyQ2FudmFzKCk7XG4gICAgICB0aGlzLl9pbml0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgICAgdGhpcy5faW5pdFJldGluYVNjYWxpbmcoKTtcblxuICAgICAgdGhpcy5mcmVlRHJhd2luZ0JydXNoID0gZmFicmljLlBlbmNpbEJydXNoICYmIG5ldyBmYWJyaWMuUGVuY2lsQnJ1c2godGhpcyk7XG5cbiAgICAgIHRoaXMuY2FsY09mZnNldCgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGVzIG9iamVjdHMgaW4gdHdvIGdyb3Vwcywgb25lIHRvIHJlbmRlciBpbW1lZGlhdGVseVxuICAgICAqIGFuZCBvbmUgdG8gcmVuZGVyIGFzIGFjdGl2ZUdyb3VwLlxuICAgICAqIEByZXR1cm4ge0FycmF5fSBvYmplY3RzIHRvIHJlbmRlciBpbW1lZGlhdGVseSBhbmQgcHVzaGVzIHRoZSBvdGhlciBpbiB0aGUgYWN0aXZlR3JvdXAuXG4gICAgICovXG4gICAgX2Nob29zZU9iamVjdHNUb1JlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYWN0aXZlT2JqZWN0cyA9IHRoaXMuZ2V0QWN0aXZlT2JqZWN0cygpLFxuICAgICAgICAgIG9iamVjdCwgb2Jqc1RvUmVuZGVyLCBhY3RpdmVHcm91cE9iamVjdHM7XG5cbiAgICAgIGlmIChhY3RpdmVPYmplY3RzLmxlbmd0aCA+IDAgJiYgIXRoaXMucHJlc2VydmVPYmplY3RTdGFja2luZykge1xuICAgICAgICBvYmpzVG9SZW5kZXIgPSBbXTtcbiAgICAgICAgYWN0aXZlR3JvdXBPYmplY3RzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSB0aGlzLl9vYmplY3RzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgb2JqZWN0ID0gdGhpcy5fb2JqZWN0c1tpXTtcbiAgICAgICAgICBpZiAoYWN0aXZlT2JqZWN0cy5pbmRleE9mKG9iamVjdCkgPT09IC0xICkge1xuICAgICAgICAgICAgb2Jqc1RvUmVuZGVyLnB1c2gob2JqZWN0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhY3RpdmVHcm91cE9iamVjdHMucHVzaChvYmplY3QpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYWN0aXZlT2JqZWN0cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgdGhpcy5fYWN0aXZlT2JqZWN0Ll9vYmplY3RzID0gYWN0aXZlR3JvdXBPYmplY3RzO1xuICAgICAgICB9XG4gICAgICAgIG9ianNUb1JlbmRlci5wdXNoLmFwcGx5KG9ianNUb1JlbmRlciwgYWN0aXZlR3JvdXBPYmplY3RzKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBvYmpzVG9SZW5kZXIgPSB0aGlzLl9vYmplY3RzO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ianNUb1JlbmRlcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBib3RoIHRoZSB0b3AgY2FudmFzIGFuZCB0aGUgc2Vjb25kYXJ5IGNvbnRhaW5lciBjYW52YXMuXG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gaW5zdGFuY2VcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgcmVuZGVyQWxsOiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5jb250ZXh0VG9wRGlydHkgJiYgIXRoaXMuX2dyb3VwU2VsZWN0b3IgJiYgIXRoaXMuaXNEcmF3aW5nTW9kZSkge1xuICAgICAgICB0aGlzLmNsZWFyQ29udGV4dCh0aGlzLmNvbnRleHRUb3ApO1xuICAgICAgICB0aGlzLmNvbnRleHRUb3BEaXJ0eSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuaGFzTG9zdENvbnRleHQpIHtcbiAgICAgICAgdGhpcy5yZW5kZXJUb3BMYXllcih0aGlzLmNvbnRleHRUb3ApO1xuICAgICAgfVxuICAgICAgdmFyIGNhbnZhc1RvRHJhd09uID0gdGhpcy5jb250ZXh0Q29udGFpbmVyO1xuICAgICAgdGhpcy5yZW5kZXJDYW52YXMoY2FudmFzVG9EcmF3T24sIHRoaXMuX2Nob29zZU9iamVjdHNUb1JlbmRlcigpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICByZW5kZXJUb3BMYXllcjogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgaWYgKHRoaXMuaXNEcmF3aW5nTW9kZSAmJiB0aGlzLl9pc0N1cnJlbnRseURyYXdpbmcpIHtcbiAgICAgICAgdGhpcy5mcmVlRHJhd2luZ0JydXNoICYmIHRoaXMuZnJlZURyYXdpbmdCcnVzaC5fcmVuZGVyKCk7XG4gICAgICAgIHRoaXMuY29udGV4dFRvcERpcnR5ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIC8vIHdlIHJlbmRlciB0aGUgdG9wIGNvbnRleHQgLSBsYXN0IG9iamVjdFxuICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uICYmIHRoaXMuX2dyb3VwU2VsZWN0b3IpIHtcbiAgICAgICAgdGhpcy5fZHJhd1NlbGVjdGlvbihjdHgpO1xuICAgICAgICB0aGlzLmNvbnRleHRUb3BEaXJ0eSA9IHRydWU7XG4gICAgICB9XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gcmVuZGVyIG9ubHkgdGhlIHRvcCBjYW52YXMuXG4gICAgICogQWxzbyB1c2VkIHRvIHJlbmRlciB0aGUgZ3JvdXAgc2VsZWN0aW9uIGJveC5cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHJlbmRlclRvcDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGN0eCA9IHRoaXMuY29udGV4dFRvcDtcbiAgICAgIHRoaXMuY2xlYXJDb250ZXh0KGN0eCk7XG4gICAgICB0aGlzLnJlbmRlclRvcExheWVyKGN0eCk7XG4gICAgICB0aGlzLmZpcmUoJ2FmdGVyOnJlbmRlcicpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgY3VycmVudCB0cmFuc2Zvcm0gdG8gaXRzIG9yaWdpbmFsIHZhbHVlcyBhbmQgY2hvb3NlcyB0aGUgdHlwZSBvZiByZXNpemluZyBiYXNlZCBvbiB0aGUgZXZlbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZXNldEN1cnJlbnRUcmFuc2Zvcm06IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHQgPSB0aGlzLl9jdXJyZW50VHJhbnNmb3JtO1xuXG4gICAgICB0LnRhcmdldC5zZXQoe1xuICAgICAgICBzY2FsZVg6IHQub3JpZ2luYWwuc2NhbGVYLFxuICAgICAgICBzY2FsZVk6IHQub3JpZ2luYWwuc2NhbGVZLFxuICAgICAgICBza2V3WDogdC5vcmlnaW5hbC5za2V3WCxcbiAgICAgICAgc2tld1k6IHQub3JpZ2luYWwuc2tld1ksXG4gICAgICAgIGxlZnQ6IHQub3JpZ2luYWwubGVmdCxcbiAgICAgICAgdG9wOiB0Lm9yaWdpbmFsLnRvcFxuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aGlzLl9zaG91bGRDZW50ZXJUcmFuc2Zvcm0odC50YXJnZXQpKSB7XG4gICAgICAgIGlmICh0Lm9yaWdpblggIT09ICdjZW50ZXInKSB7XG4gICAgICAgICAgaWYgKHQub3JpZ2luWCA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgdC5tb3VzZVhTaWduID0gLTE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdC5tb3VzZVhTaWduID0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHQub3JpZ2luWSAhPT0gJ2NlbnRlcicpIHtcbiAgICAgICAgICBpZiAodC5vcmlnaW5ZID09PSAnYm90dG9tJykge1xuICAgICAgICAgICAgdC5tb3VzZVlTaWduID0gLTE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdC5tb3VzZVlTaWduID0gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0Lm9yaWdpblggPSAnY2VudGVyJztcbiAgICAgICAgdC5vcmlnaW5ZID0gJ2NlbnRlcic7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdC5vcmlnaW5YID0gdC5vcmlnaW5hbC5vcmlnaW5YO1xuICAgICAgICB0Lm9yaWdpblkgPSB0Lm9yaWdpbmFsLm9yaWdpblk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBwb2ludCBpcyBjb250YWluZWQgd2l0aGluIGFuIGFyZWEgb2YgZ2l2ZW4gb2JqZWN0XG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IHRhcmdldCBPYmplY3QgdG8gdGVzdCBhZ2FpbnN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtwb2ludF0geCx5IG9iamVjdCBvZiBwb2ludCBjb29yZGluYXRlcyB3ZSB3YW50IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgcG9pbnQgaXMgY29udGFpbmVkIHdpdGhpbiBhbiBhcmVhIG9mIGdpdmVuIG9iamVjdFxuICAgICAqL1xuICAgIGNvbnRhaW5zUG9pbnQ6IGZ1bmN0aW9uIChlLCB0YXJnZXQsIHBvaW50KSB7XG4gICAgICB2YXIgaWdub3JlWm9vbSA9IHRydWUsXG4gICAgICAgICAgcG9pbnRlciA9IHBvaW50IHx8IHRoaXMuZ2V0UG9pbnRlcihlLCBpZ25vcmVab29tKSxcbiAgICAgICAgICB4eTtcblxuICAgICAgaWYgKHRhcmdldC5ncm91cCAmJiB0YXJnZXQuZ3JvdXAgPT09IHRoaXMuX2FjdGl2ZU9iamVjdCAmJiB0YXJnZXQuZ3JvdXAudHlwZSA9PT0gJ2FjdGl2ZVNlbGVjdGlvbicpIHtcbiAgICAgICAgeHkgPSB0aGlzLl9ub3JtYWxpemVQb2ludGVyKHRhcmdldC5ncm91cCwgcG9pbnRlcik7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgeHkgPSB7IHg6IHBvaW50ZXIueCwgeTogcG9pbnRlci55IH07XG4gICAgICB9XG4gICAgICAvLyBodHRwOi8vd3d3Lmdlb2cudWJjLmNhL2NvdXJzZXMva2xpbmsvZ2lzLm5vdGVzL25jZ2lhL3UzMi5odG1sXG4gICAgICAvLyBodHRwOi8vaWRhdi51Y2RhdmlzLmVkdS9+b2tyZXlsb3MvVEFzaGlwL1NwcmluZzIwMDAvUG9pbnRJblBvbHlnb24uaHRtbFxuICAgICAgcmV0dXJuICh0YXJnZXQuY29udGFpbnNQb2ludCh4eSkgfHwgdGFyZ2V0Ll9maW5kVGFyZ2V0Q29ybmVyKHBvaW50ZXIpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfbm9ybWFsaXplUG9pbnRlcjogZnVuY3Rpb24gKG9iamVjdCwgcG9pbnRlcikge1xuICAgICAgdmFyIG0gPSBvYmplY3QuY2FsY1RyYW5zZm9ybU1hdHJpeCgpLFxuICAgICAgICAgIGludmVydGVkTSA9IGZhYnJpYy51dGlsLmludmVydFRyYW5zZm9ybShtKSxcbiAgICAgICAgICB2cHRQb2ludGVyID0gdGhpcy5yZXN0b3JlUG9pbnRlclZwdChwb2ludGVyKTtcbiAgICAgIHJldHVybiBmYWJyaWMudXRpbC50cmFuc2Zvcm1Qb2ludCh2cHRQb2ludGVyLCBpbnZlcnRlZE0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgb2JqZWN0IGlzIHRyYW5zcGFyZW50IGF0IGEgY2VydGFpbiBsb2NhdGlvblxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gdGFyZ2V0IE9iamVjdCB0byBjaGVja1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4IExlZnQgY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5IFRvcCBjb29yZGluYXRlXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBpc1RhcmdldFRyYW5zcGFyZW50OiBmdW5jdGlvbiAodGFyZ2V0LCB4LCB5KSB7XG4gICAgICAvLyBpbiBjYXNlIHRoZSB0YXJnZXQgaXMgdGhlIGFjdGl2ZU9iamVjdCwgd2UgY2Fubm90IGV4ZWN1dGUgdGhpcyBvcHRpbWl6YXRpb25cbiAgICAgIC8vIGJlY2F1c2Ugd2UgbmVlZCB0byBkcmF3IGNvbnRyb2xzIHRvby5cbiAgICAgIGlmICh0YXJnZXQuc2hvdWxkQ2FjaGUoKSAmJiB0YXJnZXQuX2NhY2hlQ2FudmFzICYmIHRhcmdldCAhPT0gdGhpcy5fYWN0aXZlT2JqZWN0KSB7XG4gICAgICAgIHZhciBub3JtYWxpemVkUG9pbnRlciA9IHRoaXMuX25vcm1hbGl6ZVBvaW50ZXIodGFyZ2V0LCB7eDogeCwgeTogeX0pLFxuICAgICAgICAgICAgdGFyZ2V0UmVsYXRpdmVYID0gTWF0aC5tYXgodGFyZ2V0LmNhY2hlVHJhbnNsYXRpb25YICsgKG5vcm1hbGl6ZWRQb2ludGVyLnggKiB0YXJnZXQuem9vbVgpLCAwKSxcbiAgICAgICAgICAgIHRhcmdldFJlbGF0aXZlWSA9IE1hdGgubWF4KHRhcmdldC5jYWNoZVRyYW5zbGF0aW9uWSArIChub3JtYWxpemVkUG9pbnRlci55ICogdGFyZ2V0Lnpvb21ZKSwgMCk7XG5cbiAgICAgICAgdmFyIGlzVHJhbnNwYXJlbnQgPSBmYWJyaWMudXRpbC5pc1RyYW5zcGFyZW50KFxuICAgICAgICAgIHRhcmdldC5fY2FjaGVDb250ZXh0LCBNYXRoLnJvdW5kKHRhcmdldFJlbGF0aXZlWCksIE1hdGgucm91bmQodGFyZ2V0UmVsYXRpdmVZKSwgdGhpcy50YXJnZXRGaW5kVG9sZXJhbmNlKTtcblxuICAgICAgICByZXR1cm4gaXNUcmFuc3BhcmVudDtcbiAgICAgIH1cblxuICAgICAgdmFyIGN0eCA9IHRoaXMuY29udGV4dENhY2hlLFxuICAgICAgICAgIG9yaWdpbmFsQ29sb3IgPSB0YXJnZXQuc2VsZWN0aW9uQmFja2dyb3VuZENvbG9yLCB2ID0gdGhpcy52aWV3cG9ydFRyYW5zZm9ybTtcblxuICAgICAgdGFyZ2V0LnNlbGVjdGlvbkJhY2tncm91bmRDb2xvciA9ICcnO1xuXG4gICAgICB0aGlzLmNsZWFyQ29udGV4dChjdHgpO1xuXG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgY3R4LnRyYW5zZm9ybSh2WzBdLCB2WzFdLCB2WzJdLCB2WzNdLCB2WzRdLCB2WzVdKTtcbiAgICAgIHRhcmdldC5yZW5kZXIoY3R4KTtcbiAgICAgIGN0eC5yZXN0b3JlKCk7XG5cbiAgICAgIHRhcmdldCA9PT0gdGhpcy5fYWN0aXZlT2JqZWN0ICYmIHRhcmdldC5fcmVuZGVyQ29udHJvbHMoY3R4LCB7XG4gICAgICAgIGhhc0JvcmRlcnM6IGZhbHNlLFxuICAgICAgICB0cmFuc3BhcmVudENvcm5lcnM6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGhhc0JvcmRlcnM6IGZhbHNlLFxuICAgICAgfSk7XG5cbiAgICAgIHRhcmdldC5zZWxlY3Rpb25CYWNrZ3JvdW5kQ29sb3IgPSBvcmlnaW5hbENvbG9yO1xuXG4gICAgICB2YXIgaXNUcmFuc3BhcmVudCA9IGZhYnJpYy51dGlsLmlzVHJhbnNwYXJlbnQoXG4gICAgICAgIGN0eCwgeCwgeSwgdGhpcy50YXJnZXRGaW5kVG9sZXJhbmNlKTtcblxuICAgICAgcmV0dXJuIGlzVHJhbnNwYXJlbnQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHRha2VzIGFuIGV2ZW50IGFuZCBkZXRlcm1pbnMgaWYgc2VsZWN0aW9uIGtleSBoYXMgYmVlbiBwcmVzc2VkXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgICAqL1xuICAgIF9pc1NlbGVjdGlvbktleVByZXNzZWQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIHZhciBzZWxlY3Rpb25LZXlQcmVzc2VkID0gZmFsc2U7XG5cbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodGhpcy5zZWxlY3Rpb25LZXkpID09PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICAgIHNlbGVjdGlvbktleVByZXNzZWQgPSAhIXRoaXMuc2VsZWN0aW9uS2V5LmZpbmQoZnVuY3Rpb24oa2V5KSB7IHJldHVybiBlW2tleV0gPT09IHRydWU7IH0pO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHNlbGVjdGlvbktleVByZXNzZWQgPSBlW3RoaXMuc2VsZWN0aW9uS2V5XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNlbGVjdGlvbktleVByZXNzZWQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IHRhcmdldFxuICAgICAqL1xuICAgIF9zaG91bGRDbGVhclNlbGVjdGlvbjogZnVuY3Rpb24gKGUsIHRhcmdldCkge1xuICAgICAgdmFyIGFjdGl2ZU9iamVjdHMgPSB0aGlzLmdldEFjdGl2ZU9iamVjdHMoKSxcbiAgICAgICAgICBhY3RpdmVPYmplY3QgPSB0aGlzLl9hY3RpdmVPYmplY3Q7XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgICF0YXJnZXRcbiAgICAgICAgfHxcbiAgICAgICAgKHRhcmdldCAmJlxuICAgICAgICAgIGFjdGl2ZU9iamVjdCAmJlxuICAgICAgICAgIGFjdGl2ZU9iamVjdHMubGVuZ3RoID4gMSAmJlxuICAgICAgICAgIGFjdGl2ZU9iamVjdHMuaW5kZXhPZih0YXJnZXQpID09PSAtMSAmJlxuICAgICAgICAgIGFjdGl2ZU9iamVjdCAhPT0gdGFyZ2V0ICYmXG4gICAgICAgICAgIXRoaXMuX2lzU2VsZWN0aW9uS2V5UHJlc3NlZChlKSlcbiAgICAgICAgfHxcbiAgICAgICAgKHRhcmdldCAmJiAhdGFyZ2V0LmV2ZW50ZWQpXG4gICAgICAgIHx8XG4gICAgICAgICh0YXJnZXQgJiZcbiAgICAgICAgICAhdGFyZ2V0LnNlbGVjdGFibGUgJiZcbiAgICAgICAgICBhY3RpdmVPYmplY3QgJiZcbiAgICAgICAgICBhY3RpdmVPYmplY3QgIT09IHRhcmdldClcbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNlbnRlcmVkU2NhbGluZyBmcm9tIG9iamVjdCBjYW4ndCBvdmVycmlkZSBjZW50ZXJlZFNjYWxpbmcgZnJvbSBjYW52YXMuXG4gICAgICogdGhpcyBzaG91bGQgYmUgZml4ZWQsIHNpbmNlIG9iamVjdCBzZXR0aW5nIHNob3VsZCB0YWtlIHByZWNlZGVuY2Ugb3ZlciBjYW52YXMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IHRhcmdldFxuICAgICAqL1xuICAgIF9zaG91bGRDZW50ZXJUcmFuc2Zvcm06IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHQgPSB0aGlzLl9jdXJyZW50VHJhbnNmb3JtLFxuICAgICAgICAgIGNlbnRlclRyYW5zZm9ybTtcblxuICAgICAgaWYgKHQuYWN0aW9uID09PSAnc2NhbGUnIHx8IHQuYWN0aW9uID09PSAnc2NhbGVYJyB8fCB0LmFjdGlvbiA9PT0gJ3NjYWxlWScpIHtcbiAgICAgICAgY2VudGVyVHJhbnNmb3JtID0gdGhpcy5jZW50ZXJlZFNjYWxpbmcgfHwgdGFyZ2V0LmNlbnRlcmVkU2NhbGluZztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHQuYWN0aW9uID09PSAncm90YXRlJykge1xuICAgICAgICBjZW50ZXJUcmFuc2Zvcm0gPSB0aGlzLmNlbnRlcmVkUm90YXRpb24gfHwgdGFyZ2V0LmNlbnRlcmVkUm90YXRpb247XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjZW50ZXJUcmFuc2Zvcm0gPyAhdC5hbHRLZXkgOiB0LmFsdEtleTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2V0T3JpZ2luRnJvbUNvcm5lcjogZnVuY3Rpb24odGFyZ2V0LCBjb3JuZXIpIHtcbiAgICAgIHZhciBvcmlnaW4gPSB7XG4gICAgICAgIHg6IHRhcmdldC5vcmlnaW5YLFxuICAgICAgICB5OiB0YXJnZXQub3JpZ2luWVxuICAgICAgfTtcblxuICAgICAgaWYgKGNvcm5lciA9PT0gJ21sJyB8fCBjb3JuZXIgPT09ICd0bCcgfHwgY29ybmVyID09PSAnYmwnKSB7XG4gICAgICAgIG9yaWdpbi54ID0gJ3JpZ2h0JztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGNvcm5lciA9PT0gJ21yJyB8fCBjb3JuZXIgPT09ICd0cicgfHwgY29ybmVyID09PSAnYnInKSB7XG4gICAgICAgIG9yaWdpbi54ID0gJ2xlZnQnO1xuICAgICAgfVxuXG4gICAgICBpZiAoY29ybmVyID09PSAndGwnIHx8IGNvcm5lciA9PT0gJ210JyB8fCBjb3JuZXIgPT09ICd0cicpIHtcbiAgICAgICAgb3JpZ2luLnkgPSAnYm90dG9tJztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGNvcm5lciA9PT0gJ2JsJyB8fCBjb3JuZXIgPT09ICdtYicgfHwgY29ybmVyID09PSAnYnInKSB7XG4gICAgICAgIG9yaWdpbi55ID0gJ3RvcCc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvcmlnaW47XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBhbHJlYWR5U2VsZWN0ZWQgdHJ1ZSBpZiB0YXJnZXQgaXMgYWxyZWFkeSBzZWxlY3RlZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb3JuZXIgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBjb3JuZXIgbWwsIG1yLCB0bCAuLi5cbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gW3RhcmdldF0gaW5zZXJ0ZWQgYmFjayB0byBoZWxwIG92ZXJyaWRpbmcuIFVudXNlZFxuICAgICAqL1xuICAgIF9nZXRBY3Rpb25Gcm9tQ29ybmVyOiBmdW5jdGlvbihhbHJlYWR5U2VsZWN0ZWQsIGNvcm5lciwgZSAvKiB0YXJnZXQgKi8pIHtcbiAgICAgIGlmICghY29ybmVyIHx8ICFhbHJlYWR5U2VsZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuICdkcmFnJztcbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChjb3JuZXIpIHtcbiAgICAgICAgY2FzZSAnbXRyJzpcbiAgICAgICAgICByZXR1cm4gJ3JvdGF0ZSc7XG4gICAgICAgIGNhc2UgJ21sJzpcbiAgICAgICAgY2FzZSAnbXInOlxuICAgICAgICAgIHJldHVybiBlW3RoaXMuYWx0QWN0aW9uS2V5XSA/ICdza2V3WScgOiAnc2NhbGVYJztcbiAgICAgICAgY2FzZSAnbXQnOlxuICAgICAgICBjYXNlICdtYic6XG4gICAgICAgICAgcmV0dXJuIGVbdGhpcy5hbHRBY3Rpb25LZXldID8gJ3NrZXdYJyA6ICdzY2FsZVknO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiAnc2NhbGUnO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSB0YXJnZXRcbiAgICAgKi9cbiAgICBfc2V0dXBDdXJyZW50VHJhbnNmb3JtOiBmdW5jdGlvbiAoZSwgdGFyZ2V0LCBhbHJlYWR5U2VsZWN0ZWQpIHtcbiAgICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHBvaW50ZXIgPSB0aGlzLmdldFBvaW50ZXIoZSksXG4gICAgICAgICAgY29ybmVyID0gdGFyZ2V0Ll9maW5kVGFyZ2V0Q29ybmVyKHRoaXMuZ2V0UG9pbnRlcihlLCB0cnVlKSksXG4gICAgICAgICAgYWN0aW9uID0gdGhpcy5fZ2V0QWN0aW9uRnJvbUNvcm5lcihhbHJlYWR5U2VsZWN0ZWQsIGNvcm5lciwgZSwgdGFyZ2V0KSxcbiAgICAgICAgICBvcmlnaW4gPSB0aGlzLl9nZXRPcmlnaW5Gcm9tQ29ybmVyKHRhcmdldCwgY29ybmVyKTtcblxuICAgICAgdGhpcy5fY3VycmVudFRyYW5zZm9ybSA9IHtcbiAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICBjb3JuZXI6IGNvcm5lcixcbiAgICAgICAgc2NhbGVYOiB0YXJnZXQuc2NhbGVYLFxuICAgICAgICBzY2FsZVk6IHRhcmdldC5zY2FsZVksXG4gICAgICAgIHNrZXdYOiB0YXJnZXQuc2tld1gsXG4gICAgICAgIHNrZXdZOiB0YXJnZXQuc2tld1ksXG4gICAgICAgIC8vIHVzZWQgYnkgdHJhbnNhdGlvblxuICAgICAgICBvZmZzZXRYOiBwb2ludGVyLnggLSB0YXJnZXQubGVmdCxcbiAgICAgICAgb2Zmc2V0WTogcG9pbnRlci55IC0gdGFyZ2V0LnRvcCxcbiAgICAgICAgb3JpZ2luWDogb3JpZ2luLngsXG4gICAgICAgIG9yaWdpblk6IG9yaWdpbi55LFxuICAgICAgICBleDogcG9pbnRlci54LFxuICAgICAgICBleTogcG9pbnRlci55LFxuICAgICAgICBsYXN0WDogcG9pbnRlci54LFxuICAgICAgICBsYXN0WTogcG9pbnRlci55LFxuICAgICAgICAvLyB1bnN1cmUgdGhleSBhcmUgdXNlZnVsbCBhbnltb3JlLlxuICAgICAgICAvLyBsZWZ0OiB0YXJnZXQubGVmdCxcbiAgICAgICAgLy8gdG9wOiB0YXJnZXQudG9wLFxuICAgICAgICB0aGV0YTogZGVncmVlc1RvUmFkaWFucyh0YXJnZXQuYW5nbGUpLFxuICAgICAgICAvLyBlbmQgb2YgdW5zdXJlXG4gICAgICAgIHdpZHRoOiB0YXJnZXQud2lkdGggKiB0YXJnZXQuc2NhbGVYLFxuICAgICAgICBtb3VzZVhTaWduOiAxLFxuICAgICAgICBtb3VzZVlTaWduOiAxLFxuICAgICAgICBzaGlmdEtleTogZS5zaGlmdEtleSxcbiAgICAgICAgYWx0S2V5OiBlW3RoaXMuY2VudGVyZWRLZXldLFxuICAgICAgICBvcmlnaW5hbDogZmFicmljLnV0aWwuc2F2ZU9iamVjdFRyYW5zZm9ybSh0YXJnZXQpLFxuICAgICAgfTtcblxuICAgICAgdGhpcy5fY3VycmVudFRyYW5zZm9ybS5vcmlnaW5hbC5vcmlnaW5YID0gb3JpZ2luLng7XG4gICAgICB0aGlzLl9jdXJyZW50VHJhbnNmb3JtLm9yaWdpbmFsLm9yaWdpblkgPSBvcmlnaW4ueTtcblxuICAgICAgdGhpcy5fcmVzZXRDdXJyZW50VHJhbnNmb3JtKCk7XG4gICAgICB0aGlzLl9iZWZvcmVUcmFuc2Zvcm0oZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRyYW5zbGF0ZXMgb2JqZWN0IGJ5IFwic2V0dGluZ1wiIGl0cyBsZWZ0L3RvcFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHggcG9pbnRlcidzIHggY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5IHBvaW50ZXIncyB5IGNvb3JkaW5hdGVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHRoZSB0cmFuc2xhdGlvbiBvY2N1cnJlZFxuICAgICAqL1xuICAgIF90cmFuc2xhdGVPYmplY3Q6IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICB2YXIgdHJhbnNmb3JtID0gdGhpcy5fY3VycmVudFRyYW5zZm9ybSxcbiAgICAgICAgICB0YXJnZXQgPSB0cmFuc2Zvcm0udGFyZ2V0LFxuICAgICAgICAgIG5ld0xlZnQgPSB4IC0gdHJhbnNmb3JtLm9mZnNldFgsXG4gICAgICAgICAgbmV3VG9wID0geSAtIHRyYW5zZm9ybS5vZmZzZXRZLFxuICAgICAgICAgIG1vdmVYID0gIXRhcmdldC5nZXQoJ2xvY2tNb3ZlbWVudFgnKSAmJiB0YXJnZXQubGVmdCAhPT0gbmV3TGVmdCxcbiAgICAgICAgICBtb3ZlWSA9ICF0YXJnZXQuZ2V0KCdsb2NrTW92ZW1lbnRZJykgJiYgdGFyZ2V0LnRvcCAhPT0gbmV3VG9wO1xuXG4gICAgICBtb3ZlWCAmJiB0YXJnZXQuc2V0KCdsZWZ0JywgbmV3TGVmdCk7XG4gICAgICBtb3ZlWSAmJiB0YXJnZXQuc2V0KCd0b3AnLCBuZXdUb3ApO1xuICAgICAgcmV0dXJuIG1vdmVYIHx8IG1vdmVZO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB3ZSBhcmUgaW5jcmVhc2luZyBhIHBvc2l0aXZlIHNrZXcgb3IgbG93ZXIgaXQsXG4gICAgICogY2hlY2tpbmcgbW91c2UgZGlyZWN0aW9uIGFuZCBwcmVzc2VkIGNvcm5lci5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jaGFuZ2VTa2V3VHJhbnNmb3JtT3JpZ2luOiBmdW5jdGlvbihtb3VzZU1vdmUsIHQsIGJ5KSB7XG4gICAgICB2YXIgcHJvcGVydHkgPSAnb3JpZ2luWCcsIG9yaWdpbnMgPSB7IDA6ICdjZW50ZXInIH0sXG4gICAgICAgICAgc2tldyA9IHQudGFyZ2V0LnNrZXdYLCBvcmlnaW5BID0gJ2xlZnQnLCBvcmlnaW5CID0gJ3JpZ2h0JyxcbiAgICAgICAgICBjb3JuZXIgPSB0LmNvcm5lciA9PT0gJ210JyB8fCB0LmNvcm5lciA9PT0gJ21sJyA/IDEgOiAtMSxcbiAgICAgICAgICBmbGlwU2lnbiA9IDE7XG5cbiAgICAgIG1vdXNlTW92ZSA9IG1vdXNlTW92ZSA+IDAgPyAxIDogLTE7XG4gICAgICBpZiAoYnkgPT09ICd5Jykge1xuICAgICAgICBza2V3ID0gdC50YXJnZXQuc2tld1k7XG4gICAgICAgIG9yaWdpbkEgPSAndG9wJztcbiAgICAgICAgb3JpZ2luQiA9ICdib3R0b20nO1xuICAgICAgICBwcm9wZXJ0eSA9ICdvcmlnaW5ZJztcbiAgICAgIH1cbiAgICAgIG9yaWdpbnNbLTFdID0gb3JpZ2luQTtcbiAgICAgIG9yaWdpbnNbMV0gPSBvcmlnaW5CO1xuXG4gICAgICB0LnRhcmdldC5mbGlwWCAmJiAoZmxpcFNpZ24gKj0gLTEpO1xuICAgICAgdC50YXJnZXQuZmxpcFkgJiYgKGZsaXBTaWduICo9IC0xKTtcblxuICAgICAgaWYgKHNrZXcgPT09IDApIHtcbiAgICAgICAgdC5za2V3U2lnbiA9IC1jb3JuZXIgKiBtb3VzZU1vdmUgKiBmbGlwU2lnbjtcbiAgICAgICAgdFtwcm9wZXJ0eV0gPSBvcmlnaW5zWy1tb3VzZU1vdmVdO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHNrZXcgPSBza2V3ID4gMCA/IDEgOiAtMTtcbiAgICAgICAgdC5za2V3U2lnbiA9IHNrZXc7XG4gICAgICAgIHRbcHJvcGVydHldID0gb3JpZ2luc1tza2V3ICogY29ybmVyICogZmxpcFNpZ25dO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTa2V3IG9iamVjdCBieSBtb3VzZSBldmVudHNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4IHBvaW50ZXIncyB4IGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geSBwb2ludGVyJ3MgeSBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGJ5IEVpdGhlciAneCcgb3IgJ3knXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgc2tld2luZyBvY2N1cnJlZFxuICAgICAqL1xuICAgIF9za2V3T2JqZWN0OiBmdW5jdGlvbiAoeCwgeSwgYnkpIHtcbiAgICAgIHZhciB0ID0gdGhpcy5fY3VycmVudFRyYW5zZm9ybSxcbiAgICAgICAgICB0YXJnZXQgPSB0LnRhcmdldCwgc2tld2VkID0gZmFsc2UsXG4gICAgICAgICAgbG9ja1NrZXdpbmdYID0gdGFyZ2V0LmdldCgnbG9ja1NrZXdpbmdYJyksXG4gICAgICAgICAgbG9ja1NrZXdpbmdZID0gdGFyZ2V0LmdldCgnbG9ja1NrZXdpbmdZJyk7XG5cbiAgICAgIGlmICgobG9ja1NrZXdpbmdYICYmIGJ5ID09PSAneCcpIHx8IChsb2NrU2tld2luZ1kgJiYgYnkgPT09ICd5JykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBHZXQgdGhlIGNvbnN0cmFpbnQgcG9pbnRcbiAgICAgIHZhciBjZW50ZXIgPSB0YXJnZXQuZ2V0Q2VudGVyUG9pbnQoKSxcbiAgICAgICAgICBhY3R1YWxNb3VzZUJ5Q2VudGVyID0gdGFyZ2V0LnRvTG9jYWxQb2ludChuZXcgZmFicmljLlBvaW50KHgsIHkpLCAnY2VudGVyJywgJ2NlbnRlcicpW2J5XSxcbiAgICAgICAgICBsYXN0TW91c2VCeUNlbnRlciA9IHRhcmdldC50b0xvY2FsUG9pbnQobmV3IGZhYnJpYy5Qb2ludCh0Lmxhc3RYLCB0Lmxhc3RZKSwgJ2NlbnRlcicsICdjZW50ZXInKVtieV0sXG4gICAgICAgICAgYWN0dWFsTW91c2VCeU9yaWdpbiwgY29uc3RyYWludFBvc2l0aW9uLCBkaW0gPSB0YXJnZXQuX2dldFRyYW5zZm9ybWVkRGltZW5zaW9ucygpO1xuXG4gICAgICB0aGlzLl9jaGFuZ2VTa2V3VHJhbnNmb3JtT3JpZ2luKGFjdHVhbE1vdXNlQnlDZW50ZXIgLSBsYXN0TW91c2VCeUNlbnRlciwgdCwgYnkpO1xuICAgICAgYWN0dWFsTW91c2VCeU9yaWdpbiA9IHRhcmdldC50b0xvY2FsUG9pbnQobmV3IGZhYnJpYy5Qb2ludCh4LCB5KSwgdC5vcmlnaW5YLCB0Lm9yaWdpblkpW2J5XTtcbiAgICAgIGNvbnN0cmFpbnRQb3NpdGlvbiA9IHRhcmdldC50cmFuc2xhdGVUb09yaWdpblBvaW50KGNlbnRlciwgdC5vcmlnaW5YLCB0Lm9yaWdpblkpO1xuICAgICAgLy8gQWN0dWFsbHkgc2tldyB0aGUgb2JqZWN0XG4gICAgICBza2V3ZWQgPSB0aGlzLl9zZXRPYmplY3RTa2V3KGFjdHVhbE1vdXNlQnlPcmlnaW4sIHQsIGJ5LCBkaW0pO1xuICAgICAgdC5sYXN0WCA9IHg7XG4gICAgICB0Lmxhc3RZID0geTtcbiAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgY29uc3RyYWludHMgYXBwbHlcbiAgICAgIHRhcmdldC5zZXRQb3NpdGlvbkJ5T3JpZ2luKGNvbnN0cmFpbnRQb3NpdGlvbiwgdC5vcmlnaW5YLCB0Lm9yaWdpblkpO1xuICAgICAgcmV0dXJuIHNrZXdlZDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0IG9iamVjdCBza2V3XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHRoZSBza2V3aW5nIG9jY3VycmVkXG4gICAgICovXG4gICAgX3NldE9iamVjdFNrZXc6IGZ1bmN0aW9uKGxvY2FsTW91c2UsIHRyYW5zZm9ybSwgYnksIF9kaW0pIHtcbiAgICAgIHZhciB0YXJnZXQgPSB0cmFuc2Zvcm0udGFyZ2V0LCBuZXdWYWx1ZSwgc2tld2VkID0gZmFsc2UsXG4gICAgICAgICAgc2tld1NpZ24gPSB0cmFuc2Zvcm0uc2tld1NpZ24sIG5ld0RpbSwgZGltTm9Ta2V3LFxuICAgICAgICAgIG90aGVyQnksIF9vdGhlckJ5LCBfYnksIG5ld0RpbU1vdXNlLCBza2V3WCwgc2tld1k7XG5cbiAgICAgIGlmIChieSA9PT0gJ3gnKSB7XG4gICAgICAgIG90aGVyQnkgPSAneSc7XG4gICAgICAgIF9vdGhlckJ5ID0gJ1knO1xuICAgICAgICBfYnkgPSAnWCc7XG4gICAgICAgIHNrZXdYID0gMDtcbiAgICAgICAgc2tld1kgPSB0YXJnZXQuc2tld1k7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgb3RoZXJCeSA9ICd4JztcbiAgICAgICAgX290aGVyQnkgPSAnWCc7XG4gICAgICAgIF9ieSA9ICdZJztcbiAgICAgICAgc2tld1ggPSB0YXJnZXQuc2tld1g7XG4gICAgICAgIHNrZXdZID0gMDtcbiAgICAgIH1cblxuICAgICAgZGltTm9Ta2V3ID0gdGFyZ2V0Ll9nZXRUcmFuc2Zvcm1lZERpbWVuc2lvbnMoc2tld1gsIHNrZXdZKTtcbiAgICAgIG5ld0RpbU1vdXNlID0gMiAqIE1hdGguYWJzKGxvY2FsTW91c2UpIC0gZGltTm9Ta2V3W2J5XTtcbiAgICAgIGlmIChuZXdEaW1Nb3VzZSA8PSAyKSB7XG4gICAgICAgIG5ld1ZhbHVlID0gMDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBuZXdWYWx1ZSA9IHNrZXdTaWduICogTWF0aC5hdGFuKChuZXdEaW1Nb3VzZSAvIHRhcmdldFsnc2NhbGUnICsgX2J5XSkgL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChkaW1Ob1NrZXdbb3RoZXJCeV0gLyB0YXJnZXRbJ3NjYWxlJyArIF9vdGhlckJ5XSkpO1xuICAgICAgICBuZXdWYWx1ZSA9IGZhYnJpYy51dGlsLnJhZGlhbnNUb0RlZ3JlZXMobmV3VmFsdWUpO1xuICAgICAgfVxuICAgICAgc2tld2VkID0gdGFyZ2V0Wydza2V3JyArIF9ieV0gIT09IG5ld1ZhbHVlO1xuICAgICAgdGFyZ2V0LnNldCgnc2tldycgKyBfYnksIG5ld1ZhbHVlKTtcbiAgICAgIGlmICh0YXJnZXRbJ3NrZXcnICsgX290aGVyQnldICE9PSAwKSB7XG4gICAgICAgIG5ld0RpbSA9IHRhcmdldC5fZ2V0VHJhbnNmb3JtZWREaW1lbnNpb25zKCk7XG4gICAgICAgIG5ld1ZhbHVlID0gKF9kaW1bb3RoZXJCeV0gLyBuZXdEaW1bb3RoZXJCeV0pICogdGFyZ2V0WydzY2FsZScgKyBfb3RoZXJCeV07XG4gICAgICAgIHRhcmdldC5zZXQoJ3NjYWxlJyArIF9vdGhlckJ5LCBuZXdWYWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2tld2VkO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTY2FsZXMgb2JqZWN0IGJ5IGludm9raW5nIGl0cyBzY2FsZVgvc2NhbGVZIG1ldGhvZHNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4IHBvaW50ZXIncyB4IGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geSBwb2ludGVyJ3MgeSBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGJ5IEVpdGhlciAneCcgb3IgJ3knIC0gc3BlY2lmaWVzIGRpbWVuc2lvbiBjb25zdHJhaW50IGJ5IHdoaWNoIHRvIHNjYWxlIGFuIG9iamVjdC5cbiAgICAgKiAgICAgICAgICAgICAgICAgICAgV2hlbiBub3QgcHJvdmlkZWQsIGFuIG9iamVjdCBpcyBzY2FsZWQgYnkgYm90aCBkaW1lbnNpb25zIGVxdWFsbHlcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHRoZSBzY2FsaW5nIG9jY3VycmVkXG4gICAgICovXG4gICAgX3NjYWxlT2JqZWN0OiBmdW5jdGlvbiAoeCwgeSwgYnkpIHtcbiAgICAgIHZhciB0ID0gdGhpcy5fY3VycmVudFRyYW5zZm9ybSxcbiAgICAgICAgICB0YXJnZXQgPSB0LnRhcmdldCxcbiAgICAgICAgICBsb2NrU2NhbGluZ1ggPSB0YXJnZXQubG9ja1NjYWxpbmdYLFxuICAgICAgICAgIGxvY2tTY2FsaW5nWSA9IHRhcmdldC5sb2NrU2NhbGluZ1ksXG4gICAgICAgICAgbG9ja1NjYWxpbmdGbGlwID0gdGFyZ2V0LmxvY2tTY2FsaW5nRmxpcDtcblxuICAgICAgaWYgKGxvY2tTY2FsaW5nWCAmJiBsb2NrU2NhbGluZ1kpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBHZXQgdGhlIGNvbnN0cmFpbnQgcG9pbnRcbiAgICAgIHZhciBjb25zdHJhaW50UG9zaXRpb24gPSB0YXJnZXQudHJhbnNsYXRlVG9PcmlnaW5Qb2ludCh0YXJnZXQuZ2V0Q2VudGVyUG9pbnQoKSwgdC5vcmlnaW5YLCB0Lm9yaWdpblkpLFxuICAgICAgICAgIGxvY2FsTW91c2UgPSB0YXJnZXQudG9Mb2NhbFBvaW50KG5ldyBmYWJyaWMuUG9pbnQoeCwgeSksIHQub3JpZ2luWCwgdC5vcmlnaW5ZKSxcbiAgICAgICAgICBkaW0gPSB0YXJnZXQuX2dldFRyYW5zZm9ybWVkRGltZW5zaW9ucygpLCBzY2FsZWQgPSBmYWxzZTtcblxuICAgICAgdGhpcy5fc2V0TG9jYWxNb3VzZShsb2NhbE1vdXNlLCB0KTtcblxuICAgICAgLy8gQWN0dWFsbHkgc2NhbGUgdGhlIG9iamVjdFxuICAgICAgc2NhbGVkID0gdGhpcy5fc2V0T2JqZWN0U2NhbGUobG9jYWxNb3VzZSwgdCwgbG9ja1NjYWxpbmdYLCBsb2NrU2NhbGluZ1ksIGJ5LCBsb2NrU2NhbGluZ0ZsaXAsIGRpbSk7XG5cbiAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgY29uc3RyYWludHMgYXBwbHlcbiAgICAgIHRhcmdldC5zZXRQb3NpdGlvbkJ5T3JpZ2luKGNvbnN0cmFpbnRQb3NpdGlvbiwgdC5vcmlnaW5YLCB0Lm9yaWdpblkpO1xuICAgICAgcmV0dXJuIHNjYWxlZDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHRoZSBzY2FsaW5nIG9jY3VycmVkXG4gICAgICovXG4gICAgX3NldE9iamVjdFNjYWxlOiBmdW5jdGlvbihsb2NhbE1vdXNlLCB0cmFuc2Zvcm0sIGxvY2tTY2FsaW5nWCwgbG9ja1NjYWxpbmdZLCBieSwgbG9ja1NjYWxpbmdGbGlwLCBfZGltKSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gdHJhbnNmb3JtLnRhcmdldCwgZm9yYmlkU2NhbGluZ1ggPSBmYWxzZSwgZm9yYmlkU2NhbGluZ1kgPSBmYWxzZSwgc2NhbGVkID0gZmFsc2UsXG4gICAgICAgICAgc2NhbGVYID0gbG9jYWxNb3VzZS54ICogdGFyZ2V0LnNjYWxlWCAvIF9kaW0ueCxcbiAgICAgICAgICBzY2FsZVkgPSBsb2NhbE1vdXNlLnkgKiB0YXJnZXQuc2NhbGVZIC8gX2RpbS55LFxuICAgICAgICAgIGNoYW5nZVggPSB0YXJnZXQuc2NhbGVYICE9PSBzY2FsZVgsXG4gICAgICAgICAgY2hhbmdlWSA9IHRhcmdldC5zY2FsZVkgIT09IHNjYWxlWTtcblxuICAgICAgdHJhbnNmb3JtLm5ld1NjYWxlWCA9IHNjYWxlWDtcbiAgICAgIHRyYW5zZm9ybS5uZXdTY2FsZVkgPSBzY2FsZVk7XG4gICAgICBpZiAoZmFicmljLlRleHRib3ggJiYgYnkgPT09ICd4JyAmJiB0YXJnZXQgaW5zdGFuY2VvZiBmYWJyaWMuVGV4dGJveCkge1xuICAgICAgICB2YXIgdyA9IHRhcmdldC53aWR0aCAqIChsb2NhbE1vdXNlLnggLyBfZGltLngpO1xuICAgICAgICBpZiAodyA+PSB0YXJnZXQuZ2V0TWluV2lkdGgoKSkge1xuICAgICAgICAgIHNjYWxlZCA9IHcgIT09IHRhcmdldC53aWR0aDtcbiAgICAgICAgICB0YXJnZXQuc2V0KCd3aWR0aCcsIHcpO1xuICAgICAgICAgIHJldHVybiBzY2FsZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAobG9ja1NjYWxpbmdGbGlwICYmIHNjYWxlWCA8PSAwICYmIHNjYWxlWCA8IHRhcmdldC5zY2FsZVgpIHtcbiAgICAgICAgZm9yYmlkU2NhbGluZ1ggPSB0cnVlO1xuICAgICAgICBsb2NhbE1vdXNlLnggPSAwO1xuICAgICAgfVxuXG4gICAgICBpZiAobG9ja1NjYWxpbmdGbGlwICYmIHNjYWxlWSA8PSAwICYmIHNjYWxlWSA8IHRhcmdldC5zY2FsZVkpIHtcbiAgICAgICAgZm9yYmlkU2NhbGluZ1kgPSB0cnVlO1xuICAgICAgICBsb2NhbE1vdXNlLnkgPSAwO1xuICAgICAgfVxuXG4gICAgICBpZiAoYnkgPT09ICdlcXVhbGx5JyAmJiAhbG9ja1NjYWxpbmdYICYmICFsb2NrU2NhbGluZ1kpIHtcbiAgICAgICAgc2NhbGVkID0gdGhpcy5fc2NhbGVPYmplY3RFcXVhbGx5KGxvY2FsTW91c2UsIHRhcmdldCwgdHJhbnNmb3JtLCBfZGltKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCFieSkge1xuICAgICAgICBmb3JiaWRTY2FsaW5nWCB8fCBsb2NrU2NhbGluZ1ggfHwgKHRhcmdldC5zZXQoJ3NjYWxlWCcsIHNjYWxlWCkgJiYgKHNjYWxlZCA9IHNjYWxlZCB8fCBjaGFuZ2VYKSk7XG4gICAgICAgIGZvcmJpZFNjYWxpbmdZIHx8IGxvY2tTY2FsaW5nWSB8fCAodGFyZ2V0LnNldCgnc2NhbGVZJywgc2NhbGVZKSAmJiAoc2NhbGVkID0gc2NhbGVkIHx8IGNoYW5nZVkpKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGJ5ID09PSAneCcgJiYgIXRhcmdldC5nZXQoJ2xvY2tVbmlTY2FsaW5nJykpIHtcbiAgICAgICAgZm9yYmlkU2NhbGluZ1ggfHwgbG9ja1NjYWxpbmdYIHx8ICh0YXJnZXQuc2V0KCdzY2FsZVgnLCBzY2FsZVgpICYmIChzY2FsZWQgPSBjaGFuZ2VYKSk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChieSA9PT0gJ3knICYmICF0YXJnZXQuZ2V0KCdsb2NrVW5pU2NhbGluZycpKSB7XG4gICAgICAgIGZvcmJpZFNjYWxpbmdZIHx8IGxvY2tTY2FsaW5nWSB8fCAodGFyZ2V0LnNldCgnc2NhbGVZJywgc2NhbGVZKSAmJiAoc2NhbGVkID0gY2hhbmdlWSkpO1xuICAgICAgfVxuICAgICAgZm9yYmlkU2NhbGluZ1ggfHwgZm9yYmlkU2NhbGluZ1kgfHwgdGhpcy5fZmxpcE9iamVjdCh0cmFuc2Zvcm0sIGJ5KTtcbiAgICAgIHJldHVybiBzY2FsZWQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgc2NhbGluZyBvY2N1cnJlZFxuICAgICAqL1xuICAgIF9zY2FsZU9iamVjdEVxdWFsbHk6IGZ1bmN0aW9uKGxvY2FsTW91c2UsIHRhcmdldCwgdHJhbnNmb3JtLCBfZGltKSB7XG5cbiAgICAgIHZhciBkaXN0ID0gbG9jYWxNb3VzZS55ICsgbG9jYWxNb3VzZS54LFxuICAgICAgICAgIGxhc3REaXN0ID0gX2RpbS55ICogdHJhbnNmb3JtLm9yaWdpbmFsLnNjYWxlWSAvIHRhcmdldC5zY2FsZVkgK1xuICAgICAgICAgICAgICAgICAgICAgX2RpbS54ICogdHJhbnNmb3JtLm9yaWdpbmFsLnNjYWxlWCAvIHRhcmdldC5zY2FsZVgsXG4gICAgICAgICAgc2NhbGVkLCBzaWduWCA9IGxvY2FsTW91c2UueCA8IDAgPyAtMSA6IDEsXG4gICAgICAgICAgc2lnblkgPSBsb2NhbE1vdXNlLnkgPCAwID8gLTEgOiAxLCBuZXdTY2FsZVgsIG5ld1NjYWxlWTtcblxuICAgICAgLy8gV2UgdXNlIHRyYW5zZm9ybS5zY2FsZVgvWSBpbnN0ZWFkIG9mIHRhcmdldC5zY2FsZVgvWVxuICAgICAgLy8gYmVjYXVzZSB0aGUgb2JqZWN0IG1heSBoYXZlIGEgbWluIHNjYWxlIGFuZCB3ZSdsbCBsb29zZSB0aGUgcHJvcG9ydGlvbnNcbiAgICAgIG5ld1NjYWxlWCA9IHNpZ25YICogTWF0aC5hYnModHJhbnNmb3JtLm9yaWdpbmFsLnNjYWxlWCAqIGRpc3QgLyBsYXN0RGlzdCk7XG4gICAgICBuZXdTY2FsZVkgPSBzaWduWSAqIE1hdGguYWJzKHRyYW5zZm9ybS5vcmlnaW5hbC5zY2FsZVkgKiBkaXN0IC8gbGFzdERpc3QpO1xuICAgICAgc2NhbGVkID0gbmV3U2NhbGVYICE9PSB0YXJnZXQuc2NhbGVYIHx8IG5ld1NjYWxlWSAhPT0gdGFyZ2V0LnNjYWxlWTtcbiAgICAgIHRhcmdldC5zZXQoJ3NjYWxlWCcsIG5ld1NjYWxlWCk7XG4gICAgICB0YXJnZXQuc2V0KCdzY2FsZVknLCBuZXdTY2FsZVkpO1xuICAgICAgcmV0dXJuIHNjYWxlZDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZmxpcE9iamVjdDogZnVuY3Rpb24odHJhbnNmb3JtLCBieSkge1xuICAgICAgaWYgKHRyYW5zZm9ybS5uZXdTY2FsZVggPCAwICYmIGJ5ICE9PSAneScpIHtcbiAgICAgICAgaWYgKHRyYW5zZm9ybS5vcmlnaW5YID09PSAnbGVmdCcpIHtcbiAgICAgICAgICB0cmFuc2Zvcm0ub3JpZ2luWCA9ICdyaWdodCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHJhbnNmb3JtLm9yaWdpblggPT09ICdyaWdodCcpIHtcbiAgICAgICAgICB0cmFuc2Zvcm0ub3JpZ2luWCA9ICdsZWZ0JztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodHJhbnNmb3JtLm5ld1NjYWxlWSA8IDAgJiYgYnkgIT09ICd4Jykge1xuICAgICAgICBpZiAodHJhbnNmb3JtLm9yaWdpblkgPT09ICd0b3AnKSB7XG4gICAgICAgICAgdHJhbnNmb3JtLm9yaWdpblkgPSAnYm90dG9tJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0cmFuc2Zvcm0ub3JpZ2luWSA9PT0gJ2JvdHRvbScpIHtcbiAgICAgICAgICB0cmFuc2Zvcm0ub3JpZ2luWSA9ICd0b3AnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldExvY2FsTW91c2U6IGZ1bmN0aW9uKGxvY2FsTW91c2UsIHQpIHtcbiAgICAgIHZhciB0YXJnZXQgPSB0LnRhcmdldCwgem9vbSA9IHRoaXMuZ2V0Wm9vbSgpLFxuICAgICAgICAgIHBhZGRpbmcgPSB0YXJnZXQucGFkZGluZyAvIHpvb207XG5cbiAgICAgIGlmICh0Lm9yaWdpblggPT09ICdyaWdodCcpIHtcbiAgICAgICAgbG9jYWxNb3VzZS54ICo9IC0xO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodC5vcmlnaW5YID09PSAnY2VudGVyJykge1xuICAgICAgICBsb2NhbE1vdXNlLnggKj0gdC5tb3VzZVhTaWduICogMjtcbiAgICAgICAgaWYgKGxvY2FsTW91c2UueCA8IDApIHtcbiAgICAgICAgICB0Lm1vdXNlWFNpZ24gPSAtdC5tb3VzZVhTaWduO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0Lm9yaWdpblkgPT09ICdib3R0b20nKSB7XG4gICAgICAgIGxvY2FsTW91c2UueSAqPSAtMTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHQub3JpZ2luWSA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgbG9jYWxNb3VzZS55ICo9IHQubW91c2VZU2lnbiAqIDI7XG4gICAgICAgIGlmIChsb2NhbE1vdXNlLnkgPCAwKSB7XG4gICAgICAgICAgdC5tb3VzZVlTaWduID0gLXQubW91c2VZU2lnbjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBhZGp1c3QgdGhlIG1vdXNlIGNvb3JkaW5hdGVzIHdoZW4gZGVhbGluZyB3aXRoIHBhZGRpbmdcbiAgICAgIGlmIChhYnMobG9jYWxNb3VzZS54KSA+IHBhZGRpbmcpIHtcbiAgICAgICAgaWYgKGxvY2FsTW91c2UueCA8IDApIHtcbiAgICAgICAgICBsb2NhbE1vdXNlLnggKz0gcGFkZGluZztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBsb2NhbE1vdXNlLnggLT0gcGFkZGluZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7IC8vIG1vdXNlIGlzIHdpdGhpbiB0aGUgcGFkZGluZywgc2V0IHRvIDBcbiAgICAgICAgbG9jYWxNb3VzZS54ID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKGFicyhsb2NhbE1vdXNlLnkpID4gcGFkZGluZykge1xuICAgICAgICBpZiAobG9jYWxNb3VzZS55IDwgMCkge1xuICAgICAgICAgIGxvY2FsTW91c2UueSArPSBwYWRkaW5nO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGxvY2FsTW91c2UueSAtPSBwYWRkaW5nO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbG9jYWxNb3VzZS55ID0gMDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUm90YXRlcyBvYmplY3QgYnkgaW52b2tpbmcgaXRzIHJvdGF0ZSBtZXRob2RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4IHBvaW50ZXIncyB4IGNvb3JkaW5hdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0geSBwb2ludGVyJ3MgeSBjb29yZGluYXRlXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgcm90YXRpb24gb2NjdXJyZWRcbiAgICAgKi9cbiAgICBfcm90YXRlT2JqZWN0OiBmdW5jdGlvbiAoeCwgeSkge1xuXG4gICAgICB2YXIgdCA9IHRoaXMuX2N1cnJlbnRUcmFuc2Zvcm0sXG4gICAgICAgICAgdGFyZ2V0ID0gdC50YXJnZXQsIGNvbnN0cmFpbnRQb3NpdGlvbixcbiAgICAgICAgICBjb25zdHJhaW50UG9zaXRpb24gPSB0YXJnZXQudHJhbnNsYXRlVG9PcmlnaW5Qb2ludCh0YXJnZXQuZ2V0Q2VudGVyUG9pbnQoKSwgdC5vcmlnaW5YLCB0Lm9yaWdpblkpO1xuXG4gICAgICBpZiAodGFyZ2V0LmxvY2tSb3RhdGlvbikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHZhciBsYXN0QW5nbGUgPSBhdGFuMih0LmV5IC0gY29uc3RyYWludFBvc2l0aW9uLnksIHQuZXggLSBjb25zdHJhaW50UG9zaXRpb24ueCksXG4gICAgICAgICAgY3VyQW5nbGUgPSBhdGFuMih5IC0gY29uc3RyYWludFBvc2l0aW9uLnksIHggLSBjb25zdHJhaW50UG9zaXRpb24ueCksXG4gICAgICAgICAgYW5nbGUgPSByYWRpYW5zVG9EZWdyZWVzKGN1ckFuZ2xlIC0gbGFzdEFuZ2xlICsgdC50aGV0YSksXG4gICAgICAgICAgaGFzUm90YXRlZCA9IHRydWU7XG5cbiAgICAgIGlmICh0YXJnZXQuc25hcEFuZ2xlID4gMCkge1xuICAgICAgICB2YXIgc25hcEFuZ2xlICA9IHRhcmdldC5zbmFwQW5nbGUsXG4gICAgICAgICAgICBzbmFwVGhyZXNob2xkICA9IHRhcmdldC5zbmFwVGhyZXNob2xkIHx8IHNuYXBBbmdsZSxcbiAgICAgICAgICAgIHJpZ2h0QW5nbGVMb2NrZWQgPSBNYXRoLmNlaWwoYW5nbGUgLyBzbmFwQW5nbGUpICogc25hcEFuZ2xlLFxuICAgICAgICAgICAgbGVmdEFuZ2xlTG9ja2VkID0gTWF0aC5mbG9vcihhbmdsZSAvIHNuYXBBbmdsZSkgKiBzbmFwQW5nbGU7XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKGFuZ2xlIC0gbGVmdEFuZ2xlTG9ja2VkKSA8IHNuYXBUaHJlc2hvbGQpIHtcbiAgICAgICAgICBhbmdsZSA9IGxlZnRBbmdsZUxvY2tlZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChNYXRoLmFicyhhbmdsZSAtIHJpZ2h0QW5nbGVMb2NrZWQpIDwgc25hcFRocmVzaG9sZCkge1xuICAgICAgICAgIGFuZ2xlID0gcmlnaHRBbmdsZUxvY2tlZDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBub3JtYWxpemUgYW5nbGUgdG8gcG9zaXRpdmUgdmFsdWVcbiAgICAgIGlmIChhbmdsZSA8IDApIHtcbiAgICAgICAgYW5nbGUgPSAzNjAgKyBhbmdsZTtcbiAgICAgIH1cbiAgICAgIGFuZ2xlICU9IDM2MDtcblxuICAgICAgaWYgKHRhcmdldC5hbmdsZSA9PT0gYW5nbGUpIHtcbiAgICAgICAgaGFzUm90YXRlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIHJvdGF0aW9uIG9ubHkgaGFwcGVuIGhlcmVcbiAgICAgICAgdGFyZ2V0LmFuZ2xlID0gYW5nbGU7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgY29uc3RyYWludHMgYXBwbHlcbiAgICAgICAgdGFyZ2V0LnNldFBvc2l0aW9uQnlPcmlnaW4oY29uc3RyYWludFBvc2l0aW9uLCB0Lm9yaWdpblgsIHQub3JpZ2luWSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBoYXNSb3RhdGVkO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGN1cnNvciB0eXBlIG9mIHRoZSBjYW52YXMgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZSBDdXJzb3IgdHlwZSBvZiB0aGUgY2FudmFzIGVsZW1lbnQuXG4gICAgICogQHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9jc3MzLXVpLyNjdXJzb3JcbiAgICAgKi9cbiAgICBzZXRDdXJzb3I6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgdGhpcy51cHBlckNhbnZhc0VsLnN0eWxlLmN1cnNvciA9IHZhbHVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggdG8gZHJhdyB0aGUgc2VsZWN0aW9uIG9uXG4gICAgICovXG4gICAgX2RyYXdTZWxlY3Rpb246IGZ1bmN0aW9uIChjdHgpIHtcbiAgICAgIHZhciBncm91cFNlbGVjdG9yID0gdGhpcy5fZ3JvdXBTZWxlY3RvcixcbiAgICAgICAgICBsZWZ0ID0gZ3JvdXBTZWxlY3Rvci5sZWZ0LFxuICAgICAgICAgIHRvcCA9IGdyb3VwU2VsZWN0b3IudG9wLFxuICAgICAgICAgIGFsZWZ0ID0gYWJzKGxlZnQpLFxuICAgICAgICAgIGF0b3AgPSBhYnModG9wKTtcblxuICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uQ29sb3IpIHtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuc2VsZWN0aW9uQ29sb3I7XG5cbiAgICAgICAgY3R4LmZpbGxSZWN0KFxuICAgICAgICAgIGdyb3VwU2VsZWN0b3IuZXggLSAoKGxlZnQgPiAwKSA/IDAgOiAtbGVmdCksXG4gICAgICAgICAgZ3JvdXBTZWxlY3Rvci5leSAtICgodG9wID4gMCkgPyAwIDogLXRvcCksXG4gICAgICAgICAgYWxlZnQsXG4gICAgICAgICAgYXRvcFxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuc2VsZWN0aW9uTGluZVdpZHRoIHx8ICF0aGlzLnNlbGVjdGlvbkJvcmRlckNvbG9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLnNlbGVjdGlvbkxpbmVXaWR0aDtcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuc2VsZWN0aW9uQm9yZGVyQ29sb3I7XG5cbiAgICAgIC8vIHNlbGVjdGlvbiBib3JkZXJcbiAgICAgIGlmICh0aGlzLnNlbGVjdGlvbkRhc2hBcnJheS5sZW5ndGggPiAxICYmICFzdXBwb3J0TGluZURhc2gpIHtcblxuICAgICAgICB2YXIgcHggPSBncm91cFNlbGVjdG9yLmV4ICsgU1RST0tFX09GRlNFVCAtICgobGVmdCA+IDApID8gMCA6IGFsZWZ0KSxcbiAgICAgICAgICAgIHB5ID0gZ3JvdXBTZWxlY3Rvci5leSArIFNUUk9LRV9PRkZTRVQgLSAoKHRvcCA+IDApID8gMCA6IGF0b3ApO1xuXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcblxuICAgICAgICBmYWJyaWMudXRpbC5kcmF3RGFzaGVkTGluZShjdHgsIHB4LCBweSwgcHggKyBhbGVmdCwgcHksIHRoaXMuc2VsZWN0aW9uRGFzaEFycmF5KTtcbiAgICAgICAgZmFicmljLnV0aWwuZHJhd0Rhc2hlZExpbmUoY3R4LCBweCwgcHkgKyBhdG9wIC0gMSwgcHggKyBhbGVmdCwgcHkgKyBhdG9wIC0gMSwgdGhpcy5zZWxlY3Rpb25EYXNoQXJyYXkpO1xuICAgICAgICBmYWJyaWMudXRpbC5kcmF3RGFzaGVkTGluZShjdHgsIHB4LCBweSwgcHgsIHB5ICsgYXRvcCwgdGhpcy5zZWxlY3Rpb25EYXNoQXJyYXkpO1xuICAgICAgICBmYWJyaWMudXRpbC5kcmF3RGFzaGVkTGluZShjdHgsIHB4ICsgYWxlZnQgLSAxLCBweSwgcHggKyBhbGVmdCAtIDEsIHB5ICsgYXRvcCwgdGhpcy5zZWxlY3Rpb25EYXNoQXJyYXkpO1xuXG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGZhYnJpYy5PYmplY3QucHJvdG90eXBlLl9zZXRMaW5lRGFzaC5jYWxsKHRoaXMsIGN0eCwgdGhpcy5zZWxlY3Rpb25EYXNoQXJyYXkpO1xuICAgICAgICBjdHguc3Ryb2tlUmVjdChcbiAgICAgICAgICBncm91cFNlbGVjdG9yLmV4ICsgU1RST0tFX09GRlNFVCAtICgobGVmdCA+IDApID8gMCA6IGFsZWZ0KSxcbiAgICAgICAgICBncm91cFNlbGVjdG9yLmV5ICsgU1RST0tFX09GRlNFVCAtICgodG9wID4gMCkgPyAwIDogYXRvcCksXG4gICAgICAgICAgYWxlZnQsXG4gICAgICAgICAgYXRvcFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdGhhdCBkZXRlcm1pbmVzIHdoYXQgb2JqZWN0IHdlIGFyZSBjbGlja2luZyBvblxuICAgICAqIHRoZSBza2lwR3JvdXAgcGFyYW1ldGVyIGlzIGZvciBpbnRlcm5hbCB1c2UsIGlzIG5lZWRlZCBmb3Igc2hpZnQrY2xpY2sgYWN0aW9uXG4gICAgICogMTEvMDkvMjAxOCBUT0RPOiB3b3VsZCBiZSBjb29sIGlmIGZpbmRUYXJnZXQgY291bGQgZGlzY2VybiBiZXR3ZWVuIGJlaW5nIGEgZnVsbCB0YXJnZXRcbiAgICAgKiBvciB0aGUgb3V0c2lkZSBwYXJ0IG9mIHRoZSBjb3JuZXIuXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBtb3VzZSBldmVudFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gc2tpcEdyb3VwIHdoZW4gdHJ1ZSwgYWN0aXZlR3JvdXAgaXMgc2tpcHBlZCBhbmQgb25seSBvYmplY3RzIGFyZSB0cmF2ZXJzZWQgdGhyb3VnaFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoZSB0YXJnZXQgZm91bmRcbiAgICAgKi9cbiAgICBmaW5kVGFyZ2V0OiBmdW5jdGlvbiAoZSwgc2tpcEdyb3VwKSB7XG4gICAgICBpZiAodGhpcy5za2lwVGFyZ2V0RmluZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBpZ25vcmVab29tID0gdHJ1ZSxcbiAgICAgICAgICBwb2ludGVyID0gdGhpcy5nZXRQb2ludGVyKGUsIGlnbm9yZVpvb20pLFxuICAgICAgICAgIGFjdGl2ZU9iamVjdCA9IHRoaXMuX2FjdGl2ZU9iamVjdCxcbiAgICAgICAgICBhT2JqZWN0cyA9IHRoaXMuZ2V0QWN0aXZlT2JqZWN0cygpLFxuICAgICAgICAgIGFjdGl2ZVRhcmdldCwgYWN0aXZlVGFyZ2V0U3VicztcblxuICAgICAgLy8gZmlyc3QgY2hlY2sgY3VycmVudCBncm91cCAoaWYgb25lIGV4aXN0cylcbiAgICAgIC8vIGFjdGl2ZSBncm91cCBkb2VzIG5vdCBjaGVjayBzdWIgdGFyZ2V0cyBsaWtlIG5vcm1hbCBncm91cHMuXG4gICAgICAvLyBpZiBhY3RpdmUgZ3JvdXAganVzdCBleGl0cy5cbiAgICAgIHRoaXMudGFyZ2V0cyA9IFtdO1xuXG4gICAgICBpZiAoYU9iamVjdHMubGVuZ3RoID4gMSAmJiAhc2tpcEdyb3VwICYmIGFjdGl2ZU9iamVjdCA9PT0gdGhpcy5fc2VhcmNoUG9zc2libGVUYXJnZXRzKFthY3RpdmVPYmplY3RdLCBwb2ludGVyKSkge1xuICAgICAgICByZXR1cm4gYWN0aXZlT2JqZWN0O1xuICAgICAgfVxuICAgICAgLy8gaWYgd2UgaGl0IHRoZSBjb3JuZXIgb2YgYW4gYWN0aXZlT2JqZWN0LCBsZXQncyByZXR1cm4gdGhhdC5cbiAgICAgIGlmIChhT2JqZWN0cy5sZW5ndGggPT09IDEgJiYgYWN0aXZlT2JqZWN0Ll9maW5kVGFyZ2V0Q29ybmVyKHBvaW50ZXIpKSB7XG4gICAgICAgIHJldHVybiBhY3RpdmVPYmplY3Q7XG4gICAgICB9XG4gICAgICBpZiAoYU9iamVjdHMubGVuZ3RoID09PSAxICYmXG4gICAgICAgIGFjdGl2ZU9iamVjdCA9PT0gdGhpcy5fc2VhcmNoUG9zc2libGVUYXJnZXRzKFthY3RpdmVPYmplY3RdLCBwb2ludGVyKSkge1xuICAgICAgICBpZiAoIXRoaXMucHJlc2VydmVPYmplY3RTdGFja2luZykge1xuICAgICAgICAgIHJldHVybiBhY3RpdmVPYmplY3Q7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgYWN0aXZlVGFyZ2V0ID0gYWN0aXZlT2JqZWN0O1xuICAgICAgICAgIGFjdGl2ZVRhcmdldFN1YnMgPSB0aGlzLnRhcmdldHM7XG4gICAgICAgICAgdGhpcy50YXJnZXRzID0gW107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciB0YXJnZXQgPSB0aGlzLl9zZWFyY2hQb3NzaWJsZVRhcmdldHModGhpcy5fb2JqZWN0cywgcG9pbnRlcik7XG4gICAgICBpZiAoZVt0aGlzLmFsdFNlbGVjdGlvbktleV0gJiYgdGFyZ2V0ICYmIGFjdGl2ZVRhcmdldCAmJiB0YXJnZXQgIT09IGFjdGl2ZVRhcmdldCkge1xuICAgICAgICB0YXJnZXQgPSBhY3RpdmVUYXJnZXQ7XG4gICAgICAgIHRoaXMudGFyZ2V0cyA9IGFjdGl2ZVRhcmdldFN1YnM7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgcG9pbnQgaXMgaW5zaWRlIHRoZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtwb2ludGVyXSB4LHkgb2JqZWN0IG9mIHBvaW50IGNvb3JkaW5hdGVzIHdlIHdhbnQgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmogT2JqZWN0IHRvIHRlc3QgYWdhaW5zdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbZ2xvYmFsUG9pbnRlcl0geCx5IG9iamVjdCBvZiBwb2ludCBjb29yZGluYXRlcyByZWxhdGl2ZSB0byBjYW52YXMgdXNlZCB0byBzZWFyY2ggcGVyIHBpeGVsIHRhcmdldC5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHBvaW50IGlzIGNvbnRhaW5lZCB3aXRoaW4gYW4gYXJlYSBvZiBnaXZlbiBvYmplY3RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jaGVja1RhcmdldDogZnVuY3Rpb24ocG9pbnRlciwgb2JqLCBnbG9iYWxQb2ludGVyKSB7XG4gICAgICBpZiAob2JqICYmXG4gICAgICAgICAgb2JqLnZpc2libGUgJiZcbiAgICAgICAgICBvYmouZXZlbnRlZCAmJlxuICAgICAgICAgIHRoaXMuY29udGFpbnNQb2ludChudWxsLCBvYmosIHBvaW50ZXIpKXtcbiAgICAgICAgaWYgKCh0aGlzLnBlclBpeGVsVGFyZ2V0RmluZCB8fCBvYmoucGVyUGl4ZWxUYXJnZXRGaW5kKSAmJiAhb2JqLmlzRWRpdGluZykge1xuICAgICAgICAgIHZhciBpc1RyYW5zcGFyZW50ID0gdGhpcy5pc1RhcmdldFRyYW5zcGFyZW50KG9iaiwgZ2xvYmFsUG9pbnRlci54LCBnbG9iYWxQb2ludGVyLnkpO1xuICAgICAgICAgIGlmICghaXNUcmFuc3BhcmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHVzZWQgdG8gc2VhcmNoIGluc2lkZSBvYmplY3RzIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIHBvaW50ZXIgaW4gYm91bmRpbmcgYm94IG9yIHRoYXQgY29udGFpbnMgcG9pbnRlck9uQ2FudmFzIHdoZW4gcGFpbnRlZFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtvYmplY3RzXSBvYmplY3RzIGFycmF5IHRvIGxvb2sgaW50b1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcG9pbnRlcl0geCx5IG9iamVjdCBvZiBwb2ludCBjb29yZGluYXRlcyB3ZSB3YW50IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IG9iamVjdCB0aGF0IGNvbnRhaW5zIHBvaW50ZXJcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZWFyY2hQb3NzaWJsZVRhcmdldHM6IGZ1bmN0aW9uKG9iamVjdHMsIHBvaW50ZXIpIHtcbiAgICAgIC8vIENhY2hlIGFsbCB0YXJnZXRzIHdoZXJlIHRoZWlyIGJvdW5kaW5nIGJveCBjb250YWlucyBwb2ludC5cbiAgICAgIHZhciB0YXJnZXQsIGkgPSBvYmplY3RzLmxlbmd0aCwgc3ViVGFyZ2V0O1xuICAgICAgLy8gRG8gbm90IGNoZWNrIGZvciBjdXJyZW50bHkgZ3JvdXBlZCBvYmplY3RzLCBzaW5jZSB3ZSBjaGVjayB0aGUgcGFyZW50IGdyb3VwIGl0c2VsZi5cbiAgICAgIC8vIHVudGlsIHdlIGNhbGwgdGhpcyBmdW5jdGlvbiBzcGVjaWZpY2FsbHkgdG8gc2VhcmNoIGluc2lkZSB0aGUgYWN0aXZlR3JvdXBcbiAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgdmFyIG9ialRvQ2hlY2sgPSBvYmplY3RzW2ldO1xuICAgICAgICB2YXIgcG9pbnRlclRvVXNlID0gb2JqVG9DaGVjay5ncm91cCAmJiBvYmpUb0NoZWNrLmdyb3VwLnR5cGUgIT09ICdhY3RpdmVTZWxlY3Rpb24nID9cbiAgICAgICAgICB0aGlzLl9ub3JtYWxpemVQb2ludGVyKG9ialRvQ2hlY2suZ3JvdXAsIHBvaW50ZXIpIDogcG9pbnRlcjtcbiAgICAgICAgaWYgKHRoaXMuX2NoZWNrVGFyZ2V0KHBvaW50ZXJUb1VzZSwgb2JqVG9DaGVjaywgcG9pbnRlcikpIHtcbiAgICAgICAgICB0YXJnZXQgPSBvYmplY3RzW2ldO1xuICAgICAgICAgIGlmICh0YXJnZXQuc3ViVGFyZ2V0Q2hlY2sgJiYgdGFyZ2V0IGluc3RhbmNlb2YgZmFicmljLkdyb3VwKSB7XG4gICAgICAgICAgICBzdWJUYXJnZXQgPSB0aGlzLl9zZWFyY2hQb3NzaWJsZVRhcmdldHModGFyZ2V0Ll9vYmplY3RzLCBwb2ludGVyKTtcbiAgICAgICAgICAgIHN1YlRhcmdldCAmJiB0aGlzLnRhcmdldHMucHVzaChzdWJUYXJnZXQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBwb2ludGVyIGNvb3JkaW5hdGVzIHdpdGhvdXQgdGhlIGVmZmVjdCBvZiB0aGUgdmlld3BvcnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnRlciB3aXRoIFwieFwiIGFuZCBcInlcIiBudW1iZXIgdmFsdWVzXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3Qgd2l0aCBcInhcIiBhbmQgXCJ5XCIgbnVtYmVyIHZhbHVlc1xuICAgICAqL1xuICAgIHJlc3RvcmVQb2ludGVyVnB0OiBmdW5jdGlvbihwb2ludGVyKSB7XG4gICAgICByZXR1cm4gZmFicmljLnV0aWwudHJhbnNmb3JtUG9pbnQoXG4gICAgICAgIHBvaW50ZXIsXG4gICAgICAgIGZhYnJpYy51dGlsLmludmVydFRyYW5zZm9ybSh0aGlzLnZpZXdwb3J0VHJhbnNmb3JtKVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBwb2ludGVyIGNvb3JkaW5hdGVzIHJlbGF0aXZlIHRvIGNhbnZhcy5cbiAgICAgKiBDYW4gcmV0dXJuIGNvb3JkaW5hdGVzIHdpdGggb3Igd2l0aG91dCB2aWV3cG9ydFRyYW5zZm9ybS5cbiAgICAgKiBpZ25vcmVab29tIGZhbHNlIGdpdmVzIGJhY2sgY29vcmRpbmF0ZXMgdGhhdCByZXByZXNlbnRcbiAgICAgKiB0aGUgcG9pbnQgY2xpY2tlZCBvbiBjYW52YXMgZWxlbWVudC5cbiAgICAgKiBpZ25vcmVab29tIHRydWUgZ2l2ZXMgYmFjayBjb29yZGluYXRlcyBhZnRlciBiZWluZyBwcm9jZXNzZWRcbiAgICAgKiBieSB0aGUgdmlld3BvcnRUcmFuc2Zvcm0gKCBzb3J0IG9mIGNvb3JkaW5hdGVzIG9mIHdoYXQgaXMgZGlzcGxheWVkXG4gICAgICogb24gdGhlIGNhbnZhcyB3aGVyZSB5b3UgYXJlIGNsaWNraW5nLlxuICAgICAqIGlnbm9yZVpvb20gdHJ1ZSA9IEhUTUxFbGVtZW50IGNvb3JkaW5hdGVzIHJlbGF0aXZlIHRvIHRvcCxsZWZ0XG4gICAgICogaWdub3JlWm9vbSBmYWxzZSwgZGVmYXVsdCA9IGZhYnJpYyBzcGFjZSBjb29yZGluYXRlcywgdGhlIHNhbWUgdXNlZCBmb3Igc2hhcGUgcG9zaXRpb25cbiAgICAgKiBUbyBpbnRlcmFjdCB3aXRoIHlvdXIgc2hhcGVzIHRvcCBhbmQgbGVmdCB5b3Ugd2FudCB0byB1c2UgaWdub3JlWm9vbSB0cnVlXG4gICAgICogbW9zdCBvZiB0aGUgdGltZSwgd2hpbGUgaWdub3JlWm9vbSBmYWxzZSB3aWxsIGdpdmUgeW91IGNvb3JkaW5hdGVzXG4gICAgICogY29tcGF0aWJsZSB3aXRoIHRoZSBvYmplY3Qub0Nvb3JkcyBzeXN0ZW0uXG4gICAgICogb2YgdGhlIHRpbWUuXG4gICAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gaWdub3JlWm9vbVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0IHdpdGggXCJ4XCIgYW5kIFwieVwiIG51bWJlciB2YWx1ZXNcbiAgICAgKi9cbiAgICBnZXRQb2ludGVyOiBmdW5jdGlvbiAoZSwgaWdub3JlWm9vbSkge1xuICAgICAgLy8gcmV0dXJuIGNhY2hlZCB2YWx1ZXMgaWYgd2UgYXJlIGluIHRoZSBldmVudCBwcm9jZXNzaW5nIGNoYWluXG4gICAgICBpZiAodGhpcy5fYWJzb2x1dGVQb2ludGVyICYmICFpZ25vcmVab29tKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hYnNvbHV0ZVBvaW50ZXI7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fcG9pbnRlciAmJiBpZ25vcmVab29tKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wb2ludGVyO1xuICAgICAgfVxuXG4gICAgICB2YXIgcG9pbnRlciA9IGdldFBvaW50ZXIoZSksXG4gICAgICAgICAgdXBwZXJDYW52YXNFbCA9IHRoaXMudXBwZXJDYW52YXNFbCxcbiAgICAgICAgICBib3VuZHMgPSB1cHBlckNhbnZhc0VsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgIGJvdW5kc1dpZHRoID0gYm91bmRzLndpZHRoIHx8IDAsXG4gICAgICAgICAgYm91bmRzSGVpZ2h0ID0gYm91bmRzLmhlaWdodCB8fCAwLFxuICAgICAgICAgIGNzc1NjYWxlO1xuXG4gICAgICBpZiAoIWJvdW5kc1dpZHRoIHx8ICFib3VuZHNIZWlnaHQgKSB7XG4gICAgICAgIGlmICgndG9wJyBpbiBib3VuZHMgJiYgJ2JvdHRvbScgaW4gYm91bmRzKSB7XG4gICAgICAgICAgYm91bmRzSGVpZ2h0ID0gTWF0aC5hYnMoIGJvdW5kcy50b3AgLSBib3VuZHMuYm90dG9tICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdyaWdodCcgaW4gYm91bmRzICYmICdsZWZ0JyBpbiBib3VuZHMpIHtcbiAgICAgICAgICBib3VuZHNXaWR0aCA9IE1hdGguYWJzKCBib3VuZHMucmlnaHQgLSBib3VuZHMubGVmdCApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuY2FsY09mZnNldCgpO1xuICAgICAgcG9pbnRlci54ID0gcG9pbnRlci54IC0gdGhpcy5fb2Zmc2V0LmxlZnQ7XG4gICAgICBwb2ludGVyLnkgPSBwb2ludGVyLnkgLSB0aGlzLl9vZmZzZXQudG9wO1xuICAgICAgaWYgKCFpZ25vcmVab29tKSB7XG4gICAgICAgIHBvaW50ZXIgPSB0aGlzLnJlc3RvcmVQb2ludGVyVnB0KHBvaW50ZXIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmV0aW5hU2NhbGluZyA9IHRoaXMuZ2V0UmV0aW5hU2NhbGluZygpO1xuICAgICAgaWYgKHJldGluYVNjYWxpbmcgIT09IDEpIHtcbiAgICAgICAgcG9pbnRlci54IC89IHJldGluYVNjYWxpbmc7XG4gICAgICAgIHBvaW50ZXIueSAvPSByZXRpbmFTY2FsaW5nO1xuICAgICAgfVxuXG4gICAgICBpZiAoYm91bmRzV2lkdGggPT09IDAgfHwgYm91bmRzSGVpZ2h0ID09PSAwKSB7XG4gICAgICAgIC8vIElmIGJvdW5kcyBhcmUgbm90IGF2YWlsYWJsZSAoaS5lLiBub3QgdmlzaWJsZSksIGRvIG5vdCBhcHBseSBzY2FsZS5cbiAgICAgICAgY3NzU2NhbGUgPSB7IHdpZHRoOiAxLCBoZWlnaHQ6IDEgfTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBjc3NTY2FsZSA9IHtcbiAgICAgICAgICB3aWR0aDogdXBwZXJDYW52YXNFbC53aWR0aCAvIGJvdW5kc1dpZHRoLFxuICAgICAgICAgIGhlaWdodDogdXBwZXJDYW52YXNFbC5oZWlnaHQgLyBib3VuZHNIZWlnaHRcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogcG9pbnRlci54ICogY3NzU2NhbGUud2lkdGgsXG4gICAgICAgIHk6IHBvaW50ZXIueSAqIGNzc1NjYWxlLmhlaWdodFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAdGhyb3dzIHtDQU5WQVNfSU5JVF9FUlJPUn0gSWYgY2FudmFzIGNhbiBub3QgYmUgaW5pdGlhbGl6ZWRcbiAgICAgKi9cbiAgICBfY3JlYXRlVXBwZXJDYW52YXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBsb3dlckNhbnZhc0NsYXNzID0gdGhpcy5sb3dlckNhbnZhc0VsLmNsYXNzTmFtZS5yZXBsYWNlKC9cXHMqbG93ZXItY2FudmFzXFxzKi8sICcnKSxcbiAgICAgICAgICBsb3dlckNhbnZhc0VsID0gdGhpcy5sb3dlckNhbnZhc0VsLCB1cHBlckNhbnZhc0VsID0gdGhpcy51cHBlckNhbnZhc0VsO1xuXG4gICAgICAvLyB0aGVyZSBpcyBubyBuZWVkIHRvIGNyZWF0ZSBhIG5ldyB1cHBlckNhbnZhcyBlbGVtZW50IGlmIHdlIGhhdmUgYWxyZWFkeSBvbmUuXG4gICAgICBpZiAodXBwZXJDYW52YXNFbCkge1xuICAgICAgICB1cHBlckNhbnZhc0VsLmNsYXNzTmFtZSA9ICcnO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHVwcGVyQ2FudmFzRWwgPSB0aGlzLl9jcmVhdGVDYW52YXNFbGVtZW50KCk7XG4gICAgICAgIHRoaXMudXBwZXJDYW52YXNFbCA9IHVwcGVyQ2FudmFzRWw7XG4gICAgICB9XG4gICAgICBmYWJyaWMudXRpbC5hZGRDbGFzcyh1cHBlckNhbnZhc0VsLCAndXBwZXItY2FudmFzICcgKyBsb3dlckNhbnZhc0NsYXNzKTtcblxuICAgICAgdGhpcy53cmFwcGVyRWwuYXBwZW5kQ2hpbGQodXBwZXJDYW52YXNFbCk7XG5cbiAgICAgIHRoaXMuX2NvcHlDYW52YXNTdHlsZShsb3dlckNhbnZhc0VsLCB1cHBlckNhbnZhc0VsKTtcbiAgICAgIHRoaXMuX2FwcGx5Q2FudmFzU3R5bGUodXBwZXJDYW52YXNFbCk7XG4gICAgICB0aGlzLmNvbnRleHRUb3AgPSB1cHBlckNhbnZhc0VsLmdldENvbnRleHQoJzJkJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NyZWF0ZUNhY2hlQ2FudmFzOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmNhY2hlQ2FudmFzRWwgPSB0aGlzLl9jcmVhdGVDYW52YXNFbGVtZW50KCk7XG4gICAgICB0aGlzLmNhY2hlQ2FudmFzRWwuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHRoaXMud2lkdGgpO1xuICAgICAgdGhpcy5jYWNoZUNhbnZhc0VsLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgdGhpcy5oZWlnaHQpO1xuICAgICAgdGhpcy5jb250ZXh0Q2FjaGUgPSB0aGlzLmNhY2hlQ2FudmFzRWwuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfaW5pdFdyYXBwZXJFbGVtZW50OiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLndyYXBwZXJFbCA9IGZhYnJpYy51dGlsLndyYXBFbGVtZW50KHRoaXMubG93ZXJDYW52YXNFbCwgJ2RpdicsIHtcbiAgICAgICAgJ2NsYXNzJzogdGhpcy5jb250YWluZXJDbGFzc1xuICAgICAgfSk7XG4gICAgICBmYWJyaWMudXRpbC5zZXRTdHlsZSh0aGlzLndyYXBwZXJFbCwge1xuICAgICAgICB3aWR0aDogdGhpcy53aWR0aCArICdweCcsXG4gICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQgKyAncHgnLFxuICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuICAgICAgfSk7XG4gICAgICBmYWJyaWMudXRpbC5tYWtlRWxlbWVudFVuc2VsZWN0YWJsZSh0aGlzLndyYXBwZXJFbCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxlbWVudCBjYW52YXMgZWxlbWVudCB0byBhcHBseSBzdHlsZXMgb25cbiAgICAgKi9cbiAgICBfYXBwbHlDYW52YXNTdHlsZTogZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgIHZhciB3aWR0aCA9IHRoaXMud2lkdGggfHwgZWxlbWVudC53aWR0aCxcbiAgICAgICAgICBoZWlnaHQgPSB0aGlzLmhlaWdodCB8fCBlbGVtZW50LmhlaWdodDtcblxuICAgICAgZmFicmljLnV0aWwuc2V0U3R5bGUoZWxlbWVudCwge1xuICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgd2lkdGg6IHdpZHRoICsgJ3B4JyxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQgKyAncHgnLFxuICAgICAgICBsZWZ0OiAwLFxuICAgICAgICB0b3A6IDAsXG4gICAgICAgICd0b3VjaC1hY3Rpb24nOiB0aGlzLmFsbG93VG91Y2hTY3JvbGxpbmcgPyAnbWFuaXB1bGF0aW9uJyA6ICdub25lJyxcbiAgICAgICAgJy1tcy10b3VjaC1hY3Rpb24nOiB0aGlzLmFsbG93VG91Y2hTY3JvbGxpbmcgPyAnbWFuaXB1bGF0aW9uJyA6ICdub25lJ1xuICAgICAgfSk7XG4gICAgICBlbGVtZW50LndpZHRoID0gd2lkdGg7XG4gICAgICBlbGVtZW50LmhlaWdodCA9IGhlaWdodDtcbiAgICAgIGZhYnJpYy51dGlsLm1ha2VFbGVtZW50VW5zZWxlY3RhYmxlKGVsZW1lbnQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb3B5IHRoZSBlbnRpcmUgaW5saW5lIHN0eWxlIGZyb20gb25lIGVsZW1lbnQgKGZyb21FbCkgdG8gYW5vdGhlciAodG9FbClcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZnJvbUVsIEVsZW1lbnQgc3R5bGUgaXMgY29waWVkIGZyb21cbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IHRvRWwgRWxlbWVudCBjb3BpZWQgc3R5bGUgaXMgYXBwbGllZCB0b1xuICAgICAqL1xuICAgIF9jb3B5Q2FudmFzU3R5bGU6IGZ1bmN0aW9uIChmcm9tRWwsIHRvRWwpIHtcbiAgICAgIHRvRWwuc3R5bGUuY3NzVGV4dCA9IGZyb21FbC5zdHlsZS5jc3NUZXh0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvbnRleHQgb2YgY2FudmFzIHdoZXJlIG9iamVjdCBzZWxlY3Rpb24gaXMgZHJhd25cbiAgICAgKiBAcmV0dXJuIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9XG4gICAgICovXG4gICAgZ2V0U2VsZWN0aW9uQ29udGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb250ZXh0VG9wO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zICZsdDtjYW52YXM+IGVsZW1lbnQgb24gd2hpY2ggb2JqZWN0IHNlbGVjdGlvbiBpcyBkcmF3blxuICAgICAqIEByZXR1cm4ge0hUTUxDYW52YXNFbGVtZW50fVxuICAgICAqL1xuICAgIGdldFNlbGVjdGlvbkVsZW1lbnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnVwcGVyQ2FudmFzRWw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY3VycmVudGx5IGFjdGl2ZSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSBhY3RpdmUgb2JqZWN0XG4gICAgICovXG4gICAgZ2V0QWN0aXZlT2JqZWN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYWN0aXZlT2JqZWN0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IHdpdGggdGhlIGN1cnJlbnQgc2VsZWN0ZWQgb2JqZWN0c1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IGFjdGl2ZSBvYmplY3RcbiAgICAgKi9cbiAgICBnZXRBY3RpdmVPYmplY3RzOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgYWN0aXZlID0gdGhpcy5fYWN0aXZlT2JqZWN0O1xuICAgICAgaWYgKGFjdGl2ZSkge1xuICAgICAgICBpZiAoYWN0aXZlLnR5cGUgPT09ICdhY3RpdmVTZWxlY3Rpb24nICYmIGFjdGl2ZS5fb2JqZWN0cykge1xuICAgICAgICAgIHJldHVybiBhY3RpdmUuX29iamVjdHMuc2xpY2UoMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFthY3RpdmVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gW107XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmogT2JqZWN0IHRoYXQgd2FzIHJlbW92ZWRcbiAgICAgKi9cbiAgICBfb25PYmplY3RSZW1vdmVkOiBmdW5jdGlvbihvYmopIHtcbiAgICAgIC8vIHJlbW92aW5nIGFjdGl2ZSBvYmplY3Qgc2hvdWxkIGZpcmUgXCJzZWxlY3Rpb246Y2xlYXJlZFwiIGV2ZW50c1xuICAgICAgaWYgKG9iaiA9PT0gdGhpcy5fYWN0aXZlT2JqZWN0KSB7XG4gICAgICAgIHRoaXMuZmlyZSgnYmVmb3JlOnNlbGVjdGlvbjpjbGVhcmVkJywgeyB0YXJnZXQ6IG9iaiB9KTtcbiAgICAgICAgdGhpcy5fZGlzY2FyZEFjdGl2ZU9iamVjdCgpO1xuICAgICAgICB0aGlzLmZpcmUoJ3NlbGVjdGlvbjpjbGVhcmVkJywgeyB0YXJnZXQ6IG9iaiB9KTtcbiAgICAgICAgb2JqLmZpcmUoJ2Rlc2VsZWN0ZWQnKTtcbiAgICAgIH1cbiAgICAgIGlmIChvYmogPT09IHRoaXMuX2hvdmVyZWRUYXJnZXQpe1xuICAgICAgICB0aGlzLl9ob3ZlcmVkVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5faG92ZXJlZFRhcmdldHMgPSBbXTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdfb25PYmplY3RSZW1vdmVkJywgb2JqKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBDb21wYXJlcyB0aGUgb2xkIGFjdGl2ZU9iamVjdCB3aXRoIHRoZSBjdXJyZW50IG9uZSBhbmQgZmlyZXMgY29ycmVjdCBldmVudHNcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iaiBvbGQgYWN0aXZlT2JqZWN0XG4gICAgICovXG4gICAgX2ZpcmVTZWxlY3Rpb25FdmVudHM6IGZ1bmN0aW9uKG9sZE9iamVjdHMsIGUpIHtcbiAgICAgIHZhciBzb21ldGhpbmdDaGFuZ2VkID0gZmFsc2UsIG9iamVjdHMgPSB0aGlzLmdldEFjdGl2ZU9iamVjdHMoKSxcbiAgICAgICAgICBhZGRlZCA9IFtdLCByZW1vdmVkID0gW10sIG9wdCA9IHsgZTogZSB9O1xuICAgICAgb2xkT2JqZWN0cy5mb3JFYWNoKGZ1bmN0aW9uKG9sZE9iamVjdCkge1xuICAgICAgICBpZiAob2JqZWN0cy5pbmRleE9mKG9sZE9iamVjdCkgPT09IC0xKSB7XG4gICAgICAgICAgc29tZXRoaW5nQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgb2xkT2JqZWN0LmZpcmUoJ2Rlc2VsZWN0ZWQnLCBvcHQpO1xuICAgICAgICAgIHJlbW92ZWQucHVzaChvbGRPYmplY3QpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIG9iamVjdHMuZm9yRWFjaChmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgaWYgKG9sZE9iamVjdHMuaW5kZXhPZihvYmplY3QpID09PSAtMSkge1xuICAgICAgICAgIHNvbWV0aGluZ0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgIG9iamVjdC5maXJlKCdzZWxlY3RlZCcsIG9wdCk7XG4gICAgICAgICAgYWRkZWQucHVzaChvYmplY3QpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChvbGRPYmplY3RzLmxlbmd0aCA+IDAgJiYgb2JqZWN0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIG9wdC5zZWxlY3RlZCA9IGFkZGVkO1xuICAgICAgICBvcHQuZGVzZWxlY3RlZCA9IHJlbW92ZWQ7XG4gICAgICAgIC8vIGFkZGVkIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG4gICAgICAgIG9wdC51cGRhdGVkID0gYWRkZWRbMF0gfHwgcmVtb3ZlZFswXTtcbiAgICAgICAgb3B0LnRhcmdldCA9IHRoaXMuX2FjdGl2ZU9iamVjdDtcbiAgICAgICAgc29tZXRoaW5nQ2hhbmdlZCAmJiB0aGlzLmZpcmUoJ3NlbGVjdGlvbjp1cGRhdGVkJywgb3B0KTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKG9iamVjdHMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBkZXByZWNhdGVkIGV2ZW50XG4gICAgICAgIGlmIChvYmplY3RzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIG9wdC50YXJnZXQgPSBhZGRlZFswXTtcbiAgICAgICAgICB0aGlzLmZpcmUoJ29iamVjdDpzZWxlY3RlZCcsIG9wdCk7XG4gICAgICAgIH1cbiAgICAgICAgb3B0LnNlbGVjdGVkID0gYWRkZWQ7XG4gICAgICAgIC8vIGFkZGVkIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG4gICAgICAgIG9wdC50YXJnZXQgPSB0aGlzLl9hY3RpdmVPYmplY3Q7XG4gICAgICAgIHRoaXMuZmlyZSgnc2VsZWN0aW9uOmNyZWF0ZWQnLCBvcHQpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAob2xkT2JqZWN0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIG9wdC5kZXNlbGVjdGVkID0gcmVtb3ZlZDtcbiAgICAgICAgdGhpcy5maXJlKCdzZWxlY3Rpb246Y2xlYXJlZCcsIG9wdCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgZ2l2ZW4gb2JqZWN0IGFzIHRoZSBvbmx5IGFjdGl2ZSBvYmplY3Qgb24gY2FudmFzXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIHNldCBhcyBhbiBhY3RpdmUgb25lXG4gICAgICogQHBhcmFtIHtFdmVudH0gW2VdIEV2ZW50IChwYXNzZWQgYWxvbmcgd2hlbiBmaXJpbmcgXCJvYmplY3Q6c2VsZWN0ZWRcIilcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHNldEFjdGl2ZU9iamVjdDogZnVuY3Rpb24gKG9iamVjdCwgZSkge1xuICAgICAgdmFyIGN1cnJlbnRBY3RpdmVzID0gdGhpcy5nZXRBY3RpdmVPYmplY3RzKCk7XG4gICAgICB0aGlzLl9zZXRBY3RpdmVPYmplY3Qob2JqZWN0LCBlKTtcbiAgICAgIHRoaXMuX2ZpcmVTZWxlY3Rpb25FdmVudHMoY3VycmVudEFjdGl2ZXMsIGUpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCB0byBzZXQgYXMgYWN0aXZlXG4gICAgICogQHBhcmFtIHtFdmVudH0gW2VdIEV2ZW50IChwYXNzZWQgYWxvbmcgd2hlbiBmaXJpbmcgXCJvYmplY3Q6c2VsZWN0ZWRcIilcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHRoZSBzZWxlY3Rpb24gaGFwcGVuZWRcbiAgICAgKi9cbiAgICBfc2V0QWN0aXZlT2JqZWN0OiBmdW5jdGlvbihvYmplY3QsIGUpIHtcbiAgICAgIGlmICh0aGlzLl9hY3RpdmVPYmplY3QgPT09IG9iamVjdCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuX2Rpc2NhcmRBY3RpdmVPYmplY3QoZSwgb2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAob2JqZWN0Lm9uU2VsZWN0KHsgZTogZSB9KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB0aGlzLl9hY3RpdmVPYmplY3QgPSBvYmplY3Q7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZGlzY2FyZEFjdGl2ZU9iamVjdDogZnVuY3Rpb24oZSwgb2JqZWN0KSB7XG4gICAgICB2YXIgb2JqID0gdGhpcy5fYWN0aXZlT2JqZWN0O1xuICAgICAgaWYgKG9iaikge1xuICAgICAgICAvLyBvbkRlc2VsZWN0IHJldHVybiBUUlVFIHRvIGNhbmNlbCBzZWxlY3Rpb247XG4gICAgICAgIGlmIChvYmoub25EZXNlbGVjdCh7IGU6IGUsIG9iamVjdDogb2JqZWN0IH0pKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2FjdGl2ZU9iamVjdCA9IG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGlzY2FyZHMgY3VycmVudGx5IGFjdGl2ZSBvYmplY3QgYW5kIGZpcmUgZXZlbnRzLiBJZiB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkIGJ5IGZhYnJpY1xuICAgICAqIGFzIGEgY29uc2VxdWVuY2Ugb2YgYSBtb3VzZSBldmVudCwgdGhlIGV2ZW50IGlzIHBhc3NlZCBhcyBhIHBhcmFtZXRlciBhbmRcbiAgICAgKiBzZW50IHRvIHRoZSBmaXJlIGZ1bmN0aW9uIGZvciB0aGUgY3VzdG9tIGV2ZW50cy4gV2hlbiB1c2VkIGFzIGEgbWV0aG9kIHRoZVxuICAgICAqIGUgcGFyYW0gZG9lcyBub3QgaGF2ZSBhbnkgYXBwbGljYXRpb24uXG4gICAgICogQHBhcmFtIHtldmVudH0gZVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgZGlzY2FyZEFjdGl2ZU9iamVjdDogZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBjdXJyZW50QWN0aXZlcyA9IHRoaXMuZ2V0QWN0aXZlT2JqZWN0cygpLCBhY3RpdmVPYmplY3QgPSB0aGlzLmdldEFjdGl2ZU9iamVjdCgpO1xuICAgICAgaWYgKGN1cnJlbnRBY3RpdmVzLmxlbmd0aCkge1xuICAgICAgICB0aGlzLmZpcmUoJ2JlZm9yZTpzZWxlY3Rpb246Y2xlYXJlZCcsIHsgdGFyZ2V0OiBhY3RpdmVPYmplY3QsIGU6IGUgfSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9kaXNjYXJkQWN0aXZlT2JqZWN0KGUpO1xuICAgICAgdGhpcy5fZmlyZVNlbGVjdGlvbkV2ZW50cyhjdXJyZW50QWN0aXZlcywgZSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGEgY2FudmFzIGVsZW1lbnQgYW5kIHJlbW92ZXMgYWxsIGV2ZW50IGxpc3RlbmVyc1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgZGlzcG9zZTogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHdyYXBwZXIgPSB0aGlzLndyYXBwZXJFbDtcbiAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXJzKCk7XG4gICAgICB3cmFwcGVyLnJlbW92ZUNoaWxkKHRoaXMudXBwZXJDYW52YXNFbCk7XG4gICAgICB3cmFwcGVyLnJlbW92ZUNoaWxkKHRoaXMubG93ZXJDYW52YXNFbCk7XG4gICAgICB0aGlzLmNvbnRleHRDYWNoZSA9IG51bGw7XG4gICAgICB0aGlzLmNvbnRleHRUb3AgPSBudWxsO1xuICAgICAgWyd1cHBlckNhbnZhc0VsJywgJ2NhY2hlQ2FudmFzRWwnXS5mb3JFYWNoKChmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICAgIGZhYnJpYy51dGlsLmNsZWFuVXBKc2RvbU5vZGUodGhpc1tlbGVtZW50XSk7XG4gICAgICAgIHRoaXNbZWxlbWVudF0gPSB1bmRlZmluZWQ7XG4gICAgICB9KS5iaW5kKHRoaXMpKTtcbiAgICAgIGlmICh3cmFwcGVyLnBhcmVudE5vZGUpIHtcbiAgICAgICAgd3JhcHBlci5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh0aGlzLmxvd2VyQ2FudmFzRWwsIHRoaXMud3JhcHBlckVsKTtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZSB0aGlzLndyYXBwZXJFbDtcbiAgICAgIGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgYWxsIGNvbnRleHRzIChiYWNrZ3JvdW5kLCBtYWluLCB0b3ApIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBjbGVhcjogZnVuY3Rpb24gKCkge1xuICAgICAgLy8gdGhpcy5kaXNjYXJkQWN0aXZlR3JvdXAoKTtcbiAgICAgIHRoaXMuZGlzY2FyZEFjdGl2ZU9iamVjdCgpO1xuICAgICAgdGhpcy5jbGVhckNvbnRleHQodGhpcy5jb250ZXh0VG9wKTtcbiAgICAgIHJldHVybiB0aGlzLmNhbGxTdXBlcignY2xlYXInKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRHJhd3Mgb2JqZWN0cycgY29udHJvbHMgKGJvcmRlcnMvY29udHJvbHMpXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBjb250cm9scyBvblxuICAgICAqL1xuICAgIGRyYXdDb250cm9sczogZnVuY3Rpb24oY3R4KSB7XG4gICAgICB2YXIgYWN0aXZlT2JqZWN0ID0gdGhpcy5fYWN0aXZlT2JqZWN0O1xuXG4gICAgICBpZiAoYWN0aXZlT2JqZWN0KSB7XG4gICAgICAgIGFjdGl2ZU9iamVjdC5fcmVuZGVyQ29udHJvbHMoY3R4KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdG9PYmplY3Q6IGZ1bmN0aW9uKGluc3RhbmNlLCBtZXRob2ROYW1lLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICAvL0lmIHRoZSBvYmplY3QgaXMgcGFydCBvZiB0aGUgY3VycmVudCBzZWxlY3Rpb24gZ3JvdXAsIGl0IHNob3VsZFxuICAgICAgLy9iZSB0cmFuc2Zvcm1lZCBhcHByb3ByaWF0ZWx5XG4gICAgICAvL2kuZS4gaXQgc2hvdWxkIGJlIHNlcmlhbGlzZWQgYXMgaXQgd291bGQgYXBwZWFyIGlmIHRoZSBzZWxlY3Rpb24gZ3JvdXBcbiAgICAgIC8vd2VyZSB0byBiZSBkZXN0cm95ZWQuXG4gICAgICB2YXIgb3JpZ2luYWxQcm9wZXJ0aWVzID0gdGhpcy5fcmVhbGl6ZUdyb3VwVHJhbnNmb3JtT25PYmplY3QoaW5zdGFuY2UpLFxuICAgICAgICAgIG9iamVjdCA9IHRoaXMuY2FsbFN1cGVyKCdfdG9PYmplY3QnLCBpbnN0YW5jZSwgbWV0aG9kTmFtZSwgcHJvcGVydGllc1RvSW5jbHVkZSk7XG4gICAgICAvL1VuZG8gdGhlIGRhbWFnZSB3ZSBkaWQgYnkgY2hhbmdpbmcgYWxsIG9mIGl0cyBwcm9wZXJ0aWVzXG4gICAgICB0aGlzLl91bndpbmRHcm91cFRyYW5zZm9ybU9uT2JqZWN0KGluc3RhbmNlLCBvcmlnaW5hbFByb3BlcnRpZXMpO1xuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVhbGlzZXMgYW4gb2JqZWN0J3MgZ3JvdXAgdHJhbnNmb3JtYXRpb24gb24gaXRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gW2luc3RhbmNlXSB0aGUgb2JqZWN0IHRvIHRyYW5zZm9ybSAoZ2V0cyBtdXRhdGVkKVxuICAgICAqIEByZXR1cm5zIHRoZSBvcmlnaW5hbCB2YWx1ZXMgb2YgaW5zdGFuY2Ugd2hpY2ggd2VyZSBjaGFuZ2VkXG4gICAgICovXG4gICAgX3JlYWxpemVHcm91cFRyYW5zZm9ybU9uT2JqZWN0OiBmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgICAgaWYgKGluc3RhbmNlLmdyb3VwICYmIGluc3RhbmNlLmdyb3VwLnR5cGUgPT09ICdhY3RpdmVTZWxlY3Rpb24nICYmIHRoaXMuX2FjdGl2ZU9iamVjdCA9PT0gaW5zdGFuY2UuZ3JvdXApIHtcbiAgICAgICAgdmFyIGxheW91dFByb3BzID0gWydhbmdsZScsICdmbGlwWCcsICdmbGlwWScsICdsZWZ0JywgJ3NjYWxlWCcsICdzY2FsZVknLCAnc2tld1gnLCAnc2tld1knLCAndG9wJ107XG4gICAgICAgIC8vQ29weSBhbGwgdGhlIHBvc2l0aW9uYWxseSByZWxldmFudCBwcm9wZXJ0aWVzIGFjcm9zcyBub3dcbiAgICAgICAgdmFyIG9yaWdpbmFsVmFsdWVzID0ge307XG4gICAgICAgIGxheW91dFByb3BzLmZvckVhY2goZnVuY3Rpb24ocHJvcCkge1xuICAgICAgICAgIG9yaWdpbmFsVmFsdWVzW3Byb3BdID0gaW5zdGFuY2VbcHJvcF07XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9hY3RpdmVPYmplY3QucmVhbGl6ZVRyYW5zZm9ybShpbnN0YW5jZSk7XG4gICAgICAgIHJldHVybiBvcmlnaW5hbFZhbHVlcztcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVzdG9yZXMgdGhlIGNoYW5nZWQgcHJvcGVydGllcyBvZiBpbnN0YW5jZVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBbaW5zdGFuY2VdIHRoZSBvYmplY3QgdG8gdW4tdHJhbnNmb3JtIChnZXRzIG11dGF0ZWQpXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcmlnaW5hbFZhbHVlc10gdGhlIG9yaWdpbmFsIHZhbHVlcyBvZiBpbnN0YW5jZSwgYXMgcmV0dXJuZWQgYnkgX3JlYWxpemVHcm91cFRyYW5zZm9ybU9uT2JqZWN0XG4gICAgICovXG4gICAgX3Vud2luZEdyb3VwVHJhbnNmb3JtT25PYmplY3Q6IGZ1bmN0aW9uKGluc3RhbmNlLCBvcmlnaW5hbFZhbHVlcykge1xuICAgICAgaWYgKG9yaWdpbmFsVmFsdWVzKSB7XG4gICAgICAgIGluc3RhbmNlLnNldChvcmlnaW5hbFZhbHVlcyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldFNWR09iamVjdDogZnVuY3Rpb24obWFya3VwLCBpbnN0YW5jZSwgcmV2aXZlcikge1xuICAgICAgLy9JZiB0aGUgb2JqZWN0IGlzIGluIGEgc2VsZWN0aW9uIGdyb3VwLCBzaW11bGF0ZSB3aGF0IHdvdWxkIGhhcHBlbiB0byB0aGF0XG4gICAgICAvL29iamVjdCB3aGVuIHRoZSBncm91cCBpcyBkZXNlbGVjdGVkXG4gICAgICB2YXIgb3JpZ2luYWxQcm9wZXJ0aWVzID0gdGhpcy5fcmVhbGl6ZUdyb3VwVHJhbnNmb3JtT25PYmplY3QoaW5zdGFuY2UpO1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ19zZXRTVkdPYmplY3QnLCBtYXJrdXAsIGluc3RhbmNlLCByZXZpdmVyKTtcbiAgICAgIHRoaXMuX3Vud2luZEdyb3VwVHJhbnNmb3JtT25PYmplY3QoaW5zdGFuY2UsIG9yaWdpbmFsUHJvcGVydGllcyk7XG4gICAgfSxcblxuICAgIHNldFZpZXdwb3J0VHJhbnNmb3JtOiBmdW5jdGlvbiAodnB0KSB7XG4gICAgICBpZiAodGhpcy5yZW5kZXJPbkFkZFJlbW92ZSAmJiB0aGlzLl9hY3RpdmVPYmplY3QgJiYgdGhpcy5fYWN0aXZlT2JqZWN0LmlzRWRpdGluZykge1xuICAgICAgICB0aGlzLl9hY3RpdmVPYmplY3QuY2xlYXJDb250ZXh0VG9wKCk7XG4gICAgICB9XG4gICAgICBmYWJyaWMuU3RhdGljQ2FudmFzLnByb3RvdHlwZS5zZXRWaWV3cG9ydFRyYW5zZm9ybS5jYWxsKHRoaXMsIHZwdCk7XG4gICAgfVxuICB9KTtcblxuICAvLyBjb3B5aW5nIHN0YXRpYyBwcm9wZXJ0aWVzIG1hbnVhbGx5IHRvIHdvcmsgYXJvdW5kIE9wZXJhJ3MgYnVnLFxuICAvLyB3aGVyZSBcInByb3RvdHlwZVwiIHByb3BlcnR5IGlzIGVudW1lcmFibGUgYW5kIG92ZXJyaWRlcyBleGlzdGluZyBwcm90b3R5cGVcbiAgZm9yICh2YXIgcHJvcCBpbiBmYWJyaWMuU3RhdGljQ2FudmFzKSB7XG4gICAgaWYgKHByb3AgIT09ICdwcm90b3R5cGUnKSB7XG4gICAgICBmYWJyaWMuQ2FudmFzW3Byb3BdID0gZmFicmljLlN0YXRpY0NhbnZhc1twcm9wXTtcbiAgICB9XG4gIH1cbn0pKCk7XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIHZhciBjdXJzb3JPZmZzZXQgPSB7XG4gICAgICAgIG10OiAwLCAvLyBuXG4gICAgICAgIHRyOiAxLCAvLyBuZVxuICAgICAgICBtcjogMiwgLy8gZVxuICAgICAgICBicjogMywgLy8gc2VcbiAgICAgICAgbWI6IDQsIC8vIHNcbiAgICAgICAgYmw6IDUsIC8vIHN3XG4gICAgICAgIG1sOiA2LCAvLyB3XG4gICAgICAgIHRsOiA3IC8vIG53XG4gICAgICB9LFxuICAgICAgYWRkTGlzdGVuZXIgPSBmYWJyaWMudXRpbC5hZGRMaXN0ZW5lcixcbiAgICAgIHJlbW92ZUxpc3RlbmVyID0gZmFicmljLnV0aWwucmVtb3ZlTGlzdGVuZXIsXG4gICAgICBSSUdIVF9DTElDSyA9IDMsIE1JRERMRV9DTElDSyA9IDIsIExFRlRfQ0xJQ0sgPSAxLFxuICAgICAgYWRkRXZlbnRPcHRpb25zID0geyBwYXNzaXZlOiBmYWxzZSB9O1xuXG4gIGZ1bmN0aW9uIGNoZWNrQ2xpY2soZSwgdmFsdWUpIHtcbiAgICByZXR1cm4gZS5idXR0b24gJiYgKGUuYnV0dG9uID09PSB2YWx1ZSAtIDEpO1xuICB9XG5cbiAgZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZChmYWJyaWMuQ2FudmFzLnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuQ2FudmFzLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBNYXAgb2YgY3Vyc29yIHN0eWxlIHZhbHVlcyBmb3IgZWFjaCBvZiB0aGUgb2JqZWN0IGNvbnRyb2xzXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBjdXJzb3JNYXA6IFtcbiAgICAgICduLXJlc2l6ZScsXG4gICAgICAnbmUtcmVzaXplJyxcbiAgICAgICdlLXJlc2l6ZScsXG4gICAgICAnc2UtcmVzaXplJyxcbiAgICAgICdzLXJlc2l6ZScsXG4gICAgICAnc3ctcmVzaXplJyxcbiAgICAgICd3LXJlc2l6ZScsXG4gICAgICAnbnctcmVzaXplJ1xuICAgIF0sXG5cbiAgICAvKipcbiAgICAgKiBDb250YWlucyB0aGUgaWQgb2YgdGhlIHRvdWNoIGV2ZW50IHRoYXQgb3ducyB0aGUgZmFicmljIHRyYW5zZm9ybVxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgbWFpblRvdWNoSWQ6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG1vdXNlIGxpc3RlbmVycyB0byBjYW52YXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pbml0RXZlbnRMaXN0ZW5lcnM6IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIGluIGNhc2Ugd2UgaW5pdGlhbGl6ZWQgdGhlIGNsYXNzIHR3aWNlLiBUaGlzIHNob3VsZCBub3QgaGFwcGVuIG5vcm1hbGx5XG4gICAgICAvLyBidXQgaW4gc29tZSBraW5kIG9mIGFwcGxpY2F0aW9ucyB3aGVyZSB0aGUgY2FudmFzIGVsZW1lbnQgbWF5IGJlIGNoYW5nZWRcbiAgICAgIC8vIHRoaXMgaXMgYSB3b3JrYXJvdW5kIHRvIGhhdmluZyBkb3VibGUgbGlzdGVuZXJzLlxuICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcnMoKTtcbiAgICAgIHRoaXMuX2JpbmRFdmVudHMoKTtcbiAgICAgIHRoaXMuYWRkT3JSZW1vdmUoYWRkTGlzdGVuZXIsICdhZGQnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIGFuIGV2ZW50IHByZWZpeCBwb2ludGVyIG9yIG1vdXNlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2dldEV2ZW50UHJlZml4OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbmFibGVQb2ludGVyRXZlbnRzID8gJ3BvaW50ZXInIDogJ21vdXNlJztcbiAgICB9LFxuXG4gICAgYWRkT3JSZW1vdmU6IGZ1bmN0aW9uKGZ1bmN0b3IsIGV2ZW50anNGdW5jdG9yKSB7XG4gICAgICB2YXIgY2FudmFzRWxlbWVudCA9IHRoaXMudXBwZXJDYW52YXNFbCxcbiAgICAgICAgICBldmVudFR5cGVQcmVmaXggPSB0aGlzLl9nZXRFdmVudFByZWZpeCgpO1xuICAgICAgZnVuY3RvcihmYWJyaWMud2luZG93LCAncmVzaXplJywgdGhpcy5fb25SZXNpemUpO1xuICAgICAgZnVuY3RvcihjYW52YXNFbGVtZW50LCBldmVudFR5cGVQcmVmaXggKyAnZG93bicsIHRoaXMuX29uTW91c2VEb3duKTtcbiAgICAgIGZ1bmN0b3IoY2FudmFzRWxlbWVudCwgZXZlbnRUeXBlUHJlZml4ICsgJ21vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgYWRkRXZlbnRPcHRpb25zKTtcbiAgICAgIGZ1bmN0b3IoY2FudmFzRWxlbWVudCwgZXZlbnRUeXBlUHJlZml4ICsgJ291dCcsIHRoaXMuX29uTW91c2VPdXQpO1xuICAgICAgZnVuY3RvcihjYW52YXNFbGVtZW50LCBldmVudFR5cGVQcmVmaXggKyAnZW50ZXInLCB0aGlzLl9vbk1vdXNlRW50ZXIpO1xuICAgICAgZnVuY3RvcihjYW52YXNFbGVtZW50LCAnd2hlZWwnLCB0aGlzLl9vbk1vdXNlV2hlZWwpO1xuICAgICAgZnVuY3RvcihjYW52YXNFbGVtZW50LCAnY29udGV4dG1lbnUnLCB0aGlzLl9vbkNvbnRleHRNZW51KTtcbiAgICAgIGZ1bmN0b3IoY2FudmFzRWxlbWVudCwgJ2RibGNsaWNrJywgdGhpcy5fb25Eb3VibGVDbGljayk7XG4gICAgICBmdW5jdG9yKGNhbnZhc0VsZW1lbnQsICdkcmFnb3ZlcicsIHRoaXMuX29uRHJhZ092ZXIpO1xuICAgICAgZnVuY3RvcihjYW52YXNFbGVtZW50LCAnZHJhZ2VudGVyJywgdGhpcy5fb25EcmFnRW50ZXIpO1xuICAgICAgZnVuY3RvcihjYW52YXNFbGVtZW50LCAnZHJhZ2xlYXZlJywgdGhpcy5fb25EcmFnTGVhdmUpO1xuICAgICAgZnVuY3RvcihjYW52YXNFbGVtZW50LCAnZHJvcCcsIHRoaXMuX29uRHJvcCk7XG4gICAgICBpZiAoIXRoaXMuZW5hYmxlUG9pbnRlckV2ZW50cykge1xuICAgICAgICBmdW5jdG9yKGNhbnZhc0VsZW1lbnQsICd0b3VjaHN0YXJ0JywgdGhpcy5fb25Ub3VjaFN0YXJ0LCBhZGRFdmVudE9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBldmVudGpzICE9PSAndW5kZWZpbmVkJyAmJiBldmVudGpzRnVuY3RvciBpbiBldmVudGpzKSB7XG4gICAgICAgIGV2ZW50anNbZXZlbnRqc0Z1bmN0b3JdKGNhbnZhc0VsZW1lbnQsICdnZXN0dXJlJywgdGhpcy5fb25HZXN0dXJlKTtcbiAgICAgICAgZXZlbnRqc1tldmVudGpzRnVuY3Rvcl0oY2FudmFzRWxlbWVudCwgJ2RyYWcnLCB0aGlzLl9vbkRyYWcpO1xuICAgICAgICBldmVudGpzW2V2ZW50anNGdW5jdG9yXShjYW52YXNFbGVtZW50LCAnb3JpZW50YXRpb24nLCB0aGlzLl9vbk9yaWVudGF0aW9uQ2hhbmdlKTtcbiAgICAgICAgZXZlbnRqc1tldmVudGpzRnVuY3Rvcl0oY2FudmFzRWxlbWVudCwgJ3NoYWtlJywgdGhpcy5fb25TaGFrZSk7XG4gICAgICAgIGV2ZW50anNbZXZlbnRqc0Z1bmN0b3JdKGNhbnZhc0VsZW1lbnQsICdsb25ncHJlc3MnLCB0aGlzLl9vbkxvbmdQcmVzcyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGV2ZW50IGxpc3RlbmVyc1xuICAgICAqL1xuICAgIHJlbW92ZUxpc3RlbmVyczogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmFkZE9yUmVtb3ZlKHJlbW92ZUxpc3RlbmVyLCAncmVtb3ZlJyk7XG4gICAgICAvLyBpZiB5b3UgZGlzcG9zZSBvbiBhIG1vdXNlRG93biwgYmVmb3JlIG1vdXNlIHVwLCB5b3UgbmVlZCB0byBjbGVhbiBkb2N1bWVudCB0by4uLlxuICAgICAgdmFyIGV2ZW50VHlwZVByZWZpeCA9IHRoaXMuX2dldEV2ZW50UHJlZml4KCk7XG4gICAgICByZW1vdmVMaXN0ZW5lcihmYWJyaWMuZG9jdW1lbnQsIGV2ZW50VHlwZVByZWZpeCArICd1cCcsIHRoaXMuX29uTW91c2VVcCk7XG4gICAgICByZW1vdmVMaXN0ZW5lcihmYWJyaWMuZG9jdW1lbnQsICd0b3VjaGVuZCcsIHRoaXMuX29uVG91Y2hFbmQsIGFkZEV2ZW50T3B0aW9ucyk7XG4gICAgICByZW1vdmVMaXN0ZW5lcihmYWJyaWMuZG9jdW1lbnQsIGV2ZW50VHlwZVByZWZpeCArICdtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIGFkZEV2ZW50T3B0aW9ucyk7XG4gICAgICByZW1vdmVMaXN0ZW5lcihmYWJyaWMuZG9jdW1lbnQsICd0b3VjaG1vdmUnLCB0aGlzLl9vbk1vdXNlTW92ZSwgYWRkRXZlbnRPcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfYmluZEV2ZW50czogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5ldmVudHNCb3VuZCkge1xuICAgICAgICAvLyBmb3IgYW55IHJlYXNvbiB3ZSBwYXNzIGhlcmUgdHdpY2Ugd2UgZG8gbm90IHdhbnQgdG8gYmluZCBldmVudHMgdHdpY2UuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX29uTW91c2VEb3duID0gdGhpcy5fb25Nb3VzZURvd24uYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX29uVG91Y2hTdGFydCA9IHRoaXMuX29uVG91Y2hTdGFydC5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5fb25Nb3VzZU1vdmUgPSB0aGlzLl9vbk1vdXNlTW92ZS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5fb25Nb3VzZVVwID0gdGhpcy5fb25Nb3VzZVVwLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9vblRvdWNoRW5kID0gdGhpcy5fb25Ub3VjaEVuZC5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5fb25SZXNpemUgPSB0aGlzLl9vblJlc2l6ZS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5fb25HZXN0dXJlID0gdGhpcy5fb25HZXN0dXJlLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9vbkRyYWcgPSB0aGlzLl9vbkRyYWcuYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX29uU2hha2UgPSB0aGlzLl9vblNoYWtlLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9vbkxvbmdQcmVzcyA9IHRoaXMuX29uTG9uZ1ByZXNzLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9vbk9yaWVudGF0aW9uQ2hhbmdlID0gdGhpcy5fb25PcmllbnRhdGlvbkNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5fb25Nb3VzZVdoZWVsID0gdGhpcy5fb25Nb3VzZVdoZWVsLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9vbk1vdXNlT3V0ID0gdGhpcy5fb25Nb3VzZU91dC5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5fb25Nb3VzZUVudGVyID0gdGhpcy5fb25Nb3VzZUVudGVyLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9vbkNvbnRleHRNZW51ID0gdGhpcy5fb25Db250ZXh0TWVudS5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5fb25Eb3VibGVDbGljayA9IHRoaXMuX29uRG91YmxlQ2xpY2suYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuX29uRHJhZ092ZXIgPSB0aGlzLl9vbkRyYWdPdmVyLmJpbmQodGhpcyk7XG4gICAgICB0aGlzLl9vbkRyYWdFbnRlciA9IHRoaXMuX3NpbXBsZUV2ZW50SGFuZGxlci5iaW5kKHRoaXMsICdkcmFnZW50ZXInKTtcbiAgICAgIHRoaXMuX29uRHJhZ0xlYXZlID0gdGhpcy5fc2ltcGxlRXZlbnRIYW5kbGVyLmJpbmQodGhpcywgJ2RyYWdsZWF2ZScpO1xuICAgICAgdGhpcy5fb25Ecm9wID0gdGhpcy5fc2ltcGxlRXZlbnRIYW5kbGVyLmJpbmQodGhpcywgJ2Ryb3AnKTtcbiAgICAgIHRoaXMuZXZlbnRzQm91bmQgPSB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IFtlXSBFdmVudCBvYmplY3QgZmlyZWQgb24gRXZlbnQuanMgZ2VzdHVyZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IFtzZWxmXSBJbm5lciBFdmVudCBvYmplY3RcbiAgICAgKi9cbiAgICBfb25HZXN0dXJlOiBmdW5jdGlvbihlLCBzZWxmKSB7XG4gICAgICB0aGlzLl9fb25UcmFuc2Zvcm1HZXN0dXJlICYmIHRoaXMuX19vblRyYW5zZm9ybUdlc3R1cmUoZSwgc2VsZik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gW2VdIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBFdmVudC5qcyBkcmFnXG4gICAgICogQHBhcmFtIHtFdmVudH0gW3NlbGZdIElubmVyIEV2ZW50IG9iamVjdFxuICAgICAqL1xuICAgIF9vbkRyYWc6IGZ1bmN0aW9uKGUsIHNlbGYpIHtcbiAgICAgIHRoaXMuX19vbkRyYWcgJiYgdGhpcy5fX29uRHJhZyhlLCBzZWxmKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBbZV0gRXZlbnQgb2JqZWN0IGZpcmVkIG9uIHdoZWVsIGV2ZW50XG4gICAgICovXG4gICAgX29uTW91c2VXaGVlbDogZnVuY3Rpb24oZSkge1xuICAgICAgdGhpcy5fX29uTW91c2VXaGVlbChlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBtb3VzZWRvd25cbiAgICAgKi9cbiAgICBfb25Nb3VzZU91dDogZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIHRhcmdldCA9IHRoaXMuX2hvdmVyZWRUYXJnZXQ7XG4gICAgICB0aGlzLmZpcmUoJ21vdXNlOm91dCcsIHsgdGFyZ2V0OiB0YXJnZXQsIGU6IGUgfSk7XG4gICAgICB0aGlzLl9ob3ZlcmVkVGFyZ2V0ID0gbnVsbDtcbiAgICAgIHRhcmdldCAmJiB0YXJnZXQuZmlyZSgnbW91c2VvdXQnLCB7IGU6IGUgfSk7XG5cbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB0aGlzLl9ob3ZlcmVkVGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uKF90YXJnZXQpe1xuICAgICAgICBfdGhpcy5maXJlKCdtb3VzZTpvdXQnLCB7IHRhcmdldDogdGFyZ2V0LCBlOiBlIH0pO1xuICAgICAgICBfdGFyZ2V0ICYmIHRhcmdldC5maXJlKCdtb3VzZW91dCcsIHsgZTogZSB9KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5faG92ZXJlZFRhcmdldHMgPSBbXTtcblxuICAgICAgaWYgKHRoaXMuX2lUZXh0SW5zdGFuY2VzKSB7XG4gICAgICAgIHRoaXMuX2lUZXh0SW5zdGFuY2VzLmZvckVhY2goZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgaWYgKG9iai5pc0VkaXRpbmcpIHtcbiAgICAgICAgICAgIG9iai5oaWRkZW5UZXh0YXJlYS5mb2N1cygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3QgZmlyZWQgb24gbW91c2VlbnRlclxuICAgICAqL1xuICAgIF9vbk1vdXNlRW50ZXI6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIC8vIFRoaXMgZmluZCB0YXJnZXQgYW5kIGNvbnNlcXVlbnQgJ21vdXNlOm92ZXInIGlzIHVzZWQgdG9cbiAgICAgIC8vIGNsZWFyIG9sZCBpbnN0YW5jZXMgb24gaG92ZXJlZCB0YXJnZXQuXG4gICAgICAvLyBjYWxsaW5nIGZpbmRUYXJnZXQgaGFzIHRoZSBzaWRlIGVmZmVjdCBvZiBraWxsaW5nIHRhcmdldC5fX2Nvcm5lci5cbiAgICAgIC8vIGFzIGEgc2hvcnQgdGVybSBmaXggd2UgYXJlIG5vdCBmaXJpbmcgdGhpcyBpZiB3ZSBhcmUgY3VycmVudGx5IHRyYW5zZm9ybWluZy5cbiAgICAgIC8vIGFzIGEgbG9uZyB0ZXJtIGZpeCB3ZSBuZWVkIHRvIHNlcGFyYXRlIHRoZSBhY3Rpb24gb2YgZmluZGluZyBhIHRhcmdldCB3aXRoIHRoZVxuICAgICAgLy8gc2lkZSBlZmZlY3RzIHdlIGFkZGVkIHRvIGl0LlxuICAgICAgaWYgKCF0aGlzLmN1cnJlbnRUcmFuc2Zvcm0gJiYgIXRoaXMuZmluZFRhcmdldChlKSkge1xuICAgICAgICB0aGlzLmZpcmUoJ21vdXNlOm92ZXInLCB7IHRhcmdldDogbnVsbCwgZTogZSB9KTtcbiAgICAgICAgdGhpcy5faG92ZXJlZFRhcmdldCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2hvdmVyZWRUYXJnZXRzID0gW107XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gW2VdIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBFdmVudC5qcyBvcmllbnRhdGlvbiBjaGFuZ2VcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBbc2VsZl0gSW5uZXIgRXZlbnQgb2JqZWN0XG4gICAgICovXG4gICAgX29uT3JpZW50YXRpb25DaGFuZ2U6IGZ1bmN0aW9uKGUsIHNlbGYpIHtcbiAgICAgIHRoaXMuX19vbk9yaWVudGF0aW9uQ2hhbmdlICYmIHRoaXMuX19vbk9yaWVudGF0aW9uQ2hhbmdlKGUsIHNlbGYpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IFtlXSBFdmVudCBvYmplY3QgZmlyZWQgb24gRXZlbnQuanMgc2hha2VcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBbc2VsZl0gSW5uZXIgRXZlbnQgb2JqZWN0XG4gICAgICovXG4gICAgX29uU2hha2U6IGZ1bmN0aW9uKGUsIHNlbGYpIHtcbiAgICAgIHRoaXMuX19vblNoYWtlICYmIHRoaXMuX19vblNoYWtlKGUsIHNlbGYpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IFtlXSBFdmVudCBvYmplY3QgZmlyZWQgb24gRXZlbnQuanMgc2hha2VcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBbc2VsZl0gSW5uZXIgRXZlbnQgb2JqZWN0XG4gICAgICovXG4gICAgX29uTG9uZ1ByZXNzOiBmdW5jdGlvbihlLCBzZWxmKSB7XG4gICAgICB0aGlzLl9fb25Mb25nUHJlc3MgJiYgdGhpcy5fX29uTG9uZ1ByZXNzKGUsIHNlbGYpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBwcmV2ZW50IGRlZmF1bHQgdG8gYWxsb3cgZHJvcCBldmVudCB0byBiZSBmaXJlZFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gW2VdIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBFdmVudC5qcyBzaGFrZVxuICAgICAqL1xuICAgIF9vbkRyYWdPdmVyOiBmdW5jdGlvbihlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5fc2ltcGxlRXZlbnRIYW5kbGVyKCdkcmFnb3ZlcicsIGUpO1xuICAgICAgdGhpcy5fZmlyZUVudGVyTGVhdmVFdmVudHModGFyZ2V0LCBlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBtb3VzZWRvd25cbiAgICAgKi9cbiAgICBfb25Db250ZXh0TWVudTogZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmICh0aGlzLnN0b3BDb250ZXh0TWVudSkge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3QgZmlyZWQgb24gbW91c2Vkb3duXG4gICAgICovXG4gICAgX29uRG91YmxlQ2xpY2s6IGZ1bmN0aW9uIChlKSB7XG4gICAgICB0aGlzLl9jYWNoZVRyYW5zZm9ybUV2ZW50RGF0YShlKTtcbiAgICAgIHRoaXMuX2hhbmRsZUV2ZW50KGUsICdkYmxjbGljaycpO1xuICAgICAgdGhpcy5fcmVzZXRUcmFuc2Zvcm1FdmVudERhdGEoZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBhIHRoZSBpZCBvZiBhbiBldmVudC5cbiAgICAgKiByZXR1cm5zIGVpdGhlciB0aGUgcG9pbnRlcklkIG9yIHRoZSBpZGVudGlmaWVyIG9yIDAgZm9yIHRoZSBtb3VzZSBldmVudFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZXZ0IEV2ZW50IG9iamVjdFxuICAgICAqL1xuICAgIGdldFBvaW50ZXJJZDogZnVuY3Rpb24oZXZ0KSB7XG4gICAgICB2YXIgY2hhbmdlZFRvdWNoZXMgPSBldnQuY2hhbmdlZFRvdWNoZXM7XG5cbiAgICAgIGlmIChjaGFuZ2VkVG91Y2hlcykge1xuICAgICAgICByZXR1cm4gY2hhbmdlZFRvdWNoZXNbMF0gJiYgY2hhbmdlZFRvdWNoZXNbMF0uaWRlbnRpZmllcjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuZW5hYmxlUG9pbnRlckV2ZW50cykge1xuICAgICAgICByZXR1cm4gZXZ0LnBvaW50ZXJJZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIC0xO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIGFuIGV2ZW50IGhhcyB0aGUgaWQgb2YgdGhlIGV2ZW50IHRoYXQgaXMgY29uc2lkZXJlZCBtYWluXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2V2dH0gZXZlbnQgRXZlbnQgb2JqZWN0XG4gICAgICovXG4gICAgX2lzTWFpbkV2ZW50OiBmdW5jdGlvbihldnQpIHtcbiAgICAgIGlmIChldnQuaXNQcmltYXJ5ID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGV2dC5pc1ByaW1hcnkgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChldnQudHlwZSA9PT0gJ3RvdWNoZW5kJyAmJiBldnQudG91Y2hlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoZXZ0LmNoYW5nZWRUb3VjaGVzKSB7XG4gICAgICAgIHJldHVybiBldnQuY2hhbmdlZFRvdWNoZXNbMF0uaWRlbnRpZmllciA9PT0gdGhpcy5tYWluVG91Y2hJZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0IGZpcmVkIG9uIG1vdXNlZG93blxuICAgICAqL1xuICAgIF9vblRvdWNoU3RhcnQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICh0aGlzLm1haW5Ub3VjaElkID09PSBudWxsKSB7XG4gICAgICAgIHRoaXMubWFpblRvdWNoSWQgPSB0aGlzLmdldFBvaW50ZXJJZChlKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX19vbk1vdXNlRG93bihlKTtcbiAgICAgIHRoaXMuX3Jlc2V0VHJhbnNmb3JtRXZlbnREYXRhKCk7XG4gICAgICB2YXIgY2FudmFzRWxlbWVudCA9IHRoaXMudXBwZXJDYW52YXNFbCxcbiAgICAgICAgICBldmVudFR5cGVQcmVmaXggPSB0aGlzLl9nZXRFdmVudFByZWZpeCgpO1xuICAgICAgYWRkTGlzdGVuZXIoZmFicmljLmRvY3VtZW50LCAndG91Y2hlbmQnLCB0aGlzLl9vblRvdWNoRW5kLCBhZGRFdmVudE9wdGlvbnMpO1xuICAgICAgYWRkTGlzdGVuZXIoZmFicmljLmRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIGFkZEV2ZW50T3B0aW9ucyk7XG4gICAgICAvLyBVbmJpbmQgbW91c2Vkb3duIHRvIHByZXZlbnQgZG91YmxlIHRyaWdnZXJzIGZyb20gdG91Y2ggZGV2aWNlc1xuICAgICAgcmVtb3ZlTGlzdGVuZXIoY2FudmFzRWxlbWVudCwgZXZlbnRUeXBlUHJlZml4ICsgJ2Rvd24nLCB0aGlzLl9vbk1vdXNlRG93bik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3QgZmlyZWQgb24gbW91c2Vkb3duXG4gICAgICovXG4gICAgX29uTW91c2VEb3duOiBmdW5jdGlvbiAoZSkge1xuICAgICAgdGhpcy5fX29uTW91c2VEb3duKGUpO1xuICAgICAgdGhpcy5fcmVzZXRUcmFuc2Zvcm1FdmVudERhdGEoKTtcbiAgICAgIHZhciBjYW52YXNFbGVtZW50ID0gdGhpcy51cHBlckNhbnZhc0VsLFxuICAgICAgICAgIGV2ZW50VHlwZVByZWZpeCA9IHRoaXMuX2dldEV2ZW50UHJlZml4KCk7XG4gICAgICByZW1vdmVMaXN0ZW5lcihjYW52YXNFbGVtZW50LCBldmVudFR5cGVQcmVmaXggKyAnbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCBhZGRFdmVudE9wdGlvbnMpO1xuICAgICAgYWRkTGlzdGVuZXIoZmFicmljLmRvY3VtZW50LCBldmVudFR5cGVQcmVmaXggKyAndXAnLCB0aGlzLl9vbk1vdXNlVXApO1xuICAgICAgYWRkTGlzdGVuZXIoZmFicmljLmRvY3VtZW50LCBldmVudFR5cGVQcmVmaXggKyAnbW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCBhZGRFdmVudE9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0IGZpcmVkIG9uIG1vdXNlZG93blxuICAgICAqL1xuICAgIF9vblRvdWNoRW5kOiBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gaWYgdGhlcmUgYXJlIHN0aWxsIHRvdWNoZXMgc3RvcCBoZXJlXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX19vbk1vdXNlVXAoZSk7XG4gICAgICB0aGlzLl9yZXNldFRyYW5zZm9ybUV2ZW50RGF0YSgpO1xuICAgICAgdGhpcy5tYWluVG91Y2hJZCA9IG51bGw7XG4gICAgICB2YXIgZXZlbnRUeXBlUHJlZml4ID0gdGhpcy5fZ2V0RXZlbnRQcmVmaXgoKTtcbiAgICAgIHJlbW92ZUxpc3RlbmVyKGZhYnJpYy5kb2N1bWVudCwgJ3RvdWNoZW5kJywgdGhpcy5fb25Ub3VjaEVuZCwgYWRkRXZlbnRPcHRpb25zKTtcbiAgICAgIHJlbW92ZUxpc3RlbmVyKGZhYnJpYy5kb2N1bWVudCwgJ3RvdWNobW92ZScsIHRoaXMuX29uTW91c2VNb3ZlLCBhZGRFdmVudE9wdGlvbnMpO1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIGlmICh0aGlzLl93aWxsQWRkTW91c2VEb3duKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl93aWxsQWRkTW91c2VEb3duKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3dpbGxBZGRNb3VzZURvd24gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBXYWl0IDQwMG1zIGJlZm9yZSByZWJpbmRpbmcgbW91c2Vkb3duIHRvIHByZXZlbnQgZG91YmxlIHRyaWdnZXJzXG4gICAgICAgIC8vIGZyb20gdG91Y2ggZGV2aWNlc1xuICAgICAgICBhZGRMaXN0ZW5lcihfdGhpcy51cHBlckNhbnZhc0VsLCBldmVudFR5cGVQcmVmaXggKyAnZG93bicsIF90aGlzLl9vbk1vdXNlRG93bik7XG4gICAgICAgIF90aGlzLl93aWxsQWRkTW91c2VEb3duID0gMDtcbiAgICAgIH0sIDQwMCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3QgZmlyZWQgb24gbW91c2V1cFxuICAgICAqL1xuICAgIF9vbk1vdXNlVXA6IGZ1bmN0aW9uIChlKSB7XG4gICAgICB0aGlzLl9fb25Nb3VzZVVwKGUpO1xuICAgICAgdGhpcy5fcmVzZXRUcmFuc2Zvcm1FdmVudERhdGEoKTtcbiAgICAgIHZhciBjYW52YXNFbGVtZW50ID0gdGhpcy51cHBlckNhbnZhc0VsLFxuICAgICAgICAgIGV2ZW50VHlwZVByZWZpeCA9IHRoaXMuX2dldEV2ZW50UHJlZml4KCk7XG4gICAgICBpZiAodGhpcy5faXNNYWluRXZlbnQoZSkpIHtcbiAgICAgICAgcmVtb3ZlTGlzdGVuZXIoZmFicmljLmRvY3VtZW50LCBldmVudFR5cGVQcmVmaXggKyAndXAnLCB0aGlzLl9vbk1vdXNlVXApO1xuICAgICAgICByZW1vdmVMaXN0ZW5lcihmYWJyaWMuZG9jdW1lbnQsIGV2ZW50VHlwZVByZWZpeCArICdtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIGFkZEV2ZW50T3B0aW9ucyk7XG4gICAgICAgIGFkZExpc3RlbmVyKGNhbnZhc0VsZW1lbnQsIGV2ZW50VHlwZVByZWZpeCArICdtb3ZlJywgdGhpcy5fb25Nb3VzZU1vdmUsIGFkZEV2ZW50T3B0aW9ucyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3QgZmlyZWQgb24gbW91c2Vtb3ZlXG4gICAgICovXG4gICAgX29uTW91c2VNb3ZlOiBmdW5jdGlvbiAoZSkge1xuICAgICAgIXRoaXMuYWxsb3dUb3VjaFNjcm9sbGluZyAmJiBlLnByZXZlbnREZWZhdWx0ICYmIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX19vbk1vdXNlTW92ZShlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25SZXNpemU6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuY2FsY09mZnNldCgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZWNpZGVzIHdoZXRoZXIgdGhlIGNhbnZhcyBzaG91bGQgYmUgcmVkcmF3biBpbiBtb3VzZXVwIGFuZCBtb3VzZWRvd24gZXZlbnRzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHRhcmdldFxuICAgICAqL1xuICAgIF9zaG91bGRSZW5kZXI6IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgdmFyIGFjdGl2ZU9iamVjdCA9IHRoaXMuX2FjdGl2ZU9iamVjdDtcblxuICAgICAgaWYgKFxuICAgICAgICAhIWFjdGl2ZU9iamVjdCAhPT0gISF0YXJnZXQgfHxcbiAgICAgICAgKGFjdGl2ZU9iamVjdCAmJiB0YXJnZXQgJiYgKGFjdGl2ZU9iamVjdCAhPT0gdGFyZ2V0KSlcbiAgICAgICkge1xuICAgICAgICAvLyB0aGlzIGNvdmVyczogc3dpdGNoIG9mIHRhcmdldCwgZnJvbSB0YXJnZXQgdG8gbm8gdGFyZ2V0LCBzZWxlY3Rpb24gb2YgdGFyZ2V0XG4gICAgICAgIC8vIG11bHRpU2VsZWN0aW9uIHdpdGgga2V5IGFuZCBtb3VzZVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGFjdGl2ZU9iamVjdCAmJiBhY3RpdmVPYmplY3QuaXNFZGl0aW5nKSB7XG4gICAgICAgIC8vIGlmIHdlIG1vdXNlIHVwL2Rvd24gb3ZlciBhIGVkaXRpbmcgdGV4dGJveCBhIGN1cnNvciBjaGFuZ2UsXG4gICAgICAgIC8vIHRoZXJlIGlzIG5vIG5lZWQgdG8gcmUgcmVuZGVyXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRoYXQgZGVmaW5lcyB0aGUgYWN0aW9ucyB3aGVuIG1vdXNlIGlzIHJlbGVhc2VkIG9uIGNhbnZhcy5cbiAgICAgKiBUaGUgbWV0aG9kIHJlc2V0cyB0aGUgY3VycmVudFRyYW5zZm9ybSBwYXJhbWV0ZXJzLCBzdG9yZSB0aGUgaW1hZ2UgY29ybmVyXG4gICAgICogcG9zaXRpb24gaW4gdGhlIGltYWdlIG9iamVjdCBhbmQgcmVuZGVyIHRoZSBjYW52YXMgb24gdG9wLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3QgZmlyZWQgb24gbW91c2V1cFxuICAgICAqL1xuICAgIF9fb25Nb3VzZVVwOiBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIHRhcmdldCwgdHJhbnNmb3JtID0gdGhpcy5fY3VycmVudFRyYW5zZm9ybSxcbiAgICAgICAgICBncm91cFNlbGVjdG9yID0gdGhpcy5fZ3JvdXBTZWxlY3Rvciwgc2hvdWxkUmVuZGVyID0gZmFsc2UsXG4gICAgICAgICAgaXNDbGljayA9ICghZ3JvdXBTZWxlY3RvciB8fCAoZ3JvdXBTZWxlY3Rvci5sZWZ0ID09PSAwICYmIGdyb3VwU2VsZWN0b3IudG9wID09PSAwKSk7XG4gICAgICB0aGlzLl9jYWNoZVRyYW5zZm9ybUV2ZW50RGF0YShlKTtcbiAgICAgIHRhcmdldCA9IHRoaXMuX3RhcmdldDtcbiAgICAgIHRoaXMuX2hhbmRsZUV2ZW50KGUsICd1cDpiZWZvcmUnKTtcbiAgICAgIC8vIGlmIHJpZ2h0L21pZGRsZSBjbGljayBqdXN0IGZpcmUgZXZlbnRzIGFuZCByZXR1cm5cbiAgICAgIC8vIHRhcmdldCB1bmRlZmluZWQgd2lsbCBtYWtlIHRoZSBfaGFuZGxlRXZlbnQgc2VhcmNoIHRoZSB0YXJnZXRcbiAgICAgIGlmIChjaGVja0NsaWNrKGUsIFJJR0hUX0NMSUNLKSkge1xuICAgICAgICBpZiAodGhpcy5maXJlUmlnaHRDbGljaykge1xuICAgICAgICAgIHRoaXMuX2hhbmRsZUV2ZW50KGUsICd1cCcsIFJJR0hUX0NMSUNLLCBpc0NsaWNrKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChjaGVja0NsaWNrKGUsIE1JRERMRV9DTElDSykpIHtcbiAgICAgICAgaWYgKHRoaXMuZmlyZU1pZGRsZUNsaWNrKSB7XG4gICAgICAgICAgdGhpcy5faGFuZGxlRXZlbnQoZSwgJ3VwJywgTUlERExFX0NMSUNLLCBpc0NsaWNrKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yZXNldFRyYW5zZm9ybUV2ZW50RGF0YSgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmlzRHJhd2luZ01vZGUgJiYgdGhpcy5faXNDdXJyZW50bHlEcmF3aW5nKSB7XG4gICAgICAgIHRoaXMuX29uTW91c2VVcEluRHJhd2luZ01vZGUoZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0aGlzLl9pc01haW5FdmVudChlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodHJhbnNmb3JtKSB7XG4gICAgICAgIHRoaXMuX2ZpbmFsaXplQ3VycmVudFRyYW5zZm9ybShlKTtcbiAgICAgICAgc2hvdWxkUmVuZGVyID0gdHJhbnNmb3JtLmFjdGlvblBlcmZvcm1lZDtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc0NsaWNrKSB7XG4gICAgICAgIHRoaXMuX21heWJlR3JvdXBPYmplY3RzKGUpO1xuICAgICAgICBzaG91bGRSZW5kZXIgfHwgKHNob3VsZFJlbmRlciA9IHRoaXMuX3Nob3VsZFJlbmRlcih0YXJnZXQpKTtcbiAgICAgIH1cbiAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgdGFyZ2V0LmlzTW92aW5nID0gZmFsc2U7XG4gICAgICB9XG4gICAgICB0aGlzLl9zZXRDdXJzb3JGcm9tRXZlbnQoZSwgdGFyZ2V0KTtcbiAgICAgIHRoaXMuX2hhbmRsZUV2ZW50KGUsICd1cCcsIExFRlRfQ0xJQ0ssIGlzQ2xpY2spO1xuICAgICAgdGhpcy5fZ3JvdXBTZWxlY3RvciA9IG51bGw7XG4gICAgICB0aGlzLl9jdXJyZW50VHJhbnNmb3JtID0gbnVsbDtcbiAgICAgIC8vIHJlc2V0IHRoZSB0YXJnZXQgaW5mb3JtYXRpb24gYWJvdXQgd2hpY2ggY29ybmVyIGlzIHNlbGVjdGVkXG4gICAgICB0YXJnZXQgJiYgKHRhcmdldC5fX2Nvcm5lciA9IDApO1xuICAgICAgaWYgKHNob3VsZFJlbmRlcikge1xuICAgICAgICB0aGlzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKCFpc0NsaWNrKSB7XG4gICAgICAgIHRoaXMucmVuZGVyVG9wKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogSGFuZGxlIGV2ZW50IGZpcmluZyBmb3IgdGFyZ2V0IGFuZCBzdWJ0YXJnZXRzXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBldmVudCBmcm9tIG1vdXNlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50VHlwZSBldmVudCB0byBmaXJlICh1cCwgZG93biBvciBtb3ZlKVxuICAgICAqIEByZXR1cm4ge0ZhYnJpYy5PYmplY3R9IHRhcmdldCByZXR1cm4gdGhlIHRoZSB0YXJnZXQgZm91bmQsIGZvciBpbnRlcm5hbCByZWFzb25zLlxuICAgICAqL1xuICAgIF9zaW1wbGVFdmVudEhhbmRsZXI6IGZ1bmN0aW9uKGV2ZW50VHlwZSwgZSkge1xuICAgICAgdmFyIHRhcmdldCA9IHRoaXMuZmluZFRhcmdldChlKSxcbiAgICAgICAgICB0YXJnZXRzID0gdGhpcy50YXJnZXRzLFxuICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBlOiBlLFxuICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICAgICAgICBzdWJUYXJnZXRzOiB0YXJnZXRzLFxuICAgICAgICAgIH07XG4gICAgICB0aGlzLmZpcmUoZXZlbnRUeXBlLCBvcHRpb25zKTtcbiAgICAgIHRhcmdldCAmJiB0YXJnZXQuZmlyZShldmVudFR5cGUsIG9wdGlvbnMpO1xuICAgICAgaWYgKCF0YXJnZXRzKSB7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRhcmdldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdGFyZ2V0c1tpXS5maXJlKGV2ZW50VHlwZSwgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEhhbmRsZSBldmVudCBmaXJpbmcgZm9yIHRhcmdldCBhbmQgc3VidGFyZ2V0c1xuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgZXZlbnQgZnJvbSBtb3VzZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFR5cGUgZXZlbnQgdG8gZmlyZSAodXAsIGRvd24gb3IgbW92ZSlcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IHRhcmdldE9iaiByZWNlaXZpbmcgZXZlbnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2J1dHRvbl0gYnV0dG9uIHVzZWQgaW4gdGhlIGV2ZW50IDEgPSBsZWZ0LCAyID0gbWlkZGxlLCAzID0gcmlnaHRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGlzQ2xpY2sgZm9yIGxlZnQgYnV0dG9uIG9ubHksIGluZGljYXRlcyB0aGF0IHRoZSBtb3VzZSB1cCBoYXBwZW5lZCB3aXRob3V0IG1vdmUuXG4gICAgICovXG4gICAgX2hhbmRsZUV2ZW50OiBmdW5jdGlvbihlLCBldmVudFR5cGUsIGJ1dHRvbiwgaXNDbGljaykge1xuICAgICAgdmFyIHRhcmdldCA9IHRoaXMuX3RhcmdldCxcbiAgICAgICAgICB0YXJnZXRzID0gdGhpcy50YXJnZXRzIHx8IFtdLFxuICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBlOiBlLFxuICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICAgICAgICBzdWJUYXJnZXRzOiB0YXJnZXRzLFxuICAgICAgICAgICAgYnV0dG9uOiBidXR0b24gfHwgTEVGVF9DTElDSyxcbiAgICAgICAgICAgIGlzQ2xpY2s6IGlzQ2xpY2sgfHwgZmFsc2UsXG4gICAgICAgICAgICBwb2ludGVyOiB0aGlzLl9wb2ludGVyLFxuICAgICAgICAgICAgYWJzb2x1dGVQb2ludGVyOiB0aGlzLl9hYnNvbHV0ZVBvaW50ZXIsXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRoaXMuX2N1cnJlbnRUcmFuc2Zvcm1cbiAgICAgICAgICB9O1xuICAgICAgdGhpcy5maXJlKCdtb3VzZTonICsgZXZlbnRUeXBlLCBvcHRpb25zKTtcbiAgICAgIHRhcmdldCAmJiB0YXJnZXQuZmlyZSgnbW91c2UnICsgZXZlbnRUeXBlLCBvcHRpb25zKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFyZ2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0YXJnZXRzW2ldLmZpcmUoJ21vdXNlJyArIGV2ZW50VHlwZSwgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBzZW5kIHRoZSBtb3VzZSBldmVudCB0aGF0IGdlbmVyYXRlIHRoZSBmaW5hbGl6ZSBkb3duLCBzbyBpdCBjYW4gYmUgdXNlZCBpbiB0aGUgZXZlbnRcbiAgICAgKi9cbiAgICBfZmluYWxpemVDdXJyZW50VHJhbnNmb3JtOiBmdW5jdGlvbihlKSB7XG5cbiAgICAgIHZhciB0cmFuc2Zvcm0gPSB0aGlzLl9jdXJyZW50VHJhbnNmb3JtLFxuICAgICAgICAgIHRhcmdldCA9IHRyYW5zZm9ybS50YXJnZXQsXG4gICAgICAgICAgZXZlbnROYW1lLFxuICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBlOiBlLFxuICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zZm9ybSxcbiAgICAgICAgICB9O1xuXG4gICAgICBpZiAodGFyZ2V0Ll9zY2FsaW5nKSB7XG4gICAgICAgIHRhcmdldC5fc2NhbGluZyA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICB0YXJnZXQuc2V0Q29vcmRzKCk7XG5cbiAgICAgIGlmICh0cmFuc2Zvcm0uYWN0aW9uUGVyZm9ybWVkIHx8ICh0aGlzLnN0YXRlZnVsICYmIHRhcmdldC5oYXNTdGF0ZUNoYW5nZWQoKSkpIHtcbiAgICAgICAgaWYgKHRyYW5zZm9ybS5hY3Rpb25QZXJmb3JtZWQpIHtcbiAgICAgICAgICBldmVudE5hbWUgPSB0aGlzLl9hZGRFdmVudE9wdGlvbnMob3B0aW9ucywgdHJhbnNmb3JtKTtcbiAgICAgICAgICB0aGlzLl9maXJlKGV2ZW50TmFtZSwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZmlyZSgnbW9kaWZpZWQnLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTXV0YXRlIG9wdGlvbiBvYmplY3QgaW4gb3JkZXIgdG8gYWRkIGJ5IHByb3BlcnR5IGFuZCBnaXZlIGJhY2sgdGhlIGV2ZW50IG5hbWUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyB0byBtdXRhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdHJhbnNmb3JtIHRvIGluc3BlY3QgYWN0aW9uIGZyb21cbiAgICAgKi9cbiAgICBfYWRkRXZlbnRPcHRpb25zOiBmdW5jdGlvbihvcHRpb25zLCB0cmFuc2Zvcm0pIHtcbiAgICAgIC8vIHdlIGNhbiBwcm9iYWJseSBhZGQgbW9yZSBkZXRhaWxzIGF0IGxvdyBjb3N0XG4gICAgICAvLyBzY2FsZSBjaGFuZ2UsIHJvdGF0aW9uIGNoYW5nZXMsIHRyYW5zbGF0aW9uIGNoYW5nZXNcbiAgICAgIHZhciBldmVudE5hbWUsIGJ5O1xuICAgICAgc3dpdGNoICh0cmFuc2Zvcm0uYWN0aW9uKSB7XG4gICAgICAgIGNhc2UgJ3NjYWxlWCc6XG4gICAgICAgICAgZXZlbnROYW1lID0gJ3NjYWxlZCc7XG4gICAgICAgICAgYnkgPSAneCc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3NjYWxlWSc6XG4gICAgICAgICAgZXZlbnROYW1lID0gJ3NjYWxlZCc7XG4gICAgICAgICAgYnkgPSAneSc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3NrZXdYJzpcbiAgICAgICAgICBldmVudE5hbWUgPSAnc2tld2VkJztcbiAgICAgICAgICBieSA9ICd4JztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnc2tld1knOlxuICAgICAgICAgIGV2ZW50TmFtZSA9ICdza2V3ZWQnO1xuICAgICAgICAgIGJ5ID0gJ3knO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdzY2FsZSc6XG4gICAgICAgICAgZXZlbnROYW1lID0gJ3NjYWxlZCc7XG4gICAgICAgICAgYnkgPSAnZXF1YWxseSc7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3JvdGF0ZSc6XG4gICAgICAgICAgZXZlbnROYW1lID0gJ3JvdGF0ZWQnO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdkcmFnJzpcbiAgICAgICAgICBldmVudE5hbWUgPSAnbW92ZWQnO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgb3B0aW9ucy5ieSA9IGJ5O1xuICAgICAgcmV0dXJuIGV2ZW50TmFtZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBtb3VzZWRvd25cbiAgICAgKi9cbiAgICBfb25Nb3VzZURvd25JbkRyYXdpbmdNb2RlOiBmdW5jdGlvbihlKSB7XG4gICAgICB0aGlzLl9pc0N1cnJlbnRseURyYXdpbmcgPSB0cnVlO1xuICAgICAgaWYgKHRoaXMuZ2V0QWN0aXZlT2JqZWN0KCkpIHtcbiAgICAgICAgdGhpcy5kaXNjYXJkQWN0aXZlT2JqZWN0KGUpLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmNsaXBUbykge1xuICAgICAgICBmYWJyaWMudXRpbC5jbGlwQ29udGV4dCh0aGlzLCB0aGlzLmNvbnRleHRUb3ApO1xuICAgICAgfVxuICAgICAgdmFyIHBvaW50ZXIgPSB0aGlzLmdldFBvaW50ZXIoZSk7XG4gICAgICB0aGlzLmZyZWVEcmF3aW5nQnJ1c2gub25Nb3VzZURvd24ocG9pbnRlciwgeyBlOiBlLCBwb2ludGVyOiBwb2ludGVyIH0pO1xuICAgICAgdGhpcy5faGFuZGxlRXZlbnQoZSwgJ2Rvd24nKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBtb3VzZW1vdmVcbiAgICAgKi9cbiAgICBfb25Nb3VzZU1vdmVJbkRyYXdpbmdNb2RlOiBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAodGhpcy5faXNDdXJyZW50bHlEcmF3aW5nKSB7XG4gICAgICAgIHZhciBwb2ludGVyID0gdGhpcy5nZXRQb2ludGVyKGUpO1xuICAgICAgICB0aGlzLmZyZWVEcmF3aW5nQnJ1c2gub25Nb3VzZU1vdmUocG9pbnRlciwgeyBlOiBlLCBwb2ludGVyOiBwb2ludGVyIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXRDdXJzb3IodGhpcy5mcmVlRHJhd2luZ0N1cnNvcik7XG4gICAgICB0aGlzLl9oYW5kbGVFdmVudChlLCAnbW92ZScpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0IGZpcmVkIG9uIG1vdXNldXBcbiAgICAgKi9cbiAgICBfb25Nb3VzZVVwSW5EcmF3aW5nTW9kZTogZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKHRoaXMuY2xpcFRvKSB7XG4gICAgICAgIHRoaXMuY29udGV4dFRvcC5yZXN0b3JlKCk7XG4gICAgICB9XG4gICAgICB2YXIgcG9pbnRlciA9IHRoaXMuZ2V0UG9pbnRlcihlKTtcbiAgICAgIHRoaXMuX2lzQ3VycmVudGx5RHJhd2luZyA9IHRoaXMuZnJlZURyYXdpbmdCcnVzaC5vbk1vdXNlVXAoeyBlOiBlLCBwb2ludGVyOiBwb2ludGVyIH0pO1xuICAgICAgdGhpcy5faGFuZGxlRXZlbnQoZSwgJ3VwJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0aGF0IGRlZmluZXMgdGhlIGFjdGlvbnMgd2hlbiBtb3VzZSBpcyBjbGlja2VkIG9uIGNhbnZhcy5cbiAgICAgKiBUaGUgbWV0aG9kIGluaXRzIHRoZSBjdXJyZW50VHJhbnNmb3JtIHBhcmFtZXRlcnMgYW5kIHJlbmRlcnMgYWxsIHRoZVxuICAgICAqIGNhbnZhcyBzbyB0aGUgY3VycmVudCBpbWFnZSBjYW4gYmUgcGxhY2VkIG9uIHRoZSB0b3AgY2FudmFzIGFuZCB0aGUgcmVzdFxuICAgICAqIGluIG9uIHRoZSBjb250YWluZXIgb25lLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3QgZmlyZWQgb24gbW91c2Vkb3duXG4gICAgICovXG4gICAgX19vbk1vdXNlRG93bjogZnVuY3Rpb24gKGUpIHtcbiAgICAgIHRoaXMuX2NhY2hlVHJhbnNmb3JtRXZlbnREYXRhKGUpO1xuICAgICAgdGhpcy5faGFuZGxlRXZlbnQoZSwgJ2Rvd246YmVmb3JlJyk7XG4gICAgICB2YXIgdGFyZ2V0ID0gdGhpcy5fdGFyZ2V0O1xuICAgICAgLy8gaWYgcmlnaHQgY2xpY2sganVzdCBmaXJlIGV2ZW50c1xuICAgICAgaWYgKGNoZWNrQ2xpY2soZSwgUklHSFRfQ0xJQ0spKSB7XG4gICAgICAgIGlmICh0aGlzLmZpcmVSaWdodENsaWNrKSB7XG4gICAgICAgICAgdGhpcy5faGFuZGxlRXZlbnQoZSwgJ2Rvd24nLCBSSUdIVF9DTElDSyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2hlY2tDbGljayhlLCBNSURETEVfQ0xJQ0spKSB7XG4gICAgICAgIGlmICh0aGlzLmZpcmVNaWRkbGVDbGljaykge1xuICAgICAgICAgIHRoaXMuX2hhbmRsZUV2ZW50KGUsICdkb3duJywgTUlERExFX0NMSUNLKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmlzRHJhd2luZ01vZGUpIHtcbiAgICAgICAgdGhpcy5fb25Nb3VzZURvd25JbkRyYXdpbmdNb2RlKGUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5faXNNYWluRXZlbnQoZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBpZ25vcmUgaWYgc29tZSBvYmplY3QgaXMgYmVpbmcgdHJhbnNmb3JtZWQgYXQgdGhpcyBtb21lbnRcbiAgICAgIGlmICh0aGlzLl9jdXJyZW50VHJhbnNmb3JtKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHBvaW50ZXIgPSB0aGlzLl9wb2ludGVyO1xuICAgICAgLy8gc2F2ZSBwb2ludGVyIGZvciBjaGVjayBpbiBfX29uTW91c2VVcCBldmVudFxuICAgICAgdGhpcy5fcHJldmlvdXNQb2ludGVyID0gcG9pbnRlcjtcbiAgICAgIHZhciBzaG91bGRSZW5kZXIgPSB0aGlzLl9zaG91bGRSZW5kZXIodGFyZ2V0KSxcbiAgICAgICAgICBzaG91bGRHcm91cCA9IHRoaXMuX3Nob3VsZEdyb3VwKGUsIHRhcmdldCk7XG4gICAgICBpZiAodGhpcy5fc2hvdWxkQ2xlYXJTZWxlY3Rpb24oZSwgdGFyZ2V0KSkge1xuICAgICAgICB0aGlzLmRpc2NhcmRBY3RpdmVPYmplY3QoZSk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChzaG91bGRHcm91cCkge1xuICAgICAgICB0aGlzLl9oYW5kbGVHcm91cGluZyhlLCB0YXJnZXQpO1xuICAgICAgICB0YXJnZXQgPSB0aGlzLl9hY3RpdmVPYmplY3Q7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnNlbGVjdGlvbiAmJiAoIXRhcmdldCB8fFxuICAgICAgICAoIXRhcmdldC5zZWxlY3RhYmxlICYmICF0YXJnZXQuaXNFZGl0aW5nICYmIHRhcmdldCAhPT0gdGhpcy5fYWN0aXZlT2JqZWN0KSkpIHtcbiAgICAgICAgdGhpcy5fZ3JvdXBTZWxlY3RvciA9IHtcbiAgICAgICAgICBleDogcG9pbnRlci54LFxuICAgICAgICAgIGV5OiBwb2ludGVyLnksXG4gICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgIGxlZnQ6IDBcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICB2YXIgYWxyZWFkeVNlbGVjdGVkID0gdGFyZ2V0ID09PSB0aGlzLl9hY3RpdmVPYmplY3Q7XG4gICAgICAgIGlmICh0YXJnZXQuc2VsZWN0YWJsZSkge1xuICAgICAgICAgIHRoaXMuc2V0QWN0aXZlT2JqZWN0KHRhcmdldCwgZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhcmdldCA9PT0gdGhpcy5fYWN0aXZlT2JqZWN0ICYmICh0YXJnZXQuX19jb3JuZXIgfHwgIXNob3VsZEdyb3VwKSkge1xuICAgICAgICAgIHRoaXMuX3NldHVwQ3VycmVudFRyYW5zZm9ybShlLCB0YXJnZXQsIGFscmVhZHlTZWxlY3RlZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuX2hhbmRsZUV2ZW50KGUsICdkb3duJyk7XG4gICAgICAvLyB3ZSBtdXN0IHJlbmRlckFsbCBzbyB0aGF0IHdlIHVwZGF0ZSB0aGUgdmlzdWFsc1xuICAgICAgKHNob3VsZFJlbmRlciB8fCBzaG91bGRHcm91cCkgJiYgdGhpcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlc2V0IGNhY2hlIGZvcm0gY29tbW9uIGluZm9ybWF0aW9uIG5lZWRlZCBkdXJpbmcgZXZlbnQgcHJvY2Vzc2luZ1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3Jlc2V0VHJhbnNmb3JtRXZlbnREYXRhOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX3RhcmdldCA9IG51bGw7XG4gICAgICB0aGlzLl9wb2ludGVyID0gbnVsbDtcbiAgICAgIHRoaXMuX2Fic29sdXRlUG9pbnRlciA9IG51bGw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhY2hlIGNvbW1vbiBpbmZvcm1hdGlvbiBuZWVkZWQgZHVyaW5nIGV2ZW50IHByb2Nlc3NpbmdcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0IGZpcmVkIG9uIGV2ZW50XG4gICAgICovXG4gICAgX2NhY2hlVHJhbnNmb3JtRXZlbnREYXRhOiBmdW5jdGlvbihlKSB7XG4gICAgICAvLyByZXNldCBpbiBvcmRlciB0byBhdm9pZCBzdGFsZSBjYWNoaW5nXG4gICAgICB0aGlzLl9yZXNldFRyYW5zZm9ybUV2ZW50RGF0YSgpO1xuICAgICAgdGhpcy5fcG9pbnRlciA9IHRoaXMuZ2V0UG9pbnRlcihlLCB0cnVlKTtcbiAgICAgIHRoaXMuX2Fic29sdXRlUG9pbnRlciA9IHRoaXMucmVzdG9yZVBvaW50ZXJWcHQodGhpcy5fcG9pbnRlcik7XG4gICAgICB0aGlzLl90YXJnZXQgPSB0aGlzLl9jdXJyZW50VHJhbnNmb3JtID8gdGhpcy5fY3VycmVudFRyYW5zZm9ybS50YXJnZXQgOiB0aGlzLmZpbmRUYXJnZXQoZSkgfHwgbnVsbDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfYmVmb3JlVHJhbnNmb3JtOiBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgdCA9IHRoaXMuX2N1cnJlbnRUcmFuc2Zvcm07XG4gICAgICB0aGlzLnN0YXRlZnVsICYmIHQudGFyZ2V0LnNhdmVTdGF0ZSgpO1xuICAgICAgdGhpcy5maXJlKCdiZWZvcmU6dHJhbnNmb3JtJywge1xuICAgICAgICBlOiBlLFxuICAgICAgICB0cmFuc2Zvcm06IHQsXG4gICAgICB9KTtcbiAgICAgIC8vIGRldGVybWluZSBpZiBpdCdzIGEgZHJhZyBvciByb3RhdGUgY2FzZVxuICAgICAgaWYgKHQuY29ybmVyKSB7XG4gICAgICAgIHRoaXMub25CZWZvcmVTY2FsZVJvdGF0ZSh0LnRhcmdldCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0aGF0IGRlZmluZXMgdGhlIGFjdGlvbnMgd2hlbiBtb3VzZSBpcyBob3ZlcmluZyB0aGUgY2FudmFzLlxuICAgICAqIFRoZSBjdXJyZW50VHJhbnNmb3JtIHBhcmFtZXRlciB3aWxsIGRlZmluZSB3aGV0aGVyIHRoZSB1c2VyIGlzIHJvdGF0aW5nL3NjYWxpbmcvdHJhbnNsYXRpbmdcbiAgICAgKiBhbiBpbWFnZSBvciBuZWl0aGVyIG9mIHRoZW0gKG9ubHkgaG92ZXJpbmcpLiBBIGdyb3VwIHNlbGVjdGlvbiBpcyBhbHNvIHBvc3NpYmxlIGFuZCB3b3VsZCBjYW5jZWxcbiAgICAgKiBhbGwgYW55IG90aGVyIHR5cGUgb2YgYWN0aW9uLlxuICAgICAqIEluIGNhc2Ugb2YgYW4gaW1hZ2UgdHJhbnNmb3JtYXRpb24gb25seSB0aGUgdG9wIGNhbnZhcyB3aWxsIGJlIHJlbmRlcmVkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3QgZmlyZWQgb24gbW91c2Vtb3ZlXG4gICAgICovXG4gICAgX19vbk1vdXNlTW92ZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgIHRoaXMuX2hhbmRsZUV2ZW50KGUsICdtb3ZlOmJlZm9yZScpO1xuICAgICAgdGhpcy5fY2FjaGVUcmFuc2Zvcm1FdmVudERhdGEoZSk7XG4gICAgICB2YXIgdGFyZ2V0LCBwb2ludGVyO1xuXG4gICAgICBpZiAodGhpcy5pc0RyYXdpbmdNb2RlKSB7XG4gICAgICAgIHRoaXMuX29uTW91c2VNb3ZlSW5EcmF3aW5nTW9kZShlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuX2lzTWFpbkV2ZW50KGUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGdyb3VwU2VsZWN0b3IgPSB0aGlzLl9ncm91cFNlbGVjdG9yO1xuXG4gICAgICAvLyBXZSBpbml0aWFsbHkgY2xpY2tlZCBpbiBhbiBlbXB0eSBhcmVhLCBzbyB3ZSBkcmF3IGEgYm94IGZvciBtdWx0aXBsZSBzZWxlY3Rpb25cbiAgICAgIGlmIChncm91cFNlbGVjdG9yKSB7XG4gICAgICAgIHBvaW50ZXIgPSB0aGlzLl9wb2ludGVyO1xuXG4gICAgICAgIGdyb3VwU2VsZWN0b3IubGVmdCA9IHBvaW50ZXIueCAtIGdyb3VwU2VsZWN0b3IuZXg7XG4gICAgICAgIGdyb3VwU2VsZWN0b3IudG9wID0gcG9pbnRlci55IC0gZ3JvdXBTZWxlY3Rvci5leTtcblxuICAgICAgICB0aGlzLnJlbmRlclRvcCgpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoIXRoaXMuX2N1cnJlbnRUcmFuc2Zvcm0pIHtcbiAgICAgICAgdGFyZ2V0ID0gdGhpcy5maW5kVGFyZ2V0KGUpIHx8IG51bGw7XG4gICAgICAgIHRoaXMuX3NldEN1cnNvckZyb21FdmVudChlLCB0YXJnZXQpO1xuICAgICAgICB0aGlzLl9maXJlT3Zlck91dEV2ZW50cyh0YXJnZXQsIGUpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuX3RyYW5zZm9ybU9iamVjdChlKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2hhbmRsZUV2ZW50KGUsICdtb3ZlJyk7XG4gICAgICB0aGlzLl9yZXNldFRyYW5zZm9ybUV2ZW50RGF0YSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNYW5hZ2UgdGhlIG1vdXNlb3V0LCBtb3VzZW92ZXIgZXZlbnRzIGZvciB0aGUgZmFicmljIG9iamVjdCBvbiB0aGUgY2FudmFzXG4gICAgICogQHBhcmFtIHtGYWJyaWMuT2JqZWN0fSB0YXJnZXQgdGhlIHRhcmdldCB3aGVyZSB0aGUgdGFyZ2V0IGZyb20gdGhlIG1vdXNlbW92ZSBldmVudFxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0IGZpcmVkIG9uIG1vdXNlbW92ZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2ZpcmVPdmVyT3V0RXZlbnRzOiBmdW5jdGlvbih0YXJnZXQsIGUpIHtcbiAgICAgIHZhciBfaG92ZXJlZFRhcmdldCA9IHRoaXMuX2hvdmVyZWRUYXJnZXQsXG4gICAgICAgICAgX2hvdmVyZWRUYXJnZXRzID0gdGhpcy5faG92ZXJlZFRhcmdldHMsIHRhcmdldHMgPSB0aGlzLnRhcmdldHMsXG4gICAgICAgICAgbGVuZ3RoID0gTWF0aC5tYXgoX2hvdmVyZWRUYXJnZXRzLmxlbmd0aCwgdGFyZ2V0cy5sZW5ndGgpO1xuXG4gICAgICB0aGlzLmZpcmVTeW50aGV0aWNJbk91dEV2ZW50cyh0YXJnZXQsIGUsIHtcbiAgICAgICAgb2xkVGFyZ2V0OiBfaG92ZXJlZFRhcmdldCxcbiAgICAgICAgZXZ0T3V0OiAnbW91c2VvdXQnLFxuICAgICAgICBjYW52YXNFdnRPdXQ6ICdtb3VzZTpvdXQnLFxuICAgICAgICBldnRJbjogJ21vdXNlb3ZlcicsXG4gICAgICAgIGNhbnZhc0V2dEluOiAnbW91c2U6b3ZlcicsXG4gICAgICB9KTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspe1xuICAgICAgICB0aGlzLmZpcmVTeW50aGV0aWNJbk91dEV2ZW50cyh0YXJnZXRzW2ldLCBlLCB7XG4gICAgICAgICAgb2xkVGFyZ2V0OiBfaG92ZXJlZFRhcmdldHNbaV0sXG4gICAgICAgICAgZXZ0T3V0OiAnbW91c2VvdXQnLFxuICAgICAgICAgIGV2dEluOiAnbW91c2VvdmVyJyxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9ob3ZlcmVkVGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgdGhpcy5faG92ZXJlZFRhcmdldHMgPSB0aGlzLnRhcmdldHMuY29uY2F0KCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1hbmFnZSB0aGUgZHJhZ0VudGVyLCBkcmFnTGVhdmUgZXZlbnRzIGZvciB0aGUgZmFicmljIG9iamVjdHMgb24gdGhlIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7RmFicmljLk9iamVjdH0gdGFyZ2V0IHRoZSB0YXJnZXQgd2hlcmUgdGhlIHRhcmdldCBmcm9tIHRoZSBvbkRyYWcgZXZlbnRcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZCBvbiBvbmRyYWdcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9maXJlRW50ZXJMZWF2ZUV2ZW50czogZnVuY3Rpb24odGFyZ2V0LCBlKSB7XG4gICAgICB2YXIgX2RyYWdnZWRvdmVyVGFyZ2V0ID0gdGhpcy5fZHJhZ2dlZG92ZXJUYXJnZXQsXG4gICAgICAgICAgX2hvdmVyZWRUYXJnZXRzID0gdGhpcy5faG92ZXJlZFRhcmdldHMsIHRhcmdldHMgPSB0aGlzLnRhcmdldHMsXG4gICAgICAgICAgbGVuZ3RoID0gTWF0aC5tYXgoX2hvdmVyZWRUYXJnZXRzLmxlbmd0aCwgdGFyZ2V0cy5sZW5ndGgpO1xuXG4gICAgICB0aGlzLmZpcmVTeW50aGV0aWNJbk91dEV2ZW50cyh0YXJnZXQsIGUsIHtcbiAgICAgICAgb2xkVGFyZ2V0OiBfZHJhZ2dlZG92ZXJUYXJnZXQsXG4gICAgICAgIGV2dE91dDogJ2RyYWdsZWF2ZScsXG4gICAgICAgIGV2dEluOiAnZHJhZ2VudGVyJyxcbiAgICAgIH0pO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLmZpcmVTeW50aGV0aWNJbk91dEV2ZW50cyh0YXJnZXRzW2ldLCBlLCB7XG4gICAgICAgICAgb2xkVGFyZ2V0OiBfaG92ZXJlZFRhcmdldHNbaV0sXG4gICAgICAgICAgZXZ0T3V0OiAnZHJhZ2xlYXZlJyxcbiAgICAgICAgICBldnRJbjogJ2RyYWdlbnRlcicsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy5fZHJhZ2dlZG92ZXJUYXJnZXQgPSB0YXJnZXQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1hbmFnZSB0aGUgc3ludGhldGljIGluL291dCBldmVudHMgZm9yIHRoZSBmYWJyaWMgb2JqZWN0cyBvbiB0aGUgY2FudmFzXG4gICAgICogQHBhcmFtIHtGYWJyaWMuT2JqZWN0fSB0YXJnZXQgdGhlIHRhcmdldCB3aGVyZSB0aGUgdGFyZ2V0IGZyb20gdGhlIHN1cHBvcnRlZCBldmVudHNcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdCBmaXJlZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgY29uZmlndXJhdGlvbiBmb3IgdGhlIGZ1bmN0aW9uIHRvIHdvcmtcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29uZmlnLnRhcmdldE5hbWUgcHJvcGVydHkgb24gdGhlIGNhbnZhcyB3aGVyZSB0aGUgb2xkIHRhcmdldCBpcyBzdG9yZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5jYW52YXNFdnRPdXRdIG5hbWUgb2YgdGhlIGV2ZW50IHRvIGZpcmUgYXQgY2FudmFzIGxldmVsIGZvciBvdXRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29uZmlnLmV2dE91dCBuYW1lIG9mIHRoZSBldmVudCB0byBmaXJlIGZvciBvdXRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW2NvbmZpZy5jYW52YXNFdnRJbl0gbmFtZSBvZiB0aGUgZXZlbnQgdG8gZmlyZSBhdCBjYW52YXMgbGV2ZWwgZm9yIGluXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNvbmZpZy5ldnRJbiBuYW1lIG9mIHRoZSBldmVudCB0byBmaXJlIGZvciBpblxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgZmlyZVN5bnRoZXRpY0luT3V0RXZlbnRzOiBmdW5jdGlvbih0YXJnZXQsIGUsIGNvbmZpZykge1xuICAgICAgdmFyIGluT3B0LCBvdXRPcHQsIG9sZFRhcmdldCA9IGNvbmZpZy5vbGRUYXJnZXQsIG91dEZpcmVzLCBpbkZpcmVzLFxuICAgICAgICAgIHRhcmdldENoYW5nZWQgPSBvbGRUYXJnZXQgIT09IHRhcmdldCwgY2FudmFzRXZ0SW4gPSBjb25maWcuY2FudmFzRXZ0SW4sIGNhbnZhc0V2dE91dCA9IGNvbmZpZy5jYW52YXNFdnRPdXQ7XG4gICAgICBpZiAodGFyZ2V0Q2hhbmdlZCkge1xuICAgICAgICBpbk9wdCA9IHsgZTogZSwgdGFyZ2V0OiB0YXJnZXQsIHByZXZpb3VzVGFyZ2V0OiBvbGRUYXJnZXQgfTtcbiAgICAgICAgb3V0T3B0ID0geyBlOiBlLCB0YXJnZXQ6IG9sZFRhcmdldCwgbmV4dFRhcmdldDogdGFyZ2V0IH07XG4gICAgICB9XG4gICAgICBpbkZpcmVzID0gdGFyZ2V0ICYmIHRhcmdldENoYW5nZWQ7XG4gICAgICBvdXRGaXJlcyA9IG9sZFRhcmdldCAmJiB0YXJnZXRDaGFuZ2VkO1xuICAgICAgaWYgKG91dEZpcmVzKSB7XG4gICAgICAgIGNhbnZhc0V2dE91dCAmJiB0aGlzLmZpcmUoY2FudmFzRXZ0T3V0LCBvdXRPcHQpO1xuICAgICAgICBvbGRUYXJnZXQuZmlyZShjb25maWcuZXZ0T3V0LCBvdXRPcHQpO1xuICAgICAgfVxuICAgICAgaWYgKGluRmlyZXMpIHtcbiAgICAgICAgY2FudmFzRXZ0SW4gJiYgdGhpcy5maXJlKGNhbnZhc0V2dEluLCBpbk9wdCk7XG4gICAgICAgIHRhcmdldC5maXJlKGNvbmZpZy5ldnRJbiwgaW5PcHQpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdGhhdCBkZWZpbmVzIGFjdGlvbnMgd2hlbiBhbiBFdmVudCBNb3VzZSBXaGVlbFxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0IGZpcmVkIG9uIG1vdXNldXBcbiAgICAgKi9cbiAgICBfX29uTW91c2VXaGVlbDogZnVuY3Rpb24oZSkge1xuICAgICAgdGhpcy5fY2FjaGVUcmFuc2Zvcm1FdmVudERhdGEoZSk7XG4gICAgICB0aGlzLl9oYW5kbGVFdmVudChlLCAnd2hlZWwnKTtcbiAgICAgIHRoaXMuX3Jlc2V0VHJhbnNmb3JtRXZlbnREYXRhKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBmaXJlZCBvbiBtb3VzZW1vdmVcbiAgICAgKi9cbiAgICBfdHJhbnNmb3JtT2JqZWN0OiBmdW5jdGlvbihlKSB7XG4gICAgICB2YXIgcG9pbnRlciA9IHRoaXMuZ2V0UG9pbnRlcihlKSxcbiAgICAgICAgICB0cmFuc2Zvcm0gPSB0aGlzLl9jdXJyZW50VHJhbnNmb3JtO1xuXG4gICAgICB0cmFuc2Zvcm0ucmVzZXQgPSBmYWxzZTtcbiAgICAgIHRyYW5zZm9ybS50YXJnZXQuaXNNb3ZpbmcgPSB0cnVlO1xuICAgICAgdHJhbnNmb3JtLnNoaWZ0S2V5ID0gZS5zaGlmdEtleTtcbiAgICAgIHRyYW5zZm9ybS5hbHRLZXkgPSBlW3RoaXMuY2VudGVyZWRLZXldO1xuXG4gICAgICB0aGlzLl9iZWZvcmVTY2FsZVRyYW5zZm9ybShlLCB0cmFuc2Zvcm0pO1xuICAgICAgdGhpcy5fcGVyZm9ybVRyYW5zZm9ybUFjdGlvbihlLCB0cmFuc2Zvcm0sIHBvaW50ZXIpO1xuXG4gICAgICB0cmFuc2Zvcm0uYWN0aW9uUGVyZm9ybWVkICYmIHRoaXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9wZXJmb3JtVHJhbnNmb3JtQWN0aW9uOiBmdW5jdGlvbihlLCB0cmFuc2Zvcm0sIHBvaW50ZXIpIHtcbiAgICAgIHZhciB4ID0gcG9pbnRlci54LFxuICAgICAgICAgIHkgPSBwb2ludGVyLnksXG4gICAgICAgICAgYWN0aW9uID0gdHJhbnNmb3JtLmFjdGlvbixcbiAgICAgICAgICBhY3Rpb25QZXJmb3JtZWQgPSBmYWxzZSxcbiAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgdGFyZ2V0OiB0cmFuc2Zvcm0udGFyZ2V0LFxuICAgICAgICAgICAgZTogZSxcbiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNmb3JtLFxuICAgICAgICAgICAgcG9pbnRlcjogcG9pbnRlclxuICAgICAgICAgIH07XG5cbiAgICAgIGlmIChhY3Rpb24gPT09ICdyb3RhdGUnKSB7XG4gICAgICAgIChhY3Rpb25QZXJmb3JtZWQgPSB0aGlzLl9yb3RhdGVPYmplY3QoeCwgeSkpICYmIHRoaXMuX2ZpcmUoJ3JvdGF0aW5nJywgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChhY3Rpb24gPT09ICdzY2FsZScpIHtcbiAgICAgICAgKGFjdGlvblBlcmZvcm1lZCA9IHRoaXMuX29uU2NhbGUoZSwgdHJhbnNmb3JtLCB4LCB5KSkgJiYgdGhpcy5fZmlyZSgnc2NhbGluZycsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoYWN0aW9uID09PSAnc2NhbGVYJykge1xuICAgICAgICAoYWN0aW9uUGVyZm9ybWVkID0gdGhpcy5fc2NhbGVPYmplY3QoeCwgeSwgJ3gnKSkgJiYgdGhpcy5fZmlyZSgnc2NhbGluZycsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoYWN0aW9uID09PSAnc2NhbGVZJykge1xuICAgICAgICAoYWN0aW9uUGVyZm9ybWVkID0gdGhpcy5fc2NhbGVPYmplY3QoeCwgeSwgJ3knKSkgJiYgdGhpcy5fZmlyZSgnc2NhbGluZycsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoYWN0aW9uID09PSAnc2tld1gnKSB7XG4gICAgICAgIChhY3Rpb25QZXJmb3JtZWQgPSB0aGlzLl9za2V3T2JqZWN0KHgsIHksICd4JykpICYmIHRoaXMuX2ZpcmUoJ3NrZXdpbmcnLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGFjdGlvbiA9PT0gJ3NrZXdZJykge1xuICAgICAgICAoYWN0aW9uUGVyZm9ybWVkID0gdGhpcy5fc2tld09iamVjdCh4LCB5LCAneScpKSAmJiB0aGlzLl9maXJlKCdza2V3aW5nJywgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgYWN0aW9uUGVyZm9ybWVkID0gdGhpcy5fdHJhbnNsYXRlT2JqZWN0KHgsIHkpO1xuICAgICAgICBpZiAoYWN0aW9uUGVyZm9ybWVkKSB7XG4gICAgICAgICAgdGhpcy5fZmlyZSgnbW92aW5nJywgb3B0aW9ucyk7XG4gICAgICAgICAgdGhpcy5zZXRDdXJzb3Iob3B0aW9ucy50YXJnZXQubW92ZUN1cnNvciB8fCB0aGlzLm1vdmVDdXJzb3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0cmFuc2Zvcm0uYWN0aW9uUGVyZm9ybWVkID0gdHJhbnNmb3JtLmFjdGlvblBlcmZvcm1lZCB8fCBhY3Rpb25QZXJmb3JtZWQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2ZpcmU6IGZ1bmN0aW9uKGV2ZW50TmFtZSwgb3B0aW9ucykge1xuICAgICAgdGhpcy5maXJlKCdvYmplY3Q6JyArIGV2ZW50TmFtZSwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLnRhcmdldC5maXJlKGV2ZW50TmFtZSwgb3B0aW9ucyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2JlZm9yZVNjYWxlVHJhbnNmb3JtOiBmdW5jdGlvbihlLCB0cmFuc2Zvcm0pIHtcbiAgICAgIGlmICh0cmFuc2Zvcm0uYWN0aW9uID09PSAnc2NhbGUnIHx8IHRyYW5zZm9ybS5hY3Rpb24gPT09ICdzY2FsZVgnIHx8IHRyYW5zZm9ybS5hY3Rpb24gPT09ICdzY2FsZVknKSB7XG4gICAgICAgIHZhciBjZW50ZXJUcmFuc2Zvcm0gPSB0aGlzLl9zaG91bGRDZW50ZXJUcmFuc2Zvcm0odHJhbnNmb3JtLnRhcmdldCk7XG5cbiAgICAgICAgLy8gU3dpdGNoIGZyb20gYSBub3JtYWwgcmVzaXplIHRvIGNlbnRlci1iYXNlZFxuICAgICAgICBpZiAoKGNlbnRlclRyYW5zZm9ybSAmJiAodHJhbnNmb3JtLm9yaWdpblggIT09ICdjZW50ZXInIHx8IHRyYW5zZm9ybS5vcmlnaW5ZICE9PSAnY2VudGVyJykpIHx8XG4gICAgICAgICAgIC8vIFN3aXRjaCBmcm9tIGNlbnRlci1iYXNlZCByZXNpemUgdG8gbm9ybWFsIG9uZVxuICAgICAgICAgICAoIWNlbnRlclRyYW5zZm9ybSAmJiB0cmFuc2Zvcm0ub3JpZ2luWCA9PT0gJ2NlbnRlcicgJiYgdHJhbnNmb3JtLm9yaWdpblkgPT09ICdjZW50ZXInKVxuICAgICAgICApIHtcbiAgICAgICAgICB0aGlzLl9yZXNldEN1cnJlbnRUcmFuc2Zvcm0oKTtcbiAgICAgICAgICB0cmFuc2Zvcm0ucmVzZXQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdHJhbnNmb3JtIGN1cnJlbnQgdHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHggbW91c2UgcG9zaXRpb24geCBmcm9tIG9yaWdpblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5IG1vdXNlIHBvc2l0aW9uIHkgZnJvbSBvcmlnaW5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHRoZSBzY2FsaW5nIG9jY3VycmVkXG4gICAgICovXG4gICAgX29uU2NhbGU6IGZ1bmN0aW9uKGUsIHRyYW5zZm9ybSwgeCwgeSkge1xuICAgICAgaWYgKHRoaXMuX2lzVW5pc2NhbGVQb3NzaWJsZShlLCB0cmFuc2Zvcm0udGFyZ2V0KSkge1xuICAgICAgICB0cmFuc2Zvcm0uY3VycmVudEFjdGlvbiA9ICdzY2FsZSc7XG4gICAgICAgIHJldHVybiB0aGlzLl9zY2FsZU9iamVjdCh4LCB5KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyBTd2l0Y2ggZnJvbSBhIG5vcm1hbCByZXNpemUgdG8gcHJvcG9ydGlvbmFsXG4gICAgICAgIGlmICghdHJhbnNmb3JtLnJlc2V0ICYmIHRyYW5zZm9ybS5jdXJyZW50QWN0aW9uID09PSAnc2NhbGUnKSB7XG4gICAgICAgICAgdGhpcy5fcmVzZXRDdXJyZW50VHJhbnNmb3JtKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0cmFuc2Zvcm0uY3VycmVudEFjdGlvbiA9ICdzY2FsZUVxdWFsbHknO1xuICAgICAgICByZXR1cm4gdGhpcy5fc2NhbGVPYmplY3QoeCwgeSwgJ2VxdWFsbHknKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gdGFyZ2V0IGN1cnJlbnQgdGFyZ2V0XG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiB1bnByb3BvcnRpb25hbCBzY2FsaW5nIGlzIHBvc3NpYmxlXG4gICAgICovXG4gICAgX2lzVW5pc2NhbGVQb3NzaWJsZTogZnVuY3Rpb24oZSwgdGFyZ2V0KSB7XG4gICAgICByZXR1cm4gKGVbdGhpcy51bmlTY2FsZUtleV0gfHwgdGhpcy51bmlTY2FsZVRyYW5zZm9ybSkgJiYgIXRhcmdldC5nZXQoJ2xvY2tVbmlTY2FsaW5nJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGN1cnNvciBkZXBlbmRpbmcgb24gd2hlcmUgdGhlIGNhbnZhcyBpcyBiZWluZyBob3ZlcmVkLlxuICAgICAqIE5vdGU6IHZlcnkgYnVnZ3kgaW4gT3BlcmFcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXQgT2JqZWN0IHRoYXQgdGhlIG1vdXNlIGlzIGhvdmVyaW5nLCBpZiBzby5cbiAgICAgKi9cbiAgICBfc2V0Q3Vyc29yRnJvbUV2ZW50OiBmdW5jdGlvbiAoZSwgdGFyZ2V0KSB7XG4gICAgICBpZiAoIXRhcmdldCkge1xuICAgICAgICB0aGlzLnNldEN1cnNvcih0aGlzLmRlZmF1bHRDdXJzb3IpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgaG92ZXJDdXJzb3IgPSB0YXJnZXQuaG92ZXJDdXJzb3IgfHwgdGhpcy5ob3ZlckN1cnNvcixcbiAgICAgICAgICBhY3RpdmVTZWxlY3Rpb24gPSB0aGlzLl9hY3RpdmVPYmplY3QgJiYgdGhpcy5fYWN0aXZlT2JqZWN0LnR5cGUgPT09ICdhY3RpdmVTZWxlY3Rpb24nID9cbiAgICAgICAgICAgIHRoaXMuX2FjdGl2ZU9iamVjdCA6IG51bGwsXG4gICAgICAgICAgLy8gb25seSBzaG93IHByb3BlciBjb3JuZXIgd2hlbiBncm91cCBzZWxlY3Rpb24gaXMgbm90IGFjdGl2ZVxuICAgICAgICAgIGNvcm5lciA9ICghYWN0aXZlU2VsZWN0aW9uIHx8ICFhY3RpdmVTZWxlY3Rpb24uY29udGFpbnModGFyZ2V0KSlcbiAgICAgICAgICAgICAgICAgICAgJiYgdGFyZ2V0Ll9maW5kVGFyZ2V0Q29ybmVyKHRoaXMuZ2V0UG9pbnRlcihlLCB0cnVlKSk7XG5cbiAgICAgIGlmICghY29ybmVyKSB7XG4gICAgICAgIGlmICh0YXJnZXQuc3ViVGFyZ2V0Q2hlY2spe1xuICAgICAgICAgIC8vIGhvdmVyQ3Vyc29yIHNob3VsZCBjb21lIGZyb20gdG9wLW1vc3Qgc3ViVGFyZ2V0LFxuICAgICAgICAgIC8vIHNvIHdlIHdhbGsgdGhlIGFycmF5IGJhY2t3YXJkc1xuICAgICAgICAgIHRoaXMudGFyZ2V0cy5jb25jYXQoKS5yZXZlcnNlKCkubWFwKGZ1bmN0aW9uKF90YXJnZXQpe1xuICAgICAgICAgICAgaG92ZXJDdXJzb3IgPSBfdGFyZ2V0LmhvdmVyQ3Vyc29yIHx8IGhvdmVyQ3Vyc29yO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0Q3Vyc29yKGhvdmVyQ3Vyc29yKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLnNldEN1cnNvcih0aGlzLmdldENvcm5lckN1cnNvcihjb3JuZXIsIHRhcmdldCwgZSkpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdldENvcm5lckN1cnNvcjogZnVuY3Rpb24oY29ybmVyLCB0YXJnZXQsIGUpIHtcbiAgICAgIGlmICh0aGlzLmFjdGlvbklzRGlzYWJsZWQoY29ybmVyLCB0YXJnZXQsIGUpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vdEFsbG93ZWRDdXJzb3I7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChjb3JuZXIgaW4gY3Vyc29yT2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRSb3RhdGVkQ29ybmVyQ3Vyc29yKGNvcm5lciwgdGFyZ2V0LCBlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGNvcm5lciA9PT0gJ210cicgJiYgdGFyZ2V0Lmhhc1JvdGF0aW5nUG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm90YXRpb25DdXJzb3I7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdEN1cnNvcjtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYWN0aW9uSXNEaXNhYmxlZDogZnVuY3Rpb24oY29ybmVyLCB0YXJnZXQsIGUpIHtcbiAgICAgIGlmIChjb3JuZXIgPT09ICdtdCcgfHwgY29ybmVyID09PSAnbWInKSB7XG4gICAgICAgIHJldHVybiBlW3RoaXMuYWx0QWN0aW9uS2V5XSA/IHRhcmdldC5sb2NrU2tld2luZ1ggOiB0YXJnZXQubG9ja1NjYWxpbmdZO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoY29ybmVyID09PSAnbWwnIHx8IGNvcm5lciA9PT0gJ21yJykge1xuICAgICAgICByZXR1cm4gZVt0aGlzLmFsdEFjdGlvbktleV0gPyB0YXJnZXQubG9ja1NrZXdpbmdZIDogdGFyZ2V0LmxvY2tTY2FsaW5nWDtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGNvcm5lciA9PT0gJ210cicpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldC5sb2NrUm90YXRpb247XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzVW5pc2NhbGVQb3NzaWJsZShlLCB0YXJnZXQpID9cbiAgICAgICAgICB0YXJnZXQubG9ja1NjYWxpbmdYICYmIHRhcmdldC5sb2NrU2NhbGluZ1kgOiB0YXJnZXQubG9ja1NjYWxpbmdYIHx8IHRhcmdldC5sb2NrU2NhbGluZ1k7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2dldFJvdGF0ZWRDb3JuZXJDdXJzb3I6IGZ1bmN0aW9uKGNvcm5lciwgdGFyZ2V0LCBlKSB7XG4gICAgICB2YXIgbiA9IE1hdGgucm91bmQoKHRhcmdldC5hbmdsZSAlIDM2MCkgLyA0NSk7XG5cbiAgICAgIGlmIChuIDwgMCkge1xuICAgICAgICBuICs9IDg7IC8vIGZ1bGwgY2lyY2xlIGFoZWFkXG4gICAgICB9XG4gICAgICBuICs9IGN1cnNvck9mZnNldFtjb3JuZXJdO1xuICAgICAgaWYgKGVbdGhpcy5hbHRBY3Rpb25LZXldICYmIGN1cnNvck9mZnNldFtjb3JuZXJdICUgMiA9PT0gMCkge1xuICAgICAgICAvL2lmIHdlIGFyZSBob2xkaW5nIHNoaWZ0IGFuZCB3ZSBhcmUgb24gYSBteCBjb3JuZXIuLi5cbiAgICAgICAgbiArPSAyO1xuICAgICAgfVxuICAgICAgLy8gbm9ybWFsaXplIG4gdG8gYmUgZnJvbSAwIHRvIDdcbiAgICAgIG4gJT0gODtcblxuICAgICAgcmV0dXJuIHRoaXMuY3Vyc29yTWFwW25dO1xuICAgIH1cbiAgfSk7XG59KSgpO1xuXG5cbihmdW5jdGlvbigpIHtcblxuICB2YXIgbWluID0gTWF0aC5taW4sXG4gICAgICBtYXggPSBNYXRoLm1heDtcblxuICBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5DYW52YXMucHJvdG90eXBlLCAvKiogQGxlbmRzIGZhYnJpYy5DYW52YXMucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IHRhcmdldFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgX3Nob3VsZEdyb3VwOiBmdW5jdGlvbihlLCB0YXJnZXQpIHtcbiAgICAgIHZhciBhY3RpdmVPYmplY3QgPSB0aGlzLl9hY3RpdmVPYmplY3Q7XG4gICAgICByZXR1cm4gYWN0aXZlT2JqZWN0ICYmIHRoaXMuX2lzU2VsZWN0aW9uS2V5UHJlc3NlZChlKSAmJiB0YXJnZXQgJiYgdGFyZ2V0LnNlbGVjdGFibGUgJiYgdGhpcy5zZWxlY3Rpb24gJiZcbiAgICAgICAgICAgIChhY3RpdmVPYmplY3QgIT09IHRhcmdldCB8fCBhY3RpdmVPYmplY3QudHlwZSA9PT0gJ2FjdGl2ZVNlbGVjdGlvbicpICYmICF0YXJnZXQub25TZWxlY3QoeyBlOiBlIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSB0YXJnZXRcbiAgICAgKi9cbiAgICBfaGFuZGxlR3JvdXBpbmc6IGZ1bmN0aW9uIChlLCB0YXJnZXQpIHtcbiAgICAgIHZhciBhY3RpdmVPYmplY3QgPSB0aGlzLl9hY3RpdmVPYmplY3Q7XG4gICAgICAvLyBhdm9pZCBtdWx0aSBzZWxlY3Qgd2hlbiBzaGlmdCBjbGljayBvbiBhIGNvcm5lclxuICAgICAgaWYgKGFjdGl2ZU9iamVjdC5fX2Nvcm5lcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGFyZ2V0ID09PSBhY3RpdmVPYmplY3QpIHtcbiAgICAgICAgLy8gaWYgaXQncyBhIGdyb3VwLCBmaW5kIHRhcmdldCBhZ2FpbiwgdXNpbmcgYWN0aXZlR3JvdXAgb2JqZWN0c1xuICAgICAgICB0YXJnZXQgPSB0aGlzLmZpbmRUYXJnZXQoZSwgdHJ1ZSk7XG4gICAgICAgIC8vIGlmIGV2ZW4gb2JqZWN0IGlzIG5vdCBmb3VuZCBvciB3ZSBhcmUgb24gYWN0aXZlT2JqZWN0Q29ybmVyLCBiYWlsIG91dFxuICAgICAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0LnNlbGVjdGFibGUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChhY3RpdmVPYmplY3QgJiYgYWN0aXZlT2JqZWN0LnR5cGUgPT09ICdhY3RpdmVTZWxlY3Rpb24nKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUFjdGl2ZVNlbGVjdGlvbih0YXJnZXQsIGUpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuX2NyZWF0ZUFjdGl2ZVNlbGVjdGlvbih0YXJnZXQsIGUpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF91cGRhdGVBY3RpdmVTZWxlY3Rpb246IGZ1bmN0aW9uKHRhcmdldCwgZSkge1xuICAgICAgdmFyIGFjdGl2ZVNlbGVjdGlvbiA9IHRoaXMuX2FjdGl2ZU9iamVjdCxcbiAgICAgICAgICBjdXJyZW50QWN0aXZlT2JqZWN0cyA9IGFjdGl2ZVNlbGVjdGlvbi5fb2JqZWN0cy5zbGljZSgwKTtcbiAgICAgIGlmIChhY3RpdmVTZWxlY3Rpb24uY29udGFpbnModGFyZ2V0KSkge1xuICAgICAgICBhY3RpdmVTZWxlY3Rpb24ucmVtb3ZlV2l0aFVwZGF0ZSh0YXJnZXQpO1xuICAgICAgICB0aGlzLl9ob3ZlcmVkVGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLl9ob3ZlcmVkVGFyZ2V0cyA9IHRoaXMudGFyZ2V0cy5jb25jYXQoKTtcbiAgICAgICAgaWYgKGFjdGl2ZVNlbGVjdGlvbi5zaXplKCkgPT09IDEpIHtcbiAgICAgICAgICAvLyBhY3RpdmF0ZSBsYXN0IHJlbWFpbmluZyBvYmplY3RcbiAgICAgICAgICB0aGlzLl9zZXRBY3RpdmVPYmplY3QoYWN0aXZlU2VsZWN0aW9uLml0ZW0oMCksIGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgYWN0aXZlU2VsZWN0aW9uLmFkZFdpdGhVcGRhdGUodGFyZ2V0KTtcbiAgICAgICAgdGhpcy5faG92ZXJlZFRhcmdldCA9IGFjdGl2ZVNlbGVjdGlvbjtcbiAgICAgICAgdGhpcy5faG92ZXJlZFRhcmdldHMgPSB0aGlzLnRhcmdldHMuY29uY2F0KCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9maXJlU2VsZWN0aW9uRXZlbnRzKGN1cnJlbnRBY3RpdmVPYmplY3RzLCBlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY3JlYXRlQWN0aXZlU2VsZWN0aW9uOiBmdW5jdGlvbih0YXJnZXQsIGUpIHtcbiAgICAgIHZhciBjdXJyZW50QWN0aXZlcyA9IHRoaXMuZ2V0QWN0aXZlT2JqZWN0cygpLCBncm91cCA9IHRoaXMuX2NyZWF0ZUdyb3VwKHRhcmdldCk7XG4gICAgICB0aGlzLl9ob3ZlcmVkVGFyZ2V0ID0gZ3JvdXA7XG4gICAgICAvLyBJU1NVRSA0MTE1OiBzaG91bGQgd2UgY29uc2lkZXIgc3ViVGFyZ2V0cyBoZXJlP1xuICAgICAgLy8gdGhpcy5faG92ZXJlZFRhcmdldHMgPSBbXTtcbiAgICAgIC8vIHRoaXMuX2hvdmVyZWRUYXJnZXRzID0gdGhpcy50YXJnZXRzLmNvbmNhdCgpO1xuICAgICAgdGhpcy5fc2V0QWN0aXZlT2JqZWN0KGdyb3VwLCBlKTtcbiAgICAgIHRoaXMuX2ZpcmVTZWxlY3Rpb25FdmVudHMoY3VycmVudEFjdGl2ZXMsIGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0YXJnZXRcbiAgICAgKi9cbiAgICBfY3JlYXRlR3JvdXA6IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgdmFyIG9iamVjdHMgPSB0aGlzLl9vYmplY3RzLFxuICAgICAgICAgIGlzQWN0aXZlTG93ZXIgPSBvYmplY3RzLmluZGV4T2YodGhpcy5fYWN0aXZlT2JqZWN0KSA8IG9iamVjdHMuaW5kZXhPZih0YXJnZXQpLFxuICAgICAgICAgIGdyb3VwT2JqZWN0cyA9IGlzQWN0aXZlTG93ZXJcbiAgICAgICAgICAgID8gW3RoaXMuX2FjdGl2ZU9iamVjdCwgdGFyZ2V0XVxuICAgICAgICAgICAgOiBbdGFyZ2V0LCB0aGlzLl9hY3RpdmVPYmplY3RdO1xuICAgICAgdGhpcy5fYWN0aXZlT2JqZWN0LmlzRWRpdGluZyAmJiB0aGlzLl9hY3RpdmVPYmplY3QuZXhpdEVkaXRpbmcoKTtcbiAgICAgIHJldHVybiBuZXcgZmFicmljLkFjdGl2ZVNlbGVjdGlvbihncm91cE9iamVjdHMsIHtcbiAgICAgICAgY2FudmFzOiB0aGlzXG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIG1vdXNlIGV2ZW50XG4gICAgICovXG4gICAgX2dyb3VwU2VsZWN0ZWRPYmplY3RzOiBmdW5jdGlvbiAoZSkge1xuXG4gICAgICB2YXIgZ3JvdXAgPSB0aGlzLl9jb2xsZWN0T2JqZWN0cyhlKSxcbiAgICAgICAgICBhR3JvdXA7XG5cbiAgICAgIC8vIGRvIG5vdCBjcmVhdGUgZ3JvdXAgZm9yIDEgZWxlbWVudCBvbmx5XG4gICAgICBpZiAoZ3JvdXAubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHRoaXMuc2V0QWN0aXZlT2JqZWN0KGdyb3VwWzBdLCBlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGdyb3VwLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgYUdyb3VwID0gbmV3IGZhYnJpYy5BY3RpdmVTZWxlY3Rpb24oZ3JvdXAucmV2ZXJzZSgpLCB7XG4gICAgICAgICAgY2FudmFzOiB0aGlzXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNldEFjdGl2ZU9iamVjdChhR3JvdXAsIGUpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9jb2xsZWN0T2JqZWN0czogZnVuY3Rpb24oZSkge1xuICAgICAgdmFyIGdyb3VwID0gW10sXG4gICAgICAgICAgY3VycmVudE9iamVjdCxcbiAgICAgICAgICB4MSA9IHRoaXMuX2dyb3VwU2VsZWN0b3IuZXgsXG4gICAgICAgICAgeTEgPSB0aGlzLl9ncm91cFNlbGVjdG9yLmV5LFxuICAgICAgICAgIHgyID0geDEgKyB0aGlzLl9ncm91cFNlbGVjdG9yLmxlZnQsXG4gICAgICAgICAgeTIgPSB5MSArIHRoaXMuX2dyb3VwU2VsZWN0b3IudG9wLFxuICAgICAgICAgIHNlbGVjdGlvblgxWTEgPSBuZXcgZmFicmljLlBvaW50KG1pbih4MSwgeDIpLCBtaW4oeTEsIHkyKSksXG4gICAgICAgICAgc2VsZWN0aW9uWDJZMiA9IG5ldyBmYWJyaWMuUG9pbnQobWF4KHgxLCB4MiksIG1heCh5MSwgeTIpKSxcbiAgICAgICAgICBhbGxvd0ludGVyc2VjdCA9ICF0aGlzLnNlbGVjdGlvbkZ1bGx5Q29udGFpbmVkLFxuICAgICAgICAgIGlzQ2xpY2sgPSB4MSA9PT0geDIgJiYgeTEgPT09IHkyO1xuICAgICAgLy8gd2UgaXRlcmF0ZSByZXZlcnNlIG9yZGVyIHRvIGNvbGxlY3QgdG9wIGZpcnN0IGluIGNhc2Ugb2YgY2xpY2suXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy5fb2JqZWN0cy5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgIGN1cnJlbnRPYmplY3QgPSB0aGlzLl9vYmplY3RzW2ldO1xuXG4gICAgICAgIGlmICghY3VycmVudE9iamVjdCB8fCAhY3VycmVudE9iamVjdC5zZWxlY3RhYmxlIHx8ICFjdXJyZW50T2JqZWN0LnZpc2libGUpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgoYWxsb3dJbnRlcnNlY3QgJiYgY3VycmVudE9iamVjdC5pbnRlcnNlY3RzV2l0aFJlY3Qoc2VsZWN0aW9uWDFZMSwgc2VsZWN0aW9uWDJZMikpIHx8XG4gICAgICAgICAgICBjdXJyZW50T2JqZWN0LmlzQ29udGFpbmVkV2l0aGluUmVjdChzZWxlY3Rpb25YMVkxLCBzZWxlY3Rpb25YMlkyKSB8fFxuICAgICAgICAgICAgKGFsbG93SW50ZXJzZWN0ICYmIGN1cnJlbnRPYmplY3QuY29udGFpbnNQb2ludChzZWxlY3Rpb25YMVkxKSkgfHxcbiAgICAgICAgICAgIChhbGxvd0ludGVyc2VjdCAmJiBjdXJyZW50T2JqZWN0LmNvbnRhaW5zUG9pbnQoc2VsZWN0aW9uWDJZMikpXG4gICAgICAgICkge1xuICAgICAgICAgIGdyb3VwLnB1c2goY3VycmVudE9iamVjdCk7XG4gICAgICAgICAgLy8gb25seSBhZGQgb25lIG9iamVjdCBpZiBpdCdzIGEgY2xpY2tcbiAgICAgICAgICBpZiAoaXNDbGljaykge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChncm91cC5sZW5ndGggPiAxKSB7XG4gICAgICAgIGdyb3VwID0gZ3JvdXAuZmlsdGVyKGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICAgIHJldHVybiAhb2JqZWN0Lm9uU2VsZWN0KHsgZTogZSB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBncm91cDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfbWF5YmVHcm91cE9iamVjdHM6IGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICh0aGlzLnNlbGVjdGlvbiAmJiB0aGlzLl9ncm91cFNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMuX2dyb3VwU2VsZWN0ZWRPYmplY3RzKGUpO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXRDdXJzb3IodGhpcy5kZWZhdWx0Q3Vyc29yKTtcbiAgICAgIC8vIGNsZWFyIHNlbGVjdGlvbiBhbmQgY3VycmVudCB0cmFuc2Zvcm1hdGlvblxuICAgICAgdGhpcy5fZ3JvdXBTZWxlY3RvciA9IG51bGw7XG4gICAgfVxuICB9KTtcblxufSkoKTtcblxuXG4oZnVuY3Rpb24gKCkge1xuICBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlLCAvKiogQGxlbmRzIGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIEV4cG9ydHMgY2FudmFzIGVsZW1lbnQgdG8gYSBkYXRhdXJsIGltYWdlLiBOb3RlIHRoYXQgd2hlbiBtdWx0aXBsaWVyIGlzIHVzZWQsIGNyb3BwaW5nIGlzIHNjYWxlZCBhcHByb3ByaWF0ZWx5XG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5mb3JtYXQ9cG5nXSBUaGUgZm9ybWF0IG9mIHRoZSBvdXRwdXQgaW1hZ2UuIEVpdGhlciBcImpwZWdcIiBvciBcInBuZ1wiXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnF1YWxpdHk9MV0gUXVhbGl0eSBsZXZlbCAoMC4uMSkuIE9ubHkgdXNlZCBmb3IganBlZy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubXVsdGlwbGllcj0xXSBNdWx0aXBsaWVyIHRvIHNjYWxlIGJ5LCB0byBoYXZlIGNvbnNpc3RlbnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubGVmdF0gQ3JvcHBpbmcgbGVmdCBvZmZzZXQuIEludHJvZHVjZWQgaW4gdjEuMi4xNFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy50b3BdIENyb3BwaW5nIHRvcCBvZmZzZXQuIEludHJvZHVjZWQgaW4gdjEuMi4xNFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy53aWR0aF0gQ3JvcHBpbmcgd2lkdGguIEludHJvZHVjZWQgaW4gdjEuMi4xNFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5oZWlnaHRdIENyb3BwaW5nIGhlaWdodC4gSW50cm9kdWNlZCBpbiB2MS4yLjE0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5lbmFibGVSZXRpbmFTY2FsaW5nXSBFbmFibGUgcmV0aW5hIHNjYWxpbmcgZm9yIGNsb25lIGltYWdlLiBJbnRyb2R1Y2UgaW4gMi4wLjBcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFJldHVybnMgYSBkYXRhOiBVUkwgY29udGFpbmluZyBhIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBvYmplY3QgaW4gdGhlIGZvcm1hdCBzcGVjaWZpZWQgYnkgb3B0aW9ucy5mb3JtYXRcbiAgICAgKiBAc2VlIHtAbGluayBodHRwOi8vanNmaWRkbGUubmV0L2ZhYnJpY2pzL05mWlZiL3xqc0ZpZGRsZSBkZW1vfVxuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPkdlbmVyYXRlIGpwZWcgZGF0YVVSTCB3aXRoIGxvd2VyIHF1YWxpdHk8L2NhcHRpb24+XG4gICAgICogdmFyIGRhdGFVUkwgPSBjYW52YXMudG9EYXRhVVJMKHtcbiAgICAgKiAgIGZvcm1hdDogJ2pwZWcnLFxuICAgICAqICAgcXVhbGl0eTogMC44XG4gICAgICogfSk7XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+R2VuZXJhdGUgY3JvcHBlZCBwbmcgZGF0YVVSTCAoY2xpcHBpbmcgb2YgY2FudmFzKTwvY2FwdGlvbj5cbiAgICAgKiB2YXIgZGF0YVVSTCA9IGNhbnZhcy50b0RhdGFVUkwoe1xuICAgICAqICAgZm9ybWF0OiAncG5nJyxcbiAgICAgKiAgIGxlZnQ6IDEwMCxcbiAgICAgKiAgIHRvcDogMTAwLFxuICAgICAqICAgd2lkdGg6IDIwMCxcbiAgICAgKiAgIGhlaWdodDogMjAwXG4gICAgICogfSk7XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+R2VuZXJhdGUgZG91YmxlIHNjYWxlZCBwbmcgZGF0YVVSTDwvY2FwdGlvbj5cbiAgICAgKiB2YXIgZGF0YVVSTCA9IGNhbnZhcy50b0RhdGFVUkwoe1xuICAgICAqICAgZm9ybWF0OiAncG5nJyxcbiAgICAgKiAgIG11bHRpcGxpZXI6IDJcbiAgICAgKiB9KTtcbiAgICAgKi9cbiAgICB0b0RhdGFVUkw6IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0geyB9KTtcblxuICAgICAgdmFyIGZvcm1hdCA9IG9wdGlvbnMuZm9ybWF0IHx8ICdwbmcnLFxuICAgICAgICAgIHF1YWxpdHkgPSBvcHRpb25zLnF1YWxpdHkgfHwgMSxcbiAgICAgICAgICBtdWx0aXBsaWVyID0gKG9wdGlvbnMubXVsdGlwbGllciB8fCAxKSAqIChvcHRpb25zLmVuYWJsZVJldGluYVNjYWxpbmcgPyB0aGlzLmdldFJldGluYVNjYWxpbmcoKSA6IDEpLFxuICAgICAgICAgIGNhbnZhc0VsID0gdGhpcy50b0NhbnZhc0VsZW1lbnQobXVsdGlwbGllciwgb3B0aW9ucyk7XG4gICAgICByZXR1cm4gZmFicmljLnV0aWwudG9EYXRhVVJMKGNhbnZhc0VsLCBmb3JtYXQsIHF1YWxpdHkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgSFRNTENhbnZhcyBlbGVtZW50IHBhaW50ZWQgd2l0aCB0aGUgY3VycmVudCBjYW52YXMgY29udGVudC5cbiAgICAgKiBObyBuZWVkIHRvIHJlc2l6ZSB0aGUgYWN0dWFsIG9uZSBvciByZXBhaW50IGl0LlxuICAgICAqIFdpbGwgdHJhbnNmZXIgb2JqZWN0IG93bmVyc2hpcCB0byBhIG5ldyBjYW52YXMsIHBhaW50IGl0LCBhbmQgc2V0IGV2ZXJ5dGhpbmcgYmFjay5cbiAgICAgKiBUaGlzIGlzIGFuIGludGVybWVkaWFyeSBzdGVwIHVzZWQgdG8gZ2V0IHRvIGEgZGF0YVVybCBidXQgYWxzbyBpdCBpcyB1c2VmdWwgdG9cbiAgICAgKiBjcmVhdGUgcXVpY2sgaW1hZ2UgY29waWVzIG9mIGEgY2FudmFzIHdpdGhvdXQgcGFzc2luZyBmb3IgdGhlIGRhdGFVcmwgc3RyaW5nXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFttdWx0aXBsaWVyXSBhIHpvb20gZmFjdG9yLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY3JvcHBpbmddIENyb3BwaW5nIGluZm9ybWF0aW9uc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbY3JvcHBpbmcubGVmdF0gQ3JvcHBpbmcgbGVmdCBvZmZzZXQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjcm9wcGluZy50b3BdIENyb3BwaW5nIHRvcCBvZmZzZXQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjcm9wcGluZy53aWR0aF0gQ3JvcHBpbmcgd2lkdGguXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjcm9wcGluZy5oZWlnaHRdIENyb3BwaW5nIGhlaWdodC5cbiAgICAgKi9cbiAgICB0b0NhbnZhc0VsZW1lbnQ6IGZ1bmN0aW9uKG11bHRpcGxpZXIsIGNyb3BwaW5nKSB7XG4gICAgICBtdWx0aXBsaWVyID0gbXVsdGlwbGllciB8fCAxO1xuICAgICAgY3JvcHBpbmcgPSBjcm9wcGluZyB8fCB7IH07XG4gICAgICB2YXIgc2NhbGVkV2lkdGggPSAoY3JvcHBpbmcud2lkdGggfHwgdGhpcy53aWR0aCkgKiBtdWx0aXBsaWVyLFxuICAgICAgICAgIHNjYWxlZEhlaWdodCA9IChjcm9wcGluZy5oZWlnaHQgfHwgdGhpcy5oZWlnaHQpICogbXVsdGlwbGllcixcbiAgICAgICAgICB6b29tID0gdGhpcy5nZXRab29tKCksXG4gICAgICAgICAgb3JpZ2luYWxXaWR0aCA9IHRoaXMud2lkdGgsXG4gICAgICAgICAgb3JpZ2luYWxIZWlnaHQgPSB0aGlzLmhlaWdodCxcbiAgICAgICAgICBuZXdab29tID0gem9vbSAqIG11bHRpcGxpZXIsXG4gICAgICAgICAgdnAgPSB0aGlzLnZpZXdwb3J0VHJhbnNmb3JtLFxuICAgICAgICAgIHRyYW5zbGF0ZVggPSAodnBbNF0gLSAoY3JvcHBpbmcubGVmdCB8fCAwKSkgKiBtdWx0aXBsaWVyLFxuICAgICAgICAgIHRyYW5zbGF0ZVkgPSAodnBbNV0gLSAoY3JvcHBpbmcudG9wIHx8IDApKSAqIG11bHRpcGxpZXIsXG4gICAgICAgICAgb3JpZ2luYWxJbnRlcmFjdGl2ZSA9IHRoaXMuaW50ZXJhY3RpdmUsXG4gICAgICAgICAgbmV3VnAgPSBbbmV3Wm9vbSwgMCwgMCwgbmV3Wm9vbSwgdHJhbnNsYXRlWCwgdHJhbnNsYXRlWV0sXG4gICAgICAgICAgb3JpZ2luYWxSZXRpbmEgPSB0aGlzLmVuYWJsZVJldGluYVNjYWxpbmcsXG4gICAgICAgICAgY2FudmFzRWwgPSBmYWJyaWMudXRpbC5jcmVhdGVDYW52YXNFbGVtZW50KCksXG4gICAgICAgICAgb3JpZ2luYWxDb250ZXh0VG9wID0gdGhpcy5jb250ZXh0VG9wO1xuICAgICAgY2FudmFzRWwud2lkdGggPSBzY2FsZWRXaWR0aDtcbiAgICAgIGNhbnZhc0VsLmhlaWdodCA9IHNjYWxlZEhlaWdodDtcbiAgICAgIHRoaXMuY29udGV4dFRvcCA9IG51bGw7XG4gICAgICB0aGlzLmVuYWJsZVJldGluYVNjYWxpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuaW50ZXJhY3RpdmUgPSBmYWxzZTtcbiAgICAgIHRoaXMudmlld3BvcnRUcmFuc2Zvcm0gPSBuZXdWcDtcbiAgICAgIHRoaXMud2lkdGggPSBzY2FsZWRXaWR0aDtcbiAgICAgIHRoaXMuaGVpZ2h0ID0gc2NhbGVkSGVpZ2h0O1xuICAgICAgdGhpcy5jYWxjVmlld3BvcnRCb3VuZGFyaWVzKCk7XG4gICAgICB0aGlzLnJlbmRlckNhbnZhcyhjYW52YXNFbC5nZXRDb250ZXh0KCcyZCcpLCB0aGlzLl9vYmplY3RzKTtcbiAgICAgIHRoaXMudmlld3BvcnRUcmFuc2Zvcm0gPSB2cDtcbiAgICAgIHRoaXMud2lkdGggPSBvcmlnaW5hbFdpZHRoO1xuICAgICAgdGhpcy5oZWlnaHQgPSBvcmlnaW5hbEhlaWdodDtcbiAgICAgIHRoaXMuY2FsY1ZpZXdwb3J0Qm91bmRhcmllcygpO1xuICAgICAgdGhpcy5pbnRlcmFjdGl2ZSA9IG9yaWdpbmFsSW50ZXJhY3RpdmU7XG4gICAgICB0aGlzLmVuYWJsZVJldGluYVNjYWxpbmcgPSBvcmlnaW5hbFJldGluYTtcbiAgICAgIHRoaXMuY29udGV4dFRvcCA9IG9yaWdpbmFsQ29udGV4dFRvcDtcbiAgICAgIHJldHVybiBjYW52YXNFbDtcbiAgICB9LFxuICB9KTtcblxufSkoKTtcblxuXG5mYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlLCAvKiogQGxlbmRzIGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlICovIHtcblxuICAvKipcbiAgICogUG9wdWxhdGVzIGNhbnZhcyB3aXRoIGRhdGEgZnJvbSB0aGUgc3BlY2lmaWVkIGRhdGFsZXNzIEpTT04uXG4gICAqIEpTT04gZm9ybWF0IG11c3QgY29uZm9ybSB0byB0aGUgb25lIG9mIHtAbGluayBmYWJyaWMuQ2FudmFzI3RvRGF0YWxlc3NKU09OfVxuICAgKiBAZGVwcmVjYXRlZCBzaW5jZSAxLjIuMlxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGpzb24gSlNPTiBzdHJpbmcgb3Igb2JqZWN0XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrLCBpbnZva2VkIHdoZW4ganNvbiBpcyBwYXJzZWRcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5kIGNvcnJlc3BvbmRpbmcgb2JqZWN0cyAoZS5nOiB7QGxpbmsgZmFicmljLkltYWdlfSlcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJlIGluaXRpYWxpemVkXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXZpdmVyXSBNZXRob2QgZm9yIGZ1cnRoZXIgcGFyc2luZyBvZiBKU09OIGVsZW1lbnRzLCBjYWxsZWQgYWZ0ZXIgZWFjaCBmYWJyaWMgb2JqZWN0IGNyZWF0ZWQuXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IGluc3RhbmNlXG4gICAqIEBjaGFpbmFibGVcbiAgICogQHR1dG9yaWFsIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ZhYnJpYy1pbnRyby1wYXJ0LTMjZGVzZXJpYWxpemF0aW9ufVxuICAgKi9cbiAgbG9hZEZyb21EYXRhbGVzc0pTT046IGZ1bmN0aW9uIChqc29uLCBjYWxsYmFjaywgcmV2aXZlcikge1xuICAgIHJldHVybiB0aGlzLmxvYWRGcm9tSlNPTihqc29uLCBjYWxsYmFjaywgcmV2aXZlcik7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFBvcHVsYXRlcyBjYW52YXMgd2l0aCBkYXRhIGZyb20gdGhlIHNwZWNpZmllZCBKU09OLlxuICAgKiBKU09OIGZvcm1hdCBtdXN0IGNvbmZvcm0gdG8gdGhlIG9uZSBvZiB7QGxpbmsgZmFicmljLkNhbnZhcyN0b0pTT059XG4gICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0ganNvbiBKU09OIHN0cmluZyBvciBvYmplY3RcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2ssIGludm9rZWQgd2hlbiBqc29uIGlzIHBhcnNlZFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmQgY29ycmVzcG9uZGluZyBvYmplY3RzIChlLmc6IHtAbGluayBmYWJyaWMuSW1hZ2V9KVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmUgaW5pdGlhbGl6ZWRcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jldml2ZXJdIE1ldGhvZCBmb3IgZnVydGhlciBwYXJzaW5nIG9mIEpTT04gZWxlbWVudHMsIGNhbGxlZCBhZnRlciBlYWNoIGZhYnJpYyBvYmplY3QgY3JlYXRlZC5cbiAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gaW5zdGFuY2VcbiAgICogQGNoYWluYWJsZVxuICAgKiBAdHV0b3JpYWwge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vZmFicmljLWludHJvLXBhcnQtMyNkZXNlcmlhbGl6YXRpb259XG4gICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9qc2ZpZGRsZS5uZXQvZmFicmljanMvZm1nWHQvfGpzRmlkZGxlIGRlbW99XG4gICAqIEBleGFtcGxlIDxjYXB0aW9uPmxvYWRGcm9tSlNPTjwvY2FwdGlvbj5cbiAgICogY2FudmFzLmxvYWRGcm9tSlNPTihqc29uLCBjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKSk7XG4gICAqIEBleGFtcGxlIDxjYXB0aW9uPmxvYWRGcm9tSlNPTiB3aXRoIHJldml2ZXI8L2NhcHRpb24+XG4gICAqIGNhbnZhcy5sb2FkRnJvbUpTT04oanNvbiwgY2FudmFzLnJlbmRlckFsbC5iaW5kKGNhbnZhcyksIGZ1bmN0aW9uKG8sIG9iamVjdCkge1xuICAgKiAgIC8vIGBvYCA9IGpzb24gb2JqZWN0XG4gICAqICAgLy8gYG9iamVjdGAgPSBmYWJyaWMuT2JqZWN0IGluc3RhbmNlXG4gICAqICAgLy8gLi4uIGRvIHNvbWUgc3R1ZmYgLi4uXG4gICAqIH0pO1xuICAgKi9cbiAgbG9hZEZyb21KU09OOiBmdW5jdGlvbiAoanNvbiwgY2FsbGJhY2ssIHJldml2ZXIpIHtcbiAgICBpZiAoIWpzb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBzZXJpYWxpemUgaWYgaXQgd2Fzbid0IGFscmVhZHlcbiAgICB2YXIgc2VyaWFsaXplZCA9ICh0eXBlb2YganNvbiA9PT0gJ3N0cmluZycpXG4gICAgICA/IEpTT04ucGFyc2UoanNvbilcbiAgICAgIDogZmFicmljLnV0aWwub2JqZWN0LmNsb25lKGpzb24pO1xuXG4gICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgICAgY2xpcFBhdGggPSBzZXJpYWxpemVkLmNsaXBQYXRoLFxuICAgICAgICByZW5kZXJPbkFkZFJlbW92ZSA9IHRoaXMucmVuZGVyT25BZGRSZW1vdmU7XG5cbiAgICB0aGlzLnJlbmRlck9uQWRkUmVtb3ZlID0gZmFsc2U7XG5cbiAgICBkZWxldGUgc2VyaWFsaXplZC5jbGlwUGF0aDtcblxuICAgIHRoaXMuX2VubGl2ZW5PYmplY3RzKHNlcmlhbGl6ZWQub2JqZWN0cywgZnVuY3Rpb24gKGVubGl2ZW5lZE9iamVjdHMpIHtcbiAgICAgIF90aGlzLmNsZWFyKCk7XG4gICAgICBfdGhpcy5fc2V0QmdPdmVybGF5KHNlcmlhbGl6ZWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGNsaXBQYXRoKSB7XG4gICAgICAgICAgX3RoaXMuX2VubGl2ZW5PYmplY3RzKFtjbGlwUGF0aF0sIGZ1bmN0aW9uIChlbmxpdmVuZWRDYW52YXNDbGlwKSB7XG4gICAgICAgICAgICBfdGhpcy5jbGlwUGF0aCA9IGVubGl2ZW5lZENhbnZhc0NsaXBbMF07XG4gICAgICAgICAgICBfdGhpcy5fX3NldHVwQ2FudmFzLmNhbGwoX3RoaXMsIHNlcmlhbGl6ZWQsIGVubGl2ZW5lZE9iamVjdHMsIHJlbmRlck9uQWRkUmVtb3ZlLCBjYWxsYmFjayk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgX3RoaXMuX19zZXR1cENhbnZhcy5jYWxsKF90aGlzLCBzZXJpYWxpemVkLCBlbmxpdmVuZWRPYmplY3RzLCByZW5kZXJPbkFkZFJlbW92ZSwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LCByZXZpdmVyKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IHNlcmlhbGl6ZWQgT2JqZWN0IHdpdGggYmFja2dyb3VuZCBhbmQgb3ZlcmxheSBpbmZvcm1hdGlvblxuICAgKiBAcGFyYW0ge0FycmF5fSByZXN0b3JlZCBjYW52YXMgb2JqZWN0c1xuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWNoZWQgcmVuZGVyT25BZGRSZW1vdmUgY2FsbGJhY2tcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgSW52b2tlZCBhZnRlciBhbGwgYmFja2dyb3VuZCBhbmQgb3ZlcmxheSBpbWFnZXMvcGF0dGVybnMgbG9hZGVkXG4gICAqL1xuICBfX3NldHVwQ2FudmFzOiBmdW5jdGlvbihzZXJpYWxpemVkLCBlbmxpdmVuZWRPYmplY3RzLCByZW5kZXJPbkFkZFJlbW92ZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIGVubGl2ZW5lZE9iamVjdHMuZm9yRWFjaChmdW5jdGlvbihvYmosIGluZGV4KSB7XG4gICAgICAvLyB3ZSBzcGxpY2UgdGhlIGFycmF5IGp1c3QgaW4gY2FzZSBzb21lIGN1c3RvbSBjbGFzc2VzIHJlc3RvcmVkIGZyb20gSlNPTlxuICAgICAgLy8gd2lsbCBhZGQgbW9yZSBvYmplY3QgdG8gY2FudmFzIGF0IGNhbnZhcyBpbml0LlxuICAgICAgX3RoaXMuaW5zZXJ0QXQob2JqLCBpbmRleCk7XG4gICAgfSk7XG4gICAgdGhpcy5yZW5kZXJPbkFkZFJlbW92ZSA9IHJlbmRlck9uQWRkUmVtb3ZlO1xuICAgIC8vIHJlbW92ZSBwYXJ0cyBpIGNhbm5vdCBzZXQgYXMgb3B0aW9uc1xuICAgIGRlbGV0ZSBzZXJpYWxpemVkLm9iamVjdHM7XG4gICAgZGVsZXRlIHNlcmlhbGl6ZWQuYmFja2dyb3VuZEltYWdlO1xuICAgIGRlbGV0ZSBzZXJpYWxpemVkLm92ZXJsYXlJbWFnZTtcbiAgICBkZWxldGUgc2VyaWFsaXplZC5iYWNrZ3JvdW5kO1xuICAgIGRlbGV0ZSBzZXJpYWxpemVkLm92ZXJsYXk7XG4gICAgLy8gdGhpcy5faW5pdE9wdGlvbnMgZG9lcyB0b28gbWFueSB0aGluZ3MgdG8ganVzdFxuICAgIC8vIGNhbGwgaXQuIE5vcm1hbGx5IGxvYWRpbmcgYW4gT2JqZWN0IGZyb20gSlNPTlxuICAgIC8vIGNyZWF0ZSB0aGUgT2JqZWN0IGluc3RhbmNlLiBIZXJlIHRoZSBDYW52YXMgaXNcbiAgICAvLyBhbHJlYWR5IGFuIGluc3RhbmNlIGFuZCB3ZSBhcmUganVzdCBsb2FkaW5nIHRoaW5ncyBvdmVyIGl0XG4gICAgdGhpcy5fc2V0T3B0aW9ucyhzZXJpYWxpemVkKTtcbiAgICB0aGlzLnJlbmRlckFsbCgpO1xuICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXJpYWxpemVkIE9iamVjdCB3aXRoIGJhY2tncm91bmQgYW5kIG92ZXJsYXkgaW5mb3JtYXRpb25cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgSW52b2tlZCBhZnRlciBhbGwgYmFja2dyb3VuZCBhbmQgb3ZlcmxheSBpbWFnZXMvcGF0dGVybnMgbG9hZGVkXG4gICAqL1xuICBfc2V0QmdPdmVybGF5OiBmdW5jdGlvbihzZXJpYWxpemVkLCBjYWxsYmFjaykge1xuICAgIHZhciBsb2FkZWQgPSB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IGZhbHNlLFxuICAgICAgb3ZlcmxheUNvbG9yOiBmYWxzZSxcbiAgICAgIGJhY2tncm91bmRJbWFnZTogZmFsc2UsXG4gICAgICBvdmVybGF5SW1hZ2U6IGZhbHNlXG4gICAgfTtcblxuICAgIGlmICghc2VyaWFsaXplZC5iYWNrZ3JvdW5kSW1hZ2UgJiYgIXNlcmlhbGl6ZWQub3ZlcmxheUltYWdlICYmICFzZXJpYWxpemVkLmJhY2tncm91bmQgJiYgIXNlcmlhbGl6ZWQub3ZlcmxheSkge1xuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgY2JJZkxvYWRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChsb2FkZWQuYmFja2dyb3VuZEltYWdlICYmIGxvYWRlZC5vdmVybGF5SW1hZ2UgJiYgbG9hZGVkLmJhY2tncm91bmRDb2xvciAmJiBsb2FkZWQub3ZlcmxheUNvbG9yKSB7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuX19zZXRCZ092ZXJsYXkoJ2JhY2tncm91bmRJbWFnZScsIHNlcmlhbGl6ZWQuYmFja2dyb3VuZEltYWdlLCBsb2FkZWQsIGNiSWZMb2FkZWQpO1xuICAgIHRoaXMuX19zZXRCZ092ZXJsYXkoJ292ZXJsYXlJbWFnZScsIHNlcmlhbGl6ZWQub3ZlcmxheUltYWdlLCBsb2FkZWQsIGNiSWZMb2FkZWQpO1xuICAgIHRoaXMuX19zZXRCZ092ZXJsYXkoJ2JhY2tncm91bmRDb2xvcicsIHNlcmlhbGl6ZWQuYmFja2dyb3VuZCwgbG9hZGVkLCBjYklmTG9hZGVkKTtcbiAgICB0aGlzLl9fc2V0QmdPdmVybGF5KCdvdmVybGF5Q29sb3InLCBzZXJpYWxpemVkLm92ZXJsYXksIGxvYWRlZCwgY2JJZkxvYWRlZCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSB0byBzZXQgKGJhY2tncm91bmRJbWFnZSwgb3ZlcmxheUltYWdlLCBiYWNrZ3JvdW5kQ29sb3IsIG92ZXJsYXlDb2xvcilcbiAgICogQHBhcmFtIHsoT2JqZWN0fFN0cmluZyl9IHZhbHVlIFZhbHVlIHRvIHNldFxuICAgKiBAcGFyYW0ge09iamVjdH0gbG9hZGVkIFNldCBsb2FkZWQgcHJvcGVydHkgdG8gdHJ1ZSBpZiBwcm9wZXJ0eSBpcyBzZXRcbiAgICogQHBhcmFtIHtPYmplY3R9IGNhbGxiYWNrIENhbGxiYWNrIGZ1bmN0aW9uIHRvIGludm9rZSBhZnRlciBwcm9wZXJ0eSBpcyBzZXRcbiAgICovXG4gIF9fc2V0QmdPdmVybGF5OiBmdW5jdGlvbihwcm9wZXJ0eSwgdmFsdWUsIGxvYWRlZCwgY2FsbGJhY2spIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgbG9hZGVkW3Byb3BlcnR5XSA9IHRydWU7XG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChwcm9wZXJ0eSA9PT0gJ2JhY2tncm91bmRJbWFnZScgfHwgcHJvcGVydHkgPT09ICdvdmVybGF5SW1hZ2UnKSB7XG4gICAgICBmYWJyaWMudXRpbC5lbmxpdmVuT2JqZWN0cyhbdmFsdWVdLCBmdW5jdGlvbihlbmxpdmVkT2JqZWN0KXtcbiAgICAgICAgX3RoaXNbcHJvcGVydHldID0gZW5saXZlZE9iamVjdFswXTtcbiAgICAgICAgbG9hZGVkW3Byb3BlcnR5XSA9IHRydWU7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzWydzZXQnICsgZmFicmljLnV0aWwuc3RyaW5nLmNhcGl0YWxpemUocHJvcGVydHksIHRydWUpXSh2YWx1ZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGxvYWRlZFtwcm9wZXJ0eV0gPSB0cnVlO1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBvYmplY3RzXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXZpdmVyXVxuICAgKi9cbiAgX2VubGl2ZW5PYmplY3RzOiBmdW5jdGlvbiAob2JqZWN0cywgY2FsbGJhY2ssIHJldml2ZXIpIHtcbiAgICBpZiAoIW9iamVjdHMgfHwgb2JqZWN0cy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKFtdKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmYWJyaWMudXRpbC5lbmxpdmVuT2JqZWN0cyhvYmplY3RzLCBmdW5jdGlvbihlbmxpdmVuZWRPYmplY3RzKSB7XG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhlbmxpdmVuZWRPYmplY3RzKTtcbiAgICB9LCBudWxsLCByZXZpdmVyKTtcbiAgfSxcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtTdHJpbmd9IGZvcm1hdFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICAgKi9cbiAgX3RvRGF0YVVSTDogZnVuY3Rpb24gKGZvcm1hdCwgY2FsbGJhY2spIHtcbiAgICB0aGlzLmNsb25lKGZ1bmN0aW9uIChjbG9uZSkge1xuICAgICAgY2FsbGJhY2soY2xvbmUudG9EYXRhVVJMKGZvcm1hdCkpO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gZm9ybWF0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBtdWx0aXBsaWVyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAqL1xuICBfdG9EYXRhVVJMV2l0aE11bHRpcGxpZXI6IGZ1bmN0aW9uIChmb3JtYXQsIG11bHRpcGxpZXIsIGNhbGxiYWNrKSB7XG4gICAgdGhpcy5jbG9uZShmdW5jdGlvbiAoY2xvbmUpIHtcbiAgICAgIGNhbGxiYWNrKGNsb25lLnRvRGF0YVVSTFdpdGhNdWx0aXBsaWVyKGZvcm1hdCwgbXVsdGlwbGllcikpO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDbG9uZXMgY2FudmFzIGluc3RhbmNlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbY2FsbGJhY2tdIFJlY2VpdmVzIGNsb25lZCBpbnN0YW5jZSBhcyBhIGZpcnN0IGFyZ3VtZW50XG4gICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzXSBBcnJheSBvZiBwcm9wZXJ0aWVzIHRvIGluY2x1ZGUgaW4gdGhlIGNsb25lZCBjYW52YXMgYW5kIGNoaWxkcmVuXG4gICAqL1xuICBjbG9uZTogZnVuY3Rpb24gKGNhbGxiYWNrLCBwcm9wZXJ0aWVzKSB7XG4gICAgdmFyIGRhdGEgPSBKU09OLnN0cmluZ2lmeSh0aGlzLnRvSlNPTihwcm9wZXJ0aWVzKSk7XG4gICAgdGhpcy5jbG9uZVdpdGhvdXREYXRhKGZ1bmN0aW9uKGNsb25lKSB7XG4gICAgICBjbG9uZS5sb2FkRnJvbUpTT04oZGF0YSwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGNsb25lKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDbG9uZXMgY2FudmFzIGluc3RhbmNlIHdpdGhvdXQgY2xvbmluZyBleGlzdGluZyBkYXRhLlxuICAgKiBUaGlzIGVzc2VudGlhbGx5IGNvcGllcyBjYW52YXMgZGltZW5zaW9ucywgY2xpcHBpbmcgcHJvcGVydGllcywgZXRjLlxuICAgKiBidXQgbGVhdmVzIGRhdGEgZW1wdHkgKHNvIHRoYXQgeW91IGNhbiBwb3B1bGF0ZSBpdCB3aXRoIHlvdXIgb3duKVxuICAgKiBAcGFyYW0ge09iamVjdH0gW2NhbGxiYWNrXSBSZWNlaXZlcyBjbG9uZWQgaW5zdGFuY2UgYXMgYSBmaXJzdCBhcmd1bWVudFxuICAgKi9cbiAgY2xvbmVXaXRob3V0RGF0YTogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICB2YXIgZWwgPSBmYWJyaWMudXRpbC5jcmVhdGVDYW52YXNFbGVtZW50KCk7XG5cbiAgICBlbC53aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgZWwuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG5cbiAgICB2YXIgY2xvbmUgPSBuZXcgZmFicmljLkNhbnZhcyhlbCk7XG4gICAgY2xvbmUuY2xpcFRvID0gdGhpcy5jbGlwVG87XG4gICAgaWYgKHRoaXMuYmFja2dyb3VuZEltYWdlKSB7XG4gICAgICBjbG9uZS5zZXRCYWNrZ3JvdW5kSW1hZ2UodGhpcy5iYWNrZ3JvdW5kSW1hZ2Uuc3JjLCBmdW5jdGlvbigpIHtcbiAgICAgICAgY2xvbmUucmVuZGVyQWxsKCk7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGNsb25lKTtcbiAgICAgIH0pO1xuICAgICAgY2xvbmUuYmFja2dyb3VuZEltYWdlT3BhY2l0eSA9IHRoaXMuYmFja2dyb3VuZEltYWdlT3BhY2l0eTtcbiAgICAgIGNsb25lLmJhY2tncm91bmRJbWFnZVN0cmV0Y2ggPSB0aGlzLmJhY2tncm91bmRJbWFnZVN0cmV0Y2g7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soY2xvbmUpO1xuICAgIH1cbiAgfVxufSk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBleHRlbmQgPSBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kLFxuICAgICAgY2xvbmUgPSBmYWJyaWMudXRpbC5vYmplY3QuY2xvbmUsXG4gICAgICB0b0ZpeGVkID0gZmFicmljLnV0aWwudG9GaXhlZCxcbiAgICAgIGNhcGl0YWxpemUgPSBmYWJyaWMudXRpbC5zdHJpbmcuY2FwaXRhbGl6ZSxcbiAgICAgIGRlZ3JlZXNUb1JhZGlhbnMgPSBmYWJyaWMudXRpbC5kZWdyZWVzVG9SYWRpYW5zLFxuICAgICAgc3VwcG9ydHNMaW5lRGFzaCA9IGZhYnJpYy5TdGF0aWNDYW52YXMuc3VwcG9ydHMoJ3NldExpbmVEYXNoJyksXG4gICAgICBvYmplY3RDYWNoaW5nID0gIWZhYnJpYy5pc0xpa2VseU5vZGUsXG4gICAgICBBTElBU0lOR19MSU1JVCA9IDI7XG5cbiAgaWYgKGZhYnJpYy5PYmplY3QpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUm9vdCBvYmplY3QgY2xhc3MgZnJvbSB3aGljaCBhbGwgMmQgc2hhcGUgY2xhc3NlcyBpbmhlcml0IGZyb21cbiAgICogQGNsYXNzIGZhYnJpYy5PYmplY3RcbiAgICogQHR1dG9yaWFsIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ZhYnJpYy1pbnRyby1wYXJ0LTEjb2JqZWN0c31cbiAgICogQHNlZSB7QGxpbmsgZmFicmljLk9iamVjdCNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKlxuICAgKiBAZmlyZXMgYWRkZWRcbiAgICogQGZpcmVzIHJlbW92ZWRcbiAgICpcbiAgICogQGZpcmVzIHNlbGVjdGVkXG4gICAqIEBmaXJlcyBkZXNlbGVjdGVkXG4gICAqIEBmaXJlcyBtb2RpZmllZFxuICAgKiBAZmlyZXMgbW9kaWZpZWRcbiAgICogQGZpcmVzIG1vdmVkXG4gICAqIEBmaXJlcyBzY2FsZWRcbiAgICogQGZpcmVzIHJvdGF0ZWRcbiAgICogQGZpcmVzIHNrZXdlZFxuICAgKlxuICAgKiBAZmlyZXMgcm90YXRpbmdcbiAgICogQGZpcmVzIHNjYWxpbmdcbiAgICogQGZpcmVzIG1vdmluZ1xuICAgKiBAZmlyZXMgc2tld2luZ1xuICAgKlxuICAgKiBAZmlyZXMgbW91c2Vkb3duXG4gICAqIEBmaXJlcyBtb3VzZXVwXG4gICAqIEBmaXJlcyBtb3VzZW92ZXJcbiAgICogQGZpcmVzIG1vdXNlb3V0XG4gICAqIEBmaXJlcyBtb3VzZXdoZWVsXG4gICAqIEBmaXJlcyBtb3VzZWRibGNsaWNrXG4gICAqXG4gICAqIEBmaXJlcyBkcmFnb3ZlclxuICAgKiBAZmlyZXMgZHJhZ2VudGVyXG4gICAqIEBmaXJlcyBkcmFnbGVhdmVcbiAgICogQGZpcmVzIGRyb3BcbiAgICovXG4gIGZhYnJpYy5PYmplY3QgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyhmYWJyaWMuQ29tbW9uTWV0aG9kcywgLyoqIEBsZW5kcyBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBUeXBlIG9mIGFuIG9iamVjdCAocmVjdCwgY2lyY2xlLCBwYXRoLCBldGMuKS5cbiAgICAgKiBOb3RlIHRoYXQgdGhpcyBwcm9wZXJ0eSBpcyBtZWFudCB0byBiZSByZWFkLW9ubHkgYW5kIG5vdCBtZWFudCB0byBiZSBtb2RpZmllZC5cbiAgICAgKiBJZiB5b3UgbW9kaWZ5LCBjZXJ0YWluIHBhcnRzIG9mIEZhYnJpYyAoc3VjaCBhcyBKU09OIGxvYWRpbmcpIHdvbid0IHdvcmsgY29ycmVjdGx5LlxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogICAgICAgICAgICAgICAgICAgICAnb2JqZWN0JyxcblxuICAgIC8qKlxuICAgICAqIEhvcml6b250YWwgb3JpZ2luIG9mIHRyYW5zZm9ybWF0aW9uIG9mIGFuIG9iamVjdCAob25lIG9mIFwibGVmdFwiLCBcInJpZ2h0XCIsIFwiY2VudGVyXCIpXG4gICAgICogU2VlIGh0dHA6Ly9qc2ZpZGRsZS5uZXQvMW93MDJnZWEvMjQ0LyBvbiBob3cgb3JpZ2luWC9vcmlnaW5ZIGFmZmVjdCBvYmplY3RzIGluIGdyb3Vwc1xuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgb3JpZ2luWDogICAgICAgICAgICAgICAgICAnbGVmdCcsXG5cbiAgICAvKipcbiAgICAgKiBWZXJ0aWNhbCBvcmlnaW4gb2YgdHJhbnNmb3JtYXRpb24gb2YgYW4gb2JqZWN0IChvbmUgb2YgXCJ0b3BcIiwgXCJib3R0b21cIiwgXCJjZW50ZXJcIilcbiAgICAgKiBTZWUgaHR0cDovL2pzZmlkZGxlLm5ldC8xb3cwMmdlYS8yNDQvIG9uIGhvdyBvcmlnaW5YL29yaWdpblkgYWZmZWN0IG9iamVjdHMgaW4gZ3JvdXBzXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBvcmlnaW5ZOiAgICAgICAgICAgICAgICAgICd0b3AnLFxuXG4gICAgLyoqXG4gICAgICogVG9wIHBvc2l0aW9uIG9mIGFuIG9iamVjdC4gTm90ZSB0aGF0IGJ5IGRlZmF1bHQgaXQncyByZWxhdGl2ZSB0byBvYmplY3QgdG9wLiBZb3UgY2FuIGNoYW5nZSB0aGlzIGJ5IHNldHRpbmcgb3JpZ2luWT17dG9wL2NlbnRlci9ib3R0b219XG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0b3A6ICAgICAgICAgICAgICAgICAgICAgIDAsXG5cbiAgICAvKipcbiAgICAgKiBMZWZ0IHBvc2l0aW9uIG9mIGFuIG9iamVjdC4gTm90ZSB0aGF0IGJ5IGRlZmF1bHQgaXQncyByZWxhdGl2ZSB0byBvYmplY3QgbGVmdC4gWW91IGNhbiBjaGFuZ2UgdGhpcyBieSBzZXR0aW5nIG9yaWdpblg9e2xlZnQvY2VudGVyL3JpZ2h0fVxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgbGVmdDogICAgICAgICAgICAgICAgICAgICAwLFxuXG4gICAgLyoqXG4gICAgICogT2JqZWN0IHdpZHRoXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB3aWR0aDogICAgICAgICAgICAgICAgICAgIDAsXG5cbiAgICAvKipcbiAgICAgKiBPYmplY3QgaGVpZ2h0XG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBoZWlnaHQ6ICAgICAgICAgICAgICAgICAgIDAsXG5cbiAgICAvKipcbiAgICAgKiBPYmplY3Qgc2NhbGUgZmFjdG9yIChob3Jpem9udGFsKVxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc2NhbGVYOiAgICAgICAgICAgICAgICAgICAxLFxuXG4gICAgLyoqXG4gICAgICogT2JqZWN0IHNjYWxlIGZhY3RvciAodmVydGljYWwpXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzY2FsZVk6ICAgICAgICAgICAgICAgICAgIDEsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRydWUsIGFuIG9iamVjdCBpcyByZW5kZXJlZCBhcyBmbGlwcGVkIGhvcml6b250YWxseVxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGZsaXBYOiAgICAgICAgICAgICAgICAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRydWUsIGFuIG9iamVjdCBpcyByZW5kZXJlZCBhcyBmbGlwcGVkIHZlcnRpY2FsbHlcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBmbGlwWTogICAgICAgICAgICAgICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogT3BhY2l0eSBvZiBhbiBvYmplY3RcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG9wYWNpdHk6ICAgICAgICAgICAgICAgICAgMSxcblxuICAgIC8qKlxuICAgICAqIEFuZ2xlIG9mIHJvdGF0aW9uIG9mIGFuIG9iamVjdCAoaW4gZGVncmVlcylcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGFuZ2xlOiAgICAgICAgICAgICAgICAgICAgMCxcblxuICAgIC8qKlxuICAgICAqIEFuZ2xlIG9mIHNrZXcgb24geCBheGVzIG9mIGFuIG9iamVjdCAoaW4gZGVncmVlcylcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHNrZXdYOiAgICAgICAgICAgICAgICAgICAgMCxcblxuICAgIC8qKlxuICAgICAqIEFuZ2xlIG9mIHNrZXcgb24geSBheGVzIG9mIGFuIG9iamVjdCAoaW4gZGVncmVlcylcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHNrZXdZOiAgICAgICAgICAgICAgICAgICAgMCxcblxuICAgIC8qKlxuICAgICAqIFNpemUgb2Ygb2JqZWN0J3MgY29udHJvbGxpbmcgY29ybmVycyAoaW4gcGl4ZWxzKVxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgY29ybmVyU2l6ZTogICAgICAgICAgICAgICAxMyxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gdHJ1ZSwgb2JqZWN0J3MgY29udHJvbGxpbmcgY29ybmVycyBhcmUgcmVuZGVyZWQgYXMgdHJhbnNwYXJlbnQgaW5zaWRlIChpLmUuIHN0cm9rZSBpbnN0ZWFkIG9mIGZpbGwpXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHJhbnNwYXJlbnRDb3JuZXJzOiAgICAgICB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogRGVmYXVsdCBjdXJzb3IgdmFsdWUgdXNlZCB3aGVuIGhvdmVyaW5nIG92ZXIgdGhpcyBvYmplY3Qgb24gY2FudmFzXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBob3ZlckN1cnNvcjogICAgICAgICAgICAgIG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGN1cnNvciB2YWx1ZSB1c2VkIHdoZW4gbW92aW5nIHRoaXMgb2JqZWN0IG9uIGNhbnZhc1xuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgbW92ZUN1cnNvcjogICAgICAgICAgICAgICBudWxsLFxuXG4gICAgLyoqXG4gICAgICogUGFkZGluZyBiZXR3ZWVuIG9iamVjdCBhbmQgaXRzIGNvbnRyb2xsaW5nIGJvcmRlcnMgKGluIHBpeGVscylcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHBhZGRpbmc6ICAgICAgICAgICAgICAgICAgMCxcblxuICAgIC8qKlxuICAgICAqIENvbG9yIG9mIGNvbnRyb2xsaW5nIGJvcmRlcnMgb2YgYW4gb2JqZWN0ICh3aGVuIGl0J3MgYWN0aXZlKVxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgYm9yZGVyQ29sb3I6ICAgICAgICAgICAgICAncmdiYSgxMDIsMTUzLDI1NSwwLjc1KScsXG5cbiAgICAvKipcbiAgICAgKiBBcnJheSBzcGVjaWZ5aW5nIGRhc2ggcGF0dGVybiBvZiBhbiBvYmplY3QncyBib3JkZXJzIChoYXNCb3JkZXIgbXVzdCBiZSB0cnVlKVxuICAgICAqIEBzaW5jZSAxLjYuMlxuICAgICAqIEB0eXBlIEFycmF5XG4gICAgICovXG4gICAgYm9yZGVyRGFzaEFycmF5OiAgICAgICAgICBudWxsLFxuXG4gICAgLyoqXG4gICAgICogQ29sb3Igb2YgY29udHJvbGxpbmcgY29ybmVycyBvZiBhbiBvYmplY3QgKHdoZW4gaXQncyBhY3RpdmUpXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjb3JuZXJDb2xvcjogICAgICAgICAgICAgICdyZ2JhKDEwMiwxNTMsMjU1LDAuNSknLFxuXG4gICAgLyoqXG4gICAgICogQ29sb3Igb2YgY29udHJvbGxpbmcgY29ybmVycyBvZiBhbiBvYmplY3QgKHdoZW4gaXQncyBhY3RpdmUgYW5kIHRyYW5zcGFyZW50Q29ybmVycyBmYWxzZSlcbiAgICAgKiBAc2luY2UgMS42LjJcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNvcm5lclN0cm9rZUNvbG9yOiAgICAgICAgbnVsbCxcblxuICAgIC8qKlxuICAgICAqIFNwZWNpZnkgc3R5bGUgb2YgY29udHJvbCwgJ3JlY3QnIG9yICdjaXJjbGUnXG4gICAgICogQHNpbmNlIDEuNi4yXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICovXG4gICAgY29ybmVyU3R5bGU6ICAgICAgICAgICdyZWN0JyxcblxuICAgIC8qKlxuICAgICAqIEFycmF5IHNwZWNpZnlpbmcgZGFzaCBwYXR0ZXJuIG9mIGFuIG9iamVjdCdzIGNvbnRyb2wgKGhhc0JvcmRlciBtdXN0IGJlIHRydWUpXG4gICAgICogQHNpbmNlIDEuNi4yXG4gICAgICogQHR5cGUgQXJyYXlcbiAgICAgKi9cbiAgICBjb3JuZXJEYXNoQXJyYXk6ICAgICAgICAgIG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRydWUsIHRoaXMgb2JqZWN0IHdpbGwgdXNlIGNlbnRlciBwb2ludCBhcyB0aGUgb3JpZ2luIG9mIHRyYW5zZm9ybWF0aW9uXG4gICAgICogd2hlbiBiZWluZyBzY2FsZWQgdmlhIHRoZSBjb250cm9scy5cbiAgICAgKiA8Yj5CYWNrd2FyZHMgaW5jb21wYXRpYmlsaXR5IG5vdGU6PC9iPiBUaGlzIHByb3BlcnR5IHJlcGxhY2VzIFwiY2VudGVyVHJhbnNmb3JtXCIgKEJvb2xlYW4pLlxuICAgICAqIEBzaW5jZSAxLjMuNFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNlbnRlcmVkU2NhbGluZzogICAgICAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHRydWUsIHRoaXMgb2JqZWN0IHdpbGwgdXNlIGNlbnRlciBwb2ludCBhcyB0aGUgb3JpZ2luIG9mIHRyYW5zZm9ybWF0aW9uXG4gICAgICogd2hlbiBiZWluZyByb3RhdGVkIHZpYSB0aGUgY29udHJvbHMuXG4gICAgICogPGI+QmFja3dhcmRzIGluY29tcGF0aWJpbGl0eSBub3RlOjwvYj4gVGhpcyBwcm9wZXJ0eSByZXBsYWNlcyBcImNlbnRlclRyYW5zZm9ybVwiIChCb29sZWFuKS5cbiAgICAgKiBAc2luY2UgMS4zLjRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjZW50ZXJlZFJvdGF0aW9uOiAgICAgICAgIHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBDb2xvciBvZiBvYmplY3QncyBmaWxsXG4gICAgICogdGFrZXMgY3NzIGNvbG9ycyBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLWNvbG9yLTMvXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBmaWxsOiAgICAgICAgICAgICAgICAgICAgICdyZ2IoMCwwLDApJyxcblxuICAgIC8qKlxuICAgICAqIEZpbGwgcnVsZSB1c2VkIHRvIGZpbGwgYW4gb2JqZWN0XG4gICAgICogYWNjZXB0ZWQgdmFsdWVzIGFyZSBub256ZXJvLCBldmVub2RkXG4gICAgICogPGI+QmFja3dhcmRzIGluY29tcGF0aWJpbGl0eSBub3RlOjwvYj4gVGhpcyBwcm9wZXJ0eSB3YXMgdXNlZCBmb3Igc2V0dGluZyBnbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gdW50aWwgdjEuNC4xMiAodXNlIGBmYWJyaWMuT2JqZWN0I2dsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbmAgaW5zdGVhZClcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGZpbGxSdWxlOiAgICAgICAgICAgICAgICAgJ25vbnplcm8nLFxuXG4gICAgLyoqXG4gICAgICogQ29tcG9zaXRlIHJ1bGUgdXNlZCBmb3IgY2FudmFzIGdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvblxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uOiAnc291cmNlLW92ZXInLFxuXG4gICAgLyoqXG4gICAgICogQmFja2dyb3VuZCBjb2xvciBvZiBhbiBvYmplY3QuXG4gICAgICogdGFrZXMgY3NzIGNvbG9ycyBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLWNvbG9yLTMvXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICAgICAgICAgICcnLFxuXG4gICAgLyoqXG4gICAgICogU2VsZWN0aW9uIEJhY2tncm91bmQgY29sb3Igb2YgYW4gb2JqZWN0LiBjb2xvcmVkIGxheWVyIGJlaGluZCB0aGUgb2JqZWN0IHdoZW4gaXQgaXMgYWN0aXZlLlxuICAgICAqIGRvZXMgbm90IG1peCBnb29kIHdpdGggZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIG1ldGhvZHMuXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzZWxlY3Rpb25CYWNrZ3JvdW5kQ29sb3I6ICAgICAgICAgICcnLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBkZWZpbmVkLCBhbiBvYmplY3QgaXMgcmVuZGVyZWQgdmlhIHN0cm9rZSBhbmQgdGhpcyBwcm9wZXJ0eSBzcGVjaWZpZXMgaXRzIGNvbG9yXG4gICAgICogdGFrZXMgY3NzIGNvbG9ycyBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLWNvbG9yLTMvXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzdHJva2U6ICAgICAgICAgICAgICAgICAgIG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBXaWR0aCBvZiBhIHN0cm9rZSB1c2VkIHRvIHJlbmRlciB0aGlzIG9iamVjdFxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc3Ryb2tlV2lkdGg6ICAgICAgICAgICAgICAxLFxuXG4gICAgLyoqXG4gICAgICogQXJyYXkgc3BlY2lmeWluZyBkYXNoIHBhdHRlcm4gb2YgYW4gb2JqZWN0J3Mgc3Ryb2tlIChzdHJva2UgbXVzdCBiZSBkZWZpbmVkKVxuICAgICAqIEB0eXBlIEFycmF5XG4gICAgICovXG4gICAgc3Ryb2tlRGFzaEFycmF5OiAgICAgICAgICBudWxsLFxuXG4gICAgLyoqXG4gICAgICogTGluZSBvZmZzZXQgb2YgYW4gb2JqZWN0J3Mgc3Ryb2tlXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzdHJva2VEYXNoT2Zmc2V0OiAwLFxuXG4gICAgLyoqXG4gICAgICogTGluZSBlbmRpbmdzIHN0eWxlIG9mIGFuIG9iamVjdCdzIHN0cm9rZSAob25lIG9mIFwiYnV0dFwiLCBcInJvdW5kXCIsIFwic3F1YXJlXCIpXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzdHJva2VMaW5lQ2FwOiAgICAgICAgICAgICdidXR0JyxcblxuICAgIC8qKlxuICAgICAqIENvcm5lciBzdHlsZSBvZiBhbiBvYmplY3QncyBzdHJva2UgKG9uZSBvZiBcImJldmlsXCIsIFwicm91bmRcIiwgXCJtaXRlclwiKVxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc3Ryb2tlTGluZUpvaW46ICAgICAgICAgICAnbWl0ZXInLFxuXG4gICAgLyoqXG4gICAgICogTWF4aW11bSBtaXRlciBsZW5ndGggKHVzZWQgZm9yIHN0cm9rZUxpbmVKb2luID0gXCJtaXRlclwiKSBvZiBhbiBvYmplY3QncyBzdHJva2VcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHN0cm9rZU1pdGVyTGltaXQ6ICAgICAgICAgNCxcblxuICAgIC8qKlxuICAgICAqIFNoYWRvdyBvYmplY3QgcmVwcmVzZW50aW5nIHNoYWRvdyBvZiB0aGlzIHNoYXBlXG4gICAgICogQHR5cGUgZmFicmljLlNoYWRvd1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc2hhZG93OiAgICAgICAgICAgICAgICAgICBudWxsLFxuXG4gICAgLyoqXG4gICAgICogT3BhY2l0eSBvZiBvYmplY3QncyBjb250cm9sbGluZyBib3JkZXJzIHdoZW4gb2JqZWN0IGlzIGFjdGl2ZSBhbmQgbW92aW5nXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBib3JkZXJPcGFjaXR5V2hlbk1vdmluZzogIDAuNCxcblxuICAgIC8qKlxuICAgICAqIFNjYWxlIGZhY3RvciBvZiBvYmplY3QncyBjb250cm9sbGluZyBib3JkZXJzXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBib3JkZXJTY2FsZUZhY3RvcjogICAgICAgIDEsXG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2Zvcm0gbWF0cml4IChzaW1pbGFyIHRvIFNWRydzIHRyYW5zZm9ybSBtYXRyaXgpXG4gICAgICogVGhpcyBwcm9wZXJ0eSBoYXMgYmVlbiBkZXByZWFjdGVkLiBTaW5jZSBjYWNoaW5nIGFuZCBhbmQgcXJEZWNvbXBvc2UgdGhpc1xuICAgICAqIHByb3BlcnR5IGNhbiBiZSBoYW5kbGVkIHdpdGggdGhlIHN0YW5kYXJkIHRvcCxsZWZ0LHNjYWxlWCxzY2FsZVksYW5nbGUgYW5kIHNrZXdYLlxuICAgICAqIEEgZG9jdW1lbnRhdGlvbiBleGFtcGxlIG9uIGhvdyB0byBwYXJzZSBhbmQgbWVyZ2UgYSB0cmFuc2Zvcm1NYXRyaXggd2lsbCBiZSBwcm92aWRlZCBiZWZvcmVcbiAgICAgKiBjb21wbGV0ZWx5IHJlbW92aW5nIGl0IGluIGZhYnJpYyA0LjBcbiAgICAgKiBJZiB5b3UgYXJlIHN0YXJ0aW5nIGEgcHJvamVjdCBub3csIERPIE5PVCB1c2UgaXQuXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgMy4yLjBcbiAgICAgKiBAdHlwZSBBcnJheVxuICAgICAqL1xuICAgIHRyYW5zZm9ybU1hdHJpeDogICAgICAgICAgbnVsbCxcblxuICAgIC8qKlxuICAgICAqIE1pbmltdW0gYWxsb3dlZCBzY2FsZSB2YWx1ZSBvZiBhbiBvYmplY3RcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG1pblNjYWxlTGltaXQ6ICAgICAgICAgICAgMCxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gc2V0IHRvIGBmYWxzZWAsIGFuIG9iamVjdCBjYW4gbm90IGJlIHNlbGVjdGVkIGZvciBtb2RpZmljYXRpb24gKHVzaW5nIGVpdGhlciBwb2ludC1jbGljay1iYXNlZCBvciBncm91cC1iYXNlZCBzZWxlY3Rpb24pLlxuICAgICAqIEJ1dCBldmVudHMgc3RpbGwgZmlyZSBvbiBpdC5cbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzZWxlY3RhYmxlOiAgICAgICAgICAgICAgIHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHNldCB0byBgZmFsc2VgLCBhbiBvYmplY3QgY2FuIG5vdCBiZSBhIHRhcmdldCBvZiBldmVudHMuIEFsbCBldmVudHMgcHJvcGFnYXRlIHRocm91Z2ggaXQuIEludHJvZHVjZWQgaW4gdjEuMy40XG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgZXZlbnRlZDogICAgICAgICAgICAgICAgICB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBzZXQgdG8gYGZhbHNlYCwgYW4gb2JqZWN0IGlzIG5vdCByZW5kZXJlZCBvbiBjYW52YXNcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB2aXNpYmxlOiAgICAgICAgICAgICAgICAgIHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHNldCB0byBgZmFsc2VgLCBvYmplY3QncyBjb250cm9scyBhcmUgbm90IGRpc3BsYXllZCBhbmQgY2FuIG5vdCBiZSB1c2VkIHRvIG1hbmlwdWxhdGUgb2JqZWN0XG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgaGFzQ29udHJvbHM6ICAgICAgICAgICAgICB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBzZXQgdG8gYGZhbHNlYCwgb2JqZWN0J3MgY29udHJvbGxpbmcgYm9yZGVycyBhcmUgbm90IHJlbmRlcmVkXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgaGFzQm9yZGVyczogICAgICAgICAgICAgICB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBzZXQgdG8gYGZhbHNlYCwgb2JqZWN0J3MgY29udHJvbGxpbmcgcm90YXRpbmcgcG9pbnQgd2lsbCBub3QgYmUgdmlzaWJsZSBvciBzZWxlY3RhYmxlXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgaGFzUm90YXRpbmdQb2ludDogICAgICAgICB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogT2Zmc2V0IGZvciBvYmplY3QncyBjb250cm9sbGluZyByb3RhdGluZyBwb2ludCAod2hlbiBlbmFibGVkIHZpYSBgaGFzUm90YXRpbmdQb2ludGApXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICByb3RhdGluZ1BvaW50T2Zmc2V0OiAgICAgIDQwLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBzZXQgdG8gYHRydWVgLCBvYmplY3RzIGFyZSBcImZvdW5kXCIgb24gY2FudmFzIG9uIHBlci1waXhlbCBiYXNpcyByYXRoZXIgdGhhbiBhY2NvcmRpbmcgdG8gYm91bmRpbmcgYm94XG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgcGVyUGl4ZWxUYXJnZXRGaW5kOiAgICAgICBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gYGZhbHNlYCwgZGVmYXVsdCBvYmplY3QncyB2YWx1ZXMgYXJlIG5vdCBpbmNsdWRlZCBpbiBpdHMgc2VyaWFsaXphdGlvblxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGluY2x1ZGVEZWZhdWx0VmFsdWVzOiAgICAgdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIEZ1bmN0aW9uIHRoYXQgZGV0ZXJtaW5lcyBjbGlwcGluZyBvZiBhbiBvYmplY3QgKGNvbnRleHQgaXMgcGFzc2VkIGFzIGEgZmlyc3QgYXJndW1lbnQpLlxuICAgICAqIElmIHlvdSBhcmUgdXNpbmcgY29kZSBtaW5pZmljYXRpb24sIGN0eCBhcmd1bWVudCBjYW4gYmUgbWluaWZpZWQvbWFuZ2xpZWQgeW91IHNob3VsZCB1c2VcbiAgICAgKiBhcyBhIHdvcmthcm91bmQgYHZhciBjdHggPSBhcmd1bWVudHNbMF07YCBpbiB0aGUgZnVuY3Rpb247XG4gICAgICogTm90ZSB0aGF0IGNvbnRleHQgb3JpZ2luIGlzIGF0IHRoZSBvYmplY3QncyBjZW50ZXIgcG9pbnQgKG5vdCBsZWZ0L3RvcCBjb3JuZXIpXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgMi4wLjBcbiAgICAgKiBAdHlwZSBGdW5jdGlvblxuICAgICAqL1xuICAgIGNsaXBUbzogICAgICAgICAgICAgICAgICAgbnVsbCxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gYHRydWVgLCBvYmplY3QgaG9yaXpvbnRhbCBtb3ZlbWVudCBpcyBsb2NrZWRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBsb2NrTW92ZW1lbnRYOiAgICAgICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgdHJ1ZWAsIG9iamVjdCB2ZXJ0aWNhbCBtb3ZlbWVudCBpcyBsb2NrZWRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBsb2NrTW92ZW1lbnRZOiAgICAgICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgdHJ1ZWAsIG9iamVjdCByb3RhdGlvbiBpcyBsb2NrZWRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBsb2NrUm90YXRpb246ICAgICAgICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgdHJ1ZWAsIG9iamVjdCBob3Jpem9udGFsIHNjYWxpbmcgaXMgbG9ja2VkXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgbG9ja1NjYWxpbmdYOiAgICAgICAgICAgICBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gYHRydWVgLCBvYmplY3QgdmVydGljYWwgc2NhbGluZyBpcyBsb2NrZWRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBsb2NrU2NhbGluZ1k6ICAgICAgICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgdHJ1ZWAsIG9iamVjdCBub24tdW5pZm9ybSBzY2FsaW5nIGlzIGxvY2tlZFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGxvY2tVbmlTY2FsaW5nOiAgICAgICAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGB0cnVlYCwgb2JqZWN0IGhvcml6b250YWwgc2tld2luZyBpcyBsb2NrZWRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBsb2NrU2tld2luZ1g6ICAgICAgICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgdHJ1ZWAsIG9iamVjdCB2ZXJ0aWNhbCBza2V3aW5nIGlzIGxvY2tlZFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGxvY2tTa2V3aW5nWTogICAgICAgICAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGB0cnVlYCwgb2JqZWN0IGNhbm5vdCBiZSBmbGlwcGVkIGJ5IHNjYWxpbmcgaW50byBuZWdhdGl2ZSB2YWx1ZXNcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBsb2NrU2NhbGluZ0ZsaXA6ICAgICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgdHJ1ZWAsIG9iamVjdCBpcyBub3QgZXhwb3J0ZWQgaW4gT0JKRUNUL0pTT05cbiAgICAgKiBAc2luY2UgMS42LjNcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBleGNsdWRlRnJvbUV4cG9ydDogICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgdHJ1ZWAsIG9iamVjdCBpcyBjYWNoZWQgb24gYW4gYWRkaXRpb25hbCBjYW52YXMuXG4gICAgICogV2hlbiBgZmFsc2VgLCBvYmplY3QgaXMgbm90IGNhY2hlZCB1bmxlc3MgbmVjZXNzYXJ5ICggY2xpcFBhdGggKVxuICAgICAqIGRlZmF1bHQgdG8gdHJ1ZVxuICAgICAqIEBzaW5jZSAxLjcuMFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgb2JqZWN0Q2FjaGluZzogICAgICAgICAgICBvYmplY3RDYWNoaW5nLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBgdHJ1ZWAsIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBjaGVja2VkIGZvciBjYWNoZSBpbnZhbGlkYXRpb24uIEluIHNvbWUgcGFydGljdWxhclxuICAgICAqIHNpdHVhdGlvbiB5b3UgbWF5IHdhbnQgdGhpcyB0byBiZSBkaXNhYmxlZCAoIHNwcmF5IGJydXNoLCB2ZXJ5IGJpZywgZ3JvdXBzKVxuICAgICAqIG9yIGlmIHlvdXIgYXBwbGljYXRpb24gZG9lcyBub3QgYWxsb3cgeW91IHRvIG1vZGlmeSBwcm9wZXJ0aWVzIGZvciBncm91cHMgY2hpbGQgeW91IHdhbnRcbiAgICAgKiB0byBkaXNhYmxlIGl0IGZvciBncm91cHMuXG4gICAgICogZGVmYXVsdCB0byBmYWxzZVxuICAgICAqIHNpbmNlIDEuNy4wXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgc3RhdGVmdWxsQ2FjaGU6ICAgICAgICAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGB0cnVlYCwgY2FjaGUgZG9lcyBub3QgZ2V0IHVwZGF0ZWQgZHVyaW5nIHNjYWxpbmcuIFRoZSBwaWN0dXJlIHdpbGwgZ2V0IGJsb2NreSBpZiBzY2FsZWRcbiAgICAgKiB0b28gbXVjaCBhbmQgd2lsbCBiZSByZWRyYXduIHdpdGggY29ycmVjdCBkZXRhaWxzIGF0IHRoZSBlbmQgb2Ygc2NhbGluZy5cbiAgICAgKiB0aGlzIHNldHRpbmcgaXMgcGVyZm9ybWFuY2UgYW5kIGFwcGxpY2F0aW9uIGRlcGVuZGFudC5cbiAgICAgKiBkZWZhdWx0IHRvIHRydWVcbiAgICAgKiBzaW5jZSAxLjcuMFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgbm9TY2FsZUNhY2hlOiAgICAgICAgICAgICAgdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gYGZhbHNlYCwgdGhlIHN0b2tlIHdpZHRoIHdpbGwgc2NhbGUgd2l0aCB0aGUgb2JqZWN0LlxuICAgICAqIFdoZW4gYHRydWVgLCB0aGUgc3Ryb2tlIHdpbGwgYWx3YXlzIG1hdGNoIHRoZSBleGFjdCBwaXhlbCBzaXplIGVudGVyZWQgZm9yIHN0cm9rZSB3aWR0aC5cbiAgICAgKiBkZWZhdWx0IHRvIGZhbHNlXG4gICAgICogQHNpbmNlIDIuNi4wXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgc3Ryb2tlVW5pZm9ybTogICAgICAgICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogV2hlbiBzZXQgdG8gYHRydWVgLCBvYmplY3QncyBjYWNoZSB3aWxsIGJlIHJlcmVuZGVyZWQgbmV4dCByZW5kZXIgY2FsbC5cbiAgICAgKiBzaW5jZSAxLjcuMFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCB0cnVlXG4gICAgICovXG4gICAgZGlydHk6ICAgICAgICAgICAgICAgIHRydWUsXG5cbiAgICAvKipcbiAgICAgKiBrZWVwcyB0aGUgdmFsdWUgb2YgdGhlIGxhc3QgaG92ZXJlZCBjb3JuZXIgZHVyaW5nIG1vdXNlIG1vdmUuXG4gICAgICogMCBpcyBubyBjb3JuZXIsIG9yICdtdCcsICdtbCcsICdtdHInIGV0Yy4uXG4gICAgICogSXQgc2hvdWxkIGJlIHByaXZhdGUsIGJ1dCB0aGVyZSBpcyBubyBoYXJtIGluIHVzaW5nIGl0IGFzXG4gICAgICogYSByZWFkLW9ubHkgcHJvcGVydHkuXG4gICAgICogQHR5cGUgbnVtYmVyfHN0cmluZ3xhbnlcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgX19jb3JuZXI6IDAsXG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIHRoZSBmaWxsIG9yIHRoZSBzdHJva2UgaXMgZHJhd24gZmlyc3QgKG9uZSBvZiBcImZpbGxcIiBvciBcInN0cm9rZVwiKVxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgcGFpbnRGaXJzdDogICAgICAgICAgICdmaWxsJyxcblxuICAgIC8qKlxuICAgICAqIExpc3Qgb2YgcHJvcGVydGllcyB0byBjb25zaWRlciB3aGVuIGNoZWNraW5nIGlmIHN0YXRlXG4gICAgICogb2YgYW4gb2JqZWN0IGlzIGNoYW5nZWQgKGZhYnJpYy5PYmplY3QjaGFzU3RhdGVDaGFuZ2VkKVxuICAgICAqIGFzIHdlbGwgYXMgZm9yIGhpc3RvcnkgKHVuZG8vcmVkbykgcHVycG9zZXNcbiAgICAgKiBAdHlwZSBBcnJheVxuICAgICAqL1xuICAgIHN0YXRlUHJvcGVydGllczogKFxuICAgICAgJ3RvcCBsZWZ0IHdpZHRoIGhlaWdodCBzY2FsZVggc2NhbGVZIGZsaXBYIGZsaXBZIG9yaWdpblggb3JpZ2luWSB0cmFuc2Zvcm1NYXRyaXggJyArXG4gICAgICAnc3Ryb2tlIHN0cm9rZVdpZHRoIHN0cm9rZURhc2hBcnJheSBzdHJva2VMaW5lQ2FwIHN0cm9rZURhc2hPZmZzZXQgc3Ryb2tlTGluZUpvaW4gc3Ryb2tlTWl0ZXJMaW1pdCAnICtcbiAgICAgICdhbmdsZSBvcGFjaXR5IGZpbGwgZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIHNoYWRvdyBjbGlwVG8gdmlzaWJsZSBiYWNrZ3JvdW5kQ29sb3IgJyArXG4gICAgICAnc2tld1ggc2tld1kgZmlsbFJ1bGUgcGFpbnRGaXJzdCBjbGlwUGF0aCBzdHJva2VVbmlmb3JtJ1xuICAgICkuc3BsaXQoJyAnKSxcblxuICAgIC8qKlxuICAgICAqIExpc3Qgb2YgcHJvcGVydGllcyB0byBjb25zaWRlciB3aGVuIGNoZWNraW5nIGlmIGNhY2hlIG5lZWRzIHJlZnJlc2hcbiAgICAgKiBUaG9zZSBwcm9wZXJ0aWVzIGFyZSBjaGVja2VkIGJ5IHN0YXRlZnVsbENhY2hlIE9OICggb3IgbGF6eSBtb2RlIGlmIHdlIHdhbnQgKSBvciBmcm9tIHNpbmdsZVxuICAgICAqIGNhbGxzIHRvIE9iamVjdC5zZXQoa2V5LCB2YWx1ZSkuIElmIHRoZSBrZXkgaXMgaW4gdGhpcyBsaXN0LCB0aGUgb2JqZWN0IGlzIG1hcmtlZCBhcyBkaXJ0eVxuICAgICAqIGFuZCByZWZyZXNoZWQgYXQgdGhlIG5leHQgcmVuZGVyXG4gICAgICogQHR5cGUgQXJyYXlcbiAgICAgKi9cbiAgICBjYWNoZVByb3BlcnRpZXM6IChcbiAgICAgICdmaWxsIHN0cm9rZSBzdHJva2VXaWR0aCBzdHJva2VEYXNoQXJyYXkgd2lkdGggaGVpZ2h0IHBhaW50Rmlyc3Qgc3Ryb2tlVW5pZm9ybScgK1xuICAgICAgJyBzdHJva2VMaW5lQ2FwIHN0cm9rZURhc2hPZmZzZXQgc3Ryb2tlTGluZUpvaW4gc3Ryb2tlTWl0ZXJMaW1pdCBiYWNrZ3JvdW5kQ29sb3IgY2xpcFBhdGgnXG4gICAgKS5zcGxpdCgnICcpLFxuXG4gICAgLyoqXG4gICAgICogYSBmYWJyaWNPYmplY3QgdGhhdCwgd2l0aG91dCBzdHJva2UgZGVmaW5lIGEgY2xpcHBpbmcgYXJlYSB3aXRoIHRoZWlyIHNoYXBlLiBmaWxsZWQgaW4gYmxhY2tcbiAgICAgKiB0aGUgY2xpcFBhdGggb2JqZWN0IGdldHMgdXNlZCB3aGVuIHRoZSBvYmplY3QgaGFzIHJlbmRlcmVkLCBhbmQgdGhlIGNvbnRleHQgaXMgcGxhY2VkIGluIHRoZSBjZW50ZXJcbiAgICAgKiBvZiB0aGUgb2JqZWN0IGNhY2hlQ2FudmFzLlxuICAgICAqIElmIHlvdSB3YW50IDAsMCBvZiBhIGNsaXBQYXRoIHRvIGFsaWduIHdpdGggYW4gb2JqZWN0IGNlbnRlciwgdXNlIGNsaXBQYXRoLm9yaWdpblgvWSB0byAnY2VudGVyJ1xuICAgICAqIEB0eXBlIGZhYnJpYy5PYmplY3RcbiAgICAgKi9cbiAgICBjbGlwUGF0aDogdW5kZWZpbmVkLFxuXG4gICAgLyoqXG4gICAgICogTWVhbmluZ2Z1bCBPTkxZIHdoZW4gdGhlIG9iamVjdCBpcyB1c2VkIGFzIGNsaXBQYXRoLlxuICAgICAqIGlmIHRydWUsIHRoZSBjbGlwUGF0aCB3aWxsIG1ha2UgdGhlIG9iamVjdCBjbGlwIHRvIHRoZSBvdXRzaWRlIG9mIHRoZSBjbGlwUGF0aFxuICAgICAqIHNpbmNlIDIuNC4wXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG4gICAgaW52ZXJ0ZWQ6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogTWVhbmluZ2Z1bCBPTkxZIHdoZW4gdGhlIG9iamVjdCBpcyB1c2VkIGFzIGNsaXBQYXRoLlxuICAgICAqIGlmIHRydWUsIHRoZSBjbGlwUGF0aCB3aWxsIGhhdmUgaXRzIHRvcCBhbmQgbGVmdCByZWxhdGl2ZSB0byBjYW52YXMsIGFuZCB3aWxsXG4gICAgICogbm90IGJlIGluZmx1ZW5jZWQgYnkgdGhlIG9iamVjdCB0cmFuc2Zvcm0uIFRoaXMgd2lsbCBtYWtlIHRoZSBjbGlwUGF0aCByZWxhdGl2ZVxuICAgICAqIHRvIHRoZSBjYW52YXMsIGJ1dCBjbGlwcGluZyBqdXN0IGEgcGFydGljdWxhciBvYmplY3QuXG4gICAgICogV0FSTklORyB0aGlzIGlzIGJldGEsIHRoaXMgZmVhdHVyZSBtYXkgY2hhbmdlIG9yIGJlIHJlbmFtZWQuXG4gICAgICogc2luY2UgMi40LjBcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cbiAgICBhYnNvbHV0ZVBvc2l0aW9uZWQ6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICovXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB0aGUgY2FudmFzIHVzZWQgdG8ga2VlcCB0aGUgY2FjaGVkIGNvcHkgb2YgdGhlIG9iamVjdFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NyZWF0ZUNhY2hlQ2FudmFzOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX2NhY2hlUHJvcGVydGllcyA9IHt9O1xuICAgICAgdGhpcy5fY2FjaGVDYW52YXMgPSBmYWJyaWMudXRpbC5jcmVhdGVDYW52YXNFbGVtZW50KCk7XG4gICAgICB0aGlzLl9jYWNoZUNvbnRleHQgPSB0aGlzLl9jYWNoZUNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgdGhpcy5fdXBkYXRlQ2FjaGVDYW52YXMoKTtcbiAgICAgIC8vIGlmIGNhbnZhcyBnZXRzIGNyZWF0ZWQsIGlzIGVtcHR5LCBzbyBkaXJ0eS5cbiAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBMaW1pdCB0aGUgY2FjaGUgZGltZW5zaW9ucyBzbyB0aGF0IFggKiBZIGRvIG5vdCBjcm9zcyBmYWJyaWMucGVyZkxpbWl0U2l6ZVRvdGFsXG4gICAgICogYW5kIGVhY2ggc2lkZSBkbyBub3QgY3Jvc3MgZmFicmljLmNhY2hlU2lkZUxpbWl0XG4gICAgICogdGhvc2UgbnVtYmVycyBhcmUgY29uZmlndXJhYmxlIHNvIHRoYXQgeW91IGNhbiBnZXQgYXMgbXVjaCBkZXRhaWwgYXMgeW91IHdhbnRcbiAgICAgKiBtYWtpbmcgYmFyZ2FpbiB3aXRoIHBlcmZvcm1hbmNlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGltc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkaW1zLndpZHRoIHdpZHRoIG9mIGNhbnZhc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkaW1zLmhlaWdodCBoZWlnaHQgb2YgY2FudmFzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGRpbXMuem9vbVggem9vbVggem9vbSB2YWx1ZSB0byB1bnNjYWxlIHRoZSBjYW52YXMgYmVmb3JlIGRyYXdpbmcgY2FjaGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGltcy56b29tWSB6b29tWSB6b29tIHZhbHVlIHRvIHVuc2NhbGUgdGhlIGNhbnZhcyBiZWZvcmUgZHJhd2luZyBjYWNoZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0ud2lkdGggd2lkdGggb2YgY2FudmFzXG4gICAgICogQHJldHVybiB7T2JqZWN0fS5oZWlnaHQgaGVpZ2h0IG9mIGNhbnZhc1xuICAgICAqIEByZXR1cm4ge09iamVjdH0uem9vbVggem9vbVggem9vbSB2YWx1ZSB0byB1bnNjYWxlIHRoZSBjYW52YXMgYmVmb3JlIGRyYXdpbmcgY2FjaGVcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9Lnpvb21ZIHpvb21ZIHpvb20gdmFsdWUgdG8gdW5zY2FsZSB0aGUgY2FudmFzIGJlZm9yZSBkcmF3aW5nIGNhY2hlXG4gICAgICovXG4gICAgX2xpbWl0Q2FjaGVTaXplOiBmdW5jdGlvbihkaW1zKSB7XG4gICAgICB2YXIgcGVyZkxpbWl0U2l6ZVRvdGFsID0gZmFicmljLnBlcmZMaW1pdFNpemVUb3RhbCxcbiAgICAgICAgICB3aWR0aCA9IGRpbXMud2lkdGgsIGhlaWdodCA9IGRpbXMuaGVpZ2h0LFxuICAgICAgICAgIG1heCA9IGZhYnJpYy5tYXhDYWNoZVNpZGVMaW1pdCwgbWluID0gZmFicmljLm1pbkNhY2hlU2lkZUxpbWl0O1xuICAgICAgaWYgKHdpZHRoIDw9IG1heCAmJiBoZWlnaHQgPD0gbWF4ICYmIHdpZHRoICogaGVpZ2h0IDw9IHBlcmZMaW1pdFNpemVUb3RhbCkge1xuICAgICAgICBpZiAod2lkdGggPCBtaW4pIHtcbiAgICAgICAgICBkaW1zLndpZHRoID0gbWluO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoZWlnaHQgPCBtaW4pIHtcbiAgICAgICAgICBkaW1zLmhlaWdodCA9IG1pbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGltcztcbiAgICAgIH1cbiAgICAgIHZhciBhciA9IHdpZHRoIC8gaGVpZ2h0LCBsaW1pdGVkRGltcyA9IGZhYnJpYy51dGlsLmxpbWl0RGltc0J5QXJlYShhciwgcGVyZkxpbWl0U2l6ZVRvdGFsKSxcbiAgICAgICAgICBjYXBWYWx1ZSA9IGZhYnJpYy51dGlsLmNhcFZhbHVlLFxuICAgICAgICAgIHggPSBjYXBWYWx1ZShtaW4sIGxpbWl0ZWREaW1zLngsIG1heCksXG4gICAgICAgICAgeSA9IGNhcFZhbHVlKG1pbiwgbGltaXRlZERpbXMueSwgbWF4KTtcbiAgICAgIGlmICh3aWR0aCA+IHgpIHtcbiAgICAgICAgZGltcy56b29tWCAvPSB3aWR0aCAvIHg7XG4gICAgICAgIGRpbXMud2lkdGggPSB4O1xuICAgICAgICBkaW1zLmNhcHBlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoaGVpZ2h0ID4geSkge1xuICAgICAgICBkaW1zLnpvb21ZIC89IGhlaWdodCAvIHk7XG4gICAgICAgIGRpbXMuaGVpZ2h0ID0geTtcbiAgICAgICAgZGltcy5jYXBwZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRpbXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgZGltZW5zaW9uIGFuZCB0aGUgem9vbSBsZXZlbCBuZWVkZWQgdG8gY3JlYXRlIGEgY2FjaGUgY2FudmFzXG4gICAgICogYmlnIGVub3VnaCB0byBob3N0IHRoZSBvYmplY3QgdG8gYmUgY2FjaGVkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7T2JqZWN0fS54IHdpZHRoIG9mIG9iamVjdCB0byBiZSBjYWNoZWRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9LnkgaGVpZ2h0IG9mIG9iamVjdCB0byBiZSBjYWNoZWRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9LndpZHRoIHdpZHRoIG9mIGNhbnZhc1xuICAgICAqIEByZXR1cm4ge09iamVjdH0uaGVpZ2h0IGhlaWdodCBvZiBjYW52YXNcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9Lnpvb21YIHpvb21YIHpvb20gdmFsdWUgdG8gdW5zY2FsZSB0aGUgY2FudmFzIGJlZm9yZSBkcmF3aW5nIGNhY2hlXG4gICAgICogQHJldHVybiB7T2JqZWN0fS56b29tWSB6b29tWSB6b29tIHZhbHVlIHRvIHVuc2NhbGUgdGhlIGNhbnZhcyBiZWZvcmUgZHJhd2luZyBjYWNoZVxuICAgICAqL1xuICAgIF9nZXRDYWNoZUNhbnZhc0RpbWVuc2lvbnM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9iamVjdFNjYWxlID0gdGhpcy5nZXRUb3RhbE9iamVjdFNjYWxpbmcoKSxcbiAgICAgICAgICAvLyBjYWN1bGF0ZSBkaW1lbnNpb25zIHdpdGhvdXQgc2tld2luZ1xuICAgICAgICAgIGRpbSA9IHRoaXMuX2dldFRyYW5zZm9ybWVkRGltZW5zaW9ucygwLCAwKSxcbiAgICAgICAgICBuZWVkZWRYID0gZGltLnggKiBvYmplY3RTY2FsZS5zY2FsZVggLyB0aGlzLnNjYWxlWCxcbiAgICAgICAgICBuZWVkZWRZID0gZGltLnkgKiBvYmplY3RTY2FsZS5zY2FsZVkgLyB0aGlzLnNjYWxlWTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC8vIGZvciBzdXJlIHRoaXMgQUxJQVNJTkdfTElNSVQgaXMgc2xpZ2h0bHkgY3JlYXRpbmcgcHJvYmxlbVxuICAgICAgICAvLyBpbiBzaXR1YXRpb24gaW4gd2hpY2ggdGhlIGNhY2hlIGNhbnZhcyBnZXRzIGFuIHVwcGVyIGxpbWl0XG4gICAgICAgIC8vIGFsc28gb2JqZWN0U2NhbGUgY29udGFpbnMgYWxyZWFkeSBzY2FsZVggYW5kIHNjYWxlWVxuICAgICAgICB3aWR0aDogbmVlZGVkWCArIEFMSUFTSU5HX0xJTUlULFxuICAgICAgICBoZWlnaHQ6IG5lZWRlZFkgKyBBTElBU0lOR19MSU1JVCxcbiAgICAgICAgem9vbVg6IG9iamVjdFNjYWxlLnNjYWxlWCxcbiAgICAgICAgem9vbVk6IG9iamVjdFNjYWxlLnNjYWxlWSxcbiAgICAgICAgeDogbmVlZGVkWCxcbiAgICAgICAgeTogbmVlZGVkWVxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIGNhbnZhcyBmb3IgY2FjaGVcbiAgICAgKiByZXR1cm5zIHRydWUgb3IgZmFsc2UgaWYgY2FudmFzIG5lZWRlZCByZXNpemUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIHRoZSBjYW52YXMgaGFzIGJlZW4gcmVzaXplZFxuICAgICAqL1xuICAgIF91cGRhdGVDYWNoZUNhbnZhczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdGFyZ2V0Q2FudmFzID0gdGhpcy5jYW52YXM7XG4gICAgICBpZiAodGhpcy5ub1NjYWxlQ2FjaGUgJiYgdGFyZ2V0Q2FudmFzICYmIHRhcmdldENhbnZhcy5fY3VycmVudFRyYW5zZm9ybSkge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gdGFyZ2V0Q2FudmFzLl9jdXJyZW50VHJhbnNmb3JtLnRhcmdldCxcbiAgICAgICAgICAgIGFjdGlvbiA9IHRhcmdldENhbnZhcy5fY3VycmVudFRyYW5zZm9ybS5hY3Rpb247XG4gICAgICAgIGlmICh0aGlzID09PSB0YXJnZXQgJiYgYWN0aW9uLnNsaWNlICYmIGFjdGlvbi5zbGljZSgwLCA1KSA9PT0gJ3NjYWxlJykge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIGNhbnZhcyA9IHRoaXMuX2NhY2hlQ2FudmFzLFxuICAgICAgICAgIGRpbXMgPSB0aGlzLl9saW1pdENhY2hlU2l6ZSh0aGlzLl9nZXRDYWNoZUNhbnZhc0RpbWVuc2lvbnMoKSksXG4gICAgICAgICAgbWluQ2FjaGVTaXplID0gZmFicmljLm1pbkNhY2hlU2lkZUxpbWl0LFxuICAgICAgICAgIHdpZHRoID0gZGltcy53aWR0aCwgaGVpZ2h0ID0gZGltcy5oZWlnaHQsIGRyYXdpbmdXaWR0aCwgZHJhd2luZ0hlaWdodCxcbiAgICAgICAgICB6b29tWCA9IGRpbXMuem9vbVgsIHpvb21ZID0gZGltcy56b29tWSxcbiAgICAgICAgICBkaW1lbnNpb25zQ2hhbmdlZCA9IHdpZHRoICE9PSB0aGlzLmNhY2hlV2lkdGggfHwgaGVpZ2h0ICE9PSB0aGlzLmNhY2hlSGVpZ2h0LFxuICAgICAgICAgIHpvb21DaGFuZ2VkID0gdGhpcy56b29tWCAhPT0gem9vbVggfHwgdGhpcy56b29tWSAhPT0gem9vbVksXG4gICAgICAgICAgc2hvdWxkUmVkcmF3ID0gZGltZW5zaW9uc0NoYW5nZWQgfHwgem9vbUNoYW5nZWQsXG4gICAgICAgICAgYWRkaXRpb25hbFdpZHRoID0gMCwgYWRkaXRpb25hbEhlaWdodCA9IDAsIHNob3VsZFJlc2l6ZUNhbnZhcyA9IGZhbHNlO1xuICAgICAgaWYgKGRpbWVuc2lvbnNDaGFuZ2VkKSB7XG4gICAgICAgIHZhciBjYW52YXNXaWR0aCA9IHRoaXMuX2NhY2hlQ2FudmFzLndpZHRoLFxuICAgICAgICAgICAgY2FudmFzSGVpZ2h0ID0gdGhpcy5fY2FjaGVDYW52YXMuaGVpZ2h0LFxuICAgICAgICAgICAgc2l6ZUdyb3dpbmcgPSB3aWR0aCA+IGNhbnZhc1dpZHRoIHx8IGhlaWdodCA+IGNhbnZhc0hlaWdodCxcbiAgICAgICAgICAgIHNpemVTaHJpbmtpbmcgPSAod2lkdGggPCBjYW52YXNXaWR0aCAqIDAuOSB8fCBoZWlnaHQgPCBjYW52YXNIZWlnaHQgKiAwLjkpICYmXG4gICAgICAgICAgICAgIGNhbnZhc1dpZHRoID4gbWluQ2FjaGVTaXplICYmIGNhbnZhc0hlaWdodCA+IG1pbkNhY2hlU2l6ZTtcbiAgICAgICAgc2hvdWxkUmVzaXplQ2FudmFzID0gc2l6ZUdyb3dpbmcgfHwgc2l6ZVNocmlua2luZztcbiAgICAgICAgaWYgKHNpemVHcm93aW5nICYmICFkaW1zLmNhcHBlZCAmJiAod2lkdGggPiBtaW5DYWNoZVNpemUgfHwgaGVpZ2h0ID4gbWluQ2FjaGVTaXplKSkge1xuICAgICAgICAgIGFkZGl0aW9uYWxXaWR0aCA9IHdpZHRoICogMC4xO1xuICAgICAgICAgIGFkZGl0aW9uYWxIZWlnaHQgPSBoZWlnaHQgKiAwLjE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzaG91bGRSZWRyYXcpIHtcbiAgICAgICAgaWYgKHNob3VsZFJlc2l6ZUNhbnZhcykge1xuICAgICAgICAgIGNhbnZhcy53aWR0aCA9IE1hdGguY2VpbCh3aWR0aCArIGFkZGl0aW9uYWxXaWR0aCk7XG4gICAgICAgICAgY2FudmFzLmhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQgKyBhZGRpdGlvbmFsSGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9jYWNoZUNvbnRleHQuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgICAgICAgIHRoaXMuX2NhY2hlQ29udGV4dC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBkcmF3aW5nV2lkdGggPSBkaW1zLnggLyAyO1xuICAgICAgICBkcmF3aW5nSGVpZ2h0ID0gZGltcy55IC8gMjtcbiAgICAgICAgdGhpcy5jYWNoZVRyYW5zbGF0aW9uWCA9IE1hdGgucm91bmQoY2FudmFzLndpZHRoIC8gMiAtIGRyYXdpbmdXaWR0aCkgKyBkcmF3aW5nV2lkdGg7XG4gICAgICAgIHRoaXMuY2FjaGVUcmFuc2xhdGlvblkgPSBNYXRoLnJvdW5kKGNhbnZhcy5oZWlnaHQgLyAyIC0gZHJhd2luZ0hlaWdodCkgKyBkcmF3aW5nSGVpZ2h0O1xuICAgICAgICB0aGlzLmNhY2hlV2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5jYWNoZUhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5fY2FjaGVDb250ZXh0LnRyYW5zbGF0ZSh0aGlzLmNhY2hlVHJhbnNsYXRpb25YLCB0aGlzLmNhY2hlVHJhbnNsYXRpb25ZKTtcbiAgICAgICAgdGhpcy5fY2FjaGVDb250ZXh0LnNjYWxlKHpvb21YLCB6b29tWSk7XG4gICAgICAgIHRoaXMuem9vbVggPSB6b29tWDtcbiAgICAgICAgdGhpcy56b29tWSA9IHpvb21ZO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyBvYmplY3QncyBwcm9wZXJ0aWVzIGZyb20gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKi9cbiAgICBzZXRPcHRpb25zOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB0aGlzLl9zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgdGhpcy5faW5pdEdyYWRpZW50KG9wdGlvbnMuZmlsbCwgJ2ZpbGwnKTtcbiAgICAgIHRoaXMuX2luaXRHcmFkaWVudChvcHRpb25zLnN0cm9rZSwgJ3N0cm9rZScpO1xuICAgICAgdGhpcy5faW5pdENsaXBwaW5nKG9wdGlvbnMpO1xuICAgICAgdGhpcy5faW5pdFBhdHRlcm4ob3B0aW9ucy5maWxsLCAnZmlsbCcpO1xuICAgICAgdGhpcy5faW5pdFBhdHRlcm4ob3B0aW9ucy5zdHJva2UsICdzdHJva2UnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtcyBjb250ZXh0IHdoZW4gcmVuZGVyaW5nIGFuIG9iamVjdFxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dFxuICAgICAqL1xuICAgIHRyYW5zZm9ybTogZnVuY3Rpb24oY3R4KSB7XG4gICAgICB2YXIgbTtcbiAgICAgIGlmICh0aGlzLmdyb3VwICYmICF0aGlzLmdyb3VwLl90cmFuc2Zvcm1Eb25lKSB7XG4gICAgICAgIG0gPSB0aGlzLmNhbGNUcmFuc2Zvcm1NYXRyaXgoKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBtID0gdGhpcy5jYWxjT3duTWF0cml4KCk7XG4gICAgICB9XG4gICAgICBjdHgudHJhbnNmb3JtKG1bMF0sIG1bMV0sIG1bMl0sIG1bM10sIG1bNF0sIG1bNV0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzVG9JbmNsdWRlXSBBbnkgcHJvcGVydGllcyB0aGF0IHlvdSBtaWdodCB3YW50IHRvIGFkZGl0aW9uYWxseSBpbmNsdWRlIGluIHRoZSBvdXRwdXRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvT2JqZWN0OiBmdW5jdGlvbihwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICB2YXIgTlVNX0ZSQUNUSU9OX0RJR0lUUyA9IGZhYnJpYy5PYmplY3QuTlVNX0ZSQUNUSU9OX0RJR0lUUyxcblxuICAgICAgICAgIG9iamVjdCA9IHtcbiAgICAgICAgICAgIHR5cGU6ICAgICAgICAgICAgICAgICAgICAgdGhpcy50eXBlLFxuICAgICAgICAgICAgdmVyc2lvbjogICAgICAgICAgICAgICAgICBmYWJyaWMudmVyc2lvbixcbiAgICAgICAgICAgIG9yaWdpblg6ICAgICAgICAgICAgICAgICAgdGhpcy5vcmlnaW5YLFxuICAgICAgICAgICAgb3JpZ2luWTogICAgICAgICAgICAgICAgICB0aGlzLm9yaWdpblksXG4gICAgICAgICAgICBsZWZ0OiAgICAgICAgICAgICAgICAgICAgIHRvRml4ZWQodGhpcy5sZWZ0LCBOVU1fRlJBQ1RJT05fRElHSVRTKSxcbiAgICAgICAgICAgIHRvcDogICAgICAgICAgICAgICAgICAgICAgdG9GaXhlZCh0aGlzLnRvcCwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgICAgICB3aWR0aDogICAgICAgICAgICAgICAgICAgIHRvRml4ZWQodGhpcy53aWR0aCwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgICAgICBoZWlnaHQ6ICAgICAgICAgICAgICAgICAgIHRvRml4ZWQodGhpcy5oZWlnaHQsIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICAgICAgZmlsbDogICAgICAgICAgICAgICAgICAgICAodGhpcy5maWxsICYmIHRoaXMuZmlsbC50b09iamVjdCkgPyB0aGlzLmZpbGwudG9PYmplY3QoKSA6IHRoaXMuZmlsbCxcbiAgICAgICAgICAgIHN0cm9rZTogICAgICAgICAgICAgICAgICAgKHRoaXMuc3Ryb2tlICYmIHRoaXMuc3Ryb2tlLnRvT2JqZWN0KSA/IHRoaXMuc3Ryb2tlLnRvT2JqZWN0KCkgOiB0aGlzLnN0cm9rZSxcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAgICAgICAgICAgICAgdG9GaXhlZCh0aGlzLnN0cm9rZVdpZHRoLCBOVU1fRlJBQ1RJT05fRElHSVRTKSxcbiAgICAgICAgICAgIHN0cm9rZURhc2hBcnJheTogICAgICAgICAgdGhpcy5zdHJva2VEYXNoQXJyYXkgPyB0aGlzLnN0cm9rZURhc2hBcnJheS5jb25jYXQoKSA6IHRoaXMuc3Ryb2tlRGFzaEFycmF5LFxuICAgICAgICAgICAgc3Ryb2tlTGluZUNhcDogICAgICAgICAgICB0aGlzLnN0cm9rZUxpbmVDYXAsXG4gICAgICAgICAgICBzdHJva2VEYXNoT2Zmc2V0OiAgICAgICAgIHRoaXMuc3Ryb2tlRGFzaE9mZnNldCxcbiAgICAgICAgICAgIHN0cm9rZUxpbmVKb2luOiAgICAgICAgICAgdGhpcy5zdHJva2VMaW5lSm9pbixcbiAgICAgICAgICAgIHN0cm9rZU1pdGVyTGltaXQ6ICAgICAgICAgdG9GaXhlZCh0aGlzLnN0cm9rZU1pdGVyTGltaXQsIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICAgICAgc2NhbGVYOiAgICAgICAgICAgICAgICAgICB0b0ZpeGVkKHRoaXMuc2NhbGVYLCBOVU1fRlJBQ1RJT05fRElHSVRTKSxcbiAgICAgICAgICAgIHNjYWxlWTogICAgICAgICAgICAgICAgICAgdG9GaXhlZCh0aGlzLnNjYWxlWSwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgICAgICBhbmdsZTogICAgICAgICAgICAgICAgICAgIHRvRml4ZWQodGhpcy5hbmdsZSwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgICAgICBmbGlwWDogICAgICAgICAgICAgICAgICAgIHRoaXMuZmxpcFgsXG4gICAgICAgICAgICBmbGlwWTogICAgICAgICAgICAgICAgICAgIHRoaXMuZmxpcFksXG4gICAgICAgICAgICBvcGFjaXR5OiAgICAgICAgICAgICAgICAgIHRvRml4ZWQodGhpcy5vcGFjaXR5LCBOVU1fRlJBQ1RJT05fRElHSVRTKSxcbiAgICAgICAgICAgIHNoYWRvdzogICAgICAgICAgICAgICAgICAgKHRoaXMuc2hhZG93ICYmIHRoaXMuc2hhZG93LnRvT2JqZWN0KSA/IHRoaXMuc2hhZG93LnRvT2JqZWN0KCkgOiB0aGlzLnNoYWRvdyxcbiAgICAgICAgICAgIHZpc2libGU6ICAgICAgICAgICAgICAgICAgdGhpcy52aXNpYmxlLFxuICAgICAgICAgICAgY2xpcFRvOiAgICAgICAgICAgICAgICAgICB0aGlzLmNsaXBUbyAmJiBTdHJpbmcodGhpcy5jbGlwVG8pLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAgICAgICAgICB0aGlzLmJhY2tncm91bmRDb2xvcixcbiAgICAgICAgICAgIGZpbGxSdWxlOiAgICAgICAgICAgICAgICAgdGhpcy5maWxsUnVsZSxcbiAgICAgICAgICAgIHBhaW50Rmlyc3Q6ICAgICAgICAgICAgICAgdGhpcy5wYWludEZpcnN0LFxuICAgICAgICAgICAgZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uOiB0aGlzLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbixcbiAgICAgICAgICAgIHRyYW5zZm9ybU1hdHJpeDogICAgICAgICAgdGhpcy50cmFuc2Zvcm1NYXRyaXggPyB0aGlzLnRyYW5zZm9ybU1hdHJpeC5jb25jYXQoKSA6IG51bGwsXG4gICAgICAgICAgICBza2V3WDogICAgICAgICAgICAgICAgICAgIHRvRml4ZWQodGhpcy5za2V3WCwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgICAgICBza2V3WTogICAgICAgICAgICAgICAgICAgIHRvRml4ZWQodGhpcy5za2V3WSwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMuY2xpcFBhdGgpIHtcbiAgICAgICAgb2JqZWN0LmNsaXBQYXRoID0gdGhpcy5jbGlwUGF0aC50b09iamVjdChwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICAgICAgb2JqZWN0LmNsaXBQYXRoLmludmVydGVkID0gdGhpcy5jbGlwUGF0aC5pbnZlcnRlZDtcbiAgICAgICAgb2JqZWN0LmNsaXBQYXRoLmFic29sdXRlUG9zaXRpb25lZCA9IHRoaXMuY2xpcFBhdGguYWJzb2x1dGVQb3NpdGlvbmVkO1xuICAgICAgfVxuXG4gICAgICBmYWJyaWMudXRpbC5wb3B1bGF0ZVdpdGhQcm9wZXJ0aWVzKHRoaXMsIG9iamVjdCwgcHJvcGVydGllc1RvSW5jbHVkZSk7XG4gICAgICBpZiAoIXRoaXMuaW5jbHVkZURlZmF1bHRWYWx1ZXMpIHtcbiAgICAgICAgb2JqZWN0ID0gdGhpcy5fcmVtb3ZlRGVmYXVsdFZhbHVlcyhvYmplY3QpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIChkYXRhbGVzcykgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9EYXRhbGVzc09iamVjdDogZnVuY3Rpb24ocHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgLy8gd2lsbCBiZSBvdmVyd3JpdHRlbiBieSBzdWJjbGFzc2VzXG4gICAgICByZXR1cm4gdGhpcy50b09iamVjdChwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gICAgICovXG4gICAgX3JlbW92ZURlZmF1bHRWYWx1ZXM6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgdmFyIHByb3RvdHlwZSA9IGZhYnJpYy51dGlsLmdldEtsYXNzKG9iamVjdC50eXBlKS5wcm90b3R5cGUsXG4gICAgICAgICAgc3RhdGVQcm9wZXJ0aWVzID0gcHJvdG90eXBlLnN0YXRlUHJvcGVydGllcztcbiAgICAgIHN0YXRlUHJvcGVydGllcy5mb3JFYWNoKGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgICAgaWYgKHByb3AgPT09ICdsZWZ0JyB8fCBwcm9wID09PSAndG9wJykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2JqZWN0W3Byb3BdID09PSBwcm90b3R5cGVbcHJvcF0pIHtcbiAgICAgICAgICBkZWxldGUgb2JqZWN0W3Byb3BdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpc0FycmF5ID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iamVjdFtwcm9wXSkgPT09ICdbb2JqZWN0IEFycmF5XScgJiZcbiAgICAgICAgICAgICAgICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocHJvdG90eXBlW3Byb3BdKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcblxuICAgICAgICAvLyBiYXNpY2FsbHkgYSBjaGVjayBmb3IgW10gPT09IFtdXG4gICAgICAgIGlmIChpc0FycmF5ICYmIG9iamVjdFtwcm9wXS5sZW5ndGggPT09IDAgJiYgcHJvdG90eXBlW3Byb3BdLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGRlbGV0ZSBvYmplY3RbcHJvcF07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqL1xuICAgIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAnIzxmYWJyaWMuJyArIGNhcGl0YWxpemUodGhpcy50eXBlKSArICc+JztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBvYmplY3Qgc2NhbGUgZmFjdG9yIGNvdW50aW5nIGFsc28gdGhlIGdyb3VwIHNjYWxpbmdcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9iamVjdCB3aXRoIHNjYWxlWCBhbmQgc2NhbGVZIHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBnZXRPYmplY3RTY2FsaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzY2FsZVggPSB0aGlzLnNjYWxlWCwgc2NhbGVZID0gdGhpcy5zY2FsZVk7XG4gICAgICBpZiAodGhpcy5ncm91cCkge1xuICAgICAgICB2YXIgc2NhbGluZyA9IHRoaXMuZ3JvdXAuZ2V0T2JqZWN0U2NhbGluZygpO1xuICAgICAgICBzY2FsZVggKj0gc2NhbGluZy5zY2FsZVg7XG4gICAgICAgIHNjYWxlWSAqPSBzY2FsaW5nLnNjYWxlWTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IHNjYWxlWDogc2NhbGVYLCBzY2FsZVk6IHNjYWxlWSB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIG9iamVjdCBzY2FsZSBmYWN0b3IgY291bnRpbmcgYWxzbyB0aGUgZ3JvdXAgc2NhbGluZywgem9vbSBhbmQgcmV0aW5hXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3Qgd2l0aCBzY2FsZVggYW5kIHNjYWxlWSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgZ2V0VG90YWxPYmplY3RTY2FsaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzY2FsZSA9IHRoaXMuZ2V0T2JqZWN0U2NhbGluZygpLCBzY2FsZVggPSBzY2FsZS5zY2FsZVgsIHNjYWxlWSA9IHNjYWxlLnNjYWxlWTtcbiAgICAgIGlmICh0aGlzLmNhbnZhcykge1xuICAgICAgICB2YXIgem9vbSA9IHRoaXMuY2FudmFzLmdldFpvb20oKTtcbiAgICAgICAgdmFyIHJldGluYSA9IHRoaXMuY2FudmFzLmdldFJldGluYVNjYWxpbmcoKTtcbiAgICAgICAgc2NhbGVYICo9IHpvb20gKiByZXRpbmE7XG4gICAgICAgIHNjYWxlWSAqPSB6b29tICogcmV0aW5hO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgc2NhbGVYOiBzY2FsZVgsIHNjYWxlWTogc2NhbGVZIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgb2JqZWN0IG9wYWNpdHkgY291bnRpbmcgYWxzbyB0aGUgZ3JvdXAgcHJvcGVydHlcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICovXG4gICAgZ2V0T2JqZWN0T3BhY2l0eTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb3BhY2l0eSA9IHRoaXMub3BhY2l0eTtcbiAgICAgIGlmICh0aGlzLmdyb3VwKSB7XG4gICAgICAgIG9wYWNpdHkgKj0gdGhpcy5ncm91cC5nZXRPYmplY3RPcGFjaXR5KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3BhY2l0eTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICAgKi9cbiAgICBfc2V0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgc2hvdWxkQ29uc3RyYWluVmFsdWUgPSAoa2V5ID09PSAnc2NhbGVYJyB8fCBrZXkgPT09ICdzY2FsZVknKSxcbiAgICAgICAgICBpc0NoYW5nZWQgPSB0aGlzW2tleV0gIT09IHZhbHVlLCBncm91cE5lZWRzVXBkYXRlID0gZmFsc2U7XG5cbiAgICAgIGlmIChzaG91bGRDb25zdHJhaW5WYWx1ZSkge1xuICAgICAgICB2YWx1ZSA9IHRoaXMuX2NvbnN0cmFpblNjYWxlKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGlmIChrZXkgPT09ICdzY2FsZVgnICYmIHZhbHVlIDwgMCkge1xuICAgICAgICB0aGlzLmZsaXBYID0gIXRoaXMuZmxpcFg7XG4gICAgICAgIHZhbHVlICo9IC0xO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoa2V5ID09PSAnc2NhbGVZJyAmJiB2YWx1ZSA8IDApIHtcbiAgICAgICAgdGhpcy5mbGlwWSA9ICF0aGlzLmZsaXBZO1xuICAgICAgICB2YWx1ZSAqPSAtMTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGtleSA9PT0gJ3NoYWRvdycgJiYgdmFsdWUgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIGZhYnJpYy5TaGFkb3cpKSB7XG4gICAgICAgIHZhbHVlID0gbmV3IGZhYnJpYy5TaGFkb3codmFsdWUpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoa2V5ID09PSAnZGlydHknICYmIHRoaXMuZ3JvdXApIHtcbiAgICAgICAgdGhpcy5ncm91cC5zZXQoJ2RpcnR5JywgdmFsdWUpO1xuICAgICAgfVxuXG4gICAgICB0aGlzW2tleV0gPSB2YWx1ZTtcblxuICAgICAgaWYgKGlzQ2hhbmdlZCkge1xuICAgICAgICBncm91cE5lZWRzVXBkYXRlID0gdGhpcy5ncm91cCAmJiB0aGlzLmdyb3VwLmlzT25BQ2FjaGUoKTtcbiAgICAgICAgaWYgKHRoaXMuY2FjaGVQcm9wZXJ0aWVzLmluZGV4T2Yoa2V5KSA+IC0xKSB7XG4gICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgZ3JvdXBOZWVkc1VwZGF0ZSAmJiB0aGlzLmdyb3VwLnNldCgnZGlydHknLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChncm91cE5lZWRzVXBkYXRlICYmIHRoaXMuc3RhdGVQcm9wZXJ0aWVzLmluZGV4T2Yoa2V5KSA+IC0xKSB7XG4gICAgICAgICAgdGhpcy5ncm91cC5zZXQoJ2RpcnR5JywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRoaXMgY2FsbGJhY2sgZnVuY3Rpb24gaXMgY2FsbGVkIGJ5IHRoZSBwYXJlbnQgZ3JvdXAgb2YgYW4gb2JqZWN0IGV2ZXJ5XG4gICAgICogdGltZSBhIG5vbi1kZWxlZ2F0ZWQgcHJvcGVydHkgY2hhbmdlcyBvbiB0aGUgZ3JvdXAuIEl0IGlzIHBhc3NlZCB0aGUga2V5XG4gICAgICogYW5kIHZhbHVlIGFzIHBhcmFtZXRlcnMuIE5vdCBhZGRpbmcgaW4gdGhpcyBmdW5jdGlvbidzIHNpZ25hdHVyZSB0byBhdm9pZFxuICAgICAqIFRyYXZpcyBidWlsZCBlcnJvciBhYm91dCB1bnVzZWQgdmFyaWFibGVzLlxuICAgICAqL1xuICAgIHNldE9uR3JvdXA6IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gaW1wbGVtZW50ZWQgYnkgc3ViLWNsYXNzZXMsIGFzIG5lZWRlZC5cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHZpZXdwb3J0VHJhbnNmb3JtIGZyb20gT2JqZWN0J3MgY2FudmFzIGlmIHBvc3NpYmxlXG4gICAgICogQG1ldGhvZCBnZXRWaWV3cG9ydFRyYW5zZm9ybVxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZVxuICAgICAqIEByZXR1cm4ge0FycmF5fVxuICAgICAqL1xuICAgIGdldFZpZXdwb3J0VHJhbnNmb3JtOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy52aWV3cG9ydFRyYW5zZm9ybSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMudmlld3BvcnRUcmFuc2Zvcm07XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFicmljLmlNYXRyaXguY29uY2F0KCk7XG4gICAgfSxcblxuICAgIC8qXG4gICAgICogQHByaXZhdGVcbiAgICAgKiByZXR1cm4gaWYgdGhlIG9iamVjdCB3b3VsZCBiZSB2aXNpYmxlIGluIHJlbmRlcmluZ1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZVxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgaXNOb3RWaXNpYmxlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wYWNpdHkgPT09IDAgfHxcbiAgICAgICAgKHRoaXMud2lkdGggPT09IDAgJiYgdGhpcy5oZWlnaHQgPT09IDAgJiYgdGhpcy5zdHJva2VXaWR0aCA9PT0gMCkgfHxcbiAgICAgICAgIXRoaXMudmlzaWJsZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVuZGVycyBhbiBvYmplY3Qgb24gYSBzcGVjaWZpZWQgY29udGV4dFxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICByZW5kZXI6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgLy8gZG8gbm90IHJlbmRlciBpZiB3aWR0aC9oZWlnaHQgYXJlIHplcm9zIG9yIG9iamVjdCBpcyBub3QgdmlzaWJsZVxuICAgICAgaWYgKHRoaXMuaXNOb3RWaXNpYmxlKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLnNraXBPZmZzY3JlZW4gJiYgIXRoaXMuZ3JvdXAgJiYgIXRoaXMuaXNPblNjcmVlbigpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICB0aGlzLl9zZXR1cENvbXBvc2l0ZU9wZXJhdGlvbihjdHgpO1xuICAgICAgdGhpcy5kcmF3U2VsZWN0aW9uQmFja2dyb3VuZChjdHgpO1xuICAgICAgdGhpcy50cmFuc2Zvcm0oY3R4KTtcbiAgICAgIHRoaXMuX3NldE9wYWNpdHkoY3R4KTtcbiAgICAgIHRoaXMuX3NldFNoYWRvdyhjdHgsIHRoaXMpO1xuICAgICAgaWYgKHRoaXMudHJhbnNmb3JtTWF0cml4KSB7XG4gICAgICAgIGN0eC50cmFuc2Zvcm0uYXBwbHkoY3R4LCB0aGlzLnRyYW5zZm9ybU1hdHJpeCk7XG4gICAgICB9XG4gICAgICB0aGlzLmNsaXBUbyAmJiBmYWJyaWMudXRpbC5jbGlwQ29udGV4dCh0aGlzLCBjdHgpO1xuICAgICAgaWYgKHRoaXMuc2hvdWxkQ2FjaGUoKSkge1xuICAgICAgICB0aGlzLnJlbmRlckNhY2hlKCk7XG4gICAgICAgIHRoaXMuZHJhd0NhY2hlT25DYW52YXMoY3R4KTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLl9yZW1vdmVDYWNoZUNhbnZhcygpO1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZHJhd09iamVjdChjdHgpO1xuICAgICAgICBpZiAodGhpcy5vYmplY3RDYWNoaW5nICYmIHRoaXMuc3RhdGVmdWxsQ2FjaGUpIHtcbiAgICAgICAgICB0aGlzLnNhdmVTdGF0ZSh7IHByb3BlcnR5U2V0OiAnY2FjaGVQcm9wZXJ0aWVzJyB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5jbGlwVG8gJiYgY3R4LnJlc3RvcmUoKTtcbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfSxcblxuICAgIHJlbmRlckNhY2hlOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgIGlmICghdGhpcy5fY2FjaGVDYW52YXMpIHtcbiAgICAgICAgdGhpcy5fY3JlYXRlQ2FjaGVDYW52YXMoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmlzQ2FjaGVEaXJ0eSgpKSB7XG4gICAgICAgIHRoaXMuc3RhdGVmdWxsQ2FjaGUgJiYgdGhpcy5zYXZlU3RhdGUoeyBwcm9wZXJ0eVNldDogJ2NhY2hlUHJvcGVydGllcycgfSk7XG4gICAgICAgIHRoaXMuZHJhd09iamVjdCh0aGlzLl9jYWNoZUNvbnRleHQsIG9wdGlvbnMuZm9yQ2xpcHBpbmcpO1xuICAgICAgICB0aGlzLmRpcnR5ID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBjYWNoZUNhbnZhcyBhbmQgaXRzIGRpbWVuc2lvbnMgZnJvbSB0aGUgb2JqZWN0c1xuICAgICAqL1xuICAgIF9yZW1vdmVDYWNoZUNhbnZhczogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLl9jYWNoZUNhbnZhcyA9IG51bGw7XG4gICAgICB0aGlzLmNhY2hlV2lkdGggPSAwO1xuICAgICAgdGhpcy5jYWNoZUhlaWdodCA9IDA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJldHVybiB0cnVlIGlmIHRoZSBvYmplY3Qgd2lsbCBkcmF3IGEgc3Ryb2tlXG4gICAgICogRG9lcyBub3QgY29uc2lkZXIgdGV4dCBzdHlsZXMuIFRoaXMgaXMganVzdCBhIHNob3J0Y3V0IHVzZWQgYXQgcmVuZGVyaW5nIHRpbWVcbiAgICAgKiBXZSB3YW50IGl0IHRvIGJlIGFuIGFwcm94aW1hdGlvbiBhbmQgYmUgZmFzdC5cbiAgICAgKiB3cm90ZSB0byBhdm9pZCBleHRyYSBjYWNoaW5nLCBpdCBoYXMgdG8gcmV0dXJuIHRydWUgd2hlbiBzdHJva2UgaGFwcGVucyxcbiAgICAgKiBjYW4gZ3Vlc3Mgd2hlbiBpdCB3aWxsIG5vdCBoYXBwZW4gYXQgMTAwJSBjaGFuY2UsIGRvZXMgbm90IG1hdHRlciBpZiBpdCBtaXNzZXNcbiAgICAgKiBzb21lIHVzZSBjYXNlIHdoZXJlIHRoZSBzdHJva2UgaXMgaW52aXNpYmxlLlxuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEByZXR1cm5zIEJvb2xlYW5cbiAgICAgKi9cbiAgICBoYXNTdHJva2U6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3Ryb2tlICYmIHRoaXMuc3Ryb2tlICE9PSAndHJhbnNwYXJlbnQnICYmIHRoaXMuc3Ryb2tlV2lkdGggIT09IDA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJldHVybiB0cnVlIGlmIHRoZSBvYmplY3Qgd2lsbCBkcmF3IGEgZmlsbFxuICAgICAqIERvZXMgbm90IGNvbnNpZGVyIHRleHQgc3R5bGVzLiBUaGlzIGlzIGp1c3QgYSBzaG9ydGN1dCB1c2VkIGF0IHJlbmRlcmluZyB0aW1lXG4gICAgICogV2Ugd2FudCBpdCB0byBiZSBhbiBhcHJveGltYXRpb24gYW5kIGJlIGZhc3QuXG4gICAgICogd3JvdGUgdG8gYXZvaWQgZXh0cmEgY2FjaGluZywgaXQgaGFzIHRvIHJldHVybiB0cnVlIHdoZW4gZmlsbCBoYXBwZW5zLFxuICAgICAqIGNhbiBndWVzcyB3aGVuIGl0IHdpbGwgbm90IGhhcHBlbiBhdCAxMDAlIGNoYW5jZSwgZG9lcyBub3QgbWF0dGVyIGlmIGl0IG1pc3Nlc1xuICAgICAqIHNvbWUgdXNlIGNhc2Ugd2hlcmUgdGhlIGZpbGwgaXMgaW52aXNpYmxlLlxuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEByZXR1cm5zIEJvb2xlYW5cbiAgICAgKi9cbiAgICBoYXNGaWxsOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbGwgJiYgdGhpcy5maWxsICE9PSAndHJhbnNwYXJlbnQnO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHNldCB0byBgdHJ1ZWAsIGZvcmNlIHRoZSBvYmplY3QgdG8gaGF2ZSBpdHMgb3duIGNhY2hlLCBldmVuIGlmIGl0IGlzIGluc2lkZSBhIGdyb3VwXG4gICAgICogaXQgbWF5IGJlIG5lZWRlZCB3aGVuIHlvdXIgb2JqZWN0IGJlaGF2ZSBpbiBhIHBhcnRpY3VsYXIgd2F5IG9uIHRoZSBjYWNoZSBhbmQgYWx3YXlzIG5lZWRzXG4gICAgICogaXRzIG93biBpc29sYXRlZCBjYW52YXMgdG8gcmVuZGVyIGNvcnJlY3RseS5cbiAgICAgKiBDcmVhdGVkIHRvIGJlIG92ZXJyaWRkZW5cbiAgICAgKiBzaW5jZSAxLjcuMTJcbiAgICAgKiBAcmV0dXJucyBCb29sZWFuXG4gICAgICovXG4gICAgbmVlZHNJdHNPd25DYWNoZTogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5wYWludEZpcnN0ID09PSAnc3Ryb2tlJyAmJlxuICAgICAgICB0aGlzLmhhc0ZpbGwoKSAmJiB0aGlzLmhhc1N0cm9rZSgpICYmIHR5cGVvZiB0aGlzLnNoYWRvdyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5jbGlwUGF0aCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGVjaWRlIGlmIHRoZSBvYmplY3Qgc2hvdWxkIGNhY2hlIG9yIG5vdC4gQ3JlYXRlIGl0cyBvd24gY2FjaGUgbGV2ZWxcbiAgICAgKiBvYmplY3RDYWNoaW5nIGlzIGEgZ2xvYmFsIGZsYWcsIHdpbnMgb3ZlciBldmVyeXRoaW5nXG4gICAgICogbmVlZHNJdHNPd25DYWNoZSBzaG91bGQgYmUgdXNlZCB3aGVuIHRoZSBvYmplY3QgZHJhd2luZyBtZXRob2QgcmVxdWlyZXNcbiAgICAgKiBhIGNhY2hlIHN0ZXAuIE5vbmUgb2YgdGhlIGZhYnJpYyBjbGFzc2VzIHJlcXVpcmVzIGl0LlxuICAgICAqIEdlbmVyYWxseSB5b3UgZG8gbm90IGNhY2hlIG9iamVjdHMgaW4gZ3JvdXBzIGJlY2F1c2UgdGhlIGdyb3VwIG91dHNpZGUgaXMgY2FjaGVkLlxuICAgICAqIFJlYWQgYXM6IGNhY2hlIGlmIGlzIG5lZWRlZCwgb3IgaWYgdGhlIGZlYXR1cmUgaXMgZW5hYmxlZCBidXQgd2UgYXJlIG5vdCBhbHJlYWR5IGNhY2hpbmcuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBzaG91bGRDYWNoZTogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLm93bkNhY2hpbmcgPSB0aGlzLm5lZWRzSXRzT3duQ2FjaGUoKSB8fCAoXG4gICAgICAgIHRoaXMub2JqZWN0Q2FjaGluZyAmJlxuICAgICAgICAoIXRoaXMuZ3JvdXAgfHwgIXRoaXMuZ3JvdXAuaXNPbkFDYWNoZSgpKVxuICAgICAgKTtcbiAgICAgIHJldHVybiB0aGlzLm93bkNhY2hpbmc7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoaXMgb2JqZWN0IG9yIGEgY2hpbGQgb2JqZWN0IHdpbGwgY2FzdCBhIHNoYWRvd1xuICAgICAqIHVzZWQgYnkgR3JvdXAuc2hvdWxkQ2FjaGUgdG8ga25vdyBpZiBjaGlsZCBoYXMgYSBzaGFkb3cgcmVjdXJzaXZlbHlcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIHdpbGxEcmF3U2hhZG93OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAhIXRoaXMuc2hhZG93ICYmICh0aGlzLnNoYWRvdy5vZmZzZXRYICE9PSAwIHx8IHRoaXMuc2hhZG93Lm9mZnNldFkgIT09IDApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlIHRoZSBkcmF3aW5nIG9wZXJhdGlvbiBmb3IgYW4gb2JqZWN0IGNsaXBQYXRoXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIGRyYXdDbGlwUGF0aE9uQ2FjaGU6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgdmFyIHBhdGggPSB0aGlzLmNsaXBQYXRoO1xuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIC8vIERFQlVHOiB1bmNvbW1lbnQgdGhpcyBsaW5lLCBjb21tZW50IHRoZSBmb2xsb3dpbmdcbiAgICAgIC8vIGN0eC5nbG9iYWxBbHBoYSA9IDAuNFxuICAgICAgaWYgKHBhdGguaW52ZXJ0ZWQpIHtcbiAgICAgICAgY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdkZXN0aW5hdGlvbi1vdXQnO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnZGVzdGluYXRpb24taW4nO1xuICAgICAgfVxuICAgICAgLy9jdHguc2NhbGUoMSAvIDIsIDEgLyAyKTtcbiAgICAgIGlmIChwYXRoLmFic29sdXRlUG9zaXRpb25lZCkge1xuICAgICAgICB2YXIgbSA9IGZhYnJpYy51dGlsLmludmVydFRyYW5zZm9ybSh0aGlzLmNhbGNUcmFuc2Zvcm1NYXRyaXgoKSk7XG4gICAgICAgIGN0eC50cmFuc2Zvcm0obVswXSwgbVsxXSwgbVsyXSwgbVszXSwgbVs0XSwgbVs1XSk7XG4gICAgICB9XG4gICAgICBwYXRoLnRyYW5zZm9ybShjdHgpO1xuICAgICAgY3R4LnNjYWxlKDEgLyBwYXRoLnpvb21YLCAxIC8gcGF0aC56b29tWSk7XG4gICAgICBjdHguZHJhd0ltYWdlKHBhdGguX2NhY2hlQ2FudmFzLCAtcGF0aC5jYWNoZVRyYW5zbGF0aW9uWCwgLXBhdGguY2FjaGVUcmFuc2xhdGlvblkpO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZSB0aGUgZHJhd2luZyBvcGVyYXRpb24gZm9yIGFuIG9iamVjdCBvbiBhIHNwZWNpZmllZCBjb250ZXh0XG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIGRyYXdPYmplY3Q6IGZ1bmN0aW9uKGN0eCwgZm9yQ2xpcHBpbmcpIHtcbiAgICAgIHZhciBvcmlnaW5hbEZpbGwgPSB0aGlzLmZpbGwsIG9yaWdpbmFsU3Ryb2tlID0gdGhpcy5zdHJva2U7XG4gICAgICBpZiAoZm9yQ2xpcHBpbmcpIHtcbiAgICAgICAgdGhpcy5maWxsID0gJ2JsYWNrJztcbiAgICAgICAgdGhpcy5zdHJva2UgPSAnJztcbiAgICAgICAgdGhpcy5fc2V0Q2xpcHBpbmdQcm9wZXJ0aWVzKGN0eCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5fcmVuZGVyQmFja2dyb3VuZChjdHgpO1xuICAgICAgICB0aGlzLl9zZXRTdHJva2VTdHlsZXMoY3R4LCB0aGlzKTtcbiAgICAgICAgdGhpcy5fc2V0RmlsbFN0eWxlcyhjdHgsIHRoaXMpO1xuICAgICAgfVxuICAgICAgdGhpcy5fcmVuZGVyKGN0eCk7XG4gICAgICB0aGlzLl9kcmF3Q2xpcFBhdGgoY3R4KTtcbiAgICAgIHRoaXMuZmlsbCA9IG9yaWdpbmFsRmlsbDtcbiAgICAgIHRoaXMuc3Ryb2tlID0gb3JpZ2luYWxTdHJva2U7XG4gICAgfSxcblxuICAgIF9kcmF3Q2xpcFBhdGg6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgdmFyIHBhdGggPSB0aGlzLmNsaXBQYXRoO1xuICAgICAgaWYgKCFwYXRoKSB7IHJldHVybjsgfVxuICAgICAgLy8gbmVlZGVkIHRvIHNldHVwIGEgY291cGxlIG9mIHZhcmlhYmxlc1xuICAgICAgLy8gcGF0aCBjYW52YXMgZ2V0cyBvdmVycmlkZGVuIHdpdGggdGhpcyBvbmUuXG4gICAgICAvLyBUT0RPIGZpbmQgYSBiZXR0ZXIgc29sdXRpb24/XG4gICAgICBwYXRoLmNhbnZhcyA9IHRoaXMuY2FudmFzO1xuICAgICAgcGF0aC5zaG91bGRDYWNoZSgpO1xuICAgICAgcGF0aC5fdHJhbnNmb3JtRG9uZSA9IHRydWU7XG4gICAgICBwYXRoLnJlbmRlckNhY2hlKHsgZm9yQ2xpcHBpbmc6IHRydWUgfSk7XG4gICAgICB0aGlzLmRyYXdDbGlwUGF0aE9uQ2FjaGUoY3R4KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUGFpbnQgdGhlIGNhY2hlZCBjb3B5IG9mIHRoZSBvYmplY3Qgb24gdGhlIHRhcmdldCBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBkcmF3Q2FjaGVPbkNhbnZhczogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBjdHguc2NhbGUoMSAvIHRoaXMuem9vbVgsIDEgLyB0aGlzLnpvb21ZKTtcbiAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5fY2FjaGVDYW52YXMsIC10aGlzLmNhY2hlVHJhbnNsYXRpb25YLCAtdGhpcy5jYWNoZVRyYW5zbGF0aW9uWSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGNhY2hlIGlzIGRpcnR5XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBza2lwQ2FudmFzIHNraXAgY2FudmFzIGNoZWNrcyBiZWNhdXNlIHRoaXMgb2JqZWN0IGlzIHBhaW50ZWRcbiAgICAgKiBvbiBwYXJlbnQgY2FudmFzLlxuICAgICAqL1xuICAgIGlzQ2FjaGVEaXJ0eTogZnVuY3Rpb24oc2tpcENhbnZhcykge1xuICAgICAgaWYgKHRoaXMuaXNOb3RWaXNpYmxlKCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuX2NhY2hlQ2FudmFzICYmICFza2lwQ2FudmFzICYmIHRoaXMuX3VwZGF0ZUNhY2hlQ2FudmFzKCkpIHtcbiAgICAgICAgLy8gaW4gdGhpcyBjYXNlIHRoZSBjb250ZXh0IGlzIGFscmVhZHkgY2xlYXJlZC5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkgfHxcbiAgICAgICAgICAodGhpcy5jbGlwUGF0aCAmJiB0aGlzLmNsaXBQYXRoLmFic29sdXRlUG9zaXRpb25lZCkgfHxcbiAgICAgICAgICAodGhpcy5zdGF0ZWZ1bGxDYWNoZSAmJiB0aGlzLmhhc1N0YXRlQ2hhbmdlZCgnY2FjaGVQcm9wZXJ0aWVzJykpXG4gICAgICAgICkge1xuICAgICAgICAgIGlmICh0aGlzLl9jYWNoZUNhbnZhcyAmJiAhc2tpcENhbnZhcykge1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5jYWNoZVdpZHRoIC8gdGhpcy56b29tWDtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmNhY2hlSGVpZ2h0IC8gdGhpcy56b29tWTtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlQ29udGV4dC5jbGVhclJlY3QoLXdpZHRoIC8gMiwgLWhlaWdodCAvIDIsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIGJhY2tncm91bmQgZm9yIHRoZSBvYmplY3QgYmlnIGFzIGl0cyB1bnRyYW5zZm9ybWVkIGRpbWVuc2lvbnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyQmFja2dyb3VuZDogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBpZiAoIXRoaXMuYmFja2dyb3VuZENvbG9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBkaW0gPSB0aGlzLl9nZXROb25UcmFuc2Zvcm1lZERpbWVuc2lvbnMoKTtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmJhY2tncm91bmRDb2xvcjtcblxuICAgICAgY3R4LmZpbGxSZWN0KFxuICAgICAgICAtZGltLnggLyAyLFxuICAgICAgICAtZGltLnkgLyAyLFxuICAgICAgICBkaW0ueCxcbiAgICAgICAgZGltLnlcbiAgICAgICk7XG4gICAgICAvLyBpZiB0aGVyZSBpcyBiYWNrZ3JvdW5kIGNvbG9yIG5vIG90aGVyIHNoYWRvd3NcbiAgICAgIC8vIHNob3VsZCBiZSBjYXN0ZWRcbiAgICAgIHRoaXMuX3JlbW92ZVNoYWRvdyhjdHgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfc2V0T3BhY2l0eTogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBpZiAodGhpcy5ncm91cCAmJiAhdGhpcy5ncm91cC5fdHJhbnNmb3JtRG9uZSkge1xuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSB0aGlzLmdldE9iamVjdE9wYWNpdHkoKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgKj0gdGhpcy5vcGFjaXR5O1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBfc2V0U3Ryb2tlU3R5bGVzOiBmdW5jdGlvbihjdHgsIGRlY2wpIHtcbiAgICAgIGlmIChkZWNsLnN0cm9rZSkge1xuICAgICAgICBjdHgubGluZVdpZHRoID0gZGVjbC5zdHJva2VXaWR0aDtcbiAgICAgICAgY3R4LmxpbmVDYXAgPSBkZWNsLnN0cm9rZUxpbmVDYXA7XG4gICAgICAgIGN0eC5saW5lRGFzaE9mZnNldCA9IGRlY2wuc3Ryb2tlRGFzaE9mZnNldDtcbiAgICAgICAgY3R4LmxpbmVKb2luID0gZGVjbC5zdHJva2VMaW5lSm9pbjtcbiAgICAgICAgY3R4Lm1pdGVyTGltaXQgPSBkZWNsLnN0cm9rZU1pdGVyTGltaXQ7XG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGRlY2wuc3Ryb2tlLnRvTGl2ZVxuICAgICAgICAgID8gZGVjbC5zdHJva2UudG9MaXZlKGN0eCwgdGhpcylcbiAgICAgICAgICA6IGRlY2wuc3Ryb2tlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBfc2V0RmlsbFN0eWxlczogZnVuY3Rpb24oY3R4LCBkZWNsKSB7XG4gICAgICBpZiAoZGVjbC5maWxsKSB7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBkZWNsLmZpbGwudG9MaXZlXG4gICAgICAgICAgPyBkZWNsLmZpbGwudG9MaXZlKGN0eCwgdGhpcylcbiAgICAgICAgICA6IGRlY2wuZmlsbDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgX3NldENsaXBwaW5nUHJvcGVydGllczogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxO1xuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gJ3RyYW5zcGFyZW50JztcbiAgICAgIGN0eC5maWxsU3R5bGUgPSAnIzAwMDAwMCc7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogU2V0cyBsaW5lIGRhc2hcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gc2V0IHRoZSBkYXNoIGxpbmUgb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBkYXNoQXJyYXkgYXJyYXkgcmVwcmVzZW50aW5nIGRhc2hlc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFsdGVybmF0aXZlIGZ1bmN0aW9uIHRvIGNhbGwgaWYgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IGxpbmVEYXNoXG4gICAgICovXG4gICAgX3NldExpbmVEYXNoOiBmdW5jdGlvbihjdHgsIGRhc2hBcnJheSwgYWx0ZXJuYXRpdmUpIHtcbiAgICAgIGlmICghZGFzaEFycmF5IHx8IGRhc2hBcnJheS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gU3BlYyByZXF1aXJlcyB0aGUgY29uY2F0ZW5hdGlvbiBvZiB0d28gY29waWVzIHRoZSBkYXNoIGxpc3Qgd2hlbiB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGlzIG9kZFxuICAgICAgaWYgKDEgJiBkYXNoQXJyYXkubGVuZ3RoKSB7XG4gICAgICAgIGRhc2hBcnJheS5wdXNoLmFwcGx5KGRhc2hBcnJheSwgZGFzaEFycmF5KTtcbiAgICAgIH1cbiAgICAgIGlmIChzdXBwb3J0c0xpbmVEYXNoKSB7XG4gICAgICAgIGN0eC5zZXRMaW5lRGFzaChkYXNoQXJyYXkpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGFsdGVybmF0aXZlICYmIGFsdGVybmF0aXZlKGN0eCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgY29udHJvbHMgYW5kIGJvcmRlcnMgZm9yIHRoZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdHlsZU92ZXJyaWRlXSBwcm9wZXJ0aWVzIHRvIG92ZXJyaWRlIHRoZSBvYmplY3Qgc3R5bGVcbiAgICAgKi9cbiAgICBfcmVuZGVyQ29udHJvbHM6IGZ1bmN0aW9uKGN0eCwgc3R5bGVPdmVycmlkZSkge1xuICAgICAgdmFyIHZwdCA9IHRoaXMuZ2V0Vmlld3BvcnRUcmFuc2Zvcm0oKSxcbiAgICAgICAgICBtYXRyaXggPSB0aGlzLmNhbGNUcmFuc2Zvcm1NYXRyaXgoKSxcbiAgICAgICAgICBvcHRpb25zLCBkcmF3Qm9yZGVycywgZHJhd0NvbnRyb2xzO1xuICAgICAgc3R5bGVPdmVycmlkZSA9IHN0eWxlT3ZlcnJpZGUgfHwgeyB9O1xuICAgICAgZHJhd0JvcmRlcnMgPSB0eXBlb2Ygc3R5bGVPdmVycmlkZS5oYXNCb3JkZXJzICE9PSAndW5kZWZpbmVkJyA/IHN0eWxlT3ZlcnJpZGUuaGFzQm9yZGVycyA6IHRoaXMuaGFzQm9yZGVycztcbiAgICAgIGRyYXdDb250cm9scyA9IHR5cGVvZiBzdHlsZU92ZXJyaWRlLmhhc0NvbnRyb2xzICE9PSAndW5kZWZpbmVkJyA/IHN0eWxlT3ZlcnJpZGUuaGFzQ29udHJvbHMgOiB0aGlzLmhhc0NvbnRyb2xzO1xuICAgICAgbWF0cml4ID0gZmFicmljLnV0aWwubXVsdGlwbHlUcmFuc2Zvcm1NYXRyaWNlcyh2cHQsIG1hdHJpeCk7XG4gICAgICBvcHRpb25zID0gZmFicmljLnV0aWwucXJEZWNvbXBvc2UobWF0cml4KTtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjdHgudHJhbnNsYXRlKG9wdGlvbnMudHJhbnNsYXRlWCwgb3B0aW9ucy50cmFuc2xhdGVZKTtcbiAgICAgIGN0eC5saW5lV2lkdGggPSAxICogdGhpcy5ib3JkZXJTY2FsZUZhY3RvcjtcbiAgICAgIGlmICghdGhpcy5ncm91cCkge1xuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSB0aGlzLmlzTW92aW5nID8gdGhpcy5ib3JkZXJPcGFjaXR5V2hlbk1vdmluZyA6IDE7XG4gICAgICB9XG4gICAgICBpZiAoc3R5bGVPdmVycmlkZS5mb3JBY3RpdmVTZWxlY3Rpb24pIHtcbiAgICAgICAgY3R4LnJvdGF0ZShkZWdyZWVzVG9SYWRpYW5zKG9wdGlvbnMuYW5nbGUpKTtcbiAgICAgICAgZHJhd0JvcmRlcnMgJiYgdGhpcy5kcmF3Qm9yZGVyc0luR3JvdXAoY3R4LCBvcHRpb25zLCBzdHlsZU92ZXJyaWRlKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBjdHgucm90YXRlKGRlZ3JlZXNUb1JhZGlhbnModGhpcy5hbmdsZSkpO1xuICAgICAgICBkcmF3Qm9yZGVycyAmJiB0aGlzLmRyYXdCb3JkZXJzKGN0eCwgc3R5bGVPdmVycmlkZSk7XG4gICAgICB9XG4gICAgICBkcmF3Q29udHJvbHMgJiYgdGhpcy5kcmF3Q29udHJvbHMoY3R4LCBzdHlsZU92ZXJyaWRlKTtcbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9zZXRTaGFkb3c6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgaWYgKCF0aGlzLnNoYWRvdykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBzaGFkb3cgPSB0aGlzLnNoYWRvdywgY2FudmFzID0gdGhpcy5jYW52YXMsIHNjYWxpbmcsXG4gICAgICAgICAgbXVsdFggPSAoY2FudmFzICYmIGNhbnZhcy52aWV3cG9ydFRyYW5zZm9ybVswXSkgfHwgMSxcbiAgICAgICAgICBtdWx0WSA9IChjYW52YXMgJiYgY2FudmFzLnZpZXdwb3J0VHJhbnNmb3JtWzNdKSB8fCAxO1xuICAgICAgaWYgKHNoYWRvdy5ub25TY2FsaW5nKSB7XG4gICAgICAgIHNjYWxpbmcgPSB7IHNjYWxlWDogMSwgc2NhbGVZOiAxIH07XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc2NhbGluZyA9IHRoaXMuZ2V0T2JqZWN0U2NhbGluZygpO1xuICAgICAgfVxuICAgICAgaWYgKGNhbnZhcyAmJiBjYW52YXMuX2lzUmV0aW5hU2NhbGluZygpKSB7XG4gICAgICAgIG11bHRYICo9IGZhYnJpYy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgICBtdWx0WSAqPSBmYWJyaWMuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgIH1cbiAgICAgIGN0eC5zaGFkb3dDb2xvciA9IHNoYWRvdy5jb2xvcjtcbiAgICAgIGN0eC5zaGFkb3dCbHVyID0gc2hhZG93LmJsdXIgKiBmYWJyaWMuYnJvd3NlclNoYWRvd0JsdXJDb25zdGFudCAqXG4gICAgICAgIChtdWx0WCArIG11bHRZKSAqIChzY2FsaW5nLnNjYWxlWCArIHNjYWxpbmcuc2NhbGVZKSAvIDQ7XG4gICAgICBjdHguc2hhZG93T2Zmc2V0WCA9IHNoYWRvdy5vZmZzZXRYICogbXVsdFggKiBzY2FsaW5nLnNjYWxlWDtcbiAgICAgIGN0eC5zaGFkb3dPZmZzZXRZID0gc2hhZG93Lm9mZnNldFkgKiBtdWx0WSAqIHNjYWxpbmcuc2NhbGVZO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVtb3ZlU2hhZG93OiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGlmICghdGhpcy5zaGFkb3cpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjdHguc2hhZG93Q29sb3IgPSAnJztcbiAgICAgIGN0eC5zaGFkb3dCbHVyID0gY3R4LnNoYWRvd09mZnNldFggPSBjdHguc2hhZG93T2Zmc2V0WSA9IDA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBmaWxsZXIgZmFicmljLlBhdHRlcm4gb3IgZmFicmljLkdyYWRpZW50XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvZmZzZXQub2Zmc2V0WCBvZmZzZXQgZm9yIHRleHQgcmVuZGVyaW5nXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvZmZzZXQub2Zmc2V0WSBvZmZzZXQgZm9yIHRleHQgcmVuZGVyaW5nXG4gICAgICovXG4gICAgX2FwcGx5UGF0dGVybkdyYWRpZW50VHJhbnNmb3JtOiBmdW5jdGlvbihjdHgsIGZpbGxlcikge1xuICAgICAgaWYgKCFmaWxsZXIgfHwgIWZpbGxlci50b0xpdmUpIHtcbiAgICAgICAgcmV0dXJuIHsgb2Zmc2V0WDogMCwgb2Zmc2V0WTogMCB9O1xuICAgICAgfVxuICAgICAgdmFyIHQgPSBmaWxsZXIuZ3JhZGllbnRUcmFuc2Zvcm0gfHwgZmlsbGVyLnBhdHRlcm5UcmFuc2Zvcm07XG4gICAgICB2YXIgb2Zmc2V0WCA9IC10aGlzLndpZHRoIC8gMiArIGZpbGxlci5vZmZzZXRYIHx8IDAsXG4gICAgICAgICAgb2Zmc2V0WSA9IC10aGlzLmhlaWdodCAvIDIgKyBmaWxsZXIub2Zmc2V0WSB8fCAwO1xuXG4gICAgICBpZiAoZmlsbGVyLmdyYWRpZW50VW5pdHMgPT09ICdwZXJjZW50YWdlJykge1xuICAgICAgICBjdHgudHJhbnNmb3JtKHRoaXMud2lkdGgsIDAsIDAsIHRoaXMuaGVpZ2h0LCBvZmZzZXRYLCBvZmZzZXRZKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBjdHgudHJhbnNmb3JtKDEsIDAsIDAsIDEsIG9mZnNldFgsIG9mZnNldFkpO1xuICAgICAgfVxuICAgICAgaWYgKHQpIHtcbiAgICAgICAgY3R4LnRyYW5zZm9ybSh0WzBdLCB0WzFdLCB0WzJdLCB0WzNdLCB0WzRdLCB0WzVdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IG9mZnNldFg6IG9mZnNldFgsIG9mZnNldFk6IG9mZnNldFkgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgX3JlbmRlclBhaW50SW5PcmRlcjogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBpZiAodGhpcy5wYWludEZpcnN0ID09PSAnc3Ryb2tlJykge1xuICAgICAgICB0aGlzLl9yZW5kZXJTdHJva2UoY3R4KTtcbiAgICAgICAgdGhpcy5fcmVuZGVyRmlsbChjdHgpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuX3JlbmRlckZpbGwoY3R4KTtcbiAgICAgICAgdGhpcy5fcmVuZGVyU3Ryb2tlKGN0eCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogZnVuY3Rpb24gdGhhdCBhY3R1YWxseSByZW5kZXIgc29tZXRoaW5nIG9uIHRoZSBjb250ZXh0LlxuICAgICAqIGVtcHR5IGhlcmUgdG8gYWxsb3cgT2JlY3RzIHRvIHdvcmsgb24gdGVzdHMgdG8gYmVuY2htYXJrIGZhYnJpYyBmdW5jdGlvbmFsaXRlc1xuICAgICAqIG5vdCByZWxhdGVkIHRvIHJlbmRlcmluZ1xuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyOiBmdW5jdGlvbigvKiBjdHggKi8pIHtcblxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyRmlsbDogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBpZiAoIXRoaXMuZmlsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICB0aGlzLl9hcHBseVBhdHRlcm5HcmFkaWVudFRyYW5zZm9ybShjdHgsIHRoaXMuZmlsbCk7XG4gICAgICBpZiAodGhpcy5maWxsUnVsZSA9PT0gJ2V2ZW5vZGQnKSB7XG4gICAgICAgIGN0eC5maWxsKCdldmVub2RkJyk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgIH1cbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXJTdHJva2U6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgaWYgKCF0aGlzLnN0cm9rZSB8fCB0aGlzLnN0cm9rZVdpZHRoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc2hhZG93ICYmICF0aGlzLnNoYWRvdy5hZmZlY3RTdHJva2UpIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlU2hhZG93KGN0eCk7XG4gICAgICB9XG5cbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBpZiAodGhpcy5zdHJva2VVbmlmb3JtKSB7XG4gICAgICAgIGN0eC5zY2FsZSgxIC8gdGhpcy5zY2FsZVgsIDEgLyB0aGlzLnNjYWxlWSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9zZXRMaW5lRGFzaChjdHgsIHRoaXMuc3Ryb2tlRGFzaEFycmF5LCB0aGlzLl9yZW5kZXJEYXNoZWRTdHJva2UpO1xuICAgICAgaWYgKHRoaXMuc3Ryb2tlLnRvTGl2ZSAmJiB0aGlzLnN0cm9rZS5ncmFkaWVudFVuaXRzID09PSAncGVyY2VudGFnZScpIHtcbiAgICAgICAgLy8gbmVlZCB0byB0cmFuc2Zvcm0gZ3JhZGllbnQgaW4gYSBwYXR0ZXJuLlxuICAgICAgICAvLyB0aGlzIGlzIGEgc2xvdyBwcm9jZXNzLiBJZiB5b3UgYXJlIGhpdHRpbmcgdGhpcyBjb2RlcGF0aCwgYW5kIHRoZSBvYmplY3RcbiAgICAgICAgLy8gaXMgbm90IHVzaW5nIGNhY2hpbmcsIHlvdSBzaG91bGQgY29uc2lkZXIgc3dpdGNoaW5nIGl0IG9uLlxuICAgICAgICAvLyB3ZSBuZWVkIGEgY2FudmFzIGFzIGJpZyBhcyB0aGUgY3VycmVudCBvYmplY3QgY2FjaGluZyBjYW52YXMuXG4gICAgICAgIHRoaXMuX2FwcGx5UGF0dGVybkZvclRyYW5zZm9ybWVkR3JhZGllbnQoY3R4LCB0aGlzLnN0cm9rZSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5fYXBwbHlQYXR0ZXJuR3JhZGllbnRUcmFuc2Zvcm0oY3R4LCB0aGlzLnN0cm9rZSk7XG4gICAgICB9XG4gICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHRyeSB0byBwYXRjaCB0aGUgbWlzc2luZyBncmFkaWVudFRyYW5zZm9ybSBvbiBjYW52YXMgZ3JhZGllbnRzLlxuICAgICAqIHRyYW5zZm9ybWluZyBhIGNvbnRleHQgdG8gdHJhbnNmb3JtIHRoZSBncmFkaWVudCwgaXMgZ29pbmcgdG8gdHJhbnNmb3JtIHRoZSBzdHJva2UgdG9vLlxuICAgICAqIHdlIHdhbnQgdG8gdHJhbnNmb3JtIHRoZSBncmFkaWVudCBidXQgbm90IHRoZSBzdHJva2Ugb3BlcmF0aW9uLCBzbyB3ZSBjcmVhdGVcbiAgICAgKiBhIHRyYW5zZm9ybWVkIGdyYWRpZW50IG9uIGEgcGF0dGVybiBhbmQgdGhlbiB3ZSB1c2UgdGhlIHBhdHRlcm4gaW5zdGVhZCBvZiB0aGUgZ3JhZGllbnQuXG4gICAgICogdGhpcyBtZXRob2QgaGFzIGRyd2FiYWNrczogaXMgc2xvdywgaXMgaW4gbG93IHJlc29sdXRpb24sIG5lZWRzIGEgcGF0Y2ggZm9yIHdoZW4gdGhlIHNpemVcbiAgICAgKiBpcyBsaW1pdGVkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqIEBwYXJhbSB7ZmFicmljLkdyYWRpZW50fSBmaWxsZXIgYSBmYWJyaWMgZ3JhZGllbnQgaW5zdGFuY2VcbiAgICAgKi9cbiAgICBfYXBwbHlQYXR0ZXJuRm9yVHJhbnNmb3JtZWRHcmFkaWVudDogZnVuY3Rpb24oY3R4LCBmaWxsZXIpIHtcbiAgICAgIHZhciBkaW1zID0gdGhpcy5fbGltaXRDYWNoZVNpemUodGhpcy5fZ2V0Q2FjaGVDYW52YXNEaW1lbnNpb25zKCkpLFxuICAgICAgICAgIHBDYW52YXMgPSBmYWJyaWMudXRpbC5jcmVhdGVDYW52YXNFbGVtZW50KCksIHBDdHgsIHJldGluYVNjYWxpbmcgPSB0aGlzLmNhbnZhcy5nZXRSZXRpbmFTY2FsaW5nKCksXG4gICAgICAgICAgd2lkdGggPSBkaW1zLnggLyB0aGlzLnNjYWxlWCAvIHJldGluYVNjYWxpbmcsIGhlaWdodCA9IGRpbXMueSAvIHRoaXMuc2NhbGVZIC8gcmV0aW5hU2NhbGluZztcbiAgICAgIHBDYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICAgIHBDYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgcEN0eCA9IHBDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgIHBDdHguYmVnaW5QYXRoKCk7IHBDdHgubW92ZVRvKDAsIDApOyBwQ3R4LmxpbmVUbyh3aWR0aCwgMCk7IHBDdHgubGluZVRvKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgcEN0eC5saW5lVG8oMCwgaGVpZ2h0KTsgcEN0eC5jbG9zZVBhdGgoKTtcbiAgICAgIHBDdHgudHJhbnNsYXRlKHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAgICBwQ3R4LnNjYWxlKFxuICAgICAgICBkaW1zLnpvb21YIC8gdGhpcy5zY2FsZVggLyByZXRpbmFTY2FsaW5nLFxuICAgICAgICBkaW1zLnpvb21ZIC8gdGhpcy5zY2FsZVkgLyByZXRpbmFTY2FsaW5nXG4gICAgICApO1xuICAgICAgdGhpcy5fYXBwbHlQYXR0ZXJuR3JhZGllbnRUcmFuc2Zvcm0ocEN0eCwgZmlsbGVyKTtcbiAgICAgIHBDdHguZmlsbFN0eWxlID0gZmlsbGVyLnRvTGl2ZShjdHgpO1xuICAgICAgcEN0eC5maWxsKCk7XG4gICAgICBjdHgudHJhbnNsYXRlKC10aGlzLndpZHRoIC8gMiAtIHRoaXMuc3Ryb2tlV2lkdGggLyAyLCAtdGhpcy5oZWlnaHQgLyAyIC0gdGhpcy5zdHJva2VXaWR0aCAvIDIpO1xuICAgICAgY3R4LnNjYWxlKFxuICAgICAgICByZXRpbmFTY2FsaW5nICogdGhpcy5zY2FsZVggLyBkaW1zLnpvb21YLFxuICAgICAgICByZXRpbmFTY2FsaW5nICogdGhpcy5zY2FsZVkgLyBkaW1zLnpvb21ZXG4gICAgICApO1xuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gcEN0eC5jcmVhdGVQYXR0ZXJuKHBDYW52YXMsICduby1yZXBlYXQnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBhbiBoZWxwZXIgZm9yIHN2ZyBpbXBvcnQuIGl0IHJldHVybnMgdGhlIGNlbnRlciBvZiB0aGUgb2JqZWN0IGluIHRoZSBzdmdcbiAgICAgKiB1bnRyYW5zZm9ybWVkIGNvb3JkaW5hdGVzXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IGNlbnRlciBwb2ludCBmcm9tIGVsZW1lbnQgY29vcmRpbmF0ZXNcbiAgICAgKi9cbiAgICBfZmluZENlbnRlckZyb21FbGVtZW50OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB7IHg6IHRoaXMubGVmdCArIHRoaXMud2lkdGggLyAyLCB5OiB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0IC8gMiB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGFuIGhlbHBlciBmb3Igc3ZnIGltcG9ydC4gaXQgZGVjb21wb3NlIHRoZSB0cmFuc2Zvcm1NYXRyaXhcbiAgICAgKiBhbmQgYXNzaWduIHByb3BlcnRpZXMgdG8gb2JqZWN0LlxuICAgICAqIHVudHJhbnNmb3JtZWQgY29vcmRpbmF0ZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBfYXNzaWduVHJhbnNmb3JtTWF0cml4UHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMudHJhbnNmb3JtTWF0cml4KSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gZmFicmljLnV0aWwucXJEZWNvbXBvc2UodGhpcy50cmFuc2Zvcm1NYXRyaXgpO1xuICAgICAgICB0aGlzLmZsaXBYID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZmxpcFkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zZXQoJ3NjYWxlWCcsIG9wdGlvbnMuc2NhbGVYKTtcbiAgICAgICAgdGhpcy5zZXQoJ3NjYWxlWScsIG9wdGlvbnMuc2NhbGVZKTtcbiAgICAgICAgdGhpcy5hbmdsZSA9IG9wdGlvbnMuYW5nbGU7XG4gICAgICAgIHRoaXMuc2tld1ggPSBvcHRpb25zLnNrZXdYO1xuICAgICAgICB0aGlzLnNrZXdZID0gMDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBhbiBoZWxwZXIgZm9yIHN2ZyBpbXBvcnQuIGl0IHJlbW92ZXMgdGhlIHRyYW5zZm9ybSBtYXRyaXhcbiAgICAgKiBhbmQgc2V0IHRvIG9iamVjdCBwcm9wZXJ0aWVzIHRoYXQgZmFicmljanMgY2FuIGhhbmRsZVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByZXNlcnZlQXNwZWN0UmF0aW9PcHRpb25zXG4gICAgICogQHJldHVybiB7dGhpc0FyZ31cbiAgICAgKi9cbiAgICBfcmVtb3ZlVHJhbnNmb3JtTWF0cml4OiBmdW5jdGlvbihwcmVzZXJ2ZUFzcGVjdFJhdGlvT3B0aW9ucykge1xuICAgICAgdmFyIGNlbnRlciA9IHRoaXMuX2ZpbmRDZW50ZXJGcm9tRWxlbWVudCgpO1xuICAgICAgaWYgKHRoaXMudHJhbnNmb3JtTWF0cml4KSB7XG4gICAgICAgIHRoaXMuX2Fzc2lnblRyYW5zZm9ybU1hdHJpeFByb3BzKCk7XG4gICAgICAgIGNlbnRlciA9IGZhYnJpYy51dGlsLnRyYW5zZm9ybVBvaW50KGNlbnRlciwgdGhpcy50cmFuc2Zvcm1NYXRyaXgpO1xuICAgICAgfVxuICAgICAgdGhpcy50cmFuc2Zvcm1NYXRyaXggPSBudWxsO1xuICAgICAgaWYgKHByZXNlcnZlQXNwZWN0UmF0aW9PcHRpb25zKSB7XG4gICAgICAgIHRoaXMuc2NhbGVYICo9IHByZXNlcnZlQXNwZWN0UmF0aW9PcHRpb25zLnNjYWxlWDtcbiAgICAgICAgdGhpcy5zY2FsZVkgKj0gcHJlc2VydmVBc3BlY3RSYXRpb09wdGlvbnMuc2NhbGVZO1xuICAgICAgICB0aGlzLmNyb3BYID0gcHJlc2VydmVBc3BlY3RSYXRpb09wdGlvbnMuY3JvcFg7XG4gICAgICAgIHRoaXMuY3JvcFkgPSBwcmVzZXJ2ZUFzcGVjdFJhdGlvT3B0aW9ucy5jcm9wWTtcbiAgICAgICAgY2VudGVyLnggKz0gcHJlc2VydmVBc3BlY3RSYXRpb09wdGlvbnMub2Zmc2V0TGVmdDtcbiAgICAgICAgY2VudGVyLnkgKz0gcHJlc2VydmVBc3BlY3RSYXRpb09wdGlvbnMub2Zmc2V0VG9wO1xuICAgICAgICB0aGlzLndpZHRoID0gcHJlc2VydmVBc3BlY3RSYXRpb09wdGlvbnMud2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gcHJlc2VydmVBc3BlY3RSYXRpb09wdGlvbnMuaGVpZ2h0O1xuICAgICAgfVxuICAgICAgdGhpcy5zZXRQb3NpdGlvbkJ5T3JpZ2luKGNlbnRlciwgJ2NlbnRlcicsICdjZW50ZXInKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xvbmVzIGFuIGluc3RhbmNlLCB1c2luZyBhIGNhbGxiYWNrIG1ldGhvZCB3aWxsIHdvcmsgZm9yIGV2ZXJ5IG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsYmFjayBpcyBpbnZva2VkIHdpdGggYSBjbG9uZSBhcyBhIGZpcnN0IGFyZ3VtZW50XG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqL1xuICAgIGNsb25lOiBmdW5jdGlvbihjYWxsYmFjaywgcHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgdmFyIG9iamVjdEZvcm0gPSB0aGlzLnRvT2JqZWN0KHByb3BlcnRpZXNUb0luY2x1ZGUpO1xuICAgICAgaWYgKHRoaXMuY29uc3RydWN0b3IuZnJvbU9iamVjdCkge1xuICAgICAgICB0aGlzLmNvbnN0cnVjdG9yLmZyb21PYmplY3Qob2JqZWN0Rm9ybSwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGZhYnJpYy5PYmplY3QuX2Zyb21PYmplY3QoJ09iamVjdCcsIG9iamVjdEZvcm0sIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2Ugb3V0IG9mIGFuIG9iamVjdFxuICAgICAqIGNvdWxkIG1ha2UgdXNlIG9mIGJvdGggdG9EYXRhVXJsIG9yIHRvQ2FudmFzRWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBjYWxsYmFjaywgaW52b2tlZCB3aXRoIGFuIGluc3RhbmNlIGFzIGEgZmlyc3QgYXJndW1lbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIGZvciBjbG9uZSBhcyBpbWFnZSwgcGFzc2VkIHRvIHRvRGF0YVVSTFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5mb3JtYXQ9cG5nXSBUaGUgZm9ybWF0IG9mIHRoZSBvdXRwdXQgaW1hZ2UuIEVpdGhlciBcImpwZWdcIiBvciBcInBuZ1wiXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnF1YWxpdHk9MV0gUXVhbGl0eSBsZXZlbCAoMC4uMSkuIE9ubHkgdXNlZCBmb3IganBlZy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubXVsdGlwbGllcj0xXSBNdWx0aXBsaWVyIHRvIHNjYWxlIGJ5XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmxlZnRdIENyb3BwaW5nIGxlZnQgb2Zmc2V0LiBJbnRyb2R1Y2VkIGluIHYxLjIuMTRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMudG9wXSBDcm9wcGluZyB0b3Agb2Zmc2V0LiBJbnRyb2R1Y2VkIGluIHYxLjIuMTRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMud2lkdGhdIENyb3BwaW5nIHdpZHRoLiBJbnRyb2R1Y2VkIGluIHYxLjIuMTRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSBDcm9wcGluZyBoZWlnaHQuIEludHJvZHVjZWQgaW4gdjEuMi4xNFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuZW5hYmxlUmV0aW5hU2NhbGluZ10gRW5hYmxlIHJldGluYSBzY2FsaW5nIGZvciBjbG9uZSBpbWFnZS4gSW50cm9kdWNlIGluIDEuNi40XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy53aXRob3V0VHJhbnNmb3JtXSBSZW1vdmUgY3VycmVudCBvYmplY3QgdHJhbnNmb3JtICggbm8gc2NhbGUgLCBubyBhbmdsZSwgbm8gZmxpcCwgbm8gc2tldyApLiBJbnRyb2R1Y2VkIGluIDIuMy40XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy53aXRob3V0U2hhZG93XSBSZW1vdmUgY3VycmVudCBvYmplY3Qgc2hhZG93LiBJbnRyb2R1Y2VkIGluIDIuNC4yXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGNsb25lQXNJbWFnZTogZnVuY3Rpb24oY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICAgIHZhciBjYW52YXNFbCA9IHRoaXMudG9DYW52YXNFbGVtZW50KG9wdGlvbnMpO1xuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKG5ldyBmYWJyaWMuSW1hZ2UoY2FudmFzRWwpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhbiBvYmplY3QgaW50byBhIEhUTUxDYW52YXMgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm11bHRpcGxpZXI9MV0gTXVsdGlwbGllciB0byBzY2FsZSBieVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5sZWZ0XSBDcm9wcGluZyBsZWZ0IG9mZnNldC4gSW50cm9kdWNlZCBpbiB2MS4yLjE0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnRvcF0gQ3JvcHBpbmcgdG9wIG9mZnNldC4gSW50cm9kdWNlZCBpbiB2MS4yLjE0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLndpZHRoXSBDcm9wcGluZyB3aWR0aC4gSW50cm9kdWNlZCBpbiB2MS4yLjE0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmhlaWdodF0gQ3JvcHBpbmcgaGVpZ2h0LiBJbnRyb2R1Y2VkIGluIHYxLjIuMTRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmVuYWJsZVJldGluYVNjYWxpbmddIEVuYWJsZSByZXRpbmEgc2NhbGluZyBmb3IgY2xvbmUgaW1hZ2UuIEludHJvZHVjZSBpbiAxLjYuNFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMud2l0aG91dFRyYW5zZm9ybV0gUmVtb3ZlIGN1cnJlbnQgb2JqZWN0IHRyYW5zZm9ybSAoIG5vIHNjYWxlICwgbm8gYW5nbGUsIG5vIGZsaXAsIG5vIHNrZXcgKS4gSW50cm9kdWNlZCBpbiAyLjMuNFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMud2l0aG91dFNoYWRvd10gUmVtb3ZlIGN1cnJlbnQgb2JqZWN0IHNoYWRvdy4gSW50cm9kdWNlZCBpbiAyLjQuMlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gUmV0dXJucyBhIGRhdGE6IFVSTCBjb250YWluaW5nIGEgcmVwcmVzZW50YXRpb24gb2YgdGhlIG9iamVjdCBpbiB0aGUgZm9ybWF0IHNwZWNpZmllZCBieSBvcHRpb25zLmZvcm1hdFxuICAgICAqL1xuICAgIHRvQ2FudmFzRWxlbWVudDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHsgfSk7XG5cbiAgICAgIHZhciB1dGlscyA9IGZhYnJpYy51dGlsLCBvcmlnUGFyYW1zID0gdXRpbHMuc2F2ZU9iamVjdFRyYW5zZm9ybSh0aGlzKSxcbiAgICAgICAgICBvcmlnaW5hbEdyb3VwID0gdGhpcy5ncm91cCxcbiAgICAgICAgICBvcmlnaW5hbFNoYWRvdyA9IHRoaXMuc2hhZG93LCBhYnMgPSBNYXRoLmFicyxcbiAgICAgICAgICBtdWx0aXBsaWVyID0gKG9wdGlvbnMubXVsdGlwbGllciB8fCAxKSAqIChvcHRpb25zLmVuYWJsZVJldGluYVNjYWxpbmcgPyBmYWJyaWMuZGV2aWNlUGl4ZWxSYXRpbyA6IDEpO1xuICAgICAgZGVsZXRlIHRoaXMuZ3JvdXA7XG4gICAgICBpZiAob3B0aW9ucy53aXRob3V0VHJhbnNmb3JtKSB7XG4gICAgICAgIHV0aWxzLnJlc2V0T2JqZWN0VHJhbnNmb3JtKHRoaXMpO1xuICAgICAgfVxuICAgICAgaWYgKG9wdGlvbnMud2l0aG91dFNoYWRvdykge1xuICAgICAgICB0aGlzLnNoYWRvdyA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciBlbCA9IGZhYnJpYy51dGlsLmNyZWF0ZUNhbnZhc0VsZW1lbnQoKSxcbiAgICAgICAgICAvLyBza2lwIGNhbnZhcyB6b29tIGFuZCBjYWxjdWxhdGUgd2l0aCBzZXRDb29yZHMgbm93LlxuICAgICAgICAgIGJvdW5kaW5nUmVjdCA9IHRoaXMuZ2V0Qm91bmRpbmdSZWN0KHRydWUsIHRydWUpLFxuICAgICAgICAgIHNoYWRvdyA9IHRoaXMuc2hhZG93LCBzY2FsaW5nLFxuICAgICAgICAgIHNoYWRvd09mZnNldCA9IHsgeDogMCwgeTogMCB9LCBzaGFkb3dCbHVyLFxuICAgICAgICAgIHdpZHRoLCBoZWlnaHQ7XG5cbiAgICAgIGlmIChzaGFkb3cpIHtcbiAgICAgICAgc2hhZG93Qmx1ciA9IHNoYWRvdy5ibHVyO1xuICAgICAgICBpZiAoc2hhZG93Lm5vblNjYWxpbmcpIHtcbiAgICAgICAgICBzY2FsaW5nID0geyBzY2FsZVg6IDEsIHNjYWxlWTogMSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHNjYWxpbmcgPSB0aGlzLmdldE9iamVjdFNjYWxpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb25zaWRlciBub24gc2NhbGluZyBzaGFkb3cuXG4gICAgICAgIHNoYWRvd09mZnNldC54ID0gMiAqIE1hdGgucm91bmQoYWJzKHNoYWRvdy5vZmZzZXRYKSArIHNoYWRvd0JsdXIpICogKGFicyhzY2FsaW5nLnNjYWxlWCkpO1xuICAgICAgICBzaGFkb3dPZmZzZXQueSA9IDIgKiBNYXRoLnJvdW5kKGFicyhzaGFkb3cub2Zmc2V0WSkgKyBzaGFkb3dCbHVyKSAqIChhYnMoc2NhbGluZy5zY2FsZVkpKTtcbiAgICAgIH1cbiAgICAgIHdpZHRoID0gYm91bmRpbmdSZWN0LndpZHRoICsgc2hhZG93T2Zmc2V0Lng7XG4gICAgICBoZWlnaHQgPSBib3VuZGluZ1JlY3QuaGVpZ2h0ICsgc2hhZG93T2Zmc2V0Lnk7XG4gICAgICAvLyBpZiB0aGUgY3VycmVudCB3aWR0aC9oZWlnaHQgaXMgbm90IGFuIGludGVnZXJcbiAgICAgIC8vIHdlIG5lZWQgdG8gbWFrZSBpdCBzby5cbiAgICAgIGVsLndpZHRoID0gTWF0aC5jZWlsKHdpZHRoKTtcbiAgICAgIGVsLmhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQpO1xuICAgICAgdmFyIGNhbnZhcyA9IG5ldyBmYWJyaWMuU3RhdGljQ2FudmFzKGVsLCB7XG4gICAgICAgIGVuYWJsZVJldGluYVNjYWxpbmc6IGZhbHNlLFxuICAgICAgICByZW5kZXJPbkFkZFJlbW92ZTogZmFsc2UsXG4gICAgICAgIHNraXBPZmZzY3JlZW46IGZhbHNlLFxuICAgICAgfSk7XG4gICAgICBpZiAob3B0aW9ucy5mb3JtYXQgPT09ICdqcGVnJykge1xuICAgICAgICBjYW52YXMuYmFja2dyb3VuZENvbG9yID0gJyNmZmYnO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXRQb3NpdGlvbkJ5T3JpZ2luKG5ldyBmYWJyaWMuUG9pbnQoY2FudmFzLndpZHRoIC8gMiwgY2FudmFzLmhlaWdodCAvIDIpLCAnY2VudGVyJywgJ2NlbnRlcicpO1xuXG4gICAgICB2YXIgb3JpZ2luYWxDYW52YXMgPSB0aGlzLmNhbnZhcztcbiAgICAgIGNhbnZhcy5hZGQodGhpcyk7XG4gICAgICB2YXIgY2FudmFzRWwgPSBjYW52YXMudG9DYW52YXNFbGVtZW50KG11bHRpcGxpZXIgfHwgMSwgb3B0aW9ucyk7XG4gICAgICB0aGlzLnNoYWRvdyA9IG9yaWdpbmFsU2hhZG93O1xuICAgICAgdGhpcy5jYW52YXMgPSBvcmlnaW5hbENhbnZhcztcbiAgICAgIGlmIChvcmlnaW5hbEdyb3VwKSB7XG4gICAgICAgIHRoaXMuZ3JvdXAgPSBvcmlnaW5hbEdyb3VwO1xuICAgICAgfVxuICAgICAgdGhpcy5zZXQob3JpZ1BhcmFtcykuc2V0Q29vcmRzKCk7XG4gICAgICAvLyBjYW52YXMuZGlzcG9zZSB3aWxsIGNhbGwgaW1hZ2UuZGlzcG9zZSB0aGF0IHdpbGwgbnVsbGlmeSB0aGUgZWxlbWVudHNcbiAgICAgIC8vIHNpbmNlIHRoaXMgY2FudmFzIGlzIGEgc2ltcGxlIGVsZW1lbnQgZm9yIHRoZSBwcm9jZXNzLCB3ZSByZW1vdmUgcmVmZXJlbmNlc1xuICAgICAgLy8gdG8gb2JqZWN0cyBpbiB0aGlzIHdheSBpbiBvcmRlciB0byBhdm9pZCBvYmplY3QgdHJhc2hpbmcuXG4gICAgICBjYW52YXMuX29iamVjdHMgPSBbXTtcbiAgICAgIGNhbnZhcy5kaXNwb3NlKCk7XG4gICAgICBjYW52YXMgPSBudWxsO1xuXG4gICAgICByZXR1cm4gY2FudmFzRWw7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGFuIG9iamVjdCBpbnRvIGEgZGF0YS11cmwtbGlrZSBzdHJpbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbb3B0aW9ucy5mb3JtYXQ9cG5nXSBUaGUgZm9ybWF0IG9mIHRoZSBvdXRwdXQgaW1hZ2UuIEVpdGhlciBcImpwZWdcIiBvciBcInBuZ1wiXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnF1YWxpdHk9MV0gUXVhbGl0eSBsZXZlbCAoMC4uMSkuIE9ubHkgdXNlZCBmb3IganBlZy5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMubXVsdGlwbGllcj0xXSBNdWx0aXBsaWVyIHRvIHNjYWxlIGJ5XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmxlZnRdIENyb3BwaW5nIGxlZnQgb2Zmc2V0LiBJbnRyb2R1Y2VkIGluIHYxLjIuMTRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMudG9wXSBDcm9wcGluZyB0b3Agb2Zmc2V0LiBJbnRyb2R1Y2VkIGluIHYxLjIuMTRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMud2lkdGhdIENyb3BwaW5nIHdpZHRoLiBJbnRyb2R1Y2VkIGluIHYxLjIuMTRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuaGVpZ2h0XSBDcm9wcGluZyBoZWlnaHQuIEludHJvZHVjZWQgaW4gdjEuMi4xNFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuZW5hYmxlUmV0aW5hU2NhbGluZ10gRW5hYmxlIHJldGluYSBzY2FsaW5nIGZvciBjbG9uZSBpbWFnZS4gSW50cm9kdWNlIGluIDEuNi40XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy53aXRob3V0VHJhbnNmb3JtXSBSZW1vdmUgY3VycmVudCBvYmplY3QgdHJhbnNmb3JtICggbm8gc2NhbGUgLCBubyBhbmdsZSwgbm8gZmxpcCwgbm8gc2tldyApLiBJbnRyb2R1Y2VkIGluIDIuMy40XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy53aXRob3V0U2hhZG93XSBSZW1vdmUgY3VycmVudCBvYmplY3Qgc2hhZG93LiBJbnRyb2R1Y2VkIGluIDIuNC4yXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBSZXR1cm5zIGEgZGF0YTogVVJMIGNvbnRhaW5pbmcgYSByZXByZXNlbnRhdGlvbiBvZiB0aGUgb2JqZWN0IGluIHRoZSBmb3JtYXQgc3BlY2lmaWVkIGJ5IG9wdGlvbnMuZm9ybWF0XG4gICAgICovXG4gICAgdG9EYXRhVVJMOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0geyB9KTtcbiAgICAgIHJldHVybiBmYWJyaWMudXRpbC50b0RhdGFVUkwodGhpcy50b0NhbnZhc0VsZW1lbnQob3B0aW9ucyksIG9wdGlvbnMuZm9ybWF0IHx8ICdwbmcnLCBvcHRpb25zLnF1YWxpdHkgfHwgMSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBzcGVjaWZpZWQgdHlwZSBpcyBpZGVudGljYWwgdG8gdGhlIHR5cGUgb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUeXBlIHRvIGNoZWNrIGFnYWluc3RcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGlzVHlwZTogZnVuY3Rpb24odHlwZSkge1xuICAgICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gdHlwZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBjb21wbGV4aXR5IG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBjb21wbGV4aXR5IG9mIHRoaXMgaW5zdGFuY2UgKGlzIDEgdW5sZXNzIHN1YmNsYXNzZWQpXG4gICAgICovXG4gICAgY29tcGxleGl0eTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcGVydGllc1RvSW5jbHVkZV0gQW55IHByb3BlcnRpZXMgdGhhdCB5b3UgbWlnaHQgd2FudCB0byBhZGRpdGlvbmFsbHkgaW5jbHVkZSBpbiB0aGUgb3V0cHV0XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBKU09OXG4gICAgICovXG4gICAgdG9KU09OOiBmdW5jdGlvbihwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICAvLyBkZWxlZ2F0ZSwgbm90IGFsaWFzXG4gICAgICByZXR1cm4gdGhpcy50b09iamVjdChwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyBncmFkaWVudCAoZmlsbCBvciBzdHJva2UpIG9mIGFuIG9iamVjdFxuICAgICAqIHBlcmNlbnRhZ2VzIGZvciB4MSx4Mix5MSx5MixyMSxyMiB0b2dldGhlciB3aXRoIGdyYWRpZW50VW5pdHMgJ3BpeGVscycsIGFyZSBub3Qgc3VwcG9ydGVkLlxuICAgICAqIDxiPkJhY2t3YXJkcyBpbmNvbXBhdGliaWxpdHkgbm90ZTo8L2I+IFRoaXMgbWV0aG9kIHdhcyBuYW1lZCBcInNldEdyYWRpZW50RmlsbFwiIHVudGlsIHYxLjEuMFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eSBQcm9wZXJ0eSBuYW1lICdzdHJva2UnIG9yICdmaWxsJ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMudHlwZV0gVHlwZSBvZiBncmFkaWVudCAncmFkaWFsJyBvciAnbGluZWFyJ1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy54MT0wXSB4LWNvb3JkaW5hdGUgb2Ygc3RhcnQgcG9pbnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMueTE9MF0geS1jb29yZGluYXRlIG9mIHN0YXJ0IHBvaW50XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLngyPTBdIHgtY29vcmRpbmF0ZSBvZiBlbmQgcG9pbnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMueTI9MF0geS1jb29yZGluYXRlIG9mIGVuZCBwb2ludFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5yMT0wXSBSYWRpdXMgb2Ygc3RhcnQgcG9pbnQgKG9ubHkgZm9yIHJhZGlhbCBncmFkaWVudHMpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLnIyPTBdIFJhZGl1cyBvZiBlbmQgcG9pbnQgKG9ubHkgZm9yIHJhZGlhbCBncmFkaWVudHMpXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmNvbG9yU3RvcHNdIENvbG9yIHN0b3BzIG9iamVjdCBlZy4gezA6ICdmZjAwMDAnLCAxOiAnMDAwMDAwJ31cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuZ3JhZGllbnRUcmFuc2Zvcm1dIHRyYW5zZm9ybU1hdHJpeCBmb3IgZ3JhZGllbnRcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDMuNC4wXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cDovL2pzZmlkZGxlLm5ldC9mYWJyaWNqcy81OHk4Yi98anNGaWRkbGUgZGVtb31cbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5TZXQgbGluZWFyIGdyYWRpZW50PC9jYXB0aW9uPlxuICAgICAqIG9iamVjdC5zZXRHcmFkaWVudCgnZmlsbCcsIHtcbiAgICAgKiAgIHR5cGU6ICdsaW5lYXInLFxuICAgICAqICAgeDE6IC1vYmplY3Qud2lkdGggLyAyLFxuICAgICAqICAgeTE6IDAsXG4gICAgICogICB4Mjogb2JqZWN0LndpZHRoIC8gMixcbiAgICAgKiAgIHkyOiAwLFxuICAgICAqICAgY29sb3JTdG9wczoge1xuICAgICAqICAgICAwOiAncmVkJyxcbiAgICAgKiAgICAgMC41OiAnIzAwNTU1NScsXG4gICAgICogICAgIDE6ICdyZ2JhKDAsMCwyNTUsMC41KSdcbiAgICAgKiAgIH1cbiAgICAgKiB9KTtcbiAgICAgKiBjYW52YXMucmVuZGVyQWxsKCk7XG4gICAgICogQGV4YW1wbGUgPGNhcHRpb24+U2V0IHJhZGlhbCBncmFkaWVudDwvY2FwdGlvbj5cbiAgICAgKiBvYmplY3Quc2V0R3JhZGllbnQoJ2ZpbGwnLCB7XG4gICAgICogICB0eXBlOiAncmFkaWFsJyxcbiAgICAgKiAgIHgxOiAwLFxuICAgICAqICAgeTE6IDAsXG4gICAgICogICB4MjogMCxcbiAgICAgKiAgIHkyOiAwLFxuICAgICAqICAgcjE6IG9iamVjdC53aWR0aCAvIDIsXG4gICAgICogICByMjogMTAsXG4gICAgICogICBjb2xvclN0b3BzOiB7XG4gICAgICogICAgIDA6ICdyZWQnLFxuICAgICAqICAgICAwLjU6ICcjMDA1NTU1JyxcbiAgICAgKiAgICAgMTogJ3JnYmEoMCwwLDI1NSwwLjUpJ1xuICAgICAqICAgfVxuICAgICAqIH0pO1xuICAgICAqIGNhbnZhcy5yZW5kZXJBbGwoKTtcbiAgICAgKi9cbiAgICBzZXRHcmFkaWVudDogZnVuY3Rpb24ocHJvcGVydHksIG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7IH0pO1xuXG4gICAgICB2YXIgZ3JhZGllbnQgPSB7IGNvbG9yU3RvcHM6IFtdIH07XG5cbiAgICAgIGdyYWRpZW50LnR5cGUgPSBvcHRpb25zLnR5cGUgfHwgKG9wdGlvbnMucjEgfHwgb3B0aW9ucy5yMiA/ICdyYWRpYWwnIDogJ2xpbmVhcicpO1xuICAgICAgZ3JhZGllbnQuY29vcmRzID0ge1xuICAgICAgICB4MTogb3B0aW9ucy54MSxcbiAgICAgICAgeTE6IG9wdGlvbnMueTEsXG4gICAgICAgIHgyOiBvcHRpb25zLngyLFxuICAgICAgICB5Mjogb3B0aW9ucy55MlxuICAgICAgfTtcbiAgICAgIGdyYWRpZW50LmdyYWRpZW50VW5pdHMgPSBvcHRpb25zLmdyYWRpZW50VW5pdHMgfHwgJ3BpeGVscyc7XG4gICAgICBpZiAob3B0aW9ucy5yMSB8fCBvcHRpb25zLnIyKSB7XG4gICAgICAgIGdyYWRpZW50LmNvb3Jkcy5yMSA9IG9wdGlvbnMucjE7XG4gICAgICAgIGdyYWRpZW50LmNvb3Jkcy5yMiA9IG9wdGlvbnMucjI7XG4gICAgICB9XG5cbiAgICAgIGdyYWRpZW50LmdyYWRpZW50VHJhbnNmb3JtID0gb3B0aW9ucy5ncmFkaWVudFRyYW5zZm9ybTtcbiAgICAgIGZhYnJpYy5HcmFkaWVudC5wcm90b3R5cGUuYWRkQ29sb3JTdG9wLmNhbGwoZ3JhZGllbnQsIG9wdGlvbnMuY29sb3JTdG9wcyk7XG5cbiAgICAgIHJldHVybiB0aGlzLnNldChwcm9wZXJ0eSwgZmFicmljLkdyYWRpZW50LmZvck9iamVjdCh0aGlzLCBncmFkaWVudCkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHBhdHRlcm4gZmlsbCBvZiBhbiBvYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7KFN0cmluZ3xIVE1MSW1hZ2VFbGVtZW50KX0gb3B0aW9ucy5zb3VyY2UgUGF0dGVybiBzb3VyY2VcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW29wdGlvbnMucmVwZWF0PXJlcGVhdF0gUmVwZWF0IHByb3BlcnR5IG9mIGEgcGF0dGVybiAob25lIG9mIHJlcGVhdCwgcmVwZWF0LXgsIHJlcGVhdC15IG9yIG5vLXJlcGVhdClcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMub2Zmc2V0WD0wXSBQYXR0ZXJuIGhvcml6b250YWwgb2Zmc2V0IGZyb20gb2JqZWN0J3MgbGVmdC90b3AgY29ybmVyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm9mZnNldFk9MF0gUGF0dGVybiB2ZXJ0aWNhbCBvZmZzZXQgZnJvbSBvYmplY3QncyBsZWZ0L3RvcCBjb3JuZXJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIENhbGxiYWNrIHRvIGludm9rZSB3aGVuIGltYWdlIHNldCBhcyBhIHBhdHRlcm5cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDMuNS4wXG4gICAgICogQHNlZSB7QGxpbmsgaHR0cDovL2pzZmlkZGxlLm5ldC9mYWJyaWNqcy9RVDNwYS98anNGaWRkbGUgZGVtb31cbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5TZXQgcGF0dGVybjwvY2FwdGlvbj5cbiAgICAgKiBvYmplY3Quc2V0UGF0dGVybkZpbGwoe1xuICAgICAqICAgc291cmNlOiAnaHR0cDovL2ZhYnJpY2pzLmNvbS9hc3NldHMvZXNjaGVyZXNxdWVfc3RlLnBuZycsXG4gICAgICogICByZXBlYXQ6ICdyZXBlYXQnXG4gICAgICogfSxjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKSk7XG4gICAgICovXG4gICAgc2V0UGF0dGVybkZpbGw6IGZ1bmN0aW9uKG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gdGhpcy5zZXQoJ2ZpbGwnLCBuZXcgZmFicmljLlBhdHRlcm4ob3B0aW9ucywgY2FsbGJhY2spKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB7QGxpbmsgZmFicmljLk9iamVjdCNzaGFkb3d8c2hhZG93fSBvZiBhbiBvYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdCBvciBzdHJpbmcgKGUuZy4gXCIycHggMnB4IDEwcHggcmdiYSgwLDAsMCwwLjIpXCIpXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25zLmNvbG9yPXJnYigwLDAsMCldIFNoYWRvdyBjb2xvclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5ibHVyPTBdIFNoYWRvdyBibHVyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm9mZnNldFg9MF0gU2hhZG93IGhvcml6b250YWwgb2Zmc2V0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLm9mZnNldFk9MF0gU2hhZG93IHZlcnRpY2FsIG9mZnNldFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgMy41LjBcbiAgICAgKiBAc2VlIHtAbGluayBodHRwOi8vanNmaWRkbGUubmV0L2ZhYnJpY2pzLzdndkpHL3xqc0ZpZGRsZSBkZW1vfVxuICAgICAqIEBleGFtcGxlIDxjYXB0aW9uPlNldCBzaGFkb3cgd2l0aCBzdHJpbmcgbm90YXRpb248L2NhcHRpb24+XG4gICAgICogb2JqZWN0LnNldFNoYWRvdygnMnB4IDJweCAxMHB4IHJnYmEoMCwwLDAsMC4yKScpO1xuICAgICAqIGNhbnZhcy5yZW5kZXJBbGwoKTtcbiAgICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5TZXQgc2hhZG93IHdpdGggb2JqZWN0IG5vdGF0aW9uPC9jYXB0aW9uPlxuICAgICAqIG9iamVjdC5zZXRTaGFkb3coe1xuICAgICAqICAgY29sb3I6ICdyZWQnLFxuICAgICAqICAgYmx1cjogMTAsXG4gICAgICogICBvZmZzZXRYOiAyMCxcbiAgICAgKiAgIG9mZnNldFk6IDIwXG4gICAgICogfSk7XG4gICAgICogY2FudmFzLnJlbmRlckFsbCgpO1xuICAgICAqL1xuICAgIHNldFNoYWRvdzogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0KCdzaGFkb3cnLCBvcHRpb25zID8gbmV3IGZhYnJpYy5TaGFkb3cob3B0aW9ucykgOiBudWxsKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyBcImNvbG9yXCIgb2YgYW4gaW5zdGFuY2UgKGFsaWFzIG9mIGBzZXQoJ2ZpbGwnLCAmaGVsbGlwOylgKVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb2xvciBDb2xvciB2YWx1ZVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSAzLjUuMFxuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXRDb2xvcjogZnVuY3Rpb24oY29sb3IpIHtcbiAgICAgIHRoaXMuc2V0KCdmaWxsJywgY29sb3IpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgXCJhbmdsZVwiIG9mIGFuIGluc3RhbmNlIHdpdGggY2VudGVyZWQgcm90YXRpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gYW5nbGUgQW5nbGUgdmFsdWUgKGluIGRlZ3JlZXMpXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICByb3RhdGU6IGZ1bmN0aW9uKGFuZ2xlKSB7XG4gICAgICB2YXIgc2hvdWxkQ2VudGVyT3JpZ2luID0gKHRoaXMub3JpZ2luWCAhPT0gJ2NlbnRlcicgfHwgdGhpcy5vcmlnaW5ZICE9PSAnY2VudGVyJykgJiYgdGhpcy5jZW50ZXJlZFJvdGF0aW9uO1xuXG4gICAgICBpZiAoc2hvdWxkQ2VudGVyT3JpZ2luKSB7XG4gICAgICAgIHRoaXMuX3NldE9yaWdpblRvQ2VudGVyKCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuc2V0KCdhbmdsZScsIGFuZ2xlKTtcblxuICAgICAgaWYgKHNob3VsZENlbnRlck9yaWdpbikge1xuICAgICAgICB0aGlzLl9yZXNldE9yaWdpbigpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2VudGVycyBvYmplY3QgaG9yaXpvbnRhbGx5IG9uIGNhbnZhcyB0byB3aGljaCBpdCB3YXMgYWRkZWQgbGFzdC5cbiAgICAgKiBZb3UgbWlnaHQgbmVlZCB0byBjYWxsIGBzZXRDb29yZHNgIG9uIGFuIG9iamVjdCBhZnRlciBjZW50ZXJpbmcsIHRvIHVwZGF0ZSBjb250cm9scyBhcmVhLlxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgY2VudGVySDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMuY2VudGVyT2JqZWN0SCh0aGlzKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDZW50ZXJzIG9iamVjdCBob3Jpem9udGFsbHkgb24gY3VycmVudCB2aWV3cG9ydCBvZiBjYW52YXMgdG8gd2hpY2ggaXQgd2FzIGFkZGVkIGxhc3QuXG4gICAgICogWW91IG1pZ2h0IG5lZWQgdG8gY2FsbCBgc2V0Q29vcmRzYCBvbiBhbiBvYmplY3QgYWZ0ZXIgY2VudGVyaW5nLCB0byB1cGRhdGUgY29udHJvbHMgYXJlYS5cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHZpZXdwb3J0Q2VudGVySDogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMudmlld3BvcnRDZW50ZXJPYmplY3RIKHRoaXMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENlbnRlcnMgb2JqZWN0IHZlcnRpY2FsbHkgb24gY2FudmFzIHRvIHdoaWNoIGl0IHdhcyBhZGRlZCBsYXN0LlxuICAgICAqIFlvdSBtaWdodCBuZWVkIHRvIGNhbGwgYHNldENvb3Jkc2Agb24gYW4gb2JqZWN0IGFmdGVyIGNlbnRlcmluZywgdG8gdXBkYXRlIGNvbnRyb2xzIGFyZWEuXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBjZW50ZXJWOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5jZW50ZXJPYmplY3RWKHRoaXMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENlbnRlcnMgb2JqZWN0IHZlcnRpY2FsbHkgb24gY3VycmVudCB2aWV3cG9ydCBvZiBjYW52YXMgdG8gd2hpY2ggaXQgd2FzIGFkZGVkIGxhc3QuXG4gICAgICogWW91IG1pZ2h0IG5lZWQgdG8gY2FsbCBgc2V0Q29vcmRzYCBvbiBhbiBvYmplY3QgYWZ0ZXIgY2VudGVyaW5nLCB0byB1cGRhdGUgY29udHJvbHMgYXJlYS5cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHZpZXdwb3J0Q2VudGVyVjogZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMudmlld3BvcnRDZW50ZXJPYmplY3RWKHRoaXMpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENlbnRlcnMgb2JqZWN0IHZlcnRpY2FsbHkgYW5kIGhvcml6b250YWxseSBvbiBjYW52YXMgdG8gd2hpY2ggaXMgd2FzIGFkZGVkIGxhc3RcbiAgICAgKiBZb3UgbWlnaHQgbmVlZCB0byBjYWxsIGBzZXRDb29yZHNgIG9uIGFuIG9iamVjdCBhZnRlciBjZW50ZXJpbmcsIHRvIHVwZGF0ZSBjb250cm9scyBhcmVhLlxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgY2VudGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5jZW50ZXJPYmplY3QodGhpcyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2VudGVycyBvYmplY3Qgb24gY3VycmVudCB2aWV3cG9ydCBvZiBjYW52YXMgdG8gd2hpY2ggaXQgd2FzIGFkZGVkIGxhc3QuXG4gICAgICogWW91IG1pZ2h0IG5lZWQgdG8gY2FsbCBgc2V0Q29vcmRzYCBvbiBhbiBvYmplY3QgYWZ0ZXIgY2VudGVyaW5nLCB0byB1cGRhdGUgY29udHJvbHMgYXJlYS5cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHZpZXdwb3J0Q2VudGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy52aWV3cG9ydENlbnRlck9iamVjdCh0aGlzKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvb3JkaW5hdGVzIG9mIGEgcG9pbnRlciByZWxhdGl2ZSB0byBhbiBvYmplY3RcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IHRvIG9wZXJhdGUgdXBvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcG9pbnRlcl0gUG9pbnRlciB0byBvcGVyYXRlIHVwb24gKGluc3RlYWQgb2YgZXZlbnQpXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBDb29yZGluYXRlcyBvZiBhIHBvaW50ZXIgKHgsIHkpXG4gICAgICovXG4gICAgZ2V0TG9jYWxQb2ludGVyOiBmdW5jdGlvbihlLCBwb2ludGVyKSB7XG4gICAgICBwb2ludGVyID0gcG9pbnRlciB8fCB0aGlzLmNhbnZhcy5nZXRQb2ludGVyKGUpO1xuICAgICAgdmFyIHBDbGlja2VkID0gbmV3IGZhYnJpYy5Qb2ludChwb2ludGVyLngsIHBvaW50ZXIueSksXG4gICAgICAgICAgb2JqZWN0TGVmdFRvcCA9IHRoaXMuX2dldExlZnRUb3BDb29yZHMoKTtcbiAgICAgIGlmICh0aGlzLmFuZ2xlKSB7XG4gICAgICAgIHBDbGlja2VkID0gZmFicmljLnV0aWwucm90YXRlUG9pbnQoXG4gICAgICAgICAgcENsaWNrZWQsIG9iamVjdExlZnRUb3AsIGRlZ3JlZXNUb1JhZGlhbnMoLXRoaXMuYW5nbGUpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHg6IHBDbGlja2VkLnggLSBvYmplY3RMZWZ0VG9wLngsXG4gICAgICAgIHk6IHBDbGlja2VkLnkgLSBvYmplY3RMZWZ0VG9wLnlcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgY2FudmFzIGdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiBmb3Igc3BlY2lmaWMgb2JqZWN0XG4gICAgICogY3VzdG9tIGNvbXBvc2l0aW9uIG9wZXJhdGlvbiBmb3IgdGhlIHBhcnRpY3VsYXIgb2JqZWN0IGNhbiBiZSBzcGVjaWZpZWQgdXNpbmcgZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uIHByb3BlcnR5XG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBSZW5kZXJpbmcgY2FudmFzIGNvbnRleHRcbiAgICAgKi9cbiAgICBfc2V0dXBDb21wb3NpdGVPcGVyYXRpb246IGZ1bmN0aW9uIChjdHgpIHtcbiAgICAgIGlmICh0aGlzLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbikge1xuICAgICAgICBjdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gdGhpcy5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb247XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBmYWJyaWMudXRpbC5jcmVhdGVBY2Nlc3NvcnMgJiYgZmFicmljLnV0aWwuY3JlYXRlQWNjZXNzb3JzKGZhYnJpYy5PYmplY3QpO1xuXG4gIGV4dGVuZChmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSwgZmFicmljLk9ic2VydmFibGUpO1xuXG4gIC8qKlxuICAgKiBEZWZpbmVzIHRoZSBudW1iZXIgb2YgZnJhY3Rpb24gZGlnaXRzIHRvIHVzZSB3aGVuIHNlcmlhbGl6aW5nIG9iamVjdCB2YWx1ZXMuXG4gICAqIFlvdSBjYW4gdXNlIGl0IHRvIGluY3JlYXNlL2RlY3JlYXNlIHByZWNpc2lvbiBvZiBzdWNoIHZhbHVlcyBsaWtlIGxlZnQsIHRvcCwgc2NhbGVYLCBzY2FsZVksIGV0Yy5cbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLk9iamVjdFxuICAgKiBAY29uc3RhbnRcbiAgICogQHR5cGUgTnVtYmVyXG4gICAqL1xuICBmYWJyaWMuT2JqZWN0Lk5VTV9GUkFDVElPTl9ESUdJVFMgPSAyO1xuXG4gIGZhYnJpYy5PYmplY3QuX2Zyb21PYmplY3QgPSBmdW5jdGlvbihjbGFzc05hbWUsIG9iamVjdCwgY2FsbGJhY2ssIGV4dHJhUGFyYW0pIHtcbiAgICB2YXIga2xhc3MgPSBmYWJyaWNbY2xhc3NOYW1lXTtcbiAgICBvYmplY3QgPSBjbG9uZShvYmplY3QsIHRydWUpO1xuICAgIGZhYnJpYy51dGlsLmVubGl2ZW5QYXR0ZXJucyhbb2JqZWN0LmZpbGwsIG9iamVjdC5zdHJva2VdLCBmdW5jdGlvbihwYXR0ZXJucykge1xuICAgICAgaWYgKHR5cGVvZiBwYXR0ZXJuc1swXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgb2JqZWN0LmZpbGwgPSBwYXR0ZXJuc1swXTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgcGF0dGVybnNbMV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG9iamVjdC5zdHJva2UgPSBwYXR0ZXJuc1sxXTtcbiAgICAgIH1cbiAgICAgIGZhYnJpYy51dGlsLmVubGl2ZW5PYmplY3RzKFtvYmplY3QuY2xpcFBhdGhdLCBmdW5jdGlvbihlbmxpdmVkUHJvcHMpIHtcbiAgICAgICAgb2JqZWN0LmNsaXBQYXRoID0gZW5saXZlZFByb3BzWzBdO1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSBleHRyYVBhcmFtID8gbmV3IGtsYXNzKG9iamVjdFtleHRyYVBhcmFtXSwgb2JqZWN0KSA6IG5ldyBrbGFzcyhvYmplY3QpO1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhpbnN0YW5jZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogVW5pcXVlIGlkIHVzZWQgaW50ZXJuYWxseSB3aGVuIGNyZWF0aW5nIFNWRyBlbGVtZW50c1xuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuT2JqZWN0XG4gICAqIEB0eXBlIE51bWJlclxuICAgKi9cbiAgZmFicmljLk9iamVjdC5fX3VpZCA9IDA7XG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIHZhciBkZWdyZWVzVG9SYWRpYW5zID0gZmFicmljLnV0aWwuZGVncmVlc1RvUmFkaWFucyxcbiAgICAgIG9yaWdpblhPZmZzZXQgPSB7XG4gICAgICAgIGxlZnQ6IC0wLjUsXG4gICAgICAgIGNlbnRlcjogMCxcbiAgICAgICAgcmlnaHQ6IDAuNVxuICAgICAgfSxcbiAgICAgIG9yaWdpbllPZmZzZXQgPSB7XG4gICAgICAgIHRvcDogLTAuNSxcbiAgICAgICAgY2VudGVyOiAwLFxuICAgICAgICBib3R0b206IDAuNVxuICAgICAgfTtcblxuICBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5PYmplY3QucHJvdG90eXBlLCAvKiogQGxlbmRzIGZhYnJpYy5PYmplY3QucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIFRyYW5zbGF0ZXMgdGhlIGNvb3JkaW5hdGVzIGZyb20gYSBzZXQgb2Ygb3JpZ2luIHRvIGFub3RoZXIgKGJhc2VkIG9uIHRoZSBvYmplY3QncyBkaW1lbnNpb25zKVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBwb2ludCBUaGUgcG9pbnQgd2hpY2ggY29ycmVzcG9uZHMgdG8gdGhlIG9yaWdpblggYW5kIG9yaWdpblkgcGFyYW1zXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGZyb21PcmlnaW5YIEhvcml6b250YWwgb3JpZ2luOiAnbGVmdCcsICdjZW50ZXInIG9yICdyaWdodCdcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZnJvbU9yaWdpblkgVmVydGljYWwgb3JpZ2luOiAndG9wJywgJ2NlbnRlcicgb3IgJ2JvdHRvbSdcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdG9PcmlnaW5YIEhvcml6b250YWwgb3JpZ2luOiAnbGVmdCcsICdjZW50ZXInIG9yICdyaWdodCdcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdG9PcmlnaW5ZIFZlcnRpY2FsIG9yaWdpbjogJ3RvcCcsICdjZW50ZXInIG9yICdib3R0b20nXG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fVxuICAgICAqL1xuICAgIHRyYW5zbGF0ZVRvR2l2ZW5PcmlnaW46IGZ1bmN0aW9uKHBvaW50LCBmcm9tT3JpZ2luWCwgZnJvbU9yaWdpblksIHRvT3JpZ2luWCwgdG9PcmlnaW5ZKSB7XG4gICAgICB2YXIgeCA9IHBvaW50LngsXG4gICAgICAgICAgeSA9IHBvaW50LnksXG4gICAgICAgICAgb2Zmc2V0WCwgb2Zmc2V0WSwgZGltO1xuXG4gICAgICBpZiAodHlwZW9mIGZyb21PcmlnaW5YID09PSAnc3RyaW5nJykge1xuICAgICAgICBmcm9tT3JpZ2luWCA9IG9yaWdpblhPZmZzZXRbZnJvbU9yaWdpblhdO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGZyb21PcmlnaW5YIC09IDAuNTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiB0b09yaWdpblggPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRvT3JpZ2luWCA9IG9yaWdpblhPZmZzZXRbdG9PcmlnaW5YXTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0b09yaWdpblggLT0gMC41O1xuICAgICAgfVxuXG4gICAgICBvZmZzZXRYID0gdG9PcmlnaW5YIC0gZnJvbU9yaWdpblg7XG5cbiAgICAgIGlmICh0eXBlb2YgZnJvbU9yaWdpblkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGZyb21PcmlnaW5ZID0gb3JpZ2luWU9mZnNldFtmcm9tT3JpZ2luWV07XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgZnJvbU9yaWdpblkgLT0gMC41O1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIHRvT3JpZ2luWSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgdG9PcmlnaW5ZID0gb3JpZ2luWU9mZnNldFt0b09yaWdpblldO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRvT3JpZ2luWSAtPSAwLjU7XG4gICAgICB9XG5cbiAgICAgIG9mZnNldFkgPSB0b09yaWdpblkgLSBmcm9tT3JpZ2luWTtcblxuICAgICAgaWYgKG9mZnNldFggfHwgb2Zmc2V0WSkge1xuICAgICAgICBkaW0gPSB0aGlzLl9nZXRUcmFuc2Zvcm1lZERpbWVuc2lvbnMoKTtcbiAgICAgICAgeCA9IHBvaW50LnggKyBvZmZzZXRYICogZGltLng7XG4gICAgICAgIHkgPSBwb2ludC55ICsgb2Zmc2V0WSAqIGRpbS55O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbmV3IGZhYnJpYy5Qb2ludCh4LCB5KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlcyB0aGUgY29vcmRpbmF0ZXMgZnJvbSBvcmlnaW4gdG8gY2VudGVyIGNvb3JkaW5hdGVzIChiYXNlZCBvbiB0aGUgb2JqZWN0J3MgZGltZW5zaW9ucylcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gcG9pbnQgVGhlIHBvaW50IHdoaWNoIGNvcnJlc3BvbmRzIHRvIHRoZSBvcmlnaW5YIGFuZCBvcmlnaW5ZIHBhcmFtc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcmlnaW5YIEhvcml6b250YWwgb3JpZ2luOiAnbGVmdCcsICdjZW50ZXInIG9yICdyaWdodCdcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb3JpZ2luWSBWZXJ0aWNhbCBvcmlnaW46ICd0b3AnLCAnY2VudGVyJyBvciAnYm90dG9tJ1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH1cbiAgICAgKi9cbiAgICB0cmFuc2xhdGVUb0NlbnRlclBvaW50OiBmdW5jdGlvbihwb2ludCwgb3JpZ2luWCwgb3JpZ2luWSkge1xuICAgICAgdmFyIHAgPSB0aGlzLnRyYW5zbGF0ZVRvR2l2ZW5PcmlnaW4ocG9pbnQsIG9yaWdpblgsIG9yaWdpblksICdjZW50ZXInLCAnY2VudGVyJyk7XG4gICAgICBpZiAodGhpcy5hbmdsZSkge1xuICAgICAgICByZXR1cm4gZmFicmljLnV0aWwucm90YXRlUG9pbnQocCwgcG9pbnQsIGRlZ3JlZXNUb1JhZGlhbnModGhpcy5hbmdsZSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRyYW5zbGF0ZXMgdGhlIGNvb3JkaW5hdGVzIGZyb20gY2VudGVyIHRvIG9yaWdpbiBjb29yZGluYXRlcyAoYmFzZWQgb24gdGhlIG9iamVjdCdzIGRpbWVuc2lvbnMpXG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IGNlbnRlciBUaGUgcG9pbnQgd2hpY2ggY29ycmVzcG9uZHMgdG8gY2VudGVyIG9mIHRoZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb3JpZ2luWCBIb3Jpem9udGFsIG9yaWdpbjogJ2xlZnQnLCAnY2VudGVyJyBvciAncmlnaHQnXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG9yaWdpblkgVmVydGljYWwgb3JpZ2luOiAndG9wJywgJ2NlbnRlcicgb3IgJ2JvdHRvbSdcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUG9pbnR9XG4gICAgICovXG4gICAgdHJhbnNsYXRlVG9PcmlnaW5Qb2ludDogZnVuY3Rpb24oY2VudGVyLCBvcmlnaW5YLCBvcmlnaW5ZKSB7XG4gICAgICB2YXIgcCA9IHRoaXMudHJhbnNsYXRlVG9HaXZlbk9yaWdpbihjZW50ZXIsICdjZW50ZXInLCAnY2VudGVyJywgb3JpZ2luWCwgb3JpZ2luWSk7XG4gICAgICBpZiAodGhpcy5hbmdsZSkge1xuICAgICAgICByZXR1cm4gZmFicmljLnV0aWwucm90YXRlUG9pbnQocCwgY2VudGVyLCBkZWdyZWVzVG9SYWRpYW5zKHRoaXMuYW5nbGUpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSByZWFsIGNlbnRlciBjb29yZGluYXRlcyBvZiB0aGUgb2JqZWN0XG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fVxuICAgICAqL1xuICAgIGdldENlbnRlclBvaW50OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBsZWZ0VG9wID0gbmV3IGZhYnJpYy5Qb2ludCh0aGlzLmxlZnQsIHRoaXMudG9wKTtcbiAgICAgIHJldHVybiB0aGlzLnRyYW5zbGF0ZVRvQ2VudGVyUG9pbnQobGVmdFRvcCwgdGhpcy5vcmlnaW5YLCB0aGlzLm9yaWdpblkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgb2JqZWN0IGJhc2VkIG9uIGNlbnRlciBjb29yZGluYXRlc1xuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBwb2ludCBUaGUgcG9pbnQgd2hpY2ggY29ycmVzcG9uZHMgdG8gdGhlIG9yaWdpblggYW5kIG9yaWdpblkgcGFyYW1zXG4gICAgICogQHJldHVybiB7ZmFicmljLlBvaW50fVxuICAgICAqL1xuICAgIC8vIGdldE9yaWdpblBvaW50OiBmdW5jdGlvbihjZW50ZXIpIHtcbiAgICAvLyAgIHJldHVybiB0aGlzLnRyYW5zbGF0ZVRvT3JpZ2luUG9pbnQoY2VudGVyLCB0aGlzLm9yaWdpblgsIHRoaXMub3JpZ2luWSk7XG4gICAgLy8gfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBvYmplY3QgYXMgaWYgaXQgaGFzIGEgZGlmZmVyZW50IG9yaWdpblxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcmlnaW5YIEhvcml6b250YWwgb3JpZ2luOiAnbGVmdCcsICdjZW50ZXInIG9yICdyaWdodCdcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb3JpZ2luWSBWZXJ0aWNhbCBvcmlnaW46ICd0b3AnLCAnY2VudGVyJyBvciAnYm90dG9tJ1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH1cbiAgICAgKi9cbiAgICBnZXRQb2ludEJ5T3JpZ2luOiBmdW5jdGlvbihvcmlnaW5YLCBvcmlnaW5ZKSB7XG4gICAgICB2YXIgY2VudGVyID0gdGhpcy5nZXRDZW50ZXJQb2ludCgpO1xuICAgICAgcmV0dXJuIHRoaXMudHJhbnNsYXRlVG9PcmlnaW5Qb2ludChjZW50ZXIsIG9yaWdpblgsIG9yaWdpblkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwb2ludCBpbiBsb2NhbCBjb29yZGluYXRlc1xuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBwb2ludCBUaGUgcG9pbnQgcmVsYXRpdmUgdG8gdGhlIGdsb2JhbCBjb29yZGluYXRlIHN5c3RlbVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcmlnaW5YIEhvcml6b250YWwgb3JpZ2luOiAnbGVmdCcsICdjZW50ZXInIG9yICdyaWdodCdcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb3JpZ2luWSBWZXJ0aWNhbCBvcmlnaW46ICd0b3AnLCAnY2VudGVyJyBvciAnYm90dG9tJ1xuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH1cbiAgICAgKi9cbiAgICB0b0xvY2FsUG9pbnQ6IGZ1bmN0aW9uKHBvaW50LCBvcmlnaW5YLCBvcmlnaW5ZKSB7XG4gICAgICB2YXIgY2VudGVyID0gdGhpcy5nZXRDZW50ZXJQb2ludCgpLFxuICAgICAgICAgIHAsIHAyO1xuXG4gICAgICBpZiAodHlwZW9mIG9yaWdpblggIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBvcmlnaW5ZICE9PSAndW5kZWZpbmVkJyApIHtcbiAgICAgICAgcCA9IHRoaXMudHJhbnNsYXRlVG9HaXZlbk9yaWdpbihjZW50ZXIsICdjZW50ZXInLCAnY2VudGVyJywgb3JpZ2luWCwgb3JpZ2luWSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcCA9IG5ldyBmYWJyaWMuUG9pbnQodGhpcy5sZWZ0LCB0aGlzLnRvcCk7XG4gICAgICB9XG5cbiAgICAgIHAyID0gbmV3IGZhYnJpYy5Qb2ludChwb2ludC54LCBwb2ludC55KTtcbiAgICAgIGlmICh0aGlzLmFuZ2xlKSB7XG4gICAgICAgIHAyID0gZmFicmljLnV0aWwucm90YXRlUG9pbnQocDIsIGNlbnRlciwgLWRlZ3JlZXNUb1JhZGlhbnModGhpcy5hbmdsZSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHAyLnN1YnRyYWN0RXF1YWxzKHApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwb2ludCBpbiBnbG9iYWwgY29vcmRpbmF0ZXNcbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gVGhlIHBvaW50IHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlIHN5c3RlbVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2ludH1cbiAgICAgKi9cbiAgICAvLyB0b0dsb2JhbFBvaW50OiBmdW5jdGlvbihwb2ludCkge1xuICAgIC8vICAgcmV0dXJuIGZhYnJpYy51dGlsLnJvdGF0ZVBvaW50KHBvaW50LCB0aGlzLmdldENlbnRlclBvaW50KCksIGRlZ3JlZXNUb1JhZGlhbnModGhpcy5hbmdsZSkpLmFkZEVxdWFscyhuZXcgZmFicmljLlBvaW50KHRoaXMubGVmdCwgdGhpcy50b3ApKTtcbiAgICAvLyB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcG9zaXRpb24gb2YgdGhlIG9iamVjdCB0YWtpbmcgaW50byBjb25zaWRlcmF0aW9uIHRoZSBvYmplY3QncyBvcmlnaW5cbiAgICAgKiBAcGFyYW0ge2ZhYnJpYy5Qb2ludH0gcG9zIFRoZSBuZXcgcG9zaXRpb24gb2YgdGhlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBvcmlnaW5YIEhvcml6b250YWwgb3JpZ2luOiAnbGVmdCcsICdjZW50ZXInIG9yICdyaWdodCdcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb3JpZ2luWSBWZXJ0aWNhbCBvcmlnaW46ICd0b3AnLCAnY2VudGVyJyBvciAnYm90dG9tJ1xuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgc2V0UG9zaXRpb25CeU9yaWdpbjogZnVuY3Rpb24ocG9zLCBvcmlnaW5YLCBvcmlnaW5ZKSB7XG4gICAgICB2YXIgY2VudGVyID0gdGhpcy50cmFuc2xhdGVUb0NlbnRlclBvaW50KHBvcywgb3JpZ2luWCwgb3JpZ2luWSksXG4gICAgICAgICAgcG9zaXRpb24gPSB0aGlzLnRyYW5zbGF0ZVRvT3JpZ2luUG9pbnQoY2VudGVyLCB0aGlzLm9yaWdpblgsIHRoaXMub3JpZ2luWSk7XG4gICAgICB0aGlzLnNldCgnbGVmdCcsIHBvc2l0aW9uLngpO1xuICAgICAgdGhpcy5zZXQoJ3RvcCcsIHBvc2l0aW9uLnkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdG8gT25lIG9mICdsZWZ0JywgJ2NlbnRlcicsICdyaWdodCdcbiAgICAgKi9cbiAgICBhZGp1c3RQb3NpdGlvbjogZnVuY3Rpb24odG8pIHtcbiAgICAgIHZhciBhbmdsZSA9IGRlZ3JlZXNUb1JhZGlhbnModGhpcy5hbmdsZSksXG4gICAgICAgICAgaHlwb3RGdWxsID0gdGhpcy5nZXRTY2FsZWRXaWR0aCgpLFxuICAgICAgICAgIHhGdWxsID0gZmFicmljLnV0aWwuY29zKGFuZ2xlKSAqIGh5cG90RnVsbCxcbiAgICAgICAgICB5RnVsbCA9IGZhYnJpYy51dGlsLnNpbihhbmdsZSkgKiBoeXBvdEZ1bGwsXG4gICAgICAgICAgb2Zmc2V0RnJvbSwgb2Zmc2V0VG87XG5cbiAgICAgIC8vVE9ETzogdGhpcyBmdW5jdGlvbiBkb2VzIG5vdCBjb25zaWRlciBtaXhlZCBzaXR1YXRpb24gbGlrZSB0b3AsIGNlbnRlci5cbiAgICAgIGlmICh0eXBlb2YgdGhpcy5vcmlnaW5YID09PSAnc3RyaW5nJykge1xuICAgICAgICBvZmZzZXRGcm9tID0gb3JpZ2luWE9mZnNldFt0aGlzLm9yaWdpblhdO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIG9mZnNldEZyb20gPSB0aGlzLm9yaWdpblggLSAwLjU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHRvID09PSAnc3RyaW5nJykge1xuICAgICAgICBvZmZzZXRUbyA9IG9yaWdpblhPZmZzZXRbdG9dO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIG9mZnNldFRvID0gdG8gLSAwLjU7XG4gICAgICB9XG4gICAgICB0aGlzLmxlZnQgKz0geEZ1bGwgKiAob2Zmc2V0VG8gLSBvZmZzZXRGcm9tKTtcbiAgICAgIHRoaXMudG9wICs9IHlGdWxsICogKG9mZnNldFRvIC0gb2Zmc2V0RnJvbSk7XG4gICAgICB0aGlzLnNldENvb3JkcygpO1xuICAgICAgdGhpcy5vcmlnaW5YID0gdG87XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG9yaWdpbi9wb3NpdGlvbiBvZiB0aGUgb2JqZWN0IHRvIGl0J3MgY2VudGVyIHBvaW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIF9zZXRPcmlnaW5Ub0NlbnRlcjogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLl9vcmlnaW5hbE9yaWdpblggPSB0aGlzLm9yaWdpblg7XG4gICAgICB0aGlzLl9vcmlnaW5hbE9yaWdpblkgPSB0aGlzLm9yaWdpblk7XG5cbiAgICAgIHZhciBjZW50ZXIgPSB0aGlzLmdldENlbnRlclBvaW50KCk7XG5cbiAgICAgIHRoaXMub3JpZ2luWCA9ICdjZW50ZXInO1xuICAgICAgdGhpcy5vcmlnaW5ZID0gJ2NlbnRlcic7XG5cbiAgICAgIHRoaXMubGVmdCA9IGNlbnRlci54O1xuICAgICAgdGhpcy50b3AgPSBjZW50ZXIueTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBvcmlnaW4vcG9zaXRpb24gb2YgdGhlIG9iamVjdCB0byBpdCdzIG9yaWdpbmFsIG9yaWdpblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7dm9pZH1cbiAgICAgKi9cbiAgICBfcmVzZXRPcmlnaW46IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9yaWdpblBvaW50ID0gdGhpcy50cmFuc2xhdGVUb09yaWdpblBvaW50KFxuICAgICAgICB0aGlzLmdldENlbnRlclBvaW50KCksXG4gICAgICAgIHRoaXMuX29yaWdpbmFsT3JpZ2luWCxcbiAgICAgICAgdGhpcy5fb3JpZ2luYWxPcmlnaW5ZKTtcblxuICAgICAgdGhpcy5vcmlnaW5YID0gdGhpcy5fb3JpZ2luYWxPcmlnaW5YO1xuICAgICAgdGhpcy5vcmlnaW5ZID0gdGhpcy5fb3JpZ2luYWxPcmlnaW5ZO1xuXG4gICAgICB0aGlzLmxlZnQgPSBvcmlnaW5Qb2ludC54O1xuICAgICAgdGhpcy50b3AgPSBvcmlnaW5Qb2ludC55O1xuXG4gICAgICB0aGlzLl9vcmlnaW5hbE9yaWdpblggPSBudWxsO1xuICAgICAgdGhpcy5fb3JpZ2luYWxPcmlnaW5ZID0gbnVsbDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2V0TGVmdFRvcENvb3JkczogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50cmFuc2xhdGVUb09yaWdpblBvaW50KHRoaXMuZ2V0Q2VudGVyUG9pbnQoKSwgJ2xlZnQnLCAndG9wJyk7XG4gICAgfSxcbiAgfSk7XG5cbn0pKCk7XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIGZ1bmN0aW9uIGdldENvb3Jkcyhjb29yZHMpIHtcbiAgICByZXR1cm4gW1xuICAgICAgbmV3IGZhYnJpYy5Qb2ludChjb29yZHMudGwueCwgY29vcmRzLnRsLnkpLFxuICAgICAgbmV3IGZhYnJpYy5Qb2ludChjb29yZHMudHIueCwgY29vcmRzLnRyLnkpLFxuICAgICAgbmV3IGZhYnJpYy5Qb2ludChjb29yZHMuYnIueCwgY29vcmRzLmJyLnkpLFxuICAgICAgbmV3IGZhYnJpYy5Qb2ludChjb29yZHMuYmwueCwgY29vcmRzLmJsLnkpXG4gICAgXTtcbiAgfVxuXG4gIHZhciBkZWdyZWVzVG9SYWRpYW5zID0gZmFicmljLnV0aWwuZGVncmVlc1RvUmFkaWFucyxcbiAgICAgIG11bHRpcGx5TWF0cmljZXMgPSBmYWJyaWMudXRpbC5tdWx0aXBseVRyYW5zZm9ybU1hdHJpY2VzLFxuICAgICAgdHJhbnNmb3JtUG9pbnQgPSBmYWJyaWMudXRpbC50cmFuc2Zvcm1Qb2ludDtcblxuICBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5PYmplY3QucHJvdG90eXBlLCAvKiogQGxlbmRzIGZhYnJpYy5PYmplY3QucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIERlc2NyaWJlIG9iamVjdCdzIGNvcm5lciBwb3NpdGlvbiBpbiBjYW52YXMgZWxlbWVudCBjb29yZGluYXRlcy5cbiAgICAgKiBwcm9wZXJ0aWVzIGFyZSB0bCxtdCx0cixtbCxtcixibCxtYixicixtdHIgZm9yIHRoZSBtYWluIGNvbnRyb2xzLlxuICAgICAqIGVhY2ggcHJvcGVydHkgaXMgYW4gb2JqZWN0IHdpdGggeCwgeSBhbmQgY29ybmVyLlxuICAgICAqIFRoZSBgY29ybmVyYCBwcm9wZXJ0eSBjb250YWlucyBpbiBhIHNpbWlsYXIgbWFubmVyIHRoZSA0IHBvaW50cyBvZiB0aGVcbiAgICAgKiBpbnRlcmFjdGl2ZSBhcmVhIG9mIHRoZSBjb3JuZXIuXG4gICAgICogVGhlIGNvb3JkaW5hdGVzIGRlcGVuZHMgZnJvbSB0aGlzIHByb3BlcnRpZXM6IHdpZHRoLCBoZWlnaHQsIHNjYWxlWCwgc2NhbGVZXG4gICAgICogc2tld1gsIHNrZXdZLCBhbmdsZSwgc3Ryb2tlV2lkdGgsIHZpZXdwb3J0VHJhbnNmb3JtLCB0b3AsIGxlZnQsIHBhZGRpbmcuXG4gICAgICogVGhlIGNvb3JkaW5hdGVzIGdldCB1cGRhdGVkIHdpdGggQG1ldGhvZCBzZXRDb29yZHMuXG4gICAgICogWW91IGNhbiBjYWxjdWxhdGUgdGhlbSB3aXRob3V0IHVwZGF0aW5nIHdpdGggQG1ldGhvZCBjYWxjQ29vcmRzO1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZVxuICAgICAqL1xuICAgIG9Db29yZHM6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBEZXNjcmliZSBvYmplY3QncyBjb3JuZXIgcG9zaXRpb24gaW4gY2FudmFzIG9iamVjdCBhYnNvbHV0ZSBjb29yZGluYXRlc1xuICAgICAqIHByb3BlcnRpZXMgYXJlIHRsLHRyLGJsLGJyIGFuZCBkZXNjcmliZSB0aGUgZm91ciBtYWluIGNvcm5lci5cbiAgICAgKiBlYWNoIHByb3BlcnR5IGlzIGFuIG9iamVjdCB3aXRoIHgsIHksIGluc3RhbmNlIG9mIEZhYnJpYy5Qb2ludC5cbiAgICAgKiBUaGUgY29vcmRpbmF0ZXMgZGVwZW5kcyBmcm9tIHRoaXMgcHJvcGVydGllczogd2lkdGgsIGhlaWdodCwgc2NhbGVYLCBzY2FsZVlcbiAgICAgKiBza2V3WCwgc2tld1ksIGFuZ2xlLCBzdHJva2VXaWR0aCwgdG9wLCBsZWZ0LlxuICAgICAqIFRob3NlIGNvb3JkaW5hdGVzIGFyZSB1c2VmdWwgdG8gdW5kZXJzdGFuZCB3aGVyZSBhbiBvYmplY3QgaXMuIFRoZXkgZ2V0IHVwZGF0ZWRcbiAgICAgKiB3aXRoIG9Db29yZHMgYnV0IHRoZXkgZG8gbm90IG5lZWQgdG8gYmUgdXBkYXRlZCB3aGVuIHpvb20gb3IgcGFubmluZyBjaGFuZ2UuXG4gICAgICogVGhlIGNvb3JkaW5hdGVzIGdldCB1cGRhdGVkIHdpdGggQG1ldGhvZCBzZXRDb29yZHMuXG4gICAgICogWW91IGNhbiBjYWxjdWxhdGUgdGhlbSB3aXRob3V0IHVwZGF0aW5nIHdpdGggQG1ldGhvZCBjYWxjQ29vcmRzKHRydWUpO1xuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZVxuICAgICAqL1xuICAgIGFDb29yZHM6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBzdG9yYWdlIGZvciBvYmplY3QgdHJhbnNmb3JtIG1hdHJpeFxuICAgICAqL1xuICAgIG93bk1hdHJpeENhY2hlOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogc3RvcmFnZSBmb3Igb2JqZWN0IGZ1bGwgdHJhbnNmb3JtIG1hdHJpeFxuICAgICAqL1xuICAgIG1hdHJpeENhY2hlOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIGNvcnJlY3Qgc2V0IG9mIGNvb3JkaW5hdGVzIGZvciBpbnRlcnNlY3Rpb25cbiAgICAgKi9cbiAgICBnZXRDb29yZHM6IGZ1bmN0aW9uKGFic29sdXRlLCBjYWxjdWxhdGUpIHtcbiAgICAgIGlmICghdGhpcy5vQ29vcmRzKSB7XG4gICAgICAgIHRoaXMuc2V0Q29vcmRzKCk7XG4gICAgICB9XG4gICAgICB2YXIgY29vcmRzID0gYWJzb2x1dGUgPyB0aGlzLmFDb29yZHMgOiB0aGlzLm9Db29yZHM7XG4gICAgICByZXR1cm4gZ2V0Q29vcmRzKGNhbGN1bGF0ZSA/IHRoaXMuY2FsY0Nvb3JkcyhhYnNvbHV0ZSkgOiBjb29yZHMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgb2JqZWN0IGludGVyc2VjdHMgd2l0aCBhbiBhcmVhIGZvcm1lZCBieSAyIHBvaW50c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludFRMIHRvcC1sZWZ0IHBvaW50IG9mIGFyZWFcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9pbnRCUiBib3R0b20tcmlnaHQgcG9pbnQgb2YgYXJlYVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2Fic29sdXRlXSB1c2UgY29vcmRpbmF0ZXMgd2l0aG91dCB2aWV3cG9ydFRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NhbGN1bGF0ZV0gdXNlIGNvb3JkaW5hdGVzIG9mIGN1cnJlbnQgcG9zaXRpb24gaW5zdGVhZCBvZiAub0Nvb3Jkc1xuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgb2JqZWN0IGludGVyc2VjdHMgd2l0aCBhbiBhcmVhIGZvcm1lZCBieSAyIHBvaW50c1xuICAgICAqL1xuICAgIGludGVyc2VjdHNXaXRoUmVjdDogZnVuY3Rpb24ocG9pbnRUTCwgcG9pbnRCUiwgYWJzb2x1dGUsIGNhbGN1bGF0ZSkge1xuICAgICAgdmFyIGNvb3JkcyA9IHRoaXMuZ2V0Q29vcmRzKGFic29sdXRlLCBjYWxjdWxhdGUpLFxuICAgICAgICAgIGludGVyc2VjdGlvbiA9IGZhYnJpYy5JbnRlcnNlY3Rpb24uaW50ZXJzZWN0UG9seWdvblJlY3RhbmdsZShcbiAgICAgICAgICAgIGNvb3JkcyxcbiAgICAgICAgICAgIHBvaW50VEwsXG4gICAgICAgICAgICBwb2ludEJSXG4gICAgICAgICAgKTtcbiAgICAgIHJldHVybiBpbnRlcnNlY3Rpb24uc3RhdHVzID09PSAnSW50ZXJzZWN0aW9uJztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIG9iamVjdCBpbnRlcnNlY3RzIHdpdGggYW5vdGhlciBvYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgT2JqZWN0IHRvIHRlc3RcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFthYnNvbHV0ZV0gdXNlIGNvb3JkaW5hdGVzIHdpdGhvdXQgdmlld3BvcnRUcmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjYWxjdWxhdGVdIHVzZSBjb29yZGluYXRlcyBvZiBjdXJyZW50IHBvc2l0aW9uIGluc3RlYWQgb2YgLm9Db29yZHNcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIG9iamVjdCBpbnRlcnNlY3RzIHdpdGggYW5vdGhlciBvYmplY3RcbiAgICAgKi9cbiAgICBpbnRlcnNlY3RzV2l0aE9iamVjdDogZnVuY3Rpb24ob3RoZXIsIGFic29sdXRlLCBjYWxjdWxhdGUpIHtcbiAgICAgIHZhciBpbnRlcnNlY3Rpb24gPSBmYWJyaWMuSW50ZXJzZWN0aW9uLmludGVyc2VjdFBvbHlnb25Qb2x5Z29uKFxuICAgICAgICB0aGlzLmdldENvb3JkcyhhYnNvbHV0ZSwgY2FsY3VsYXRlKSxcbiAgICAgICAgb3RoZXIuZ2V0Q29vcmRzKGFic29sdXRlLCBjYWxjdWxhdGUpXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gaW50ZXJzZWN0aW9uLnN0YXR1cyA9PT0gJ0ludGVyc2VjdGlvbidcbiAgICAgICAgfHwgb3RoZXIuaXNDb250YWluZWRXaXRoaW5PYmplY3QodGhpcywgYWJzb2x1dGUsIGNhbGN1bGF0ZSlcbiAgICAgICAgfHwgdGhpcy5pc0NvbnRhaW5lZFdpdGhpbk9iamVjdChvdGhlciwgYWJzb2x1dGUsIGNhbGN1bGF0ZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBvYmplY3QgaXMgZnVsbHkgY29udGFpbmVkIHdpdGhpbiBhcmVhIG9mIGFub3RoZXIgb2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIE9iamVjdCB0byB0ZXN0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbYWJzb2x1dGVdIHVzZSBjb29yZGluYXRlcyB3aXRob3V0IHZpZXdwb3J0VHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY2FsY3VsYXRlXSB1c2UgY29vcmRpbmF0ZXMgb2YgY3VycmVudCBwb3NpdGlvbiBpbnN0ZWFkIG9mIC5vQ29vcmRzXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBvYmplY3QgaXMgZnVsbHkgY29udGFpbmVkIHdpdGhpbiBhcmVhIG9mIGFub3RoZXIgb2JqZWN0XG4gICAgICovXG4gICAgaXNDb250YWluZWRXaXRoaW5PYmplY3Q6IGZ1bmN0aW9uKG90aGVyLCBhYnNvbHV0ZSwgY2FsY3VsYXRlKSB7XG4gICAgICB2YXIgcG9pbnRzID0gdGhpcy5nZXRDb29yZHMoYWJzb2x1dGUsIGNhbGN1bGF0ZSksXG4gICAgICAgICAgaSA9IDAsIGxpbmVzID0gb3RoZXIuX2dldEltYWdlTGluZXMoXG4gICAgICAgICAgICBjYWxjdWxhdGUgPyBvdGhlci5jYWxjQ29vcmRzKGFic29sdXRlKSA6IGFic29sdXRlID8gb3RoZXIuYUNvb3JkcyA6IG90aGVyLm9Db29yZHNcbiAgICAgICAgICApO1xuICAgICAgZm9yICg7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgaWYgKCFvdGhlci5jb250YWluc1BvaW50KHBvaW50c1tpXSwgbGluZXMpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIG9iamVjdCBpcyBmdWxseSBjb250YWluZWQgd2l0aGluIGFyZWEgZm9ybWVkIGJ5IDIgcG9pbnRzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50VEwgdG9wLWxlZnQgcG9pbnQgb2YgYXJlYVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwb2ludEJSIGJvdHRvbS1yaWdodCBwb2ludCBvZiBhcmVhXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbYWJzb2x1dGVdIHVzZSBjb29yZGluYXRlcyB3aXRob3V0IHZpZXdwb3J0VHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY2FsY3VsYXRlXSB1c2UgY29vcmRpbmF0ZXMgb2YgY3VycmVudCBwb3NpdGlvbiBpbnN0ZWFkIG9mIC5vQ29vcmRzXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBvYmplY3QgaXMgZnVsbHkgY29udGFpbmVkIHdpdGhpbiBhcmVhIGZvcm1lZCBieSAyIHBvaW50c1xuICAgICAqL1xuICAgIGlzQ29udGFpbmVkV2l0aGluUmVjdDogZnVuY3Rpb24ocG9pbnRUTCwgcG9pbnRCUiwgYWJzb2x1dGUsIGNhbGN1bGF0ZSkge1xuICAgICAgdmFyIGJvdW5kaW5nUmVjdCA9IHRoaXMuZ2V0Qm91bmRpbmdSZWN0KGFic29sdXRlLCBjYWxjdWxhdGUpO1xuXG4gICAgICByZXR1cm4gKFxuICAgICAgICBib3VuZGluZ1JlY3QubGVmdCA+PSBwb2ludFRMLnggJiZcbiAgICAgICAgYm91bmRpbmdSZWN0LmxlZnQgKyBib3VuZGluZ1JlY3Qud2lkdGggPD0gcG9pbnRCUi54ICYmXG4gICAgICAgIGJvdW5kaW5nUmVjdC50b3AgPj0gcG9pbnRUTC55ICYmXG4gICAgICAgIGJvdW5kaW5nUmVjdC50b3AgKyBib3VuZGluZ1JlY3QuaGVpZ2h0IDw9IHBvaW50QlIueVxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHBvaW50IGlzIGluc2lkZSB0aGUgb2JqZWN0XG4gICAgICogQHBhcmFtIHtmYWJyaWMuUG9pbnR9IHBvaW50IFBvaW50IHRvIGNoZWNrIGFnYWluc3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2xpbmVzXSBvYmplY3QgcmV0dXJuZWQgZnJvbSBAbWV0aG9kIF9nZXRJbWFnZUxpbmVzXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbYWJzb2x1dGVdIHVzZSBjb29yZGluYXRlcyB3aXRob3V0IHZpZXdwb3J0VHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY2FsY3VsYXRlXSB1c2UgY29vcmRpbmF0ZXMgb2YgY3VycmVudCBwb3NpdGlvbiBpbnN0ZWFkIG9mIC5vQ29vcmRzXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBwb2ludCBpcyBpbnNpZGUgdGhlIG9iamVjdFxuICAgICAqL1xuICAgIGNvbnRhaW5zUG9pbnQ6IGZ1bmN0aW9uKHBvaW50LCBsaW5lcywgYWJzb2x1dGUsIGNhbGN1bGF0ZSkge1xuICAgICAgdmFyIGxpbmVzID0gbGluZXMgfHwgdGhpcy5fZ2V0SW1hZ2VMaW5lcyhcbiAgICAgICAgICAgIGNhbGN1bGF0ZSA/IHRoaXMuY2FsY0Nvb3JkcyhhYnNvbHV0ZSkgOiBhYnNvbHV0ZSA/IHRoaXMuYUNvb3JkcyA6IHRoaXMub0Nvb3Jkc1xuICAgICAgICAgICksXG4gICAgICAgICAgeFBvaW50cyA9IHRoaXMuX2ZpbmRDcm9zc1BvaW50cyhwb2ludCwgbGluZXMpO1xuXG4gICAgICAvLyBpZiB4UG9pbnRzIGlzIG9kZCB0aGVuIHBvaW50IGlzIGluc2lkZSB0aGUgb2JqZWN0XG4gICAgICByZXR1cm4gKHhQb2ludHMgIT09IDAgJiYgeFBvaW50cyAlIDIgPT09IDEpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgb2JqZWN0IGlzIGNvbnRhaW5lZCB3aXRoaW4gdGhlIGNhbnZhcyB3aXRoIGN1cnJlbnQgdmlld3BvcnRUcmFuc2Zvcm1cbiAgICAgKiB0aGUgY2hlY2sgaXMgZG9uZSBzdG9wcGluZyBhdCBmaXJzdCBwb2ludCB0aGF0IGFwcGVhcnMgb24gc2NyZWVuXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY2FsY3VsYXRlXSB1c2UgY29vcmRpbmF0ZXMgb2YgY3VycmVudCBwb3NpdGlvbiBpbnN0ZWFkIG9mIC5hQ29vcmRzXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBvYmplY3QgaXMgZnVsbHkgb3IgcGFydGlhbGx5IGNvbnRhaW5lZCB3aXRoaW4gY2FudmFzXG4gICAgICovXG4gICAgaXNPblNjcmVlbjogZnVuY3Rpb24oY2FsY3VsYXRlKSB7XG4gICAgICBpZiAoIXRoaXMuY2FudmFzKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwb2ludFRMID0gdGhpcy5jYW52YXMudnB0Q29vcmRzLnRsLCBwb2ludEJSID0gdGhpcy5jYW52YXMudnB0Q29vcmRzLmJyO1xuICAgICAgdmFyIHBvaW50cyA9IHRoaXMuZ2V0Q29vcmRzKHRydWUsIGNhbGN1bGF0ZSksIHBvaW50O1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHtcbiAgICAgICAgcG9pbnQgPSBwb2ludHNbaV07XG4gICAgICAgIGlmIChwb2ludC54IDw9IHBvaW50QlIueCAmJiBwb2ludC54ID49IHBvaW50VEwueCAmJiBwb2ludC55IDw9IHBvaW50QlIueSAmJiBwb2ludC55ID49IHBvaW50VEwueSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBubyBwb2ludHMgb24gc2NyZWVuLCBjaGVjayBpbnRlcnNlY3Rpb24gd2l0aCBhYnNvbHV0ZSBjb29yZGluYXRlc1xuICAgICAgaWYgKHRoaXMuaW50ZXJzZWN0c1dpdGhSZWN0KHBvaW50VEwsIHBvaW50QlIsIHRydWUsIGNhbGN1bGF0ZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fY29udGFpbnNDZW50ZXJPZkNhbnZhcyhwb2ludFRMLCBwb2ludEJSLCBjYWxjdWxhdGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIG9iamVjdCBjb250YWlucyB0aGUgbWlkcG9pbnQgYmV0d2VlbiBjYW52YXMgZXh0cmVtaXRpZXNcbiAgICAgKiBEb2VzIG5vdCBtYWtlIHNlbnNlIG91dHNpZGUgdGhlIGNvbnRleHQgb2YgaXNPblNjcmVlbiBhbmQgaXNQYXJ0aWFsbHlPblNjcmVlblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGYWJyaWMuUG9pbnR9IHBvaW50VEwgVG9wIExlZnQgcG9pbnRcbiAgICAgKiBAcGFyYW0ge0ZhYnJpYy5Qb2ludH0gcG9pbnRCUiBUb3AgUmlnaHQgcG9pbnRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGNhbGN1bGF0ZSB1c2UgY29vcmRpbmF0ZXMgb2YgY3VycmVudCBwb3NpdGlvbiBpbnN0ZWFkIG9mIC5vQ29vcmRzXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiB0aGUgb2JqZWN0IGNvbnRhaW5zIHRoZSBwb2ludFxuICAgICAqL1xuICAgIF9jb250YWluc0NlbnRlck9mQ2FudmFzOiBmdW5jdGlvbihwb2ludFRMLCBwb2ludEJSLCBjYWxjdWxhdGUpIHtcbiAgICAgIC8vIHdvcnN0IGNhc2Ugc2NlbmFyaW8gdGhlIG9iamVjdCBpcyBzbyBiaWcgdGhhdCBjb250YWlucyB0aGUgc2NyZWVuXG4gICAgICB2YXIgY2VudGVyUG9pbnQgPSB7IHg6IChwb2ludFRMLnggKyBwb2ludEJSLngpIC8gMiwgeTogKHBvaW50VEwueSArIHBvaW50QlIueSkgLyAyIH07XG4gICAgICBpZiAodGhpcy5jb250YWluc1BvaW50KGNlbnRlclBvaW50LCBudWxsLCB0cnVlLCBjYWxjdWxhdGUpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgb2JqZWN0IGlzIHBhcnRpYWxseSBjb250YWluZWQgd2l0aGluIHRoZSBjYW52YXMgd2l0aCBjdXJyZW50IHZpZXdwb3J0VHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbY2FsY3VsYXRlXSB1c2UgY29vcmRpbmF0ZXMgb2YgY3VycmVudCBwb3NpdGlvbiBpbnN0ZWFkIG9mIC5vQ29vcmRzXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBvYmplY3QgaXMgcGFydGlhbGx5IGNvbnRhaW5lZCB3aXRoaW4gY2FudmFzXG4gICAgICovXG4gICAgaXNQYXJ0aWFsbHlPblNjcmVlbjogZnVuY3Rpb24oY2FsY3VsYXRlKSB7XG4gICAgICBpZiAoIXRoaXMuY2FudmFzKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwb2ludFRMID0gdGhpcy5jYW52YXMudnB0Q29vcmRzLnRsLCBwb2ludEJSID0gdGhpcy5jYW52YXMudnB0Q29vcmRzLmJyO1xuICAgICAgaWYgKHRoaXMuaW50ZXJzZWN0c1dpdGhSZWN0KHBvaW50VEwsIHBvaW50QlIsIHRydWUsIGNhbGN1bGF0ZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fY29udGFpbnNDZW50ZXJPZkNhbnZhcyhwb2ludFRMLCBwb2ludEJSLCBjYWxjdWxhdGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdGhhdCByZXR1cm5zIGFuIG9iamVjdCB3aXRoIHRoZSBvYmplY3QgZWRnZXMgaW4gaXQsIGdpdmVuIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgY29ybmVyc1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9Db29yZHMgQ29vcmRpbmF0ZXMgb2YgdGhlIG9iamVjdCBjb3JuZXJzXG4gICAgICovXG4gICAgX2dldEltYWdlTGluZXM6IGZ1bmN0aW9uKG9Db29yZHMpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRvcGxpbmU6IHtcbiAgICAgICAgICBvOiBvQ29vcmRzLnRsLFxuICAgICAgICAgIGQ6IG9Db29yZHMudHJcbiAgICAgICAgfSxcbiAgICAgICAgcmlnaHRsaW5lOiB7XG4gICAgICAgICAgbzogb0Nvb3Jkcy50cixcbiAgICAgICAgICBkOiBvQ29vcmRzLmJyXG4gICAgICAgIH0sXG4gICAgICAgIGJvdHRvbWxpbmU6IHtcbiAgICAgICAgICBvOiBvQ29vcmRzLmJyLFxuICAgICAgICAgIGQ6IG9Db29yZHMuYmxcbiAgICAgICAgfSxcbiAgICAgICAgbGVmdGxpbmU6IHtcbiAgICAgICAgICBvOiBvQ29vcmRzLmJsLFxuICAgICAgICAgIGQ6IG9Db29yZHMudGxcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSGVscGVyIG1ldGhvZCB0byBkZXRlcm1pbmUgaG93IG1hbnkgY3Jvc3MgcG9pbnRzIGFyZSBiZXR3ZWVuIHRoZSA0IG9iamVjdCBlZGdlc1xuICAgICAqIGFuZCB0aGUgaG9yaXpvbnRhbCBsaW5lIGRldGVybWluZWQgYnkgYSBwb2ludCBvbiBjYW52YXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBwb2ludCBQb2ludCB0byBjaGVja1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBsaW5lcyBDb29yZGluYXRlcyBvZiB0aGUgb2JqZWN0IGJlaW5nIGV2YWx1YXRlZFxuICAgICAqL1xuICAgIC8vIHJlbW92ZSB5aSwgbm90IHVzZWQgYnV0IGxlZnQgY29kZSBoZXJlIGp1c3QgaW4gY2FzZS5cbiAgICBfZmluZENyb3NzUG9pbnRzOiBmdW5jdGlvbihwb2ludCwgbGluZXMpIHtcbiAgICAgIHZhciBiMSwgYjIsIGExLCBhMiwgeGksIC8vIHlpLFxuICAgICAgICAgIHhjb3VudCA9IDAsXG4gICAgICAgICAgaUxpbmU7XG5cbiAgICAgIGZvciAodmFyIGxpbmVLZXkgaW4gbGluZXMpIHtcbiAgICAgICAgaUxpbmUgPSBsaW5lc1tsaW5lS2V5XTtcbiAgICAgICAgLy8gb3B0aW1pc2F0aW9uIDE6IGxpbmUgYmVsb3cgcG9pbnQuIG5vIGNyb3NzXG4gICAgICAgIGlmICgoaUxpbmUuby55IDwgcG9pbnQueSkgJiYgKGlMaW5lLmQueSA8IHBvaW50LnkpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gb3B0aW1pc2F0aW9uIDI6IGxpbmUgYWJvdmUgcG9pbnQuIG5vIGNyb3NzXG4gICAgICAgIGlmICgoaUxpbmUuby55ID49IHBvaW50LnkpICYmIChpTGluZS5kLnkgPj0gcG9pbnQueSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBvcHRpbWlzYXRpb24gMzogdmVydGljYWwgbGluZSBjYXNlXG4gICAgICAgIGlmICgoaUxpbmUuby54ID09PSBpTGluZS5kLngpICYmIChpTGluZS5vLnggPj0gcG9pbnQueCkpIHtcbiAgICAgICAgICB4aSA9IGlMaW5lLm8ueDtcbiAgICAgICAgICAvLyB5aSA9IHBvaW50Lnk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSBpbnRlcnNlY3Rpb24gcG9pbnRcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgYjEgPSAwO1xuICAgICAgICAgIGIyID0gKGlMaW5lLmQueSAtIGlMaW5lLm8ueSkgLyAoaUxpbmUuZC54IC0gaUxpbmUuby54KTtcbiAgICAgICAgICBhMSA9IHBvaW50LnkgLSBiMSAqIHBvaW50Lng7XG4gICAgICAgICAgYTIgPSBpTGluZS5vLnkgLSBiMiAqIGlMaW5lLm8ueDtcblxuICAgICAgICAgIHhpID0gLShhMSAtIGEyKSAvIChiMSAtIGIyKTtcbiAgICAgICAgICAvLyB5aSA9IGExICsgYjEgKiB4aTtcbiAgICAgICAgfVxuICAgICAgICAvLyBkb250IGNvdW50IHhpIDwgcG9pbnQueCBjYXNlc1xuICAgICAgICBpZiAoeGkgPj0gcG9pbnQueCkge1xuICAgICAgICAgIHhjb3VudCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIC8vIG9wdGltaXNhdGlvbiA0OiBzcGVjaWZpYyBmb3Igc3F1YXJlIGltYWdlc1xuICAgICAgICBpZiAoeGNvdW50ID09PSAyKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB4Y291bnQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY29vcmRpbmF0ZXMgb2Ygb2JqZWN0J3MgYm91bmRpbmcgcmVjdGFuZ2xlIChsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpXG4gICAgICogdGhlIGJveCBpcyBpbnRlbmRlZCBhcyBhbGlnbmVkIHRvIGF4aXMgb2YgY2FudmFzLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2Fic29sdXRlXSB1c2UgY29vcmRpbmF0ZXMgd2l0aG91dCB2aWV3cG9ydFRyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NhbGN1bGF0ZV0gdXNlIGNvb3JkaW5hdGVzIG9mIGN1cnJlbnQgcG9zaXRpb24gaW5zdGVhZCBvZiAub0Nvb3JkcyAvIC5hQ29vcmRzXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3Qgd2l0aCBsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQgcHJvcGVydGllc1xuICAgICAqL1xuICAgIGdldEJvdW5kaW5nUmVjdDogZnVuY3Rpb24oYWJzb2x1dGUsIGNhbGN1bGF0ZSkge1xuICAgICAgdmFyIGNvb3JkcyA9IHRoaXMuZ2V0Q29vcmRzKGFic29sdXRlLCBjYWxjdWxhdGUpO1xuICAgICAgcmV0dXJuIGZhYnJpYy51dGlsLm1ha2VCb3VuZGluZ0JveEZyb21Qb2ludHMoY29vcmRzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aWR0aCBvZiBhbiBvYmplY3QncyBib3VuZGluZyBib3ggY291bnRpbmcgdHJhbnNmb3JtYXRpb25zXG4gICAgICogYmVmb3JlIDIuMCBpdCB3YXMgbmFtZWQgZ2V0V2lkdGgoKTtcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHdpZHRoIHZhbHVlXG4gICAgICovXG4gICAgZ2V0U2NhbGVkV2lkdGg6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2dldFRyYW5zZm9ybWVkRGltZW5zaW9ucygpLng7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgaGVpZ2h0IG9mIGFuIG9iamVjdCBib3VuZGluZyBib3ggY291bnRpbmcgdHJhbnNmb3JtYXRpb25zXG4gICAgICogYmVmb3JlIDIuMCBpdCB3YXMgbmFtZWQgZ2V0SGVpZ2h0KCk7XG4gICAgICogQHJldHVybiB7TnVtYmVyfSBoZWlnaHQgdmFsdWVcbiAgICAgKi9cbiAgICBnZXRTY2FsZWRIZWlnaHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX2dldFRyYW5zZm9ybWVkRGltZW5zaW9ucygpLnk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1ha2VzIHN1cmUgdGhlIHNjYWxlIGlzIHZhbGlkIGFuZCBtb2RpZmllcyBpdCBpZiBuZWNlc3NhcnlcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB2YWx1ZVxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKi9cbiAgICBfY29uc3RyYWluU2NhbGU6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoTWF0aC5hYnModmFsdWUpIDwgdGhpcy5taW5TY2FsZUxpbWl0KSB7XG4gICAgICAgIGlmICh2YWx1ZSA8IDApIHtcbiAgICAgICAgICByZXR1cm4gLXRoaXMubWluU2NhbGVMaW1pdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5taW5TY2FsZUxpbWl0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh2YWx1ZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gMC4wMDAxO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTY2FsZXMgYW4gb2JqZWN0IChlcXVhbGx5IGJ5IHggYW5kIHkpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlIFNjYWxlIGZhY3RvclxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2NhbGU6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB0aGlzLl9zZXQoJ3NjYWxlWCcsIHZhbHVlKTtcbiAgICAgIHRoaXMuX3NldCgnc2NhbGVZJywgdmFsdWUpO1xuICAgICAgcmV0dXJuIHRoaXMuc2V0Q29vcmRzKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNjYWxlcyBhbiBvYmplY3QgdG8gYSBnaXZlbiB3aWR0aCwgd2l0aCByZXNwZWN0IHRvIGJvdW5kaW5nIGJveCAoc2NhbGluZyBieSB4L3kgZXF1YWxseSlcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gdmFsdWUgTmV3IHdpZHRoIHZhbHVlXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBhYnNvbHV0ZSBpZ25vcmUgdmlld3BvcnRcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHNjYWxlVG9XaWR0aDogZnVuY3Rpb24odmFsdWUsIGFic29sdXRlKSB7XG4gICAgICAvLyBhZGp1c3QgdG8gYm91bmRpbmcgcmVjdCBmYWN0b3Igc28gdGhhdCByb3RhdGVkIHNoYXBlcyB3b3VsZCBmaXQgYXMgd2VsbFxuICAgICAgdmFyIGJvdW5kaW5nUmVjdEZhY3RvciA9IHRoaXMuZ2V0Qm91bmRpbmdSZWN0KGFic29sdXRlKS53aWR0aCAvIHRoaXMuZ2V0U2NhbGVkV2lkdGgoKTtcbiAgICAgIHJldHVybiB0aGlzLnNjYWxlKHZhbHVlIC8gdGhpcy53aWR0aCAvIGJvdW5kaW5nUmVjdEZhY3Rvcik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNjYWxlcyBhbiBvYmplY3QgdG8gYSBnaXZlbiBoZWlnaHQsIHdpdGggcmVzcGVjdCB0byBib3VuZGluZyBib3ggKHNjYWxpbmcgYnkgeC95IGVxdWFsbHkpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHZhbHVlIE5ldyBoZWlnaHQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGFic29sdXRlIGlnbm9yZSB2aWV3cG9ydFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2NhbGVUb0hlaWdodDogZnVuY3Rpb24odmFsdWUsIGFic29sdXRlKSB7XG4gICAgICAvLyBhZGp1c3QgdG8gYm91bmRpbmcgcmVjdCBmYWN0b3Igc28gdGhhdCByb3RhdGVkIHNoYXBlcyB3b3VsZCBmaXQgYXMgd2VsbFxuICAgICAgdmFyIGJvdW5kaW5nUmVjdEZhY3RvciA9IHRoaXMuZ2V0Qm91bmRpbmdSZWN0KGFic29sdXRlKS5oZWlnaHQgLyB0aGlzLmdldFNjYWxlZEhlaWdodCgpO1xuICAgICAgcmV0dXJuIHRoaXMuc2NhbGUodmFsdWUgLyB0aGlzLmhlaWdodCAvIGJvdW5kaW5nUmVjdEZhY3Rvcik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgYW5kIHJldHVybnMgdGhlIC5jb29yZHMgb2YgYW4gb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHdpdGggdGwsIHRyLCBiciwgYmwgLi4uLlxuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBjYWxjQ29vcmRzOiBmdW5jdGlvbihhYnNvbHV0ZSkge1xuICAgICAgdmFyIHJvdGF0ZU1hdHJpeCA9IHRoaXMuX2NhbGNSb3RhdGVNYXRyaXgoKSxcbiAgICAgICAgICB0cmFuc2xhdGVNYXRyaXggPSB0aGlzLl9jYWxjVHJhbnNsYXRlTWF0cml4KCksXG4gICAgICAgICAgc3RhcnRNYXRyaXggPSBtdWx0aXBseU1hdHJpY2VzKHRyYW5zbGF0ZU1hdHJpeCwgcm90YXRlTWF0cml4KSxcbiAgICAgICAgICB2cHQgPSB0aGlzLmdldFZpZXdwb3J0VHJhbnNmb3JtKCksXG4gICAgICAgICAgZmluYWxNYXRyaXggPSBhYnNvbHV0ZSA/IHN0YXJ0TWF0cml4IDogbXVsdGlwbHlNYXRyaWNlcyh2cHQsIHN0YXJ0TWF0cml4KSxcbiAgICAgICAgICBkaW0gPSB0aGlzLl9nZXRUcmFuc2Zvcm1lZERpbWVuc2lvbnMoKSxcbiAgICAgICAgICB3ID0gZGltLnggLyAyLCBoID0gZGltLnkgLyAyLFxuICAgICAgICAgIHRsID0gdHJhbnNmb3JtUG9pbnQoeyB4OiAtdywgeTogLWggfSwgZmluYWxNYXRyaXgpLFxuICAgICAgICAgIHRyID0gdHJhbnNmb3JtUG9pbnQoeyB4OiB3LCB5OiAtaCB9LCBmaW5hbE1hdHJpeCksXG4gICAgICAgICAgYmwgPSB0cmFuc2Zvcm1Qb2ludCh7IHg6IC13LCB5OiBoIH0sIGZpbmFsTWF0cml4KSxcbiAgICAgICAgICBiciA9IHRyYW5zZm9ybVBvaW50KHsgeDogdywgeTogaCB9LCBmaW5hbE1hdHJpeCk7XG4gICAgICBpZiAoIWFic29sdXRlKSB7XG4gICAgICAgIHZhciBwYWRkaW5nID0gdGhpcy5wYWRkaW5nLCBhbmdsZSA9IGRlZ3JlZXNUb1JhZGlhbnModGhpcy5hbmdsZSksXG4gICAgICAgICAgICBjb3MgPSBmYWJyaWMudXRpbC5jb3MoYW5nbGUpLCBzaW4gPSBmYWJyaWMudXRpbC5zaW4oYW5nbGUpLFxuICAgICAgICAgICAgY29zUCA9IGNvcyAqIHBhZGRpbmcsIHNpblAgPSBzaW4gKiBwYWRkaW5nLCBjb3NQU2luUCA9IGNvc1AgKyBzaW5QLFxuICAgICAgICAgICAgY29zUE1pbnVzU2luUCA9IGNvc1AgLSBzaW5QO1xuICAgICAgICBpZiAocGFkZGluZykge1xuICAgICAgICAgIHRsLnggLT0gY29zUE1pbnVzU2luUDtcbiAgICAgICAgICB0bC55IC09IGNvc1BTaW5QO1xuICAgICAgICAgIHRyLnggKz0gY29zUFNpblA7XG4gICAgICAgICAgdHIueSAtPSBjb3NQTWludXNTaW5QO1xuICAgICAgICAgIGJsLnggLT0gY29zUFNpblA7XG4gICAgICAgICAgYmwueSArPSBjb3NQTWludXNTaW5QO1xuICAgICAgICAgIGJyLnggKz0gY29zUE1pbnVzU2luUDtcbiAgICAgICAgICBici55ICs9IGNvc1BTaW5QO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtbCAgPSBuZXcgZmFicmljLlBvaW50KCh0bC54ICsgYmwueCkgLyAyLCAodGwueSArIGJsLnkpIC8gMiksXG4gICAgICAgICAgICBtdCAgPSBuZXcgZmFicmljLlBvaW50KCh0ci54ICsgdGwueCkgLyAyLCAodHIueSArIHRsLnkpIC8gMiksXG4gICAgICAgICAgICBtciAgPSBuZXcgZmFicmljLlBvaW50KChici54ICsgdHIueCkgLyAyLCAoYnIueSArIHRyLnkpIC8gMiksXG4gICAgICAgICAgICBtYiAgPSBuZXcgZmFicmljLlBvaW50KChici54ICsgYmwueCkgLyAyLCAoYnIueSArIGJsLnkpIC8gMiksXG4gICAgICAgICAgICBtdHIgPSBuZXcgZmFicmljLlBvaW50KG10LnggKyBzaW4gKiB0aGlzLnJvdGF0aW5nUG9pbnRPZmZzZXQsIG10LnkgLSBjb3MgKiB0aGlzLnJvdGF0aW5nUG9pbnRPZmZzZXQpO1xuICAgICAgfVxuXG4gICAgICAvLyBpZiAoIWFic29sdXRlKSB7XG4gICAgICAvLyAgIHZhciBjYW52YXMgPSB0aGlzLmNhbnZhcztcbiAgICAgIC8vICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIC8vICAgICBjYW52YXMuY29udGV4dFRvcC5jbGVhclJlY3QoMCwgMCwgNzAwLCA3MDApO1xuICAgICAgLy8gICAgIGNhbnZhcy5jb250ZXh0VG9wLmZpbGxTdHlsZSA9ICdncmVlbic7XG4gICAgICAvLyAgICAgY2FudmFzLmNvbnRleHRUb3AuZmlsbFJlY3QobWIueCwgbWIueSwgMywgMyk7XG4gICAgICAvLyAgICAgY2FudmFzLmNvbnRleHRUb3AuZmlsbFJlY3QoYmwueCwgYmwueSwgMywgMyk7XG4gICAgICAvLyAgICAgY2FudmFzLmNvbnRleHRUb3AuZmlsbFJlY3QoYnIueCwgYnIueSwgMywgMyk7XG4gICAgICAvLyAgICAgY2FudmFzLmNvbnRleHRUb3AuZmlsbFJlY3QodGwueCwgdGwueSwgMywgMyk7XG4gICAgICAvLyAgICAgY2FudmFzLmNvbnRleHRUb3AuZmlsbFJlY3QodHIueCwgdHIueSwgMywgMyk7XG4gICAgICAvLyAgICAgY2FudmFzLmNvbnRleHRUb3AuZmlsbFJlY3QobWwueCwgbWwueSwgMywgMyk7XG4gICAgICAvLyAgICAgY2FudmFzLmNvbnRleHRUb3AuZmlsbFJlY3QobXIueCwgbXIueSwgMywgMyk7XG4gICAgICAvLyAgICAgY2FudmFzLmNvbnRleHRUb3AuZmlsbFJlY3QobXQueCwgbXQueSwgMywgMyk7XG4gICAgICAvLyAgICAgY2FudmFzLmNvbnRleHRUb3AuZmlsbFJlY3QobXRyLngsIG10ci55LCAzLCAzKTtcbiAgICAgIC8vICAgfSwgNTApO1xuICAgICAgLy8gfVxuXG4gICAgICB2YXIgY29vcmRzID0ge1xuICAgICAgICAvLyBjb3JuZXJzXG4gICAgICAgIHRsOiB0bCwgdHI6IHRyLCBicjogYnIsIGJsOiBibCxcbiAgICAgIH07XG4gICAgICBpZiAoIWFic29sdXRlKSB7XG4gICAgICAgIC8vIG1pZGRsZVxuICAgICAgICBjb29yZHMubWwgPSBtbDtcbiAgICAgICAgY29vcmRzLm10ID0gbXQ7XG4gICAgICAgIGNvb3Jkcy5tciA9IG1yO1xuICAgICAgICBjb29yZHMubWIgPSBtYjtcbiAgICAgICAgLy8gcm90YXRpbmcgcG9pbnRcbiAgICAgICAgY29vcmRzLm10ciA9IG10cjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb29yZHM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgY29ybmVyIHBvc2l0aW9uIGNvb3JkaW5hdGVzIGJhc2VkIG9uIGN1cnJlbnQgYW5nbGUsIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgICogU2VlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20va2FuZ2F4L2ZhYnJpYy5qcy93aWtpL1doZW4tdG8tY2FsbC1zZXRDb29yZHN8V2hlbi10by1jYWxsLXNldENvb3Jkc31cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtpZ25vcmVab29tXSBzZXQgb0Nvb3JkcyB3aXRoIG9yIHdpdGhvdXQgdGhlIHZpZXdwb3J0IHRyYW5zZm9ybS5cbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtza2lwQWJzb2x1dGVdIHNraXAgY2FsY3VsYXRpb24gb2YgYUNvb3JkcywgdXNlZnVsIGluIHNldFZpZXdwb3J0VHJhbnNmb3JtXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXRDb29yZHM6IGZ1bmN0aW9uKGlnbm9yZVpvb20sIHNraXBBYnNvbHV0ZSkge1xuICAgICAgdGhpcy5vQ29vcmRzID0gdGhpcy5jYWxjQ29vcmRzKGlnbm9yZVpvb20pO1xuICAgICAgaWYgKCFza2lwQWJzb2x1dGUpIHtcbiAgICAgICAgdGhpcy5hQ29vcmRzID0gdGhpcy5jYWxjQ29vcmRzKHRydWUpO1xuICAgICAgfVxuXG4gICAgICAvLyBzZXQgY29vcmRpbmF0ZXMgb2YgdGhlIGRyYWdnYWJsZSBib3hlcyBpbiB0aGUgY29ybmVycyB1c2VkIHRvIHNjYWxlL3JvdGF0ZSB0aGUgaW1hZ2VcbiAgICAgIGlnbm9yZVpvb20gfHwgKHRoaXMuX3NldENvcm5lckNvb3JkcyAmJiB0aGlzLl9zZXRDb3JuZXJDb29yZHMoKSk7XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjYWxjdWxhdGUgcm90YXRpb24gbWF0cml4IG9mIGFuIG9iamVjdFxuICAgICAqIEByZXR1cm4ge0FycmF5fSByb3RhdGlvbiBtYXRyaXggZm9yIHRoZSBvYmplY3RcbiAgICAgKi9cbiAgICBfY2FsY1JvdGF0ZU1hdHJpeDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZmFicmljLnV0aWwuY2FsY1JvdGF0ZU1hdHJpeCh0aGlzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlIHRoZSB0cmFuc2xhdGlvbiBtYXRyaXggZm9yIGFuIG9iamVjdCB0cmFuc2Zvcm1cbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gcm90YXRpb24gbWF0cml4IGZvciB0aGUgb2JqZWN0XG4gICAgICovXG4gICAgX2NhbGNUcmFuc2xhdGVNYXRyaXg6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyUG9pbnQoKTtcbiAgICAgIHJldHVybiBbMSwgMCwgMCwgMSwgY2VudGVyLngsIGNlbnRlci55XTtcbiAgICB9LFxuXG4gICAgdHJhbnNmb3JtTWF0cml4S2V5OiBmdW5jdGlvbihza2lwR3JvdXApIHtcbiAgICAgIHZhciBzZXAgPSAnXycsIHByZWZpeCA9ICcnO1xuICAgICAgaWYgKCFza2lwR3JvdXAgJiYgdGhpcy5ncm91cCkge1xuICAgICAgICBwcmVmaXggPSB0aGlzLmdyb3VwLnRyYW5zZm9ybU1hdHJpeEtleShza2lwR3JvdXApICsgc2VwO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBwcmVmaXggKyB0aGlzLnRvcCArIHNlcCArIHRoaXMubGVmdCArIHNlcCArIHRoaXMuc2NhbGVYICsgc2VwICsgdGhpcy5zY2FsZVkgK1xuICAgICAgICBzZXAgKyB0aGlzLnNrZXdYICsgc2VwICsgdGhpcy5za2V3WSArIHNlcCArIHRoaXMuYW5nbGUgKyBzZXAgKyB0aGlzLm9yaWdpblggKyBzZXAgKyB0aGlzLm9yaWdpblkgK1xuICAgICAgICBzZXAgKyB0aGlzLndpZHRoICsgc2VwICsgdGhpcy5oZWlnaHQgKyBzZXAgKyB0aGlzLnN0cm9rZVdpZHRoICsgdGhpcy5mbGlwWCArIHRoaXMuZmxpcFk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNhbGN1bGF0ZSB0cmFuc2Zvcm0gbWF0cml4IHRoYXQgcmVwcmVzZW50cyB0aGUgY3VycmVudCB0cmFuc2Zvcm1hdGlvbnMgZnJvbSB0aGVcbiAgICAgKiBvYmplY3QncyBwcm9wZXJ0aWVzLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3NraXBHcm91cF0gcmV0dXJuIHRyYW5zZm9ybSBtYXRyaXggZm9yIG9iamVjdCBub3QgY291bnRpbmcgcGFyZW50IHRyYW5zZm9ybWF0aW9uc1xuICAgICAqIEByZXR1cm4ge0FycmF5fSB0cmFuc2Zvcm0gbWF0cml4IGZvciB0aGUgb2JqZWN0XG4gICAgICovXG4gICAgY2FsY1RyYW5zZm9ybU1hdHJpeDogZnVuY3Rpb24oc2tpcEdyb3VwKSB7XG4gICAgICBpZiAoc2tpcEdyb3VwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGNPd25NYXRyaXgoKTtcbiAgICAgIH1cbiAgICAgIHZhciBrZXkgPSB0aGlzLnRyYW5zZm9ybU1hdHJpeEtleSgpLCBjYWNoZSA9IHRoaXMubWF0cml4Q2FjaGUgfHwgKHRoaXMubWF0cml4Q2FjaGUgPSB7fSk7XG4gICAgICBpZiAoY2FjaGUua2V5ID09PSBrZXkpIHtcbiAgICAgICAgcmV0dXJuIGNhY2hlLnZhbHVlO1xuICAgICAgfVxuICAgICAgdmFyIG1hdHJpeCA9IHRoaXMuY2FsY093bk1hdHJpeCgpO1xuICAgICAgaWYgKHRoaXMuZ3JvdXApIHtcbiAgICAgICAgbWF0cml4ID0gbXVsdGlwbHlNYXRyaWNlcyh0aGlzLmdyb3VwLmNhbGNUcmFuc2Zvcm1NYXRyaXgoKSwgbWF0cml4KTtcbiAgICAgIH1cbiAgICAgIGNhY2hlLmtleSA9IGtleTtcbiAgICAgIGNhY2hlLnZhbHVlID0gbWF0cml4O1xuICAgICAgcmV0dXJuIG1hdHJpeDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY2FsY3VsYXRlIHRyYW5zZm9ybSBtYXRyaXggdGhhdCByZXByZXNlbnRzIHRoZSBjdXJyZW50IHRyYW5zZm9ybWF0aW9ucyBmcm9tIHRoZVxuICAgICAqIG9iamVjdCdzIHByb3BlcnRpZXMsIHRoaXMgbWF0cml4IGRvZXMgbm90IGluY2x1ZGUgdGhlIGdyb3VwIHRyYW5zZm9ybWF0aW9uXG4gICAgICogQHJldHVybiB7QXJyYXl9IHRyYW5zZm9ybSBtYXRyaXggZm9yIHRoZSBvYmplY3RcbiAgICAgKi9cbiAgICBjYWxjT3duTWF0cml4OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBrZXkgPSB0aGlzLnRyYW5zZm9ybU1hdHJpeEtleSh0cnVlKSwgY2FjaGUgPSB0aGlzLm93bk1hdHJpeENhY2hlIHx8ICh0aGlzLm93bk1hdHJpeENhY2hlID0ge30pO1xuICAgICAgaWYgKGNhY2hlLmtleSA9PT0ga2V5KSB7XG4gICAgICAgIHJldHVybiBjYWNoZS52YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhciB0TWF0cml4ID0gdGhpcy5fY2FsY1RyYW5zbGF0ZU1hdHJpeCgpO1xuICAgICAgdGhpcy50cmFuc2xhdGVYID0gdE1hdHJpeFs0XTtcbiAgICAgIHRoaXMudHJhbnNsYXRlWSA9IHRNYXRyaXhbNV07XG4gICAgICBjYWNoZS5rZXkgPSBrZXk7XG4gICAgICBjYWNoZS52YWx1ZSA9IGZhYnJpYy51dGlsLmNvbXBvc2VNYXRyaXgodGhpcyk7XG4gICAgICByZXR1cm4gY2FjaGUudmFsdWU7XG4gICAgfSxcblxuICAgIC8qXG4gICAgICogQ2FsY3VsYXRlIG9iamVjdCBkaW1lbnNpb25zIGZyb20gaXRzIHByb3BlcnRpZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDMuNC4wLCBwbGVhc2UgdXNlIGZhYnJpYy51dGlsLl9jYWxjRGltZW5zaW9uc1RyYW5zZm9ybU1hdHJpeFxuICAgICAqIG5vdCBpbmNsdWRpbmcgb3IgaW5jbHVkaW5nIGZsaXBYLCBmbGlwWSB0byBlbXVsYXRlIHRoZSBmbGlwcGluZyBib29sZWFuXG4gICAgICogQHJldHVybiB7T2JqZWN0fSAueCB3aWR0aCBkaW1lbnNpb25cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IC55IGhlaWdodCBkaW1lbnNpb25cbiAgICAgKi9cbiAgICBfY2FsY0RpbWVuc2lvbnNUcmFuc2Zvcm1NYXRyaXg6IGZ1bmN0aW9uKHNrZXdYLCBza2V3WSwgZmxpcHBpbmcpIHtcbiAgICAgIHJldHVybiBmYWJyaWMudXRpbC5jYWxjRGltZW5zaW9uc01hdHJpeCh7XG4gICAgICAgIHNrZXdYOiBza2V3WCxcbiAgICAgICAgc2tld1k6IHNrZXdZLFxuICAgICAgICBzY2FsZVg6IHRoaXMuc2NhbGVYICogKGZsaXBwaW5nICYmIHRoaXMuZmxpcFggPyAtMSA6IDEpLFxuICAgICAgICBzY2FsZVk6IHRoaXMuc2NhbGVZICogKGZsaXBwaW5nICYmIHRoaXMuZmxpcFkgPyAtMSA6IDEpXG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLypcbiAgICAgKiBDYWxjdWxhdGUgb2JqZWN0IGRpbWVuc2lvbnMgZnJvbSBpdHMgcHJvcGVydGllc1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSAueCB3aWR0aCBkaW1lbnNpb25cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IC55IGhlaWdodCBkaW1lbnNpb25cbiAgICAgKi9cbiAgICBfZ2V0Tm9uVHJhbnNmb3JtZWREaW1lbnNpb25zOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzdHJva2VXaWR0aCA9IHRoaXMuc3Ryb2tlV2lkdGgsXG4gICAgICAgICAgdyA9IHRoaXMud2lkdGggKyBzdHJva2VXaWR0aCxcbiAgICAgICAgICBoID0gdGhpcy5oZWlnaHQgKyBzdHJva2VXaWR0aDtcbiAgICAgIHJldHVybiB7IHg6IHcsIHk6IGggfTtcbiAgICB9LFxuXG4gICAgLypcbiAgICAgKiBDYWxjdWxhdGUgb2JqZWN0IGJvdW5kaW5nIGJveCBkaW1lbnNpb25zIGZyb20gaXRzIHByb3BlcnRpZXMgc2NhbGUsIHNrZXcuXG4gICAgICogVGhlIHNrZXdYIGFuZCBza2V3WSBwYXJhbWV0ZXJzIGFyZSB1c2VkIGluIHRoZSBza2V3aW5nIGxvZ2ljIHBhdGggYW5kXG4gICAgICogZG8gbm90IHByb3ZpZGUgc29tZXRoaW5nIHVzZWZ1bCB0byBjb21tb24gdXNlIGNhc2VzLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc2tld1hdLCBhIHZhbHVlIHRvIG92ZXJyaWRlIGN1cnJlbnQgc2tld1hcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NrZXdZXSwgYSB2YWx1ZSB0byBvdmVycmlkZSBjdXJyZW50IHNrZXdZXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IC54IHdpZHRoIGRpbWVuc2lvblxuICAgICAqIEByZXR1cm4ge09iamVjdH0gLnkgaGVpZ2h0IGRpbWVuc2lvblxuICAgICAqL1xuICAgIF9nZXRUcmFuc2Zvcm1lZERpbWVuc2lvbnM6IGZ1bmN0aW9uKHNrZXdYLCBza2V3WSkge1xuICAgICAgaWYgKHR5cGVvZiBza2V3WCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc2tld1ggPSB0aGlzLnNrZXdYO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBza2V3WSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc2tld1kgPSB0aGlzLnNrZXdZO1xuICAgICAgfVxuICAgICAgdmFyIGRpbWVuc2lvbnMgPSB0aGlzLl9nZXROb25UcmFuc2Zvcm1lZERpbWVuc2lvbnMoKSwgZGltWCwgZGltWSxcbiAgICAgICAgICBub1NrZXcgPSBza2V3WCA9PT0gMCAmJiBza2V3WSA9PT0gMDtcblxuICAgICAgaWYgKHRoaXMuc3Ryb2tlVW5pZm9ybSkge1xuICAgICAgICBkaW1YID0gdGhpcy53aWR0aDtcbiAgICAgICAgZGltWSA9IHRoaXMuaGVpZ2h0O1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGRpbVggPSBkaW1lbnNpb25zLng7XG4gICAgICAgIGRpbVkgPSBkaW1lbnNpb25zLnk7XG4gICAgICB9XG4gICAgICBpZiAobm9Ta2V3KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9maW5hbGl6ZURpbWVuc2lvbnMoZGltWCAqIHRoaXMuc2NhbGVYLCBkaW1ZICogdGhpcy5zY2FsZVkpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGRpbVggLz0gMjtcbiAgICAgICAgZGltWSAvPSAyO1xuICAgICAgfVxuICAgICAgdmFyIHBvaW50cyA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgeDogLWRpbVgsXG4gICAgICAgICAgICAgIHk6IC1kaW1ZXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB4OiBkaW1YLFxuICAgICAgICAgICAgICB5OiAtZGltWVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgeDogLWRpbVgsXG4gICAgICAgICAgICAgIHk6IGRpbVlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHg6IGRpbVgsXG4gICAgICAgICAgICAgIHk6IGRpbVlcbiAgICAgICAgICAgIH1dLFxuICAgICAgICAgIHRyYW5zZm9ybU1hdHJpeCA9IGZhYnJpYy51dGlsLmNhbGNEaW1lbnNpb25zTWF0cml4KHtcbiAgICAgICAgICAgIHNjYWxlWDogdGhpcy5zY2FsZVgsXG4gICAgICAgICAgICBzY2FsZVk6IHRoaXMuc2NhbGVZLFxuICAgICAgICAgICAgc2tld1g6IHNrZXdYLFxuICAgICAgICAgICAgc2tld1k6IHNrZXdZLFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIGJib3ggPSBmYWJyaWMudXRpbC5tYWtlQm91bmRpbmdCb3hGcm9tUG9pbnRzKHBvaW50cywgdHJhbnNmb3JtTWF0cml4KTtcbiAgICAgIHJldHVybiB0aGlzLl9maW5hbGl6ZURpbWVuc2lvbnMoYmJveC53aWR0aCwgYmJveC5oZWlnaHQpO1xuICAgIH0sXG5cbiAgICAvKlxuICAgICAqIENhbGN1bGF0ZSBvYmplY3QgYm91bmRpbmcgYm94IGRpbWVuc2lvbnMgZnJvbSBpdHMgcHJvcGVydGllcyBzY2FsZSwgc2tldy5cbiAgICAgKiBAcGFyYW0gTnVtYmVyIHdpZHRoIHdpZHRoIG9mIHRoZSBiYm94XG4gICAgICogQHBhcmFtIE51bWJlciBoZWlnaHQgaGVpZ2h0IG9mIHRoZSBiYm94XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IC54IGZpbmFsaXplZCB3aWR0aCBkaW1lbnNpb25cbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IC55IGZpbmFsaXplZCBoZWlnaHQgZGltZW5zaW9uXG4gICAgICovXG4gICAgX2ZpbmFsaXplRGltZW5zaW9uczogZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3Ryb2tlVW5pZm9ybSA/XG4gICAgICAgIHsgeDogd2lkdGggKyB0aGlzLnN0cm9rZVdpZHRoLCB5OiBoZWlnaHQgKyB0aGlzLnN0cm9rZVdpZHRoIH1cbiAgICAgICAgOlxuICAgICAgICB7IHg6IHdpZHRoLCB5OiBoZWlnaHQgfTtcbiAgICB9LFxuICAgIC8qXG4gICAgICogQ2FsY3VsYXRlIG9iamVjdCBkaW1lbnNpb25zIGZvciBjb250cm9scywgaW5jbHVkaW5nIHBhZGRpbmcgYW5kIGNhbnZhcyB6b29tLlxuICAgICAqIHByaXZhdGVcbiAgICAgKi9cbiAgICBfY2FsY3VsYXRlQ3VycmVudERpbWVuc2lvbnM6IGZ1bmN0aW9uKCkgIHtcbiAgICAgIHZhciB2cHQgPSB0aGlzLmdldFZpZXdwb3J0VHJhbnNmb3JtKCksXG4gICAgICAgICAgZGltID0gdGhpcy5fZ2V0VHJhbnNmb3JtZWREaW1lbnNpb25zKCksXG4gICAgICAgICAgcCA9IGZhYnJpYy51dGlsLnRyYW5zZm9ybVBvaW50KGRpbSwgdnB0LCB0cnVlKTtcblxuICAgICAgcmV0dXJuIHAuc2NhbGFyQWRkKDIgKiB0aGlzLnBhZGRpbmcpO1xuICAgIH0sXG4gIH0pO1xufSkoKTtcblxuXG5mYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5PYmplY3QucHJvdG90eXBlLCAvKiogQGxlbmRzIGZhYnJpYy5PYmplY3QucHJvdG90eXBlICovIHtcblxuICAvKipcbiAgICogTW92ZXMgYW4gb2JqZWN0IHRvIHRoZSBib3R0b20gb2YgdGhlIHN0YWNrIG9mIGRyYXduIG9iamVjdHNcbiAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgKiBAY2hhaW5hYmxlXG4gICAqL1xuICBzZW5kVG9CYWNrOiBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5ncm91cCkge1xuICAgICAgZmFicmljLlN0YXRpY0NhbnZhcy5wcm90b3R5cGUuc2VuZFRvQmFjay5jYWxsKHRoaXMuZ3JvdXAsIHRoaXMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuY2FudmFzLnNlbmRUb0JhY2sodGhpcyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb3ZlcyBhbiBvYmplY3QgdG8gdGhlIHRvcCBvZiB0aGUgc3RhY2sgb2YgZHJhd24gb2JqZWN0c1xuICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAqIEBjaGFpbmFibGVcbiAgICovXG4gIGJyaW5nVG9Gcm9udDogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuZ3JvdXApIHtcbiAgICAgIGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlLmJyaW5nVG9Gcm9udC5jYWxsKHRoaXMuZ3JvdXAsIHRoaXMpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuY2FudmFzLmJyaW5nVG9Gcm9udCh0aGlzKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vdmVzIGFuIG9iamVjdCBkb3duIGluIHN0YWNrIG9mIGRyYXduIG9iamVjdHNcbiAgICogQHBhcmFtIHtCb29sZWFufSBbaW50ZXJzZWN0aW5nXSBJZiBgdHJ1ZWAsIHNlbmQgb2JqZWN0IGJlaGluZCBuZXh0IGxvd2VyIGludGVyc2VjdGluZyBvYmplY3RcbiAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgKiBAY2hhaW5hYmxlXG4gICAqL1xuICBzZW5kQmFja3dhcmRzOiBmdW5jdGlvbihpbnRlcnNlY3RpbmcpIHtcbiAgICBpZiAodGhpcy5ncm91cCkge1xuICAgICAgZmFicmljLlN0YXRpY0NhbnZhcy5wcm90b3R5cGUuc2VuZEJhY2t3YXJkcy5jYWxsKHRoaXMuZ3JvdXAsIHRoaXMsIGludGVyc2VjdGluZyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5jYW52YXMuc2VuZEJhY2t3YXJkcyh0aGlzLCBpbnRlcnNlY3RpbmcpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogTW92ZXMgYW4gb2JqZWN0IHVwIGluIHN0YWNrIG9mIGRyYXduIG9iamVjdHNcbiAgICogQHBhcmFtIHtCb29sZWFufSBbaW50ZXJzZWN0aW5nXSBJZiBgdHJ1ZWAsIHNlbmQgb2JqZWN0IGluIGZyb250IG9mIG5leHQgdXBwZXIgaW50ZXJzZWN0aW5nIG9iamVjdFxuICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAqIEBjaGFpbmFibGVcbiAgICovXG4gIGJyaW5nRm9yd2FyZDogZnVuY3Rpb24oaW50ZXJzZWN0aW5nKSB7XG4gICAgaWYgKHRoaXMuZ3JvdXApIHtcbiAgICAgIGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlLmJyaW5nRm9yd2FyZC5jYWxsKHRoaXMuZ3JvdXAsIHRoaXMsIGludGVyc2VjdGluZyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5jYW52YXMuYnJpbmdGb3J3YXJkKHRoaXMsIGludGVyc2VjdGluZyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb3ZlcyBhbiBvYmplY3QgdG8gc3BlY2lmaWVkIGxldmVsIGluIHN0YWNrIG9mIGRyYXduIG9iamVjdHNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IE5ldyBwb3NpdGlvbiBvZiBvYmplY3RcbiAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgKiBAY2hhaW5hYmxlXG4gICAqL1xuICBtb3ZlVG86IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgaWYgKHRoaXMuZ3JvdXAgJiYgdGhpcy5ncm91cC50eXBlICE9PSAnYWN0aXZlU2VsZWN0aW9uJykge1xuICAgICAgZmFicmljLlN0YXRpY0NhbnZhcy5wcm90b3R5cGUubW92ZVRvLmNhbGwodGhpcy5ncm91cCwgdGhpcywgaW5kZXgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuY2FudmFzLm1vdmVUbyh0aGlzLCBpbmRleCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG59KTtcblxuXG4vKiBfVE9fU1ZHX1NUQVJUXyAqL1xuKGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBnZXRTdmdDb2xvclN0cmluZyhwcm9wLCB2YWx1ZSkge1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIHJldHVybiBwcm9wICsgJzogbm9uZTsgJztcbiAgICB9XG4gICAgZWxzZSBpZiAodmFsdWUudG9MaXZlKSB7XG4gICAgICByZXR1cm4gcHJvcCArICc6IHVybCgjU1ZHSURfJyArIHZhbHVlLmlkICsgJyk7ICc7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdmFyIGNvbG9yID0gbmV3IGZhYnJpYy5Db2xvcih2YWx1ZSksXG4gICAgICAgICAgc3RyID0gcHJvcCArICc6ICcgKyBjb2xvci50b1JnYigpICsgJzsgJyxcbiAgICAgICAgICBvcGFjaXR5ID0gY29sb3IuZ2V0QWxwaGEoKTtcbiAgICAgIGlmIChvcGFjaXR5ICE9PSAxKSB7XG4gICAgICAgIC8vY2hhbmdlIHRoZSBjb2xvciBpbiByZ2IgKyBvcGFjaXR5XG4gICAgICAgIHN0ciArPSBwcm9wICsgJy1vcGFjaXR5OiAnICsgb3BhY2l0eS50b1N0cmluZygpICsgJzsgJztcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICB9XG5cbiAgdmFyIHRvRml4ZWQgPSBmYWJyaWMudXRpbC50b0ZpeGVkO1xuXG4gIGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQoZmFicmljLk9iamVjdC5wcm90b3R5cGUsIC8qKiBAbGVuZHMgZmFicmljLk9iamVjdC5wcm90b3R5cGUgKi8ge1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3R5bGVzLXN0cmluZyBmb3Igc3ZnLWV4cG9ydFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gc2tpcFNoYWRvdyBhIGJvb2xlYW4gdG8gc2tpcCBzaGFkb3cgZmlsdGVyIG91dHB1dFxuICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRTdmdTdHlsZXM6IGZ1bmN0aW9uKHNraXBTaGFkb3cpIHtcblxuICAgICAgdmFyIGZpbGxSdWxlID0gdGhpcy5maWxsUnVsZSA/IHRoaXMuZmlsbFJ1bGUgOiAnbm9uemVybycsXG4gICAgICAgICAgc3Ryb2tlV2lkdGggPSB0aGlzLnN0cm9rZVdpZHRoID8gdGhpcy5zdHJva2VXaWR0aCA6ICcwJyxcbiAgICAgICAgICBzdHJva2VEYXNoQXJyYXkgPSB0aGlzLnN0cm9rZURhc2hBcnJheSA/IHRoaXMuc3Ryb2tlRGFzaEFycmF5LmpvaW4oJyAnKSA6ICdub25lJyxcbiAgICAgICAgICBzdHJva2VEYXNoT2Zmc2V0ID0gdGhpcy5zdHJva2VEYXNoT2Zmc2V0ID8gdGhpcy5zdHJva2VEYXNoT2Zmc2V0IDogJzAnLFxuICAgICAgICAgIHN0cm9rZUxpbmVDYXAgPSB0aGlzLnN0cm9rZUxpbmVDYXAgPyB0aGlzLnN0cm9rZUxpbmVDYXAgOiAnYnV0dCcsXG4gICAgICAgICAgc3Ryb2tlTGluZUpvaW4gPSB0aGlzLnN0cm9rZUxpbmVKb2luID8gdGhpcy5zdHJva2VMaW5lSm9pbiA6ICdtaXRlcicsXG4gICAgICAgICAgc3Ryb2tlTWl0ZXJMaW1pdCA9IHRoaXMuc3Ryb2tlTWl0ZXJMaW1pdCA/IHRoaXMuc3Ryb2tlTWl0ZXJMaW1pdCA6ICc0JyxcbiAgICAgICAgICBvcGFjaXR5ID0gdHlwZW9mIHRoaXMub3BhY2l0eSAhPT0gJ3VuZGVmaW5lZCcgPyB0aGlzLm9wYWNpdHkgOiAnMScsXG4gICAgICAgICAgdmlzaWJpbGl0eSA9IHRoaXMudmlzaWJsZSA/ICcnIDogJyB2aXNpYmlsaXR5OiBoaWRkZW47JyxcbiAgICAgICAgICBmaWx0ZXIgPSBza2lwU2hhZG93ID8gJycgOiB0aGlzLmdldFN2Z0ZpbHRlcigpLFxuICAgICAgICAgIGZpbGwgPSBnZXRTdmdDb2xvclN0cmluZygnZmlsbCcsIHRoaXMuZmlsbCksXG4gICAgICAgICAgc3Ryb2tlID0gZ2V0U3ZnQ29sb3JTdHJpbmcoJ3N0cm9rZScsIHRoaXMuc3Ryb2tlKTtcblxuICAgICAgcmV0dXJuIFtcbiAgICAgICAgc3Ryb2tlLFxuICAgICAgICAnc3Ryb2tlLXdpZHRoOiAnLCBzdHJva2VXaWR0aCwgJzsgJyxcbiAgICAgICAgJ3N0cm9rZS1kYXNoYXJyYXk6ICcsIHN0cm9rZURhc2hBcnJheSwgJzsgJyxcbiAgICAgICAgJ3N0cm9rZS1saW5lY2FwOiAnLCBzdHJva2VMaW5lQ2FwLCAnOyAnLFxuICAgICAgICAnc3Ryb2tlLWRhc2hvZmZzZXQ6ICcsIHN0cm9rZURhc2hPZmZzZXQsICc7ICcsXG4gICAgICAgICdzdHJva2UtbGluZWpvaW46ICcsIHN0cm9rZUxpbmVKb2luLCAnOyAnLFxuICAgICAgICAnc3Ryb2tlLW1pdGVybGltaXQ6ICcsIHN0cm9rZU1pdGVyTGltaXQsICc7ICcsXG4gICAgICAgIGZpbGwsXG4gICAgICAgICdmaWxsLXJ1bGU6ICcsIGZpbGxSdWxlLCAnOyAnLFxuICAgICAgICAnb3BhY2l0eTogJywgb3BhY2l0eSwgJzsnLFxuICAgICAgICBmaWx0ZXIsXG4gICAgICAgIHZpc2liaWxpdHlcbiAgICAgIF0uam9pbignJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3R5bGVzLXN0cmluZyBmb3Igc3ZnLWV4cG9ydFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdHlsZSB0aGUgb2JqZWN0IGZyb20gd2hpY2ggdG8gcmV0cmlldmUgc3R5bGUgcHJvcGVydGllc1xuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gdXNlV2hpdGVTcGFjZSBhIGJvb2xlYW4gdG8gaW5jbHVkZSBhbiBhZGRpdGlvbmFsIGF0dHJpYnV0ZSBpbiB0aGUgc3R5bGUuXG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqL1xuICAgIGdldFN2Z1NwYW5TdHlsZXM6IGZ1bmN0aW9uKHN0eWxlLCB1c2VXaGl0ZVNwYWNlKSB7XG4gICAgICB2YXIgdGVybSA9ICc7ICc7XG4gICAgICB2YXIgZm9udEZhbWlseSA9IHN0eWxlLmZvbnRGYW1pbHkgP1xuICAgICAgICAnZm9udC1mYW1pbHk6ICcgKyAoKChzdHlsZS5mb250RmFtaWx5LmluZGV4T2YoJ1xcJycpID09PSAtMSAmJiBzdHlsZS5mb250RmFtaWx5LmluZGV4T2YoJ1wiJykgPT09IC0xKSA/XG4gICAgICAgICAgJ1xcJycgKyBzdHlsZS5mb250RmFtaWx5ICArICdcXCcnIDogc3R5bGUuZm9udEZhbWlseSkpICsgdGVybSA6ICcnO1xuICAgICAgdmFyIHN0cm9rZVdpZHRoID0gc3R5bGUuc3Ryb2tlV2lkdGggPyAnc3Ryb2tlLXdpZHRoOiAnICsgc3R5bGUuc3Ryb2tlV2lkdGggKyB0ZXJtIDogJycsXG4gICAgICAgICAgZm9udEZhbWlseSA9IGZvbnRGYW1pbHksXG4gICAgICAgICAgZm9udFNpemUgPSBzdHlsZS5mb250U2l6ZSA/ICdmb250LXNpemU6ICcgKyBzdHlsZS5mb250U2l6ZSArICdweCcgKyB0ZXJtIDogJycsXG4gICAgICAgICAgZm9udFN0eWxlID0gc3R5bGUuZm9udFN0eWxlID8gJ2ZvbnQtc3R5bGU6ICcgKyBzdHlsZS5mb250U3R5bGUgKyB0ZXJtIDogJycsXG4gICAgICAgICAgZm9udFdlaWdodCA9IHN0eWxlLmZvbnRXZWlnaHQgPyAnZm9udC13ZWlnaHQ6ICcgKyBzdHlsZS5mb250V2VpZ2h0ICsgdGVybSA6ICcnLFxuICAgICAgICAgIGZpbGwgPSBzdHlsZS5maWxsID8gZ2V0U3ZnQ29sb3JTdHJpbmcoJ2ZpbGwnLCBzdHlsZS5maWxsKSA6ICcnLFxuICAgICAgICAgIHN0cm9rZSA9IHN0eWxlLnN0cm9rZSA/IGdldFN2Z0NvbG9yU3RyaW5nKCdzdHJva2UnLCBzdHlsZS5zdHJva2UpIDogJycsXG4gICAgICAgICAgdGV4dERlY29yYXRpb24gPSB0aGlzLmdldFN2Z1RleHREZWNvcmF0aW9uKHN0eWxlKSxcbiAgICAgICAgICBkZWx0YVkgPSBzdHlsZS5kZWx0YVkgPyAnYmFzZWxpbmUtc2hpZnQ6ICcgKyAoLXN0eWxlLmRlbHRhWSkgKyAnOyAnIDogJyc7XG4gICAgICBpZiAodGV4dERlY29yYXRpb24pIHtcbiAgICAgICAgdGV4dERlY29yYXRpb24gPSAndGV4dC1kZWNvcmF0aW9uOiAnICsgdGV4dERlY29yYXRpb24gKyB0ZXJtO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gW1xuICAgICAgICBzdHJva2UsXG4gICAgICAgIHN0cm9rZVdpZHRoLFxuICAgICAgICBmb250RmFtaWx5LFxuICAgICAgICBmb250U2l6ZSxcbiAgICAgICAgZm9udFN0eWxlLFxuICAgICAgICBmb250V2VpZ2h0LFxuICAgICAgICB0ZXh0RGVjb3JhdGlvbixcbiAgICAgICAgZmlsbCxcbiAgICAgICAgZGVsdGFZLFxuICAgICAgICB1c2VXaGl0ZVNwYWNlID8gJ3doaXRlLXNwYWNlOiBwcmU7ICcgOiAnJ1xuICAgICAgXS5qb2luKCcnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0ZXh0LWRlY29yYXRpb24gcHJvcGVydHkgZm9yIHN2Zy1leHBvcnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3R5bGUgdGhlIG9iamVjdCBmcm9tIHdoaWNoIHRvIHJldHJpZXZlIHN0eWxlIHByb3BlcnRpZXNcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgZ2V0U3ZnVGV4dERlY29yYXRpb246IGZ1bmN0aW9uKHN0eWxlKSB7XG4gICAgICBpZiAoJ292ZXJsaW5lJyBpbiBzdHlsZSB8fCAndW5kZXJsaW5lJyBpbiBzdHlsZSB8fCAnbGluZXRocm91Z2gnIGluIHN0eWxlKSB7XG4gICAgICAgIHJldHVybiAoc3R5bGUub3ZlcmxpbmUgPyAnb3ZlcmxpbmUgJyA6ICcnKSArXG4gICAgICAgICAgKHN0eWxlLnVuZGVybGluZSA/ICd1bmRlcmxpbmUgJyA6ICcnKSArIChzdHlsZS5saW5ldGhyb3VnaCA/ICdsaW5lLXRocm91Z2ggJyA6ICcnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAnJztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBmaWx0ZXIgZm9yIHN2ZyBzaGFkb3dcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgZ2V0U3ZnRmlsdGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnNoYWRvdyA/ICdmaWx0ZXI6IHVybCgjU1ZHSURfJyArIHRoaXMuc2hhZG93LmlkICsgJyk7JyA6ICcnO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGlkIGF0dHJpYnV0ZSBmb3Igc3ZnIG91dHB1dFxuICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRTdmdDb21tb25zOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIHRoaXMuaWQgPyAnaWQ9XCInICsgdGhpcy5pZCArICdcIiAnIDogJycsXG4gICAgICAgIHRoaXMuY2xpcFBhdGggPyAnY2xpcC1wYXRoPVwidXJsKCMnICsgdGhpcy5jbGlwUGF0aC5jbGlwUGF0aElkICsgJylcIiAnIDogJycsXG4gICAgICBdLmpvaW4oJycpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRyYW5zZm9ybS1zdHJpbmcgZm9yIHN2Zy1leHBvcnRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHVzZSB0aGUgZnVsbCB0cmFuc2Zvcm0gb3IgdGhlIHNpbmdsZSBvYmplY3Qgb25lLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRTdmdUcmFuc2Zvcm06IGZ1bmN0aW9uKGZ1bGwsIGFkZGl0aW9uYWxUcmFuc2Zvcm0pIHtcbiAgICAgIHZhciB0cmFuc2Zvcm0gPSBmdWxsID8gdGhpcy5jYWxjVHJhbnNmb3JtTWF0cml4KCkgOiB0aGlzLmNhbGNPd25NYXRyaXgoKSxcbiAgICAgICAgICBzdmdUcmFuc2Zvcm0gPSAndHJhbnNmb3JtPVwiJyArIGZhYnJpYy51dGlsLm1hdHJpeFRvU1ZHKHRyYW5zZm9ybSk7XG4gICAgICByZXR1cm4gc3ZnVHJhbnNmb3JtICtcbiAgICAgICAgKGFkZGl0aW9uYWxUcmFuc2Zvcm0gfHwgJycpICsgdGhpcy5nZXRTdmdUcmFuc2Zvcm1NYXRyaXgoKSArICdcIiAnO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRyYW5zZm9ybS1zdHJpbmcgZm9yIHN2Zy1leHBvcnQgZnJvbSB0aGUgdHJhbnNmb3JtIG1hdHJpeCBvZiBzaW5nbGUgZWxlbWVudHNcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgZ2V0U3ZnVHJhbnNmb3JtTWF0cml4OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybU1hdHJpeCA/ICcgJyArIGZhYnJpYy51dGlsLm1hdHJpeFRvU1ZHKHRoaXMudHJhbnNmb3JtTWF0cml4KSA6ICcnO1xuICAgIH0sXG5cbiAgICBfc2V0U1ZHQmc6IGZ1bmN0aW9uKHRleHRCZ1JlY3RzKSB7XG4gICAgICBpZiAodGhpcy5iYWNrZ3JvdW5kQ29sb3IpIHtcbiAgICAgICAgdmFyIE5VTV9GUkFDVElPTl9ESUdJVFMgPSBmYWJyaWMuT2JqZWN0Lk5VTV9GUkFDVElPTl9ESUdJVFM7XG4gICAgICAgIHRleHRCZ1JlY3RzLnB1c2goXG4gICAgICAgICAgJ1xcdFxcdDxyZWN0ICcsXG4gICAgICAgICAgdGhpcy5fZ2V0RmlsbEF0dHJpYnV0ZXModGhpcy5iYWNrZ3JvdW5kQ29sb3IpLFxuICAgICAgICAgICcgeD1cIicsXG4gICAgICAgICAgdG9GaXhlZCgtdGhpcy53aWR0aCAvIDIsIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICAgICdcIiB5PVwiJyxcbiAgICAgICAgICB0b0ZpeGVkKC10aGlzLmhlaWdodCAvIDIsIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICAgICdcIiB3aWR0aD1cIicsXG4gICAgICAgICAgdG9GaXhlZCh0aGlzLndpZHRoLCBOVU1fRlJBQ1RJT05fRElHSVRTKSxcbiAgICAgICAgICAnXCIgaGVpZ2h0PVwiJyxcbiAgICAgICAgICB0b0ZpeGVkKHRoaXMuaGVpZ2h0LCBOVU1fRlJBQ1RJT05fRElHSVRTKSxcbiAgICAgICAgICAnXCI+PC9yZWN0PlxcbicpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN2ZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXZpdmVyXSBNZXRob2QgZm9yIGZ1cnRoZXIgcGFyc2luZyBvZiBzdmcgcmVwcmVzZW50YXRpb24uXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBzdmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b1NWRzogZnVuY3Rpb24ocmV2aXZlcikge1xuICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUJhc2VTVkdNYXJrdXAodGhpcy5fdG9TVkcocmV2aXZlciksIHsgcmV2aXZlcjogcmV2aXZlciB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdmcgY2xpcFBhdGggcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmV2aXZlcl0gTWV0aG9kIGZvciBmdXJ0aGVyIHBhcnNpbmcgb2Ygc3ZnIHJlcHJlc2VudGF0aW9uLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gc3ZnIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9DbGlwUGF0aFNWRzogZnVuY3Rpb24ocmV2aXZlcikge1xuICAgICAgcmV0dXJuICdcXHQnICsgdGhpcy5fY3JlYXRlQmFzZUNsaXBQYXRoU1ZHTWFya3VwKHRoaXMuX3RvU1ZHKHJldml2ZXIpLCB7IHJldml2ZXI6IHJldml2ZXIgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NyZWF0ZUJhc2VDbGlwUGF0aFNWR01hcmt1cDogZnVuY3Rpb24ob2JqZWN0TWFya3VwLCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgIHZhciByZXZpdmVyID0gb3B0aW9ucy5yZXZpdmVyLFxuICAgICAgICAgIGFkZGl0aW9uYWxUcmFuc2Zvcm0gPSBvcHRpb25zLmFkZGl0aW9uYWxUcmFuc2Zvcm0gfHwgJycsXG4gICAgICAgICAgY29tbW9uUGllY2VzID0gW1xuICAgICAgICAgICAgdGhpcy5nZXRTdmdUcmFuc2Zvcm0odHJ1ZSwgYWRkaXRpb25hbFRyYW5zZm9ybSksXG4gICAgICAgICAgICB0aGlzLmdldFN2Z0NvbW1vbnMoKSxcbiAgICAgICAgICBdLmpvaW4oJycpLFxuICAgICAgICAgIC8vIGluc2VydCBjb21tb25zIGluIHRoZSBtYXJrdXAsIHN0eWxlIGFuZCBzdmdDb21tb25zXG4gICAgICAgICAgaW5kZXggPSBvYmplY3RNYXJrdXAuaW5kZXhPZignQ09NTU9OX1BBUlRTJyk7XG4gICAgICBvYmplY3RNYXJrdXBbaW5kZXhdID0gY29tbW9uUGllY2VzO1xuICAgICAgcmV0dXJuIHJldml2ZXIgPyByZXZpdmVyKG9iamVjdE1hcmt1cC5qb2luKCcnKSkgOiBvYmplY3RNYXJrdXAuam9pbignJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NyZWF0ZUJhc2VTVkdNYXJrdXA6IGZ1bmN0aW9uKG9iamVjdE1hcmt1cCwgb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICB2YXIgbm9TdHlsZSA9IG9wdGlvbnMubm9TdHlsZSxcbiAgICAgICAgICByZXZpdmVyID0gb3B0aW9ucy5yZXZpdmVyLFxuICAgICAgICAgIHN0eWxlSW5mbyA9IG5vU3R5bGUgPyAnJyA6ICdzdHlsZT1cIicgKyB0aGlzLmdldFN2Z1N0eWxlcygpICsgJ1wiICcsXG4gICAgICAgICAgc2hhZG93SW5mbyA9IG9wdGlvbnMud2l0aFNoYWRvdyA/ICdzdHlsZT1cIicgKyB0aGlzLmdldFN2Z0ZpbHRlcigpICsgJ1wiICcgOiAnJyxcbiAgICAgICAgICBjbGlwUGF0aCA9IHRoaXMuY2xpcFBhdGgsXG4gICAgICAgICAgdmVjdG9yRWZmZWN0ID0gdGhpcy5zdHJva2VVbmlmb3JtID8gJ3ZlY3Rvci1lZmZlY3Q9XCJub24tc2NhbGluZy1zdHJva2VcIiAnIDogJycsXG4gICAgICAgICAgYWJzb2x1dGVDbGlwUGF0aCA9IGNsaXBQYXRoICYmIGNsaXBQYXRoLmFic29sdXRlUG9zaXRpb25lZCxcbiAgICAgICAgICBzdHJva2UgPSB0aGlzLnN0cm9rZSwgZmlsbCA9IHRoaXMuZmlsbCwgc2hhZG93ID0gdGhpcy5zaGFkb3csXG4gICAgICAgICAgY29tbW9uUGllY2VzLCBtYXJrdXAgPSBbXSwgY2xpcFBhdGhNYXJrdXAsXG4gICAgICAgICAgLy8gaW5zZXJ0IGNvbW1vbnMgaW4gdGhlIG1hcmt1cCwgc3R5bGUgYW5kIHN2Z0NvbW1vbnNcbiAgICAgICAgICBpbmRleCA9IG9iamVjdE1hcmt1cC5pbmRleE9mKCdDT01NT05fUEFSVFMnKSxcbiAgICAgICAgICBhZGRpdGlvbmFsVHJhbnNmb3JtID0gb3B0aW9ucy5hZGRpdGlvbmFsVHJhbnNmb3JtO1xuICAgICAgaWYgKGNsaXBQYXRoKSB7XG4gICAgICAgIGNsaXBQYXRoLmNsaXBQYXRoSWQgPSAnQ0xJUFBBVEhfJyArIGZhYnJpYy5PYmplY3QuX191aWQrKztcbiAgICAgICAgY2xpcFBhdGhNYXJrdXAgPSAnPGNsaXBQYXRoIGlkPVwiJyArIGNsaXBQYXRoLmNsaXBQYXRoSWQgKyAnXCIgPlxcbicgK1xuICAgICAgICAgIGNsaXBQYXRoLnRvQ2xpcFBhdGhTVkcocmV2aXZlcikgK1xuICAgICAgICAgICc8L2NsaXBQYXRoPlxcbic7XG4gICAgICB9XG4gICAgICBpZiAoYWJzb2x1dGVDbGlwUGF0aCkge1xuICAgICAgICBtYXJrdXAucHVzaChcbiAgICAgICAgICAnPGcgJywgc2hhZG93SW5mbywgdGhpcy5nZXRTdmdDb21tb25zKCksICcgPlxcbidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIG1hcmt1cC5wdXNoKFxuICAgICAgICAnPGcgJyxcbiAgICAgICAgdGhpcy5nZXRTdmdUcmFuc2Zvcm0oZmFsc2UpLFxuICAgICAgICAhYWJzb2x1dGVDbGlwUGF0aCA/IHNoYWRvd0luZm8gKyB0aGlzLmdldFN2Z0NvbW1vbnMoKSA6ICcnLFxuICAgICAgICAnID5cXG4nXG4gICAgICApO1xuICAgICAgY29tbW9uUGllY2VzID0gW1xuICAgICAgICBzdHlsZUluZm8sXG4gICAgICAgIHZlY3RvckVmZmVjdCxcbiAgICAgICAgbm9TdHlsZSA/ICcnIDogdGhpcy5hZGRQYWludE9yZGVyKCksICcgJyxcbiAgICAgICAgYWRkaXRpb25hbFRyYW5zZm9ybSA/ICd0cmFuc2Zvcm09XCInICsgYWRkaXRpb25hbFRyYW5zZm9ybSArICdcIiAnIDogJycsXG4gICAgICBdLmpvaW4oJycpO1xuICAgICAgb2JqZWN0TWFya3VwW2luZGV4XSA9IGNvbW1vblBpZWNlcztcbiAgICAgIGlmIChmaWxsICYmIGZpbGwudG9MaXZlKSB7XG4gICAgICAgIG1hcmt1cC5wdXNoKGZpbGwudG9TVkcodGhpcykpO1xuICAgICAgfVxuICAgICAgaWYgKHN0cm9rZSAmJiBzdHJva2UudG9MaXZlKSB7XG4gICAgICAgIG1hcmt1cC5wdXNoKHN0cm9rZS50b1NWRyh0aGlzKSk7XG4gICAgICB9XG4gICAgICBpZiAoc2hhZG93KSB7XG4gICAgICAgIG1hcmt1cC5wdXNoKHNoYWRvdy50b1NWRyh0aGlzKSk7XG4gICAgICB9XG4gICAgICBpZiAoY2xpcFBhdGgpIHtcbiAgICAgICAgbWFya3VwLnB1c2goY2xpcFBhdGhNYXJrdXApO1xuICAgICAgfVxuICAgICAgbWFya3VwLnB1c2gob2JqZWN0TWFya3VwLmpvaW4oJycpKTtcbiAgICAgIG1hcmt1cC5wdXNoKCc8L2c+XFxuJyk7XG4gICAgICBhYnNvbHV0ZUNsaXBQYXRoICYmIG1hcmt1cC5wdXNoKCc8L2c+XFxuJyk7XG4gICAgICByZXR1cm4gcmV2aXZlciA/IHJldml2ZXIobWFya3VwLmpvaW4oJycpKSA6IG1hcmt1cC5qb2luKCcnKTtcbiAgICB9LFxuXG4gICAgYWRkUGFpbnRPcmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5wYWludEZpcnN0ICE9PSAnZmlsbCcgPyAnIHBhaW50LW9yZGVyPVwiJyArIHRoaXMucGFpbnRGaXJzdCArICdcIiAnIDogJyc7XG4gICAgfVxuICB9KTtcbn0pKCk7XG4vKiBfVE9fU1ZHX0VORF8gKi9cblxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgdmFyIGV4dGVuZCA9IGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQsXG4gICAgICBvcmlnaW5hbFNldCA9ICdzdGF0ZVByb3BlcnRpZXMnO1xuXG4gIC8qXG4gICAgRGVwZW5kcyBvbiBgc3RhdGVQcm9wZXJ0aWVzYFxuICAqL1xuICBmdW5jdGlvbiBzYXZlUHJvcHMob3JpZ2luLCBkZXN0aW5hdGlvbiwgcHJvcHMpIHtcbiAgICB2YXIgdG1wT2JqID0geyB9LCBkZWVwID0gdHJ1ZTtcbiAgICBwcm9wcy5mb3JFYWNoKGZ1bmN0aW9uKHByb3ApIHtcbiAgICAgIHRtcE9ialtwcm9wXSA9IG9yaWdpbltwcm9wXTtcbiAgICB9KTtcbiAgICBleHRlbmQob3JpZ2luW2Rlc3RpbmF0aW9uXSwgdG1wT2JqLCBkZWVwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9pc0VxdWFsKG9yaWdWYWx1ZSwgY3VycmVudFZhbHVlLCBmaXJzdFBhc3MpIHtcbiAgICBpZiAob3JpZ1ZhbHVlID09PSBjdXJyZW50VmFsdWUpIHtcbiAgICAgIC8vIGlmIHRoZSBvYmplY3RzIGFyZSBpZGVudGljYWwsIHJldHVyblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob3JpZ1ZhbHVlKSkge1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGN1cnJlbnRWYWx1ZSkgfHwgb3JpZ1ZhbHVlLmxlbmd0aCAhPT0gY3VycmVudFZhbHVlLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gb3JpZ1ZhbHVlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmICghX2lzRXF1YWwob3JpZ1ZhbHVlW2ldLCBjdXJyZW50VmFsdWVbaV0pKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSBpZiAob3JpZ1ZhbHVlICYmIHR5cGVvZiBvcmlnVmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9yaWdWYWx1ZSksIGtleTtcbiAgICAgIGlmICghY3VycmVudFZhbHVlIHx8XG4gICAgICAgICAgdHlwZW9mIGN1cnJlbnRWYWx1ZSAhPT0gJ29iamVjdCcgfHxcbiAgICAgICAgICAoIWZpcnN0UGFzcyAmJiBrZXlzLmxlbmd0aCAhPT0gT2JqZWN0LmtleXMoY3VycmVudFZhbHVlKS5sZW5ndGgpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGtleXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgLy8gc2luY2UgY2xpcFBhdGggaXMgaW4gdGhlIHN0YXRlZnVsbCBjYWNoZSBsaXN0IGFuZCB0aGUgY2xpcFBhdGggb2JqZWN0c1xuICAgICAgICAvLyB3b3VsZCBiZSBpdGVyYXRlZCBhcyBhbiBvYmplY3QsIHRoaXMgd291bGQgbGVhZCB0byBwb3NzaWJsZSBpbmZpbml0ZSByZWN1cnNpb25cbiAgICAgICAgaWYgKGtleSA9PT0gJ2NhbnZhcycpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIV9pc0VxdWFsKG9yaWdWYWx1ZVtrZXldLCBjdXJyZW50VmFsdWVba2V5XSkpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG5cbiAgZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZChmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgb2JqZWN0IHN0YXRlIChvbmUgb2YgaXRzIHN0YXRlIHByb3BlcnRpZXMpIHdhcyBjaGFuZ2VkXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtwcm9wZXJ0eVNldF0gb3B0aW9uYWwgbmFtZSBmb3IgdGhlIHNldCBvZiBwcm9wZXJ0eSB3ZSB3YW50IHRvIHNhdmVcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIGluc3RhbmNlJyBzdGF0ZSBoYXMgY2hhbmdlZCBzaW5jZSBge0BsaW5rIGZhYnJpYy5PYmplY3Qjc2F2ZVN0YXRlfWAgd2FzIGNhbGxlZFxuICAgICAqL1xuICAgIGhhc1N0YXRlQ2hhbmdlZDogZnVuY3Rpb24ocHJvcGVydHlTZXQpIHtcbiAgICAgIHByb3BlcnR5U2V0ID0gcHJvcGVydHlTZXQgfHwgb3JpZ2luYWxTZXQ7XG4gICAgICB2YXIgZGFzaGVkUHJvcGVydHlTZXQgPSAnXycgKyBwcm9wZXJ0eVNldDtcbiAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzW2Rhc2hlZFByb3BlcnR5U2V0XSkubGVuZ3RoIDwgdGhpc1twcm9wZXJ0eVNldF0ubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuICFfaXNFcXVhbCh0aGlzW2Rhc2hlZFByb3BlcnR5U2V0XSwgdGhpcywgdHJ1ZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNhdmVzIHN0YXRlIG9mIGFuIG9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT2JqZWN0IHdpdGggYWRkaXRpb25hbCBgc3RhdGVQcm9wZXJ0aWVzYCBhcnJheSB0byBpbmNsdWRlIHdoZW4gc2F2aW5nIHN0YXRlXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqL1xuICAgIHNhdmVTdGF0ZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIHByb3BlcnR5U2V0ID0gb3B0aW9ucyAmJiBvcHRpb25zLnByb3BlcnR5U2V0IHx8IG9yaWdpbmFsU2V0LFxuICAgICAgICAgIGRlc3RpbmF0aW9uID0gJ18nICsgcHJvcGVydHlTZXQ7XG4gICAgICBpZiAoIXRoaXNbZGVzdGluYXRpb25dKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHVwU3RhdGUob3B0aW9ucyk7XG4gICAgICB9XG4gICAgICBzYXZlUHJvcHModGhpcywgZGVzdGluYXRpb24sIHRoaXNbcHJvcGVydHlTZXRdKTtcbiAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuc3RhdGVQcm9wZXJ0aWVzKSB7XG4gICAgICAgIHNhdmVQcm9wcyh0aGlzLCBkZXN0aW5hdGlvbiwgb3B0aW9ucy5zdGF0ZVByb3BlcnRpZXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHVwcyBzdGF0ZSBvZiBhbiBvYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9iamVjdCB3aXRoIGFkZGl0aW9uYWwgYHN0YXRlUHJvcGVydGllc2AgYXJyYXkgdG8gaW5jbHVkZSB3aGVuIHNhdmluZyBzdGF0ZVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICAgKi9cbiAgICBzZXR1cFN0YXRlOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IH07XG4gICAgICB2YXIgcHJvcGVydHlTZXQgPSBvcHRpb25zLnByb3BlcnR5U2V0IHx8IG9yaWdpbmFsU2V0O1xuICAgICAgb3B0aW9ucy5wcm9wZXJ0eVNldCA9IHByb3BlcnR5U2V0O1xuICAgICAgdGhpc1snXycgKyBwcm9wZXJ0eVNldF0gPSB7IH07XG4gICAgICB0aGlzLnNhdmVTdGF0ZShvcHRpb25zKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfSk7XG59KSgpO1xuXG5cbihmdW5jdGlvbigpIHtcblxuICB2YXIgZGVncmVlc1RvUmFkaWFucyA9IGZhYnJpYy51dGlsLmRlZ3JlZXNUb1JhZGlhbnM7XG5cbiAgZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZChmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb2JqZWN0IGludGVyYWN0aXZpdHkgY29udHJvbHMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY29udHJvbHNWaXNpYmlsaXR5OiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB3aGljaCBjb3JuZXIgaGFzIGJlZW4gY2xpY2tlZFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBvaW50ZXIgVGhlIHBvaW50ZXIgaW5kaWNhdGluZyB0aGUgbW91c2UgcG9zaXRpb25cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd8Qm9vbGVhbn0gY29ybmVyIGNvZGUgKHRsLCB0ciwgYmwsIGJyLCBldGMuKSwgb3IgZmFsc2UgaWYgbm90aGluZyBpcyBmb3VuZFxuICAgICAqL1xuICAgIF9maW5kVGFyZ2V0Q29ybmVyOiBmdW5jdGlvbihwb2ludGVyKSB7XG4gICAgICAvLyBvYmplY3RzIGluIGdyb3VwLCBhbnlraW5kLCBhcmUgbm90IHNlbGYgbW9kaWZpY2FibGUsXG4gICAgICAvLyBtdXN0IG5vdCByZXR1cm4gYW4gaG92ZXJlZCBjb3JuZXIuXG4gICAgICBpZiAoIXRoaXMuaGFzQ29udHJvbHMgfHwgdGhpcy5ncm91cCB8fCAoIXRoaXMuY2FudmFzIHx8IHRoaXMuY2FudmFzLl9hY3RpdmVPYmplY3QgIT09IHRoaXMpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGV4ID0gcG9pbnRlci54LFxuICAgICAgICAgIGV5ID0gcG9pbnRlci55LFxuICAgICAgICAgIHhQb2ludHMsXG4gICAgICAgICAgbGluZXM7XG4gICAgICB0aGlzLl9fY29ybmVyID0gMDtcbiAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5vQ29vcmRzKSB7XG5cbiAgICAgICAgaWYgKCF0aGlzLmlzQ29udHJvbFZpc2libGUoaSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpID09PSAnbXRyJyAmJiAhdGhpcy5oYXNSb3RhdGluZ1BvaW50KSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5nZXQoJ2xvY2tVbmlTY2FsaW5nJykgJiZcbiAgICAgICAgICAgKGkgPT09ICdtdCcgfHwgaSA9PT0gJ21yJyB8fCBpID09PSAnbWInIHx8IGkgPT09ICdtbCcpKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBsaW5lcyA9IHRoaXMuX2dldEltYWdlTGluZXModGhpcy5vQ29vcmRzW2ldLmNvcm5lcik7XG5cbiAgICAgICAgLy8gZGVidWdnaW5nXG5cbiAgICAgICAgLy8gY2FudmFzLmNvbnRleHRUb3AuZmlsbFJlY3QobGluZXMuYm90dG9tbGluZS5kLngsIGxpbmVzLmJvdHRvbWxpbmUuZC55LCAyLCAyKTtcbiAgICAgICAgLy8gY2FudmFzLmNvbnRleHRUb3AuZmlsbFJlY3QobGluZXMuYm90dG9tbGluZS5vLngsIGxpbmVzLmJvdHRvbWxpbmUuby55LCAyLCAyKTtcblxuICAgICAgICAvLyBjYW52YXMuY29udGV4dFRvcC5maWxsUmVjdChsaW5lcy5sZWZ0bGluZS5kLngsIGxpbmVzLmxlZnRsaW5lLmQueSwgMiwgMik7XG4gICAgICAgIC8vIGNhbnZhcy5jb250ZXh0VG9wLmZpbGxSZWN0KGxpbmVzLmxlZnRsaW5lLm8ueCwgbGluZXMubGVmdGxpbmUuby55LCAyLCAyKTtcblxuICAgICAgICAvLyBjYW52YXMuY29udGV4dFRvcC5maWxsUmVjdChsaW5lcy50b3BsaW5lLmQueCwgbGluZXMudG9wbGluZS5kLnksIDIsIDIpO1xuICAgICAgICAvLyBjYW52YXMuY29udGV4dFRvcC5maWxsUmVjdChsaW5lcy50b3BsaW5lLm8ueCwgbGluZXMudG9wbGluZS5vLnksIDIsIDIpO1xuXG4gICAgICAgIC8vIGNhbnZhcy5jb250ZXh0VG9wLmZpbGxSZWN0KGxpbmVzLnJpZ2h0bGluZS5kLngsIGxpbmVzLnJpZ2h0bGluZS5kLnksIDIsIDIpO1xuICAgICAgICAvLyBjYW52YXMuY29udGV4dFRvcC5maWxsUmVjdChsaW5lcy5yaWdodGxpbmUuby54LCBsaW5lcy5yaWdodGxpbmUuby55LCAyLCAyKTtcblxuICAgICAgICB4UG9pbnRzID0gdGhpcy5fZmluZENyb3NzUG9pbnRzKHsgeDogZXgsIHk6IGV5IH0sIGxpbmVzKTtcbiAgICAgICAgaWYgKHhQb2ludHMgIT09IDAgJiYgeFBvaW50cyAlIDIgPT09IDEpIHtcbiAgICAgICAgICB0aGlzLl9fY29ybmVyID0gaTtcbiAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjb29yZGluYXRlcyBvZiB0aGUgZHJhZ2dhYmxlIGJveGVzIGluIHRoZSBjb3JuZXJzIG9mXG4gICAgICogdGhlIGltYWdlIHVzZWQgdG8gc2NhbGUvcm90YXRlIGl0LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NldENvcm5lckNvb3JkczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY29vcmRzID0gdGhpcy5vQ29vcmRzLFxuICAgICAgICAgIG5ld1RoZXRhID0gZGVncmVlc1RvUmFkaWFucyg0NSAtIHRoaXMuYW5nbGUpLFxuICAgICAgICAgIC8qIE1hdGguc3FydCgyICogTWF0aC5wb3codGhpcy5jb3JuZXJTaXplLCAyKSkgLyAyLCAqL1xuICAgICAgICAgIC8qIDAuNzA3MTA2IHN0YW5kcyBmb3Igc3FydCgyKS8yICovXG4gICAgICAgICAgY29ybmVySHlwb3RlbnVzZSA9IHRoaXMuY29ybmVyU2l6ZSAqIDAuNzA3MTA2LFxuICAgICAgICAgIGNvc0hhbGZPZmZzZXQgPSBjb3JuZXJIeXBvdGVudXNlICogZmFicmljLnV0aWwuY29zKG5ld1RoZXRhKSxcbiAgICAgICAgICBzaW5IYWxmT2Zmc2V0ID0gY29ybmVySHlwb3RlbnVzZSAqIGZhYnJpYy51dGlsLnNpbihuZXdUaGV0YSksXG4gICAgICAgICAgeCwgeTtcblxuICAgICAgZm9yICh2YXIgcG9pbnQgaW4gY29vcmRzKSB7XG4gICAgICAgIHggPSBjb29yZHNbcG9pbnRdLng7XG4gICAgICAgIHkgPSBjb29yZHNbcG9pbnRdLnk7XG4gICAgICAgIGNvb3Jkc1twb2ludF0uY29ybmVyID0ge1xuICAgICAgICAgIHRsOiB7XG4gICAgICAgICAgICB4OiB4IC0gc2luSGFsZk9mZnNldCxcbiAgICAgICAgICAgIHk6IHkgLSBjb3NIYWxmT2Zmc2V0XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0cjoge1xuICAgICAgICAgICAgeDogeCArIGNvc0hhbGZPZmZzZXQsXG4gICAgICAgICAgICB5OiB5IC0gc2luSGFsZk9mZnNldFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYmw6IHtcbiAgICAgICAgICAgIHg6IHggLSBjb3NIYWxmT2Zmc2V0LFxuICAgICAgICAgICAgeTogeSArIHNpbkhhbGZPZmZzZXRcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJyOiB7XG4gICAgICAgICAgICB4OiB4ICsgc2luSGFsZk9mZnNldCxcbiAgICAgICAgICAgIHk6IHkgKyBjb3NIYWxmT2Zmc2V0XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBhIGNvbG9yZWQgbGF5ZXIgYmVoaW5kIHRoZSBvYmplY3QsIGluc2lkZSBpdHMgc2VsZWN0aW9uIGJvcmRlcnMuXG4gICAgICogUmVxdWlyZXMgcHVibGljIG9wdGlvbnM6IHBhZGRpbmcsIHNlbGVjdGlvbkJhY2tncm91bmRDb2xvclxuICAgICAqIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIHdoZW4gdGhlIGNvbnRleHQgaXMgdHJhbnNmb3JtZWRcbiAgICAgKiBoYXMgY2hlY2tzIHRvIGJlIHNraXBwZWQgd2hlbiB0aGUgb2JqZWN0IGlzIG9uIGEgc3RhdGljQ2FudmFzXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIGRyYXcgb25cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGRyYXdTZWxlY3Rpb25CYWNrZ3JvdW5kOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGlmICghdGhpcy5zZWxlY3Rpb25CYWNrZ3JvdW5kQ29sb3IgfHxcbiAgICAgICAgKHRoaXMuY2FudmFzICYmICF0aGlzLmNhbnZhcy5pbnRlcmFjdGl2ZSkgfHxcbiAgICAgICAgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLl9hY3RpdmVPYmplY3QgIT09IHRoaXMpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgdmFyIGNlbnRlciA9IHRoaXMuZ2V0Q2VudGVyUG9pbnQoKSwgd2ggPSB0aGlzLl9jYWxjdWxhdGVDdXJyZW50RGltZW5zaW9ucygpLFxuICAgICAgICAgIHZwdCA9IHRoaXMuY2FudmFzLnZpZXdwb3J0VHJhbnNmb3JtO1xuICAgICAgY3R4LnRyYW5zbGF0ZShjZW50ZXIueCwgY2VudGVyLnkpO1xuICAgICAgY3R4LnNjYWxlKDEgLyB2cHRbMF0sIDEgLyB2cHRbM10pO1xuICAgICAgY3R4LnJvdGF0ZShkZWdyZWVzVG9SYWRpYW5zKHRoaXMuYW5nbGUpKTtcbiAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnNlbGVjdGlvbkJhY2tncm91bmRDb2xvcjtcbiAgICAgIGN0eC5maWxsUmVjdCgtd2gueCAvIDIsIC13aC55IC8gMiwgd2gueCwgd2gueSk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGJvcmRlcnMgb2YgYW4gb2JqZWN0J3MgYm91bmRpbmcgYm94LlxuICAgICAqIFJlcXVpcmVzIHB1YmxpYyBwcm9wZXJ0aWVzOiB3aWR0aCwgaGVpZ2h0XG4gICAgICogUmVxdWlyZXMgcHVibGljIG9wdGlvbnM6IHBhZGRpbmcsIGJvcmRlckNvbG9yXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIGRyYXcgb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3R5bGVPdmVycmlkZSBvYmplY3QgdG8gb3ZlcnJpZGUgdGhlIG9iamVjdCBzdHlsZVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgZHJhd0JvcmRlcnM6IGZ1bmN0aW9uKGN0eCwgc3R5bGVPdmVycmlkZSkge1xuICAgICAgc3R5bGVPdmVycmlkZSA9IHN0eWxlT3ZlcnJpZGUgfHwge307XG4gICAgICB2YXIgd2ggPSB0aGlzLl9jYWxjdWxhdGVDdXJyZW50RGltZW5zaW9ucygpLFxuICAgICAgICAgIHN0cm9rZVdpZHRoID0gMSAvIHRoaXMuYm9yZGVyU2NhbGVGYWN0b3IsXG4gICAgICAgICAgd2lkdGggPSB3aC54ICsgc3Ryb2tlV2lkdGgsXG4gICAgICAgICAgaGVpZ2h0ID0gd2gueSArIHN0cm9rZVdpZHRoLFxuICAgICAgICAgIGRyYXdSb3RhdGluZ1BvaW50ID0gdHlwZW9mIHN0eWxlT3ZlcnJpZGUuaGFzUm90YXRpbmdQb2ludCAhPT0gJ3VuZGVmaW5lZCcgP1xuICAgICAgICAgICAgc3R5bGVPdmVycmlkZS5oYXNSb3RhdGluZ1BvaW50IDogdGhpcy5oYXNSb3RhdGluZ1BvaW50LFxuICAgICAgICAgIGhhc0NvbnRyb2xzID0gdHlwZW9mIHN0eWxlT3ZlcnJpZGUuaGFzQ29udHJvbHMgIT09ICd1bmRlZmluZWQnID9cbiAgICAgICAgICAgIHN0eWxlT3ZlcnJpZGUuaGFzQ29udHJvbHMgOiB0aGlzLmhhc0NvbnRyb2xzLFxuICAgICAgICAgIHJvdGF0aW5nUG9pbnRPZmZzZXQgPSB0eXBlb2Ygc3R5bGVPdmVycmlkZS5yb3RhdGluZ1BvaW50T2Zmc2V0ICE9PSAndW5kZWZpbmVkJyA/XG4gICAgICAgICAgICBzdHlsZU92ZXJyaWRlLnJvdGF0aW5nUG9pbnRPZmZzZXQgOiB0aGlzLnJvdGF0aW5nUG9pbnRPZmZzZXQ7XG5cbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjdHguc3Ryb2tlU3R5bGUgPSBzdHlsZU92ZXJyaWRlLmJvcmRlckNvbG9yIHx8IHRoaXMuYm9yZGVyQ29sb3I7XG4gICAgICB0aGlzLl9zZXRMaW5lRGFzaChjdHgsIHN0eWxlT3ZlcnJpZGUuYm9yZGVyRGFzaEFycmF5IHx8IHRoaXMuYm9yZGVyRGFzaEFycmF5LCBudWxsKTtcblxuICAgICAgY3R4LnN0cm9rZVJlY3QoXG4gICAgICAgIC13aWR0aCAvIDIsXG4gICAgICAgIC1oZWlnaHQgLyAyLFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0XG4gICAgICApO1xuXG4gICAgICBpZiAoZHJhd1JvdGF0aW5nUG9pbnQgJiYgdGhpcy5pc0NvbnRyb2xWaXNpYmxlKCdtdHInKSAmJiBoYXNDb250cm9scykge1xuXG4gICAgICAgIHZhciByb3RhdGVIZWlnaHQgPSAtaGVpZ2h0IC8gMjtcblxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5tb3ZlVG8oMCwgcm90YXRlSGVpZ2h0KTtcbiAgICAgICAgY3R4LmxpbmVUbygwLCByb3RhdGVIZWlnaHQgLSByb3RhdGluZ1BvaW50T2Zmc2V0KTtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgfVxuXG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGJvcmRlcnMgb2YgYW4gb2JqZWN0J3MgYm91bmRpbmcgYm94IHdoZW4gaXQgaXMgaW5zaWRlIGEgZ3JvdXAuXG4gICAgICogUmVxdWlyZXMgcHVibGljIHByb3BlcnRpZXM6IHdpZHRoLCBoZWlnaHRcbiAgICAgKiBSZXF1aXJlcyBwdWJsaWMgb3B0aW9uczogcGFkZGluZywgYm9yZGVyQ29sb3JcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gZHJhdyBvblxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIG9iamVjdCByZXByZXNlbnRpbmcgY3VycmVudCBvYmplY3QgcGFyYW1ldGVyc1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdHlsZU92ZXJyaWRlIG9iamVjdCB0byBvdmVycmlkZSB0aGUgb2JqZWN0IHN0eWxlXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBkcmF3Qm9yZGVyc0luR3JvdXA6IGZ1bmN0aW9uKGN0eCwgb3B0aW9ucywgc3R5bGVPdmVycmlkZSkge1xuICAgICAgc3R5bGVPdmVycmlkZSA9IHN0eWxlT3ZlcnJpZGUgfHwge307XG4gICAgICB2YXIgcCA9IHRoaXMuX2dldE5vblRyYW5zZm9ybWVkRGltZW5zaW9ucygpLFxuICAgICAgICAgIG1hdHJpeCA9IGZhYnJpYy51dGlsLmNvbXBvc2VNYXRyaXgoe1xuICAgICAgICAgICAgc2NhbGVYOiBvcHRpb25zLnNjYWxlWCxcbiAgICAgICAgICAgIHNjYWxlWTogb3B0aW9ucy5zY2FsZVksXG4gICAgICAgICAgICBza2V3WDogb3B0aW9ucy5za2V3WFxuICAgICAgICAgIH0pLFxuICAgICAgICAgIHdoID0gZmFicmljLnV0aWwudHJhbnNmb3JtUG9pbnQocCwgbWF0cml4KSxcbiAgICAgICAgICBzdHJva2VXaWR0aCA9IDEgLyB0aGlzLmJvcmRlclNjYWxlRmFjdG9yLFxuICAgICAgICAgIHdpZHRoID0gd2gueCArIHN0cm9rZVdpZHRoLFxuICAgICAgICAgIGhlaWdodCA9IHdoLnkgKyBzdHJva2VXaWR0aDtcblxuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIHRoaXMuX3NldExpbmVEYXNoKGN0eCwgc3R5bGVPdmVycmlkZS5ib3JkZXJEYXNoQXJyYXkgfHwgdGhpcy5ib3JkZXJEYXNoQXJyYXksIG51bGwpO1xuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gc3R5bGVPdmVycmlkZS5ib3JkZXJDb2xvciB8fCB0aGlzLmJvcmRlckNvbG9yO1xuXG4gICAgICBjdHguc3Ryb2tlUmVjdChcbiAgICAgICAgLXdpZHRoIC8gMixcbiAgICAgICAgLWhlaWdodCAvIDIsXG4gICAgICAgIHdpZHRoLFxuICAgICAgICBoZWlnaHRcbiAgICAgICk7XG5cbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRHJhd3MgY29ybmVycyBvZiBhbiBvYmplY3QncyBib3VuZGluZyBib3guXG4gICAgICogUmVxdWlyZXMgcHVibGljIHByb3BlcnRpZXM6IHdpZHRoLCBoZWlnaHRcbiAgICAgKiBSZXF1aXJlcyBwdWJsaWMgb3B0aW9uczogY29ybmVyU2l6ZSwgcGFkZGluZ1xuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byBkcmF3IG9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0eWxlT3ZlcnJpZGUgb2JqZWN0IHRvIG92ZXJyaWRlIHRoZSBvYmplY3Qgc3R5bGVcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuT2JqZWN0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGRyYXdDb250cm9sczogZnVuY3Rpb24oY3R4LCBzdHlsZU92ZXJyaWRlKSB7XG4gICAgICBzdHlsZU92ZXJyaWRlID0gc3R5bGVPdmVycmlkZSB8fCB7fTtcbiAgICAgIHZhciB3aCA9IHRoaXMuX2NhbGN1bGF0ZUN1cnJlbnREaW1lbnNpb25zKCksXG4gICAgICAgICAgd2lkdGggPSB3aC54LFxuICAgICAgICAgIGhlaWdodCA9IHdoLnksXG4gICAgICAgICAgc2NhbGVPZmZzZXQgPSBzdHlsZU92ZXJyaWRlLmNvcm5lclNpemUgfHwgdGhpcy5jb3JuZXJTaXplLFxuICAgICAgICAgIGxlZnQgPSAtKHdpZHRoICsgc2NhbGVPZmZzZXQpIC8gMixcbiAgICAgICAgICB0b3AgPSAtKGhlaWdodCArIHNjYWxlT2Zmc2V0KSAvIDIsXG4gICAgICAgICAgdHJhbnNwYXJlbnRDb3JuZXJzID0gdHlwZW9mIHN0eWxlT3ZlcnJpZGUudHJhbnNwYXJlbnRDb3JuZXJzICE9PSAndW5kZWZpbmVkJyA/XG4gICAgICAgICAgICBzdHlsZU92ZXJyaWRlLnRyYW5zcGFyZW50Q29ybmVycyA6IHRoaXMudHJhbnNwYXJlbnRDb3JuZXJzLFxuICAgICAgICAgIGhhc1JvdGF0aW5nUG9pbnQgPSB0eXBlb2Ygc3R5bGVPdmVycmlkZS5oYXNSb3RhdGluZ1BvaW50ICE9PSAndW5kZWZpbmVkJyA/XG4gICAgICAgICAgICBzdHlsZU92ZXJyaWRlLmhhc1JvdGF0aW5nUG9pbnQgOiB0aGlzLmhhc1JvdGF0aW5nUG9pbnQsXG4gICAgICAgICAgbWV0aG9kTmFtZSA9IHRyYW5zcGFyZW50Q29ybmVycyA/ICdzdHJva2UnIDogJ2ZpbGwnO1xuXG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gY3R4LmZpbGxTdHlsZSA9IHN0eWxlT3ZlcnJpZGUuY29ybmVyQ29sb3IgfHwgdGhpcy5jb3JuZXJDb2xvcjtcbiAgICAgIGlmICghdGhpcy50cmFuc3BhcmVudENvcm5lcnMpIHtcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gc3R5bGVPdmVycmlkZS5jb3JuZXJTdHJva2VDb2xvciB8fCB0aGlzLmNvcm5lclN0cm9rZUNvbG9yO1xuICAgICAgfVxuICAgICAgdGhpcy5fc2V0TGluZURhc2goY3R4LCBzdHlsZU92ZXJyaWRlLmNvcm5lckRhc2hBcnJheSB8fCB0aGlzLmNvcm5lckRhc2hBcnJheSwgbnVsbCk7XG5cbiAgICAgIC8vIHRvcC1sZWZ0XG4gICAgICB0aGlzLl9kcmF3Q29udHJvbCgndGwnLCBjdHgsIG1ldGhvZE5hbWUsXG4gICAgICAgIGxlZnQsXG4gICAgICAgIHRvcCwgc3R5bGVPdmVycmlkZSk7XG5cbiAgICAgIC8vIHRvcC1yaWdodFxuICAgICAgdGhpcy5fZHJhd0NvbnRyb2woJ3RyJywgY3R4LCBtZXRob2ROYW1lLFxuICAgICAgICBsZWZ0ICsgd2lkdGgsXG4gICAgICAgIHRvcCwgc3R5bGVPdmVycmlkZSk7XG5cbiAgICAgIC8vIGJvdHRvbS1sZWZ0XG4gICAgICB0aGlzLl9kcmF3Q29udHJvbCgnYmwnLCBjdHgsIG1ldGhvZE5hbWUsXG4gICAgICAgIGxlZnQsXG4gICAgICAgIHRvcCArIGhlaWdodCwgc3R5bGVPdmVycmlkZSk7XG5cbiAgICAgIC8vIGJvdHRvbS1yaWdodFxuICAgICAgdGhpcy5fZHJhd0NvbnRyb2woJ2JyJywgY3R4LCBtZXRob2ROYW1lLFxuICAgICAgICBsZWZ0ICsgd2lkdGgsXG4gICAgICAgIHRvcCArIGhlaWdodCwgc3R5bGVPdmVycmlkZSk7XG5cbiAgICAgIGlmICghdGhpcy5nZXQoJ2xvY2tVbmlTY2FsaW5nJykpIHtcblxuICAgICAgICAvLyBtaWRkbGUtdG9wXG4gICAgICAgIHRoaXMuX2RyYXdDb250cm9sKCdtdCcsIGN0eCwgbWV0aG9kTmFtZSxcbiAgICAgICAgICBsZWZ0ICsgd2lkdGggLyAyLFxuICAgICAgICAgIHRvcCwgc3R5bGVPdmVycmlkZSk7XG5cbiAgICAgICAgLy8gbWlkZGxlLWJvdHRvbVxuICAgICAgICB0aGlzLl9kcmF3Q29udHJvbCgnbWInLCBjdHgsIG1ldGhvZE5hbWUsXG4gICAgICAgICAgbGVmdCArIHdpZHRoIC8gMixcbiAgICAgICAgICB0b3AgKyBoZWlnaHQsIHN0eWxlT3ZlcnJpZGUpO1xuXG4gICAgICAgIC8vIG1pZGRsZS1yaWdodFxuICAgICAgICB0aGlzLl9kcmF3Q29udHJvbCgnbXInLCBjdHgsIG1ldGhvZE5hbWUsXG4gICAgICAgICAgbGVmdCArIHdpZHRoLFxuICAgICAgICAgIHRvcCArIGhlaWdodCAvIDIsIHN0eWxlT3ZlcnJpZGUpO1xuXG4gICAgICAgIC8vIG1pZGRsZS1sZWZ0XG4gICAgICAgIHRoaXMuX2RyYXdDb250cm9sKCdtbCcsIGN0eCwgbWV0aG9kTmFtZSxcbiAgICAgICAgICBsZWZ0LFxuICAgICAgICAgIHRvcCArIGhlaWdodCAvIDIsIHN0eWxlT3ZlcnJpZGUpO1xuICAgICAgfVxuXG4gICAgICAvLyBtaWRkbGUtdG9wLXJvdGF0ZVxuICAgICAgaWYgKGhhc1JvdGF0aW5nUG9pbnQpIHtcbiAgICAgICAgdGhpcy5fZHJhd0NvbnRyb2woJ210cicsIGN0eCwgbWV0aG9kTmFtZSxcbiAgICAgICAgICBsZWZ0ICsgd2lkdGggLyAyLFxuICAgICAgICAgIHRvcCAtIHRoaXMucm90YXRpbmdQb2ludE9mZnNldCwgc3R5bGVPdmVycmlkZSk7XG4gICAgICB9XG5cbiAgICAgIGN0eC5yZXN0b3JlKCk7XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9kcmF3Q29udHJvbDogZnVuY3Rpb24oY29udHJvbCwgY3R4LCBtZXRob2ROYW1lLCBsZWZ0LCB0b3AsIHN0eWxlT3ZlcnJpZGUpIHtcbiAgICAgIHN0eWxlT3ZlcnJpZGUgPSBzdHlsZU92ZXJyaWRlIHx8IHt9O1xuICAgICAgaWYgKCF0aGlzLmlzQ29udHJvbFZpc2libGUoY29udHJvbCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHNpemUgPSB0aGlzLmNvcm5lclNpemUsIHN0cm9rZSA9ICF0aGlzLnRyYW5zcGFyZW50Q29ybmVycyAmJiB0aGlzLmNvcm5lclN0cm9rZUNvbG9yO1xuICAgICAgc3dpdGNoIChzdHlsZU92ZXJyaWRlLmNvcm5lclN0eWxlIHx8IHRoaXMuY29ybmVyU3R5bGUpIHtcbiAgICAgICAgY2FzZSAnY2lyY2xlJzpcbiAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgY3R4LmFyYyhsZWZ0ICsgc2l6ZSAvIDIsIHRvcCArIHNpemUgLyAyLCBzaXplIC8gMiwgMCwgMiAqIE1hdGguUEksIGZhbHNlKTtcbiAgICAgICAgICBjdHhbbWV0aG9kTmFtZV0oKTtcbiAgICAgICAgICBpZiAoc3Ryb2tlKSB7XG4gICAgICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRoaXMudHJhbnNwYXJlbnRDb3JuZXJzIHx8IGN0eC5jbGVhclJlY3QobGVmdCwgdG9wLCBzaXplLCBzaXplKTtcbiAgICAgICAgICBjdHhbbWV0aG9kTmFtZSArICdSZWN0J10obGVmdCwgdG9wLCBzaXplLCBzaXplKTtcbiAgICAgICAgICBpZiAoc3Ryb2tlKSB7XG4gICAgICAgICAgICBjdHguc3Ryb2tlUmVjdChsZWZ0LCB0b3AsIHNpemUsIHNpemUpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBzcGVjaWZpZWQgY29udHJvbCBpcyB2aXNpYmxlLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNvbnRyb2xOYW1lIFRoZSBuYW1lIG9mIHRoZSBjb250cm9sLiBQb3NzaWJsZSB2YWx1ZXMgYXJlICd0bCcsICd0cicsICdicicsICdibCcsICdtbCcsICdtdCcsICdtcicsICdtYicsICdtdHInLlxuICAgICAqIEByZXR1cm5zIHtCb29sZWFufSB0cnVlIGlmIHRoZSBzcGVjaWZpZWQgY29udHJvbCBpcyB2aXNpYmxlLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBpc0NvbnRyb2xWaXNpYmxlOiBmdW5jdGlvbihjb250cm9sTmFtZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2dldENvbnRyb2xzVmlzaWJpbGl0eSgpW2NvbnRyb2xOYW1lXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgc3BlY2lmaWVkIGNvbnRyb2wuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNvbnRyb2xOYW1lIFRoZSBuYW1lIG9mIHRoZSBjb250cm9sLiBQb3NzaWJsZSB2YWx1ZXMgYXJlICd0bCcsICd0cicsICdicicsICdibCcsICdtbCcsICdtdCcsICdtcicsICdtYicsICdtdHInLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gdmlzaWJsZSB0cnVlIHRvIHNldCB0aGUgc3BlY2lmaWVkIGNvbnRyb2wgdmlzaWJsZSwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXRDb250cm9sVmlzaWJsZTogZnVuY3Rpb24oY29udHJvbE5hbWUsIHZpc2libGUpIHtcbiAgICAgIHRoaXMuX2dldENvbnRyb2xzVmlzaWJpbGl0eSgpW2NvbnRyb2xOYW1lXSA9IHZpc2libGU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdmlzaWJpbGl0eSBzdGF0ZSBvZiBvYmplY3QgY29udHJvbHMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuYmxdIHRydWUgdG8gZW5hYmxlIHRoZSBib3R0b20tbGVmdCBjb250cm9sLCBmYWxzZSB0byBkaXNhYmxlIGl0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5icl0gdHJ1ZSB0byBlbmFibGUgdGhlIGJvdHRvbS1yaWdodCBjb250cm9sLCBmYWxzZSB0byBkaXNhYmxlIGl0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5tYl0gdHJ1ZSB0byBlbmFibGUgdGhlIG1pZGRsZS1ib3R0b20gY29udHJvbCwgZmFsc2UgdG8gZGlzYWJsZSBpdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMubWxdIHRydWUgdG8gZW5hYmxlIHRoZSBtaWRkbGUtbGVmdCBjb250cm9sLCBmYWxzZSB0byBkaXNhYmxlIGl0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5tcl0gdHJ1ZSB0byBlbmFibGUgdGhlIG1pZGRsZS1yaWdodCBjb250cm9sLCBmYWxzZSB0byBkaXNhYmxlIGl0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5tdF0gdHJ1ZSB0byBlbmFibGUgdGhlIG1pZGRsZS10b3AgY29udHJvbCwgZmFsc2UgdG8gZGlzYWJsZSBpdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMudGxdIHRydWUgdG8gZW5hYmxlIHRoZSB0b3AtbGVmdCBjb250cm9sLCBmYWxzZSB0byBkaXNhYmxlIGl0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy50cl0gdHJ1ZSB0byBlbmFibGUgdGhlIHRvcC1yaWdodCBjb250cm9sLCBmYWxzZSB0byBkaXNhYmxlIGl0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5tdHJdIHRydWUgdG8gZW5hYmxlIHRoZSBtaWRkbGUtdG9wLXJvdGF0ZSBjb250cm9sLCBmYWxzZSB0byBkaXNhYmxlIGl0XG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXRDb250cm9sc1Zpc2liaWxpdHk6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7IH0pO1xuXG4gICAgICBmb3IgKHZhciBwIGluIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zZXRDb250cm9sVmlzaWJsZShwLCBvcHRpb25zW3BdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBpbnN0YW5jZSBvZiB0aGUgY29udHJvbCB2aXNpYmlsaXR5IHNldCBmb3IgdGhpcyBvYmplY3QuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fVxuICAgICAqL1xuICAgIF9nZXRDb250cm9sc1Zpc2liaWxpdHk6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCF0aGlzLl9jb250cm9sc1Zpc2liaWxpdHkpIHtcbiAgICAgICAgdGhpcy5fY29udHJvbHNWaXNpYmlsaXR5ID0ge1xuICAgICAgICAgIHRsOiB0cnVlLFxuICAgICAgICAgIHRyOiB0cnVlLFxuICAgICAgICAgIGJyOiB0cnVlLFxuICAgICAgICAgIGJsOiB0cnVlLFxuICAgICAgICAgIG1sOiB0cnVlLFxuICAgICAgICAgIG10OiB0cnVlLFxuICAgICAgICAgIG1yOiB0cnVlLFxuICAgICAgICAgIG1iOiB0cnVlLFxuICAgICAgICAgIG10cjogdHJ1ZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX2NvbnRyb2xzVmlzaWJpbGl0eTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVGhpcyBjYWxsYmFjayBmdW5jdGlvbiBpcyBjYWxsZWQgZXZlcnkgdGltZSBfZGlzY2FyZEFjdGl2ZU9iamVjdCBvciBfc2V0QWN0aXZlT2JqZWN0XG4gICAgICogdHJ5IHRvIHRvIGRlc2VsZWN0IHRoaXMgb2JqZWN0LiBJZiB0aGUgZnVuY3Rpb24gcmV0dXJucyB0cnVlLCB0aGUgcHJvY2VzcyBpcyBjYW5jZWxsZWRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIG9wdGlvbnMgc2VudCBmcm9tIHRoZSB1cHBlciBmdW5jdGlvbnNcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBbb3B0aW9ucy5lXSBldmVudCBpZiB0aGUgcHJvY2VzcyBpcyBnZW5lcmF0ZWQgYnkgYW4gZXZlbnRcbiAgICAgKi9cbiAgICBvbkRlc2VsZWN0OiBmdW5jdGlvbigpIHtcbiAgICAgIC8vIGltcGxlbWVudGVkIGJ5IHN1Yi1jbGFzc2VzLCBhcyBuZWVkZWQuXG4gICAgfSxcblxuXG4gICAgLyoqXG4gICAgICogVGhpcyBjYWxsYmFjayBmdW5jdGlvbiBpcyBjYWxsZWQgZXZlcnkgdGltZSBfZGlzY2FyZEFjdGl2ZU9iamVjdCBvciBfc2V0QWN0aXZlT2JqZWN0XG4gICAgICogdHJ5IHRvIHRvIHNlbGVjdCB0aGlzIG9iamVjdC4gSWYgdGhlIGZ1bmN0aW9uIHJldHVybnMgdHJ1ZSwgdGhlIHByb2Nlc3MgaXMgY2FuY2VsbGVkXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBvcHRpb25zIHNlbnQgZnJvbSB0aGUgdXBwZXIgZnVuY3Rpb25zXG4gICAgICogQHBhcmFtIHtFdmVudH0gW29wdGlvbnMuZV0gZXZlbnQgaWYgdGhlIHByb2Nlc3MgaXMgZ2VuZXJhdGVkIGJ5IGFuIGV2ZW50XG4gICAgICovXG4gICAgb25TZWxlY3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gaW1wbGVtZW50ZWQgYnkgc3ViLWNsYXNzZXMsIGFzIG5lZWRlZC5cbiAgICB9XG4gIH0pO1xufSkoKTtcblxuXG5mYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlLCAvKiogQGxlbmRzIGZhYnJpYy5TdGF0aWNDYW52YXMucHJvdG90eXBlICovIHtcblxuICAvKipcbiAgICogQW5pbWF0aW9uIGR1cmF0aW9uIChpbiBtcykgZm9yIGZ4KiBtZXRob2RzXG4gICAqIEB0eXBlIE51bWJlclxuICAgKiBAZGVmYXVsdFxuICAgKi9cbiAgRlhfRFVSQVRJT046IDUwMCxcblxuICAvKipcbiAgICogQ2VudGVycyBvYmplY3QgaG9yaXpvbnRhbGx5IHdpdGggYW5pbWF0aW9uLlxuICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY2VudGVyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbY2FsbGJhY2tzXSBDYWxsYmFja3Mgb2JqZWN0IHdpdGggb3B0aW9uYWwgXCJvbkNvbXBsZXRlXCIgYW5kL29yIFwib25DaGFuZ2VcIiBwcm9wZXJ0aWVzXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja3Mub25Db21wbGV0ZV0gSW52b2tlZCBvbiBjb21wbGV0aW9uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja3Mub25DaGFuZ2VdIEludm9rZWQgb24gZXZlcnkgc3RlcCBvZiBhbmltYXRpb25cbiAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgKiBAY2hhaW5hYmxlXG4gICAqL1xuICBmeENlbnRlck9iamVjdEg6IGZ1bmN0aW9uIChvYmplY3QsIGNhbGxiYWNrcykge1xuICAgIGNhbGxiYWNrcyA9IGNhbGxiYWNrcyB8fCB7IH07XG5cbiAgICB2YXIgZW1wdHkgPSBmdW5jdGlvbigpIHsgfSxcbiAgICAgICAgb25Db21wbGV0ZSA9IGNhbGxiYWNrcy5vbkNvbXBsZXRlIHx8IGVtcHR5LFxuICAgICAgICBvbkNoYW5nZSA9IGNhbGxiYWNrcy5vbkNoYW5nZSB8fCBlbXB0eSxcbiAgICAgICAgX3RoaXMgPSB0aGlzO1xuXG4gICAgZmFicmljLnV0aWwuYW5pbWF0ZSh7XG4gICAgICBzdGFydFZhbHVlOiBvYmplY3QubGVmdCxcbiAgICAgIGVuZFZhbHVlOiB0aGlzLmdldENlbnRlcigpLmxlZnQsXG4gICAgICBkdXJhdGlvbjogdGhpcy5GWF9EVVJBVElPTixcbiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBvYmplY3Quc2V0KCdsZWZ0JywgdmFsdWUpO1xuICAgICAgICBfdGhpcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgICAgIG9uQ2hhbmdlKCk7XG4gICAgICB9LFxuICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIG9iamVjdC5zZXRDb29yZHMoKTtcbiAgICAgICAgb25Db21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENlbnRlcnMgb2JqZWN0IHZlcnRpY2FsbHkgd2l0aCBhbmltYXRpb24uXG4gICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjZW50ZXJcbiAgICogQHBhcmFtIHtPYmplY3R9IFtjYWxsYmFja3NdIENhbGxiYWNrcyBvYmplY3Qgd2l0aCBvcHRpb25hbCBcIm9uQ29tcGxldGVcIiBhbmQvb3IgXCJvbkNoYW5nZVwiIHByb3BlcnRpZXNcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrcy5vbkNvbXBsZXRlXSBJbnZva2VkIG9uIGNvbXBsZXRpb25cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrcy5vbkNoYW5nZV0gSW52b2tlZCBvbiBldmVyeSBzdGVwIG9mIGFuaW1hdGlvblxuICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAqIEBjaGFpbmFibGVcbiAgICovXG4gIGZ4Q2VudGVyT2JqZWN0VjogZnVuY3Rpb24gKG9iamVjdCwgY2FsbGJhY2tzKSB7XG4gICAgY2FsbGJhY2tzID0gY2FsbGJhY2tzIHx8IHsgfTtcblxuICAgIHZhciBlbXB0eSA9IGZ1bmN0aW9uKCkgeyB9LFxuICAgICAgICBvbkNvbXBsZXRlID0gY2FsbGJhY2tzLm9uQ29tcGxldGUgfHwgZW1wdHksXG4gICAgICAgIG9uQ2hhbmdlID0gY2FsbGJhY2tzLm9uQ2hhbmdlIHx8IGVtcHR5LFxuICAgICAgICBfdGhpcyA9IHRoaXM7XG5cbiAgICBmYWJyaWMudXRpbC5hbmltYXRlKHtcbiAgICAgIHN0YXJ0VmFsdWU6IG9iamVjdC50b3AsXG4gICAgICBlbmRWYWx1ZTogdGhpcy5nZXRDZW50ZXIoKS50b3AsXG4gICAgICBkdXJhdGlvbjogdGhpcy5GWF9EVVJBVElPTixcbiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBvYmplY3Quc2V0KCd0b3AnLCB2YWx1ZSk7XG4gICAgICAgIF90aGlzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICAgICAgb25DaGFuZ2UoKTtcbiAgICAgIH0sXG4gICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgb2JqZWN0LnNldENvb3JkcygpO1xuICAgICAgICBvbkNvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogU2FtZSBhcyBgZmFicmljLkNhbnZhcyNyZW1vdmVgIGJ1dCBhbmltYXRlZFxuICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iamVjdCBPYmplY3QgdG8gcmVtb3ZlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbY2FsbGJhY2tzXSBDYWxsYmFja3Mgb2JqZWN0IHdpdGggb3B0aW9uYWwgXCJvbkNvbXBsZXRlXCIgYW5kL29yIFwib25DaGFuZ2VcIiBwcm9wZXJ0aWVzXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja3Mub25Db21wbGV0ZV0gSW52b2tlZCBvbiBjb21wbGV0aW9uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja3Mub25DaGFuZ2VdIEludm9rZWQgb24gZXZlcnkgc3RlcCBvZiBhbmltYXRpb25cbiAgICogQHJldHVybiB7ZmFicmljLkNhbnZhc30gdGhpc0FyZ1xuICAgKiBAY2hhaW5hYmxlXG4gICAqL1xuICBmeFJlbW92ZTogZnVuY3Rpb24gKG9iamVjdCwgY2FsbGJhY2tzKSB7XG4gICAgY2FsbGJhY2tzID0gY2FsbGJhY2tzIHx8IHsgfTtcblxuICAgIHZhciBlbXB0eSA9IGZ1bmN0aW9uKCkgeyB9LFxuICAgICAgICBvbkNvbXBsZXRlID0gY2FsbGJhY2tzLm9uQ29tcGxldGUgfHwgZW1wdHksXG4gICAgICAgIG9uQ2hhbmdlID0gY2FsbGJhY2tzLm9uQ2hhbmdlIHx8IGVtcHR5LFxuICAgICAgICBfdGhpcyA9IHRoaXM7XG5cbiAgICBmYWJyaWMudXRpbC5hbmltYXRlKHtcbiAgICAgIHN0YXJ0VmFsdWU6IG9iamVjdC5vcGFjaXR5LFxuICAgICAgZW5kVmFsdWU6IDAsXG4gICAgICBkdXJhdGlvbjogdGhpcy5GWF9EVVJBVElPTixcbiAgICAgIG9uQ2hhbmdlOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBvYmplY3Quc2V0KCdvcGFjaXR5JywgdmFsdWUpO1xuICAgICAgICBfdGhpcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgICAgIG9uQ2hhbmdlKCk7XG4gICAgICB9LFxuICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5yZW1vdmUob2JqZWN0KTtcbiAgICAgICAgb25Db21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn0pO1xuXG5mYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5PYmplY3QucHJvdG90eXBlLCAvKiogQGxlbmRzIGZhYnJpYy5PYmplY3QucHJvdG90eXBlICovIHtcbiAgLyoqXG4gICAqIEFuaW1hdGVzIG9iamVjdCdzIHByb3BlcnRpZXNcbiAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBwcm9wZXJ0eSBQcm9wZXJ0eSB0byBhbmltYXRlIChpZiBzdHJpbmcpIG9yIHByb3BlcnRpZXMgdG8gYW5pbWF0ZSAoaWYgb2JqZWN0KVxuICAgKiBAcGFyYW0ge051bWJlcnxPYmplY3R9IHZhbHVlIFZhbHVlIHRvIGFuaW1hdGUgcHJvcGVydHkgdG8gKGlmIHN0cmluZyB3YXMgZ2l2ZW4gZmlyc3QpIG9yIG9wdGlvbnMgb2JqZWN0XG4gICAqIEByZXR1cm4ge2ZhYnJpYy5PYmplY3R9IHRoaXNBcmdcbiAgICogQHR1dG9yaWFsIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ZhYnJpYy1pbnRyby1wYXJ0LTIjYW5pbWF0aW9ufVxuICAgKiBAY2hhaW5hYmxlXG4gICAqXG4gICAqIEFzIG9iamVjdCDigJQgbXVsdGlwbGUgcHJvcGVydGllc1xuICAgKlxuICAgKiBvYmplY3QuYW5pbWF0ZSh7IGxlZnQ6IC4uLiwgdG9wOiAuLi4gfSk7XG4gICAqIG9iamVjdC5hbmltYXRlKHsgbGVmdDogLi4uLCB0b3A6IC4uLiB9LCB7IGR1cmF0aW9uOiAuLi4gfSk7XG4gICAqXG4gICAqIEFzIHN0cmluZyDigJQgb25lIHByb3BlcnR5XG4gICAqXG4gICAqIG9iamVjdC5hbmltYXRlKCdsZWZ0JywgLi4uKTtcbiAgICogb2JqZWN0LmFuaW1hdGUoJ2xlZnQnLCB7IGR1cmF0aW9uOiAuLi4gfSk7XG4gICAqXG4gICAqL1xuICBhbmltYXRlOiBmdW5jdGlvbigpIHtcbiAgICBpZiAoYXJndW1lbnRzWzBdICYmIHR5cGVvZiBhcmd1bWVudHNbMF0gPT09ICdvYmplY3QnKSB7XG4gICAgICB2YXIgcHJvcHNUb0FuaW1hdGUgPSBbXSwgcHJvcCwgc2tpcENhbGxiYWNrcztcbiAgICAgIGZvciAocHJvcCBpbiBhcmd1bWVudHNbMF0pIHtcbiAgICAgICAgcHJvcHNUb0FuaW1hdGUucHVzaChwcm9wKTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBwcm9wc1RvQW5pbWF0ZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBwcm9wID0gcHJvcHNUb0FuaW1hdGVbaV07XG4gICAgICAgIHNraXBDYWxsYmFja3MgPSBpICE9PSBsZW4gLSAxO1xuICAgICAgICB0aGlzLl9hbmltYXRlKHByb3AsIGFyZ3VtZW50c1swXVtwcm9wXSwgYXJndW1lbnRzWzFdLCBza2lwQ2FsbGJhY2tzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLl9hbmltYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHkgUHJvcGVydHkgdG8gYW5pbWF0ZVxuICAgKiBAcGFyYW0ge1N0cmluZ30gdG8gVmFsdWUgdG8gYW5pbWF0ZSB0b1xuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3NraXBDYWxsYmFja3NdIFdoZW4gdHJ1ZSwgY2FsbGJhY2tzIGxpa2Ugb25jaGFuZ2UgYW5kIG9uY29tcGxldGUgYXJlIG5vdCBpbnZva2VkXG4gICAqL1xuICBfYW5pbWF0ZTogZnVuY3Rpb24ocHJvcGVydHksIHRvLCBvcHRpb25zLCBza2lwQ2FsbGJhY2tzKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcywgcHJvcFBhaXI7XG5cbiAgICB0byA9IHRvLnRvU3RyaW5nKCk7XG5cbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSB7IH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgb3B0aW9ucyA9IGZhYnJpYy51dGlsLm9iamVjdC5jbG9uZShvcHRpb25zKTtcbiAgICB9XG5cbiAgICBpZiAofnByb3BlcnR5LmluZGV4T2YoJy4nKSkge1xuICAgICAgcHJvcFBhaXIgPSBwcm9wZXJ0eS5zcGxpdCgnLicpO1xuICAgIH1cblxuICAgIHZhciBjdXJyZW50VmFsdWUgPSBwcm9wUGFpclxuICAgICAgPyB0aGlzLmdldChwcm9wUGFpclswXSlbcHJvcFBhaXJbMV1dXG4gICAgICA6IHRoaXMuZ2V0KHByb3BlcnR5KTtcblxuICAgIGlmICghKCdmcm9tJyBpbiBvcHRpb25zKSkge1xuICAgICAgb3B0aW9ucy5mcm9tID0gY3VycmVudFZhbHVlO1xuICAgIH1cblxuICAgIGlmICh+dG8uaW5kZXhPZignPScpKSB7XG4gICAgICB0byA9IGN1cnJlbnRWYWx1ZSArIHBhcnNlRmxvYXQodG8ucmVwbGFjZSgnPScsICcnKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdG8gPSBwYXJzZUZsb2F0KHRvKTtcbiAgICB9XG5cbiAgICBmYWJyaWMudXRpbC5hbmltYXRlKHtcbiAgICAgIHN0YXJ0VmFsdWU6IG9wdGlvbnMuZnJvbSxcbiAgICAgIGVuZFZhbHVlOiB0byxcbiAgICAgIGJ5VmFsdWU6IG9wdGlvbnMuYnksXG4gICAgICBlYXNpbmc6IG9wdGlvbnMuZWFzaW5nLFxuICAgICAgZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb24sXG4gICAgICBhYm9ydDogb3B0aW9ucy5hYm9ydCAmJiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMuYWJvcnQuY2FsbChfdGhpcyk7XG4gICAgICB9LFxuICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uKHZhbHVlLCB2YWx1ZVByb2dyZXNzLCB0aW1lUHJvZ3Jlc3MpIHtcbiAgICAgICAgaWYgKHByb3BQYWlyKSB7XG4gICAgICAgICAgX3RoaXNbcHJvcFBhaXJbMF1dW3Byb3BQYWlyWzFdXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIF90aGlzLnNldChwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChza2lwQ2FsbGJhY2tzKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG9wdGlvbnMub25DaGFuZ2UgJiYgb3B0aW9ucy5vbkNoYW5nZSh2YWx1ZSwgdmFsdWVQcm9ncmVzcywgdGltZVByb2dyZXNzKTtcbiAgICAgIH0sXG4gICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbih2YWx1ZSwgdmFsdWVQcm9ncmVzcywgdGltZVByb2dyZXNzKSB7XG4gICAgICAgIGlmIChza2lwQ2FsbGJhY2tzKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuc2V0Q29vcmRzKCk7XG4gICAgICAgIG9wdGlvbnMub25Db21wbGV0ZSAmJiBvcHRpb25zLm9uQ29tcGxldGUodmFsdWUsIHZhbHVlUHJvZ3Jlc3MsIHRpbWVQcm9ncmVzcyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLFxuICAgICAgZXh0ZW5kID0gZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZCxcbiAgICAgIGNsb25lID0gZmFicmljLnV0aWwub2JqZWN0LmNsb25lLFxuICAgICAgY29vcmRQcm9wcyA9IHsgeDE6IDEsIHgyOiAxLCB5MTogMSwgeTI6IDEgfSxcbiAgICAgIHN1cHBvcnRzTGluZURhc2ggPSBmYWJyaWMuU3RhdGljQ2FudmFzLnN1cHBvcnRzKCdzZXRMaW5lRGFzaCcpO1xuXG4gIGlmIChmYWJyaWMuTGluZSkge1xuICAgIGZhYnJpYy53YXJuKCdmYWJyaWMuTGluZSBpcyBhbHJlYWR5IGRlZmluZWQnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogTGluZSBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkxpbmVcbiAgICogQGV4dGVuZHMgZmFicmljLk9iamVjdFxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuTGluZSNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKi9cbiAgZmFicmljLkxpbmUgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyhmYWJyaWMuT2JqZWN0LCAvKiogQGxlbmRzIGZhYnJpYy5MaW5lLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBUeXBlIG9mIGFuIG9iamVjdFxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ2xpbmUnLFxuXG4gICAgLyoqXG4gICAgICogeCB2YWx1ZSBvciBmaXJzdCBsaW5lIGVkZ2VcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHgxOiAwLFxuXG4gICAgLyoqXG4gICAgICogeSB2YWx1ZSBvciBmaXJzdCBsaW5lIGVkZ2VcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHkxOiAwLFxuXG4gICAgLyoqXG4gICAgICogeCB2YWx1ZSBvciBzZWNvbmQgbGluZSBlZGdlXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB4MjogMCxcblxuICAgIC8qKlxuICAgICAqIHkgdmFsdWUgb3Igc2Vjb25kIGxpbmUgZWRnZVxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgeTI6IDAsXG5cbiAgICBjYWNoZVByb3BlcnRpZXM6IGZhYnJpYy5PYmplY3QucHJvdG90eXBlLmNhY2hlUHJvcGVydGllcy5jb25jYXQoJ3gxJywgJ3gyJywgJ3kxJywgJ3kyJyksXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwb2ludHNdIEFycmF5IG9mIHBvaW50c1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuTGluZX0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKHBvaW50cywgb3B0aW9ucykge1xuICAgICAgaWYgKCFwb2ludHMpIHtcbiAgICAgICAgcG9pbnRzID0gWzAsIDAsIDAsIDBdO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmNhbGxTdXBlcignaW5pdGlhbGl6ZScsIG9wdGlvbnMpO1xuXG4gICAgICB0aGlzLnNldCgneDEnLCBwb2ludHNbMF0pO1xuICAgICAgdGhpcy5zZXQoJ3kxJywgcG9pbnRzWzFdKTtcbiAgICAgIHRoaXMuc2V0KCd4MicsIHBvaW50c1syXSk7XG4gICAgICB0aGlzLnNldCgneTInLCBwb2ludHNbM10pO1xuXG4gICAgICB0aGlzLl9zZXRXaWR0aEhlaWdodChvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnNcbiAgICAgKi9cbiAgICBfc2V0V2lkdGhIZWlnaHQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7IH0pO1xuXG4gICAgICB0aGlzLndpZHRoID0gTWF0aC5hYnModGhpcy54MiAtIHRoaXMueDEpO1xuICAgICAgdGhpcy5oZWlnaHQgPSBNYXRoLmFicyh0aGlzLnkyIC0gdGhpcy55MSk7XG5cbiAgICAgIHRoaXMubGVmdCA9ICdsZWZ0JyBpbiBvcHRpb25zXG4gICAgICAgID8gb3B0aW9ucy5sZWZ0XG4gICAgICAgIDogdGhpcy5fZ2V0TGVmdFRvT3JpZ2luWCgpO1xuXG4gICAgICB0aGlzLnRvcCA9ICd0b3AnIGluIG9wdGlvbnNcbiAgICAgICAgPyBvcHRpb25zLnRvcFxuICAgICAgICA6IHRoaXMuX2dldFRvcFRvT3JpZ2luWSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAgICovXG4gICAgX3NldDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ19zZXQnLCBrZXksIHZhbHVlKTtcbiAgICAgIGlmICh0eXBlb2YgY29vcmRQcm9wc1trZXldICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLl9zZXRXaWR0aEhlaWdodCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBsZWZ0VG9PcmlnaW5YIERpc3RhbmNlIGZyb20gbGVmdCBlZGdlIG9mIGNhbnZhcyB0byBvcmlnaW5YIG9mIExpbmUuXG4gICAgICovXG4gICAgX2dldExlZnRUb09yaWdpblg6IG1ha2VFZGdlVG9PcmlnaW5HZXR0ZXIoXG4gICAgICB7IC8vIHByb3BlcnR5IG5hbWVzXG4gICAgICAgIG9yaWdpbjogJ29yaWdpblgnLFxuICAgICAgICBheGlzMTogJ3gxJyxcbiAgICAgICAgYXhpczI6ICd4MicsXG4gICAgICAgIGRpbWVuc2lvbjogJ3dpZHRoJ1xuICAgICAgfSxcbiAgICAgIHsgLy8gcG9zc2libGUgdmFsdWVzIG9mIG9yaWdpblxuICAgICAgICBuZWFyZXN0OiAnbGVmdCcsXG4gICAgICAgIGNlbnRlcjogJ2NlbnRlcicsXG4gICAgICAgIGZhcnRoZXN0OiAncmlnaHQnXG4gICAgICB9XG4gICAgKSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7TnVtYmVyfSB0b3BUb09yaWdpblkgRGlzdGFuY2UgZnJvbSB0b3AgZWRnZSBvZiBjYW52YXMgdG8gb3JpZ2luWSBvZiBMaW5lLlxuICAgICAqL1xuICAgIF9nZXRUb3BUb09yaWdpblk6IG1ha2VFZGdlVG9PcmlnaW5HZXR0ZXIoXG4gICAgICB7IC8vIHByb3BlcnR5IG5hbWVzXG4gICAgICAgIG9yaWdpbjogJ29yaWdpblknLFxuICAgICAgICBheGlzMTogJ3kxJyxcbiAgICAgICAgYXhpczI6ICd5MicsXG4gICAgICAgIGRpbWVuc2lvbjogJ2hlaWdodCdcbiAgICAgIH0sXG4gICAgICB7IC8vIHBvc3NpYmxlIHZhbHVlcyBvZiBvcmlnaW5cbiAgICAgICAgbmVhcmVzdDogJ3RvcCcsXG4gICAgICAgIGNlbnRlcjogJ2NlbnRlcicsXG4gICAgICAgIGZhcnRoZXN0OiAnYm90dG9tJ1xuICAgICAgfVxuICAgICksXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcblxuICAgICAgaWYgKCF0aGlzLnN0cm9rZURhc2hBcnJheSB8fCB0aGlzLnN0cm9rZURhc2hBcnJheSAmJiBzdXBwb3J0c0xpbmVEYXNoKSB7XG4gICAgICAgIC8vIG1vdmUgZnJvbSBjZW50ZXIgKG9mIHZpcnR1YWwgYm94KSB0byBpdHMgbGVmdC90b3AgY29ybmVyXG4gICAgICAgIC8vIHdlIGNhbid0IGFzc3VtZSB4MSwgeTEgaXMgdG9wIGxlZnQgYW5kIHgyLCB5MiBpcyBib3R0b20gcmlnaHRcbiAgICAgICAgdmFyIHAgPSB0aGlzLmNhbGNMaW5lUG9pbnRzKCk7XG4gICAgICAgIGN0eC5tb3ZlVG8ocC54MSwgcC55MSk7XG4gICAgICAgIGN0eC5saW5lVG8ocC54MiwgcC55Mik7XG4gICAgICB9XG5cbiAgICAgIGN0eC5saW5lV2lkdGggPSB0aGlzLnN0cm9rZVdpZHRoO1xuXG4gICAgICAvLyBUT0RPOiB0ZXN0IHRoaXNcbiAgICAgIC8vIG1ha2Ugc3VyZSBzZXR0aW5nIFwiZmlsbFwiIGNoYW5nZXMgY29sb3Igb2YgYSBsaW5lXG4gICAgICAvLyAoYnkgY29weWluZyBmaWxsU3R5bGUgdG8gc3Ryb2tlU3R5bGUsIHNpbmNlIGxpbmUgaXMgc3Ryb2tlZCwgbm90IGZpbGxlZClcbiAgICAgIHZhciBvcmlnU3Ryb2tlU3R5bGUgPSBjdHguc3Ryb2tlU3R5bGU7XG4gICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnN0cm9rZSB8fCBjdHguZmlsbFN0eWxlO1xuICAgICAgdGhpcy5zdHJva2UgJiYgdGhpcy5fcmVuZGVyU3Ryb2tlKGN0eCk7XG4gICAgICBjdHguc3Ryb2tlU3R5bGUgPSBvcmlnU3Ryb2tlU3R5bGU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXJEYXNoZWRTdHJva2U6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgdmFyIHAgPSB0aGlzLmNhbGNMaW5lUG9pbnRzKCk7XG5cbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGZhYnJpYy51dGlsLmRyYXdEYXNoZWRMaW5lKGN0eCwgcC54MSwgcC55MSwgcC54MiwgcC55MiwgdGhpcy5zdHJva2VEYXNoQXJyYXkpO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGFuIGhlbHBlciBmb3Igc3ZnIGltcG9ydC4gaXQgcmV0dXJucyB0aGUgY2VudGVyIG9mIHRoZSBvYmplY3QgaW4gdGhlIHN2Z1xuICAgICAqIHVudHJhbnNmb3JtZWQgY29vcmRpbmF0ZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gY2VudGVyIHBvaW50IGZyb20gZWxlbWVudCBjb29yZGluYXRlc1xuICAgICAqL1xuICAgIF9maW5kQ2VudGVyRnJvbUVsZW1lbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDogKHRoaXMueDEgKyB0aGlzLngyKSAvIDIsXG4gICAgICAgIHk6ICh0aGlzLnkxICsgdGhpcy55MikgLyAyLFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAbWV0aGQgdG9PYmplY3RcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcGVydGllc1RvSW5jbHVkZV0gQW55IHByb3BlcnRpZXMgdGhhdCB5b3UgbWlnaHQgd2FudCB0byBhZGRpdGlvbmFsbHkgaW5jbHVkZSBpbiB0aGUgb3V0cHV0XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24ocHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgcmV0dXJuIGV4dGVuZCh0aGlzLmNhbGxTdXBlcigndG9PYmplY3QnLCBwcm9wZXJ0aWVzVG9JbmNsdWRlKSwgdGhpcy5jYWxjTGluZVBvaW50cygpKTtcbiAgICB9LFxuXG4gICAgLypcbiAgICAgKiBDYWxjdWxhdGUgb2JqZWN0IGRpbWVuc2lvbnMgZnJvbSBpdHMgcHJvcGVydGllc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2dldE5vblRyYW5zZm9ybWVkRGltZW5zaW9uczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZGltID0gdGhpcy5jYWxsU3VwZXIoJ19nZXROb25UcmFuc2Zvcm1lZERpbWVuc2lvbnMnKTtcbiAgICAgIGlmICh0aGlzLnN0cm9rZUxpbmVDYXAgPT09ICdidXR0Jykge1xuICAgICAgICBpZiAodGhpcy53aWR0aCA9PT0gMCkge1xuICAgICAgICAgIGRpbS55IC09IHRoaXMuc3Ryb2tlV2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaGVpZ2h0ID09PSAwKSB7XG4gICAgICAgICAgZGltLnggLT0gdGhpcy5zdHJva2VXaWR0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGRpbTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVjYWxjdWxhdGVzIGxpbmUgcG9pbnRzIGdpdmVuIHdpZHRoIGFuZCBoZWlnaHRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNhbGNMaW5lUG9pbnRzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB4TXVsdCA9IHRoaXMueDEgPD0gdGhpcy54MiA/IC0xIDogMSxcbiAgICAgICAgICB5TXVsdCA9IHRoaXMueTEgPD0gdGhpcy55MiA/IC0xIDogMSxcbiAgICAgICAgICB4MSA9ICh4TXVsdCAqIHRoaXMud2lkdGggKiAwLjUpLFxuICAgICAgICAgIHkxID0gKHlNdWx0ICogdGhpcy5oZWlnaHQgKiAwLjUpLFxuICAgICAgICAgIHgyID0gKHhNdWx0ICogdGhpcy53aWR0aCAqIC0wLjUpLFxuICAgICAgICAgIHkyID0gKHlNdWx0ICogdGhpcy5oZWlnaHQgKiAtMC41KTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgeDE6IHgxLFxuICAgICAgICB4MjogeDIsXG4gICAgICAgIHkxOiB5MSxcbiAgICAgICAgeTI6IHkyXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKiBfVE9fU1ZHX1NUQVJUXyAqL1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3ZnIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7QXJyYXl9IGFuIGFycmF5IG9mIHN0cmluZ3Mgd2l0aCB0aGUgc3BlY2lmaWMgc3ZnIHJlcHJlc2VudGF0aW9uXG4gICAgICogb2YgdGhlIGluc3RhbmNlXG4gICAgICovXG4gICAgX3RvU1ZHOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwID0gdGhpcy5jYWxjTGluZVBvaW50cygpO1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgJzxsaW5lICcsICdDT01NT05fUEFSVFMnLFxuICAgICAgICAneDE9XCInLCBwLngxLFxuICAgICAgICAnXCIgeTE9XCInLCBwLnkxLFxuICAgICAgICAnXCIgeDI9XCInLCBwLngyLFxuICAgICAgICAnXCIgeTI9XCInLCBwLnkyLFxuICAgICAgICAnXCIgLz5cXG4nXG4gICAgICBdO1xuICAgIH0sXG4gICAgLyogX1RPX1NWR19FTkRfICovXG4gIH0pO1xuXG4gIC8qIF9GUk9NX1NWR19TVEFSVF8gKi9cbiAgLyoqXG4gICAqIExpc3Qgb2YgYXR0cmlidXRlIG5hbWVzIHRvIGFjY291bnQgZm9yIHdoZW4gcGFyc2luZyBTVkcgZWxlbWVudCAodXNlZCBieSB7QGxpbmsgZmFicmljLkxpbmUuZnJvbUVsZW1lbnR9KVxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuTGluZVxuICAgKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9zaGFwZXMuaHRtbCNMaW5lRWxlbWVudFxuICAgKi9cbiAgZmFicmljLkxpbmUuQVRUUklCVVRFX05BTUVTID0gZmFicmljLlNIQVJFRF9BVFRSSUJVVEVTLmNvbmNhdCgneDEgeTEgeDIgeTInLnNwbGl0KCcgJykpO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGZhYnJpYy5MaW5lIGluc3RhbmNlIGZyb20gYW4gU1ZHIGVsZW1lbnRcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLkxpbmVcbiAgICogQHBhcmFtIHtTVkdFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgdG8gcGFyc2VcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIGNhbGxiYWNrIGZ1bmN0aW9uIGludm9rZWQgYWZ0ZXIgcGFyc2luZ1xuICAgKi9cbiAgZmFicmljLkxpbmUuZnJvbUVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50LCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgfTtcbiAgICB2YXIgcGFyc2VkQXR0cmlidXRlcyA9IGZhYnJpYy5wYXJzZUF0dHJpYnV0ZXMoZWxlbWVudCwgZmFicmljLkxpbmUuQVRUUklCVVRFX05BTUVTKSxcbiAgICAgICAgcG9pbnRzID0gW1xuICAgICAgICAgIHBhcnNlZEF0dHJpYnV0ZXMueDEgfHwgMCxcbiAgICAgICAgICBwYXJzZWRBdHRyaWJ1dGVzLnkxIHx8IDAsXG4gICAgICAgICAgcGFyc2VkQXR0cmlidXRlcy54MiB8fCAwLFxuICAgICAgICAgIHBhcnNlZEF0dHJpYnV0ZXMueTIgfHwgMFxuICAgICAgICBdO1xuICAgIGNhbGxiYWNrKG5ldyBmYWJyaWMuTGluZShwb2ludHMsIGV4dGVuZChwYXJzZWRBdHRyaWJ1dGVzLCBvcHRpb25zKSkpO1xuICB9O1xuICAvKiBfRlJPTV9TVkdfRU5EXyAqL1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGZhYnJpYy5MaW5lIGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5MaW5lXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja10gaW52b2tlZCB3aXRoIG5ldyBpbnN0YW5jZSBhcyBmaXJzdCBhcmd1bWVudFxuICAgKi9cbiAgZmFicmljLkxpbmUuZnJvbU9iamVjdCA9IGZ1bmN0aW9uKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgICBmdW5jdGlvbiBfY2FsbGJhY2soaW5zdGFuY2UpIHtcbiAgICAgIGRlbGV0ZSBpbnN0YW5jZS5wb2ludHM7XG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhpbnN0YW5jZSk7XG4gICAgfTtcbiAgICB2YXIgb3B0aW9ucyA9IGNsb25lKG9iamVjdCwgdHJ1ZSk7XG4gICAgb3B0aW9ucy5wb2ludHMgPSBbb2JqZWN0LngxLCBvYmplY3QueTEsIG9iamVjdC54Miwgb2JqZWN0LnkyXTtcbiAgICBmYWJyaWMuT2JqZWN0Ll9mcm9tT2JqZWN0KCdMaW5lJywgb3B0aW9ucywgX2NhbGxiYWNrLCAncG9pbnRzJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFByb2R1Y2VzIGEgZnVuY3Rpb24gdGhhdCBjYWxjdWxhdGVzIGRpc3RhbmNlIGZyb20gY2FudmFzIGVkZ2UgdG8gTGluZSBvcmlnaW4uXG4gICAqL1xuICBmdW5jdGlvbiBtYWtlRWRnZVRvT3JpZ2luR2V0dGVyKHByb3BlcnR5TmFtZXMsIG9yaWdpblZhbHVlcykge1xuICAgIHZhciBvcmlnaW4gPSBwcm9wZXJ0eU5hbWVzLm9yaWdpbixcbiAgICAgICAgYXhpczEgPSBwcm9wZXJ0eU5hbWVzLmF4aXMxLFxuICAgICAgICBheGlzMiA9IHByb3BlcnR5TmFtZXMuYXhpczIsXG4gICAgICAgIGRpbWVuc2lvbiA9IHByb3BlcnR5TmFtZXMuZGltZW5zaW9uLFxuICAgICAgICBuZWFyZXN0ID0gb3JpZ2luVmFsdWVzLm5lYXJlc3QsXG4gICAgICAgIGNlbnRlciA9IG9yaWdpblZhbHVlcy5jZW50ZXIsXG4gICAgICAgIGZhcnRoZXN0ID0gb3JpZ2luVmFsdWVzLmZhcnRoZXN0O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgc3dpdGNoICh0aGlzLmdldChvcmlnaW4pKSB7XG4gICAgICAgIGNhc2UgbmVhcmVzdDpcbiAgICAgICAgICByZXR1cm4gTWF0aC5taW4odGhpcy5nZXQoYXhpczEpLCB0aGlzLmdldChheGlzMikpO1xuICAgICAgICBjYXNlIGNlbnRlcjpcbiAgICAgICAgICByZXR1cm4gTWF0aC5taW4odGhpcy5nZXQoYXhpczEpLCB0aGlzLmdldChheGlzMikpICsgKDAuNSAqIHRoaXMuZ2V0KGRpbWVuc2lvbikpO1xuICAgICAgICBjYXNlIGZhcnRoZXN0OlxuICAgICAgICAgIHJldHVybiBNYXRoLm1heCh0aGlzLmdldChheGlzMSksIHRoaXMuZ2V0KGF4aXMyKSk7XG4gICAgICB9XG4gICAgfTtcblxuICB9XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIHBpID0gTWF0aC5QSTtcblxuICBpZiAoZmFicmljLkNpcmNsZSkge1xuICAgIGZhYnJpYy53YXJuKCdmYWJyaWMuQ2lyY2xlIGlzIGFscmVhZHkgZGVmaW5lZC4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogQ2lyY2xlIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuQ2lyY2xlXG4gICAqIEBleHRlbmRzIGZhYnJpYy5PYmplY3RcbiAgICogQHNlZSB7QGxpbmsgZmFicmljLkNpcmNsZSNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKi9cbiAgZmFicmljLkNpcmNsZSA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKGZhYnJpYy5PYmplY3QsIC8qKiBAbGVuZHMgZmFicmljLkNpcmNsZS5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiBhbiBvYmplY3RcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICdjaXJjbGUnLFxuXG4gICAgLyoqXG4gICAgICogUmFkaXVzIG9mIHRoaXMgY2lyY2xlXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICByYWRpdXM6IDAsXG5cbiAgICAvKipcbiAgICAgKiBTdGFydCBhbmdsZSBvZiB0aGUgY2lyY2xlLCBtb3ZpbmcgY2xvY2t3aXNlXG4gICAgICogZGVwcmVjdGF0ZWQgdHlwZSwgdGhpcyBzaG91bGQgYmUgaW4gZGVncmVlLCB0aGlzIHdhcyBhbiBvdmVyc2lnaHQuXG4gICAgICogcHJvYmFibHkgd2lsbCBjaGFuZ2UgdG8gZGVncmVlcyBpbiBuZXh0IG1ham9yIHZlcnNpb25cbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgc3RhcnRBbmdsZTogMCxcblxuICAgIC8qKlxuICAgICAqIEVuZCBhbmdsZSBvZiB0aGUgY2lyY2xlXG4gICAgICogZGVwcmVjdGF0ZWQgdHlwZSwgdGhpcyBzaG91bGQgYmUgaW4gZGVncmVlLCB0aGlzIHdhcyBhbiBvdmVyc2lnaHQuXG4gICAgICogcHJvYmFibHkgd2lsbCBjaGFuZ2UgdG8gZGVncmVlcyBpbiBuZXh0IG1ham9yIHZlcnNpb25cbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdCAyUGlcbiAgICAgKi9cbiAgICBlbmRBbmdsZTogcGkgKiAyLFxuXG4gICAgY2FjaGVQcm9wZXJ0aWVzOiBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS5jYWNoZVByb3BlcnRpZXMuY29uY2F0KCdyYWRpdXMnLCAnc3RhcnRBbmdsZScsICdlbmRBbmdsZScpLFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5DaXJjbGV9IHRoaXNBcmdcbiAgICAgKi9cbiAgICBfc2V0OiBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICB0aGlzLmNhbGxTdXBlcignX3NldCcsIGtleSwgdmFsdWUpO1xuXG4gICAgICBpZiAoa2V5ID09PSAncmFkaXVzJykge1xuICAgICAgICB0aGlzLnNldFJhZGl1cyh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzVG9JbmNsdWRlXSBBbnkgcHJvcGVydGllcyB0aGF0IHlvdSBtaWdodCB3YW50IHRvIGFkZGl0aW9uYWxseSBpbmNsdWRlIGluIHRoZSBvdXRwdXRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvT2JqZWN0OiBmdW5jdGlvbihwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxsU3VwZXIoJ3RvT2JqZWN0JywgWydyYWRpdXMnLCAnc3RhcnRBbmdsZScsICdlbmRBbmdsZSddLmNvbmNhdChwcm9wZXJ0aWVzVG9JbmNsdWRlKSk7XG4gICAgfSxcblxuICAgIC8qIF9UT19TVkdfU1RBUlRfICovXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN2ZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge0FycmF5fSBhbiBhcnJheSBvZiBzdHJpbmdzIHdpdGggdGhlIHNwZWNpZmljIHN2ZyByZXByZXNlbnRhdGlvblxuICAgICAqIG9mIHRoZSBpbnN0YW5jZVxuICAgICAqL1xuICAgIF90b1NWRzogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc3ZnU3RyaW5nLCB4ID0gMCwgeSA9IDAsXG4gICAgICAgICAgYW5nbGUgPSAodGhpcy5lbmRBbmdsZSAtIHRoaXMuc3RhcnRBbmdsZSkgJSAoIDIgKiBwaSk7XG5cbiAgICAgIGlmIChhbmdsZSA9PT0gMCkge1xuICAgICAgICBzdmdTdHJpbmcgPSBbXG4gICAgICAgICAgJzxjaXJjbGUgJywgJ0NPTU1PTl9QQVJUUycsXG4gICAgICAgICAgJ2N4PVwiJyArIHggKyAnXCIgY3k9XCInICsgeSArICdcIiAnLFxuICAgICAgICAgICdyPVwiJywgdGhpcy5yYWRpdXMsXG4gICAgICAgICAgJ1wiIC8+XFxuJ1xuICAgICAgICBdO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHZhciBzdGFydFggPSBmYWJyaWMudXRpbC5jb3ModGhpcy5zdGFydEFuZ2xlKSAqIHRoaXMucmFkaXVzLFxuICAgICAgICAgICAgc3RhcnRZID0gZmFicmljLnV0aWwuc2luKHRoaXMuc3RhcnRBbmdsZSkgKiB0aGlzLnJhZGl1cyxcbiAgICAgICAgICAgIGVuZFggPSBmYWJyaWMudXRpbC5jb3ModGhpcy5lbmRBbmdsZSkgKiB0aGlzLnJhZGl1cyxcbiAgICAgICAgICAgIGVuZFkgPSBmYWJyaWMudXRpbC5zaW4odGhpcy5lbmRBbmdsZSkgKiB0aGlzLnJhZGl1cyxcbiAgICAgICAgICAgIGxhcmdlRmxhZyA9IGFuZ2xlID4gcGkgPyAnMScgOiAnMCc7XG4gICAgICAgIHN2Z1N0cmluZyA9IFtcbiAgICAgICAgICAnPHBhdGggZD1cIk0gJyArIHN0YXJ0WCArICcgJyArIHN0YXJ0WSxcbiAgICAgICAgICAnIEEgJyArIHRoaXMucmFkaXVzICsgJyAnICsgdGhpcy5yYWRpdXMsXG4gICAgICAgICAgJyAwICcsICtsYXJnZUZsYWcgKyAnIDEnLCAnICcgKyBlbmRYICsgJyAnICsgZW5kWSxcbiAgICAgICAgICAnXCIgJywgJ0NPTU1PTl9QQVJUUycsICcgLz5cXG4nXG4gICAgICAgIF07XG4gICAgICB9XG4gICAgICByZXR1cm4gc3ZnU3RyaW5nO1xuICAgIH0sXG4gICAgLyogX1RPX1NWR19FTkRfICovXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggY29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5hcmMoXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIHRoaXMucmFkaXVzLFxuICAgICAgICB0aGlzLnN0YXJ0QW5nbGUsXG4gICAgICAgIHRoaXMuZW5kQW5nbGUsIGZhbHNlKTtcbiAgICAgIHRoaXMuX3JlbmRlclBhaW50SW5PcmRlcihjdHgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGhvcml6b250YWwgcmFkaXVzIG9mIGFuIG9iamVjdCAoYWNjb3JkaW5nIHRvIGhvdyBhbiBvYmplY3QgaXMgc2NhbGVkKVxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKi9cbiAgICBnZXRSYWRpdXNYOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgncmFkaXVzJykgKiB0aGlzLmdldCgnc2NhbGVYJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdmVydGljYWwgcmFkaXVzIG9mIGFuIG9iamVjdCAoYWNjb3JkaW5nIHRvIGhvdyBhbiBvYmplY3QgaXMgc2NhbGVkKVxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKi9cbiAgICBnZXRSYWRpdXNZOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldCgncmFkaXVzJykgKiB0aGlzLmdldCgnc2NhbGVZJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgcmFkaXVzIG9mIGFuIG9iamVjdCAoYW5kIHVwZGF0ZXMgd2lkdGggYWNjb3JkaW5nbHkpXG4gICAgICogQHJldHVybiB7ZmFicmljLkNpcmNsZX0gdGhpc0FyZ1xuICAgICAqL1xuICAgIHNldFJhZGl1czogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHRoaXMucmFkaXVzID0gdmFsdWU7XG4gICAgICByZXR1cm4gdGhpcy5zZXQoJ3dpZHRoJywgdmFsdWUgKiAyKS5zZXQoJ2hlaWdodCcsIHZhbHVlICogMik7XG4gICAgfSxcbiAgfSk7XG5cbiAgLyogX0ZST01fU1ZHX1NUQVJUXyAqL1xuICAvKipcbiAgICogTGlzdCBvZiBhdHRyaWJ1dGUgbmFtZXMgdG8gYWNjb3VudCBmb3Igd2hlbiBwYXJzaW5nIFNWRyBlbGVtZW50ICh1c2VkIGJ5IHtAbGluayBmYWJyaWMuQ2lyY2xlLmZyb21FbGVtZW50fSlcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLkNpcmNsZVxuICAgKiBAc2VlOiBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvc2hhcGVzLmh0bWwjQ2lyY2xlRWxlbWVudFxuICAgKi9cbiAgZmFicmljLkNpcmNsZS5BVFRSSUJVVEVfTkFNRVMgPSBmYWJyaWMuU0hBUkVEX0FUVFJJQlVURVMuY29uY2F0KCdjeCBjeSByJy5zcGxpdCgnICcpKTtcblxuICAvKipcbiAgICogUmV0dXJucyB7QGxpbmsgZmFicmljLkNpcmNsZX0gaW5zdGFuY2UgZnJvbSBhbiBTVkcgZWxlbWVudFxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuQ2lyY2xlXG4gICAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZWxlbWVudCBFbGVtZW50IHRvIHBhcnNlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gT3B0aW9ucyBjYWxsYmFjayBpbnZva2VkIGFmdGVyIHBhcnNpbmcgaXMgZmluaXNoZWRcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdmFsdWUgb2YgYHJgIGF0dHJpYnV0ZSBpcyBtaXNzaW5nIG9yIGludmFsaWRcbiAgICovXG4gIGZhYnJpYy5DaXJjbGUuZnJvbUVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50LCBjYWxsYmFjaykge1xuICAgIHZhciBwYXJzZWRBdHRyaWJ1dGVzID0gZmFicmljLnBhcnNlQXR0cmlidXRlcyhlbGVtZW50LCBmYWJyaWMuQ2lyY2xlLkFUVFJJQlVURV9OQU1FUyk7XG5cbiAgICBpZiAoIWlzVmFsaWRSYWRpdXMocGFyc2VkQXR0cmlidXRlcykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigndmFsdWUgb2YgYHJgIGF0dHJpYnV0ZSBpcyByZXF1aXJlZCBhbmQgY2FuIG5vdCBiZSBuZWdhdGl2ZScpO1xuICAgIH1cblxuICAgIHBhcnNlZEF0dHJpYnV0ZXMubGVmdCA9IChwYXJzZWRBdHRyaWJ1dGVzLmxlZnQgfHwgMCkgLSBwYXJzZWRBdHRyaWJ1dGVzLnJhZGl1cztcbiAgICBwYXJzZWRBdHRyaWJ1dGVzLnRvcCA9IChwYXJzZWRBdHRyaWJ1dGVzLnRvcCB8fCAwKSAtIHBhcnNlZEF0dHJpYnV0ZXMucmFkaXVzO1xuICAgIGNhbGxiYWNrKG5ldyBmYWJyaWMuQ2lyY2xlKHBhcnNlZEF0dHJpYnV0ZXMpKTtcbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIGlzVmFsaWRSYWRpdXMoYXR0cmlidXRlcykge1xuICAgIHJldHVybiAoKCdyYWRpdXMnIGluIGF0dHJpYnV0ZXMpICYmIChhdHRyaWJ1dGVzLnJhZGl1cyA+PSAwKSk7XG4gIH1cbiAgLyogX0ZST01fU1ZHX0VORF8gKi9cblxuICAvKipcbiAgICogUmV0dXJucyB7QGxpbmsgZmFicmljLkNpcmNsZX0gaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLkNpcmNsZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIGludm9rZWQgd2l0aCBuZXcgaW5zdGFuY2UgYXMgZmlyc3QgYXJndW1lbnRcbiAgICogQHJldHVybiB7T2JqZWN0fSBJbnN0YW5jZSBvZiBmYWJyaWMuQ2lyY2xlXG4gICAqL1xuICBmYWJyaWMuQ2lyY2xlLmZyb21PYmplY3QgPSBmdW5jdGlvbihvYmplY3QsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGZhYnJpYy5PYmplY3QuX2Zyb21PYmplY3QoJ0NpcmNsZScsIG9iamVjdCwgY2FsbGJhY2spO1xuICB9O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSk7XG5cbiAgaWYgKGZhYnJpYy5UcmlhbmdsZSkge1xuICAgIGZhYnJpYy53YXJuKCdmYWJyaWMuVHJpYW5nbGUgaXMgYWxyZWFkeSBkZWZpbmVkJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFRyaWFuZ2xlIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuVHJpYW5nbGVcbiAgICogQGV4dGVuZHMgZmFicmljLk9iamVjdFxuICAgKiBAcmV0dXJuIHtmYWJyaWMuVHJpYW5nbGV9IHRoaXNBcmdcbiAgICogQHNlZSB7QGxpbmsgZmFicmljLlRyaWFuZ2xlI2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqL1xuICBmYWJyaWMuVHJpYW5nbGUgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyhmYWJyaWMuT2JqZWN0LCAvKiogQGxlbmRzIGZhYnJpYy5UcmlhbmdsZS5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiBhbiBvYmplY3RcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICd0cmlhbmdsZScsXG5cbiAgICAvKipcbiAgICAgKiBXaWR0aCBpcyBzZXQgdG8gMTAwIHRvIGNvbXBlbnNhdGUgdGhlIG9sZCBpbml0aWFsaXplIGNvZGUgdGhhdCB3YXMgc2V0dGluZyBpdCB0byAxMDBcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHdpZHRoOiAxMDAsXG5cbiAgICAvKipcbiAgICAgKiBIZWlnaHQgaXMgc2V0IHRvIDEwMCB0byBjb21wZW5zYXRlIHRoZSBvbGQgaW5pdGlhbGl6ZSBjb2RlIHRoYXQgd2FzIHNldHRpbmcgaXQgdG8gMTAwXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBoZWlnaHQ6IDEwMCxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXI6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgdmFyIHdpZHRoQnkyID0gdGhpcy53aWR0aCAvIDIsXG4gICAgICAgICAgaGVpZ2h0QnkyID0gdGhpcy5oZWlnaHQgLyAyO1xuXG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHgubW92ZVRvKC13aWR0aEJ5MiwgaGVpZ2h0QnkyKTtcbiAgICAgIGN0eC5saW5lVG8oMCwgLWhlaWdodEJ5Mik7XG4gICAgICBjdHgubGluZVRvKHdpZHRoQnkyLCBoZWlnaHRCeTIpO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuXG4gICAgICB0aGlzLl9yZW5kZXJQYWludEluT3JkZXIoY3R4KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgX3JlbmRlckRhc2hlZFN0cm9rZTogZnVuY3Rpb24oY3R4KSB7XG4gICAgICB2YXIgd2lkdGhCeTIgPSB0aGlzLndpZHRoIC8gMixcbiAgICAgICAgICBoZWlnaHRCeTIgPSB0aGlzLmhlaWdodCAvIDI7XG5cbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGZhYnJpYy51dGlsLmRyYXdEYXNoZWRMaW5lKGN0eCwgLXdpZHRoQnkyLCBoZWlnaHRCeTIsIDAsIC1oZWlnaHRCeTIsIHRoaXMuc3Ryb2tlRGFzaEFycmF5KTtcbiAgICAgIGZhYnJpYy51dGlsLmRyYXdEYXNoZWRMaW5lKGN0eCwgMCwgLWhlaWdodEJ5Miwgd2lkdGhCeTIsIGhlaWdodEJ5MiwgdGhpcy5zdHJva2VEYXNoQXJyYXkpO1xuICAgICAgZmFicmljLnV0aWwuZHJhd0Rhc2hlZExpbmUoY3R4LCB3aWR0aEJ5MiwgaGVpZ2h0QnkyLCAtd2lkdGhCeTIsIGhlaWdodEJ5MiwgdGhpcy5zdHJva2VEYXNoQXJyYXkpO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIH0sXG5cbiAgICAvKiBfVE9fU1ZHX1NUQVJUXyAqL1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3ZnIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7QXJyYXl9IGFuIGFycmF5IG9mIHN0cmluZ3Mgd2l0aCB0aGUgc3BlY2lmaWMgc3ZnIHJlcHJlc2VudGF0aW9uXG4gICAgICogb2YgdGhlIGluc3RhbmNlXG4gICAgICovXG4gICAgX3RvU1ZHOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB3aWR0aEJ5MiA9IHRoaXMud2lkdGggLyAyLFxuICAgICAgICAgIGhlaWdodEJ5MiA9IHRoaXMuaGVpZ2h0IC8gMixcbiAgICAgICAgICBwb2ludHMgPSBbXG4gICAgICAgICAgICAtd2lkdGhCeTIgKyAnICcgKyBoZWlnaHRCeTIsXG4gICAgICAgICAgICAnMCAnICsgLWhlaWdodEJ5MixcbiAgICAgICAgICAgIHdpZHRoQnkyICsgJyAnICsgaGVpZ2h0QnkyXG4gICAgICAgICAgXS5qb2luKCcsJyk7XG4gICAgICByZXR1cm4gW1xuICAgICAgICAnPHBvbHlnb24gJywgJ0NPTU1PTl9QQVJUUycsXG4gICAgICAgICdwb2ludHM9XCInLCBwb2ludHMsXG4gICAgICAgICdcIiAvPidcbiAgICAgIF07XG4gICAgfSxcbiAgICAvKiBfVE9fU1ZHX0VORF8gKi9cbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMge0BsaW5rIGZhYnJpYy5UcmlhbmdsZX0gaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLlRyaWFuZ2xlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja10gaW52b2tlZCB3aXRoIG5ldyBpbnN0YW5jZSBhcyBmaXJzdCBhcmd1bWVudFxuICAgKi9cbiAgZmFicmljLlRyaWFuZ2xlLmZyb21PYmplY3QgPSBmdW5jdGlvbihvYmplY3QsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGZhYnJpYy5PYmplY3QuX2Zyb21PYmplY3QoJ1RyaWFuZ2xlJywgb2JqZWN0LCBjYWxsYmFjayk7XG4gIH07XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIHBpQnkyICAgPSBNYXRoLlBJICogMjtcblxuICBpZiAoZmFicmljLkVsbGlwc2UpIHtcbiAgICBmYWJyaWMud2FybignZmFicmljLkVsbGlwc2UgaXMgYWxyZWFkeSBkZWZpbmVkLicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBFbGxpcHNlIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuRWxsaXBzZVxuICAgKiBAZXh0ZW5kcyBmYWJyaWMuT2JqZWN0XG4gICAqIEByZXR1cm4ge2ZhYnJpYy5FbGxpcHNlfSB0aGlzQXJnXG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5FbGxpcHNlI2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqL1xuICBmYWJyaWMuRWxsaXBzZSA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKGZhYnJpYy5PYmplY3QsIC8qKiBAbGVuZHMgZmFicmljLkVsbGlwc2UucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIFR5cGUgb2YgYW4gb2JqZWN0XG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAnZWxsaXBzZScsXG5cbiAgICAvKipcbiAgICAgKiBIb3Jpem9udGFsIHJhZGl1c1xuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgcng6ICAgMCxcblxuICAgIC8qKlxuICAgICAqIFZlcnRpY2FsIHJhZGl1c1xuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgcnk6ICAgMCxcblxuICAgIGNhY2hlUHJvcGVydGllczogZmFicmljLk9iamVjdC5wcm90b3R5cGUuY2FjaGVQcm9wZXJ0aWVzLmNvbmNhdCgncngnLCAncnknKSxcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5FbGxpcHNlfSB0aGlzQXJnXG4gICAgICovXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ2luaXRpYWxpemUnLCBvcHRpb25zKTtcbiAgICAgIHRoaXMuc2V0KCdyeCcsIG9wdGlvbnMgJiYgb3B0aW9ucy5yeCB8fCAwKTtcbiAgICAgIHRoaXMuc2V0KCdyeScsIG9wdGlvbnMgJiYgb3B0aW9ucy5yeSB8fCAwKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5FbGxpcHNlfSB0aGlzQXJnXG4gICAgICovXG4gICAgX3NldDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ19zZXQnLCBrZXksIHZhbHVlKTtcbiAgICAgIHN3aXRjaCAoa2V5KSB7XG5cbiAgICAgICAgY2FzZSAncngnOlxuICAgICAgICAgIHRoaXMucnggPSB2YWx1ZTtcbiAgICAgICAgICB0aGlzLnNldCgnd2lkdGgnLCB2YWx1ZSAqIDIpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgJ3J5JzpcbiAgICAgICAgICB0aGlzLnJ5ID0gdmFsdWU7XG4gICAgICAgICAgdGhpcy5zZXQoJ2hlaWdodCcsIHZhbHVlICogMik7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGhvcml6b250YWwgcmFkaXVzIG9mIGFuIG9iamVjdCAoYWNjb3JkaW5nIHRvIGhvdyBhbiBvYmplY3QgaXMgc2NhbGVkKVxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKi9cbiAgICBnZXRSeDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3J4JykgKiB0aGlzLmdldCgnc2NhbGVYJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgVmVydGljYWwgcmFkaXVzIG9mIGFuIG9iamVjdCAoYWNjb3JkaW5nIHRvIGhvdyBhbiBvYmplY3QgaXMgc2NhbGVkKVxuICAgICAqIEByZXR1cm4ge051bWJlcn1cbiAgICAgKi9cbiAgICBnZXRSeTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3J5JykgKiB0aGlzLmdldCgnc2NhbGVZJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uKHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhbGxTdXBlcigndG9PYmplY3QnLCBbJ3J4JywgJ3J5J10uY29uY2F0KHByb3BlcnRpZXNUb0luY2x1ZGUpKTtcbiAgICB9LFxuXG4gICAgLyogX1RPX1NWR19TVEFSVF8gKi9cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN2ZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge0FycmF5fSBhbiBhcnJheSBvZiBzdHJpbmdzIHdpdGggdGhlIHNwZWNpZmljIHN2ZyByZXByZXNlbnRhdGlvblxuICAgICAqIG9mIHRoZSBpbnN0YW5jZVxuICAgICAqL1xuICAgIF90b1NWRzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gW1xuICAgICAgICAnPGVsbGlwc2UgJywgJ0NPTU1PTl9QQVJUUycsXG4gICAgICAgICdjeD1cIjBcIiBjeT1cIjBcIiAnLFxuICAgICAgICAncng9XCInLCB0aGlzLnJ4LFxuICAgICAgICAnXCIgcnk9XCInLCB0aGlzLnJ5LFxuICAgICAgICAnXCIgLz5cXG4nXG4gICAgICBdO1xuICAgIH0sXG4gICAgLyogX1RPX1NWR19FTkRfICovXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggY29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjdHgudHJhbnNmb3JtKDEsIDAsIDAsIHRoaXMucnkgLyB0aGlzLnJ4LCAwLCAwKTtcbiAgICAgIGN0eC5hcmMoXG4gICAgICAgIDAsXG4gICAgICAgIDAsXG4gICAgICAgIHRoaXMucngsXG4gICAgICAgIDAsXG4gICAgICAgIHBpQnkyLFxuICAgICAgICBmYWxzZSk7XG4gICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgdGhpcy5fcmVuZGVyUGFpbnRJbk9yZGVyKGN0eCk7XG4gICAgfSxcbiAgfSk7XG5cbiAgLyogX0ZST01fU1ZHX1NUQVJUXyAqL1xuICAvKipcbiAgICogTGlzdCBvZiBhdHRyaWJ1dGUgbmFtZXMgdG8gYWNjb3VudCBmb3Igd2hlbiBwYXJzaW5nIFNWRyBlbGVtZW50ICh1c2VkIGJ5IHtAbGluayBmYWJyaWMuRWxsaXBzZS5mcm9tRWxlbWVudH0pXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5FbGxpcHNlXG4gICAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHL3NoYXBlcy5odG1sI0VsbGlwc2VFbGVtZW50XG4gICAqL1xuICBmYWJyaWMuRWxsaXBzZS5BVFRSSUJVVEVfTkFNRVMgPSBmYWJyaWMuU0hBUkVEX0FUVFJJQlVURVMuY29uY2F0KCdjeCBjeSByeCByeScuc3BsaXQoJyAnKSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMge0BsaW5rIGZhYnJpYy5FbGxpcHNlfSBpbnN0YW5jZSBmcm9tIGFuIFNWRyBlbGVtZW50XG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5FbGxpcHNlXG4gICAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZWxlbWVudCBFbGVtZW50IHRvIHBhcnNlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gT3B0aW9ucyBjYWxsYmFjayBpbnZva2VkIGFmdGVyIHBhcnNpbmcgaXMgZmluaXNoZWRcbiAgICogQHJldHVybiB7ZmFicmljLkVsbGlwc2V9XG4gICAqL1xuICBmYWJyaWMuRWxsaXBzZS5mcm9tRWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQsIGNhbGxiYWNrKSB7XG5cbiAgICB2YXIgcGFyc2VkQXR0cmlidXRlcyA9IGZhYnJpYy5wYXJzZUF0dHJpYnV0ZXMoZWxlbWVudCwgZmFicmljLkVsbGlwc2UuQVRUUklCVVRFX05BTUVTKTtcblxuICAgIHBhcnNlZEF0dHJpYnV0ZXMubGVmdCA9IChwYXJzZWRBdHRyaWJ1dGVzLmxlZnQgfHwgMCkgLSBwYXJzZWRBdHRyaWJ1dGVzLnJ4O1xuICAgIHBhcnNlZEF0dHJpYnV0ZXMudG9wID0gKHBhcnNlZEF0dHJpYnV0ZXMudG9wIHx8IDApIC0gcGFyc2VkQXR0cmlidXRlcy5yeTtcbiAgICBjYWxsYmFjayhuZXcgZmFicmljLkVsbGlwc2UocGFyc2VkQXR0cmlidXRlcykpO1xuICB9O1xuICAvKiBfRlJPTV9TVkdfRU5EXyAqL1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHtAbGluayBmYWJyaWMuRWxsaXBzZX0gaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLkVsbGlwc2VcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIGZyb21cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSBpbnZva2VkIHdpdGggbmV3IGluc3RhbmNlIGFzIGZpcnN0IGFyZ3VtZW50XG4gICAqIEByZXR1cm4ge2ZhYnJpYy5FbGxpcHNlfVxuICAgKi9cbiAgZmFicmljLkVsbGlwc2UuZnJvbU9iamVjdCA9IGZ1bmN0aW9uKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZmFicmljLk9iamVjdC5fZnJvbU9iamVjdCgnRWxsaXBzZScsIG9iamVjdCwgY2FsbGJhY2spO1xuICB9O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBleHRlbmQgPSBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kO1xuXG4gIGlmIChmYWJyaWMuUmVjdCkge1xuICAgIGZhYnJpYy53YXJuKCdmYWJyaWMuUmVjdCBpcyBhbHJlYWR5IGRlZmluZWQnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUmVjdGFuZ2xlIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuUmVjdFxuICAgKiBAZXh0ZW5kcyBmYWJyaWMuT2JqZWN0XG4gICAqIEByZXR1cm4ge2ZhYnJpYy5SZWN0fSB0aGlzQXJnXG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5SZWN0I2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqL1xuICBmYWJyaWMuUmVjdCA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKGZhYnJpYy5PYmplY3QsIC8qKiBAbGVuZHMgZmFicmljLlJlY3QucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIExpc3Qgb2YgcHJvcGVydGllcyB0byBjb25zaWRlciB3aGVuIGNoZWNraW5nIGlmIHN0YXRlIG9mIGFuIG9iamVjdCBpcyBjaGFuZ2VkICh7QGxpbmsgZmFicmljLk9iamVjdCNoYXNTdGF0ZUNoYW5nZWR9KVxuICAgICAqIGFzIHdlbGwgYXMgZm9yIGhpc3RvcnkgKHVuZG8vcmVkbykgcHVycG9zZXNcbiAgICAgKiBAdHlwZSBBcnJheVxuICAgICAqL1xuICAgIHN0YXRlUHJvcGVydGllczogZmFicmljLk9iamVjdC5wcm90b3R5cGUuc3RhdGVQcm9wZXJ0aWVzLmNvbmNhdCgncngnLCAncnknKSxcblxuICAgIC8qKlxuICAgICAqIFR5cGUgb2YgYW4gb2JqZWN0XG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAncmVjdCcsXG5cbiAgICAvKipcbiAgICAgKiBIb3Jpem9udGFsIGJvcmRlciByYWRpdXNcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHJ4OiAgIDAsXG5cbiAgICAvKipcbiAgICAgKiBWZXJ0aWNhbCBib3JkZXIgcmFkaXVzXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICByeTogICAwLFxuXG4gICAgY2FjaGVQcm9wZXJ0aWVzOiBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS5jYWNoZVByb3BlcnRpZXMuY29uY2F0KCdyeCcsICdyeScpLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHJldHVybiB7T2JqZWN0fSB0aGlzQXJnXG4gICAgICovXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ2luaXRpYWxpemUnLCBvcHRpb25zKTtcbiAgICAgIHRoaXMuX2luaXRSeFJ5KCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHJ4L3J5IGF0dHJpYnV0ZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pbml0UnhSeTogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5yeCAmJiAhdGhpcy5yeSkge1xuICAgICAgICB0aGlzLnJ5ID0gdGhpcy5yeDtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHRoaXMucnkgJiYgIXRoaXMucngpIHtcbiAgICAgICAgdGhpcy5yeCA9IHRoaXMucnk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXI6IGZ1bmN0aW9uKGN0eCkge1xuXG4gICAgICAvLyAxeDEgY2FzZSAodXNlZCBpbiBzcHJheSBicnVzaCkgb3B0aW1pemF0aW9uIHdhcyByZW1vdmVkIGJlY2F1c2VcbiAgICAgIC8vIHdpdGggY2FjaGluZyBhbmQgaGlnaGVyIHpvb20gbGV2ZWwgdGhpcyBtYWtlcyBtb3JlIGRhbWFnZSB0aGFuIGhlbHBcblxuICAgICAgdmFyIHJ4ID0gdGhpcy5yeCA/IE1hdGgubWluKHRoaXMucngsIHRoaXMud2lkdGggLyAyKSA6IDAsXG4gICAgICAgICAgcnkgPSB0aGlzLnJ5ID8gTWF0aC5taW4odGhpcy5yeSwgdGhpcy5oZWlnaHQgLyAyKSA6IDAsXG4gICAgICAgICAgdyA9IHRoaXMud2lkdGgsXG4gICAgICAgICAgaCA9IHRoaXMuaGVpZ2h0LFxuICAgICAgICAgIHggPSAtdGhpcy53aWR0aCAvIDIsXG4gICAgICAgICAgeSA9IC10aGlzLmhlaWdodCAvIDIsXG4gICAgICAgICAgaXNSb3VuZGVkID0gcnggIT09IDAgfHwgcnkgIT09IDAsXG4gICAgICAgICAgLyogXCJtYWdpYyBudW1iZXJcIiBmb3IgYmV6aWVyIGFwcHJveGltYXRpb25zIG9mIGFyY3MgKGh0dHA6Ly9pdGMua3R1Lmx0L2l0YzM1NC9SaXNrdXMzNTQucGRmKSAqL1xuICAgICAgICAgIGsgPSAxIC0gMC41NTIyODQ3NDk4O1xuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuXG4gICAgICBjdHgubW92ZVRvKHggKyByeCwgeSk7XG5cbiAgICAgIGN0eC5saW5lVG8oeCArIHcgLSByeCwgeSk7XG4gICAgICBpc1JvdW5kZWQgJiYgY3R4LmJlemllckN1cnZlVG8oeCArIHcgLSBrICogcngsIHksIHggKyB3LCB5ICsgayAqIHJ5LCB4ICsgdywgeSArIHJ5KTtcblxuICAgICAgY3R4LmxpbmVUbyh4ICsgdywgeSArIGggLSByeSk7XG4gICAgICBpc1JvdW5kZWQgJiYgY3R4LmJlemllckN1cnZlVG8oeCArIHcsIHkgKyBoIC0gayAqIHJ5LCB4ICsgdyAtIGsgKiByeCwgeSArIGgsIHggKyB3IC0gcngsIHkgKyBoKTtcblxuICAgICAgY3R4LmxpbmVUbyh4ICsgcngsIHkgKyBoKTtcbiAgICAgIGlzUm91bmRlZCAmJiBjdHguYmV6aWVyQ3VydmVUbyh4ICsgayAqIHJ4LCB5ICsgaCwgeCwgeSArIGggLSBrICogcnksIHgsIHkgKyBoIC0gcnkpO1xuXG4gICAgICBjdHgubGluZVRvKHgsIHkgKyByeSk7XG4gICAgICBpc1JvdW5kZWQgJiYgY3R4LmJlemllckN1cnZlVG8oeCwgeSArIGsgKiByeSwgeCArIGsgKiByeCwgeSwgeCArIHJ4LCB5KTtcblxuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuXG4gICAgICB0aGlzLl9yZW5kZXJQYWludEluT3JkZXIoY3R4KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgX3JlbmRlckRhc2hlZFN0cm9rZTogZnVuY3Rpb24oY3R4KSB7XG4gICAgICB2YXIgeCA9IC10aGlzLndpZHRoIC8gMixcbiAgICAgICAgICB5ID0gLXRoaXMuaGVpZ2h0IC8gMixcbiAgICAgICAgICB3ID0gdGhpcy53aWR0aCxcbiAgICAgICAgICBoID0gdGhpcy5oZWlnaHQ7XG5cbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGZhYnJpYy51dGlsLmRyYXdEYXNoZWRMaW5lKGN0eCwgeCwgeSwgeCArIHcsIHksIHRoaXMuc3Ryb2tlRGFzaEFycmF5KTtcbiAgICAgIGZhYnJpYy51dGlsLmRyYXdEYXNoZWRMaW5lKGN0eCwgeCArIHcsIHksIHggKyB3LCB5ICsgaCwgdGhpcy5zdHJva2VEYXNoQXJyYXkpO1xuICAgICAgZmFicmljLnV0aWwuZHJhd0Rhc2hlZExpbmUoY3R4LCB4ICsgdywgeSArIGgsIHgsIHkgKyBoLCB0aGlzLnN0cm9rZURhc2hBcnJheSk7XG4gICAgICBmYWJyaWMudXRpbC5kcmF3RGFzaGVkTGluZShjdHgsIHgsIHkgKyBoLCB4LCB5LCB0aGlzLnN0cm9rZURhc2hBcnJheSk7XG4gICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uKHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhbGxTdXBlcigndG9PYmplY3QnLCBbJ3J4JywgJ3J5J10uY29uY2F0KHByb3BlcnRpZXNUb0luY2x1ZGUpKTtcbiAgICB9LFxuXG4gICAgLyogX1RPX1NWR19TVEFSVF8gKi9cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN2ZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge0FycmF5fSBhbiBhcnJheSBvZiBzdHJpbmdzIHdpdGggdGhlIHNwZWNpZmljIHN2ZyByZXByZXNlbnRhdGlvblxuICAgICAqIG9mIHRoZSBpbnN0YW5jZVxuICAgICAqL1xuICAgIF90b1NWRzogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgeCA9IC10aGlzLndpZHRoIC8gMiwgeSA9IC10aGlzLmhlaWdodCAvIDI7XG4gICAgICByZXR1cm4gW1xuICAgICAgICAnPHJlY3QgJywgJ0NPTU1PTl9QQVJUUycsXG4gICAgICAgICd4PVwiJywgeCwgJ1wiIHk9XCInLCB5LFxuICAgICAgICAnXCIgcng9XCInLCB0aGlzLnJ4LCAnXCIgcnk9XCInLCB0aGlzLnJ5LFxuICAgICAgICAnXCIgd2lkdGg9XCInLCB0aGlzLndpZHRoLCAnXCIgaGVpZ2h0PVwiJywgdGhpcy5oZWlnaHQsXG4gICAgICAgICdcIiAvPlxcbidcbiAgICAgIF07XG4gICAgfSxcbiAgICAvKiBfVE9fU1ZHX0VORF8gKi9cbiAgfSk7XG5cbiAgLyogX0ZST01fU1ZHX1NUQVJUXyAqL1xuICAvKipcbiAgICogTGlzdCBvZiBhdHRyaWJ1dGUgbmFtZXMgdG8gYWNjb3VudCBmb3Igd2hlbiBwYXJzaW5nIFNWRyBlbGVtZW50ICh1c2VkIGJ5IGBmYWJyaWMuUmVjdC5mcm9tRWxlbWVudGApXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5SZWN0XG4gICAqIEBzZWU6IGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9zaGFwZXMuaHRtbCNSZWN0RWxlbWVudFxuICAgKi9cbiAgZmFicmljLlJlY3QuQVRUUklCVVRFX05BTUVTID0gZmFicmljLlNIQVJFRF9BVFRSSUJVVEVTLmNvbmNhdCgneCB5IHJ4IHJ5IHdpZHRoIGhlaWdodCcuc3BsaXQoJyAnKSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMge0BsaW5rIGZhYnJpYy5SZWN0fSBpbnN0YW5jZSBmcm9tIGFuIFNWRyBlbGVtZW50XG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5SZWN0XG4gICAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZWxlbWVudCBFbGVtZW50IHRvIHBhcnNlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGNhbGxiYWNrIGZ1bmN0aW9uIGludm9rZWQgYWZ0ZXIgcGFyc2luZ1xuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAqL1xuICBmYWJyaWMuUmVjdC5mcm9tRWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCk7XG4gICAgfVxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgfTtcblxuICAgIHZhciBwYXJzZWRBdHRyaWJ1dGVzID0gZmFicmljLnBhcnNlQXR0cmlidXRlcyhlbGVtZW50LCBmYWJyaWMuUmVjdC5BVFRSSUJVVEVfTkFNRVMpO1xuXG4gICAgcGFyc2VkQXR0cmlidXRlcy5sZWZ0ID0gcGFyc2VkQXR0cmlidXRlcy5sZWZ0IHx8IDA7XG4gICAgcGFyc2VkQXR0cmlidXRlcy50b3AgID0gcGFyc2VkQXR0cmlidXRlcy50b3AgIHx8IDA7XG4gICAgcGFyc2VkQXR0cmlidXRlcy5oZWlnaHQgID0gcGFyc2VkQXR0cmlidXRlcy5oZWlnaHQgfHwgMDtcbiAgICBwYXJzZWRBdHRyaWJ1dGVzLndpZHRoICA9IHBhcnNlZEF0dHJpYnV0ZXMud2lkdGggfHwgMDtcbiAgICB2YXIgcmVjdCA9IG5ldyBmYWJyaWMuUmVjdChleHRlbmQoKG9wdGlvbnMgPyBmYWJyaWMudXRpbC5vYmplY3QuY2xvbmUob3B0aW9ucykgOiB7IH0pLCBwYXJzZWRBdHRyaWJ1dGVzKSk7XG4gICAgcmVjdC52aXNpYmxlID0gcmVjdC52aXNpYmxlICYmIHJlY3Qud2lkdGggPiAwICYmIHJlY3QuaGVpZ2h0ID4gMDtcbiAgICBjYWxsYmFjayhyZWN0KTtcbiAgfTtcbiAgLyogX0ZST01fU1ZHX0VORF8gKi9cblxuICAvKipcbiAgICogUmV0dXJucyB7QGxpbmsgZmFicmljLlJlY3R9IGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5SZWN0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gQ2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gYW4gZmFicmljLlJlY3QgaW5zdGFuY2UgaXMgY3JlYXRlZFxuICAgKi9cbiAgZmFicmljLlJlY3QuZnJvbU9iamVjdCA9IGZ1bmN0aW9uKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZmFicmljLk9iamVjdC5fZnJvbU9iamVjdCgnUmVjdCcsIG9iamVjdCwgY2FsbGJhY2spO1xuICB9O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBleHRlbmQgPSBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kLFxuICAgICAgbWluID0gZmFicmljLnV0aWwuYXJyYXkubWluLFxuICAgICAgbWF4ID0gZmFicmljLnV0aWwuYXJyYXkubWF4LFxuICAgICAgdG9GaXhlZCA9IGZhYnJpYy51dGlsLnRvRml4ZWQ7XG5cbiAgaWYgKGZhYnJpYy5Qb2x5bGluZSkge1xuICAgIGZhYnJpYy53YXJuKCdmYWJyaWMuUG9seWxpbmUgaXMgYWxyZWFkeSBkZWZpbmVkJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFBvbHlsaW5lIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuUG9seWxpbmVcbiAgICogQGV4dGVuZHMgZmFicmljLk9iamVjdFxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuUG9seWxpbmUjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICovXG4gIGZhYnJpYy5Qb2x5bGluZSA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKGZhYnJpYy5PYmplY3QsIC8qKiBAbGVuZHMgZmFicmljLlBvbHlsaW5lLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBUeXBlIG9mIGFuIG9iamVjdFxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ3BvbHlsaW5lJyxcblxuICAgIC8qKlxuICAgICAqIFBvaW50cyBhcnJheVxuICAgICAqIEB0eXBlIEFycmF5XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBwb2ludHM6IG51bGwsXG5cbiAgICBjYWNoZVByb3BlcnRpZXM6IGZhYnJpYy5PYmplY3QucHJvdG90eXBlLmNhY2hlUHJvcGVydGllcy5jb25jYXQoJ3BvaW50cycpLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwb2ludHMgQXJyYXkgb2YgcG9pbnRzICh3aGVyZSBlYWNoIHBvaW50IGlzIGFuIG9iamVjdCB3aXRoIHggYW5kIHkpXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Qb2x5bGluZX0gdGhpc0FyZ1xuICAgICAqIEBleGFtcGxlXG4gICAgICogdmFyIHBvbHkgPSBuZXcgZmFicmljLlBvbHlsaW5lKFtcbiAgICAgKiAgICAgeyB4OiAxMCwgeTogMTAgfSxcbiAgICAgKiAgICAgeyB4OiA1MCwgeTogMzAgfSxcbiAgICAgKiAgICAgeyB4OiA0MCwgeTogNzAgfSxcbiAgICAgKiAgICAgeyB4OiA2MCwgeTogNTAgfSxcbiAgICAgKiAgICAgeyB4OiAxMDAsIHk6IDE1MCB9LFxuICAgICAqICAgICB7IHg6IDQwLCB5OiAxMDAgfVxuICAgICAqICAgXSwge1xuICAgICAqICAgc3Ryb2tlOiAncmVkJyxcbiAgICAgKiAgIGxlZnQ6IDEwMCxcbiAgICAgKiAgIHRvcDogMTAwXG4gICAgICogfSk7XG4gICAgICovXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ocG9pbnRzLCBvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzIHx8IFtdO1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ2luaXRpYWxpemUnLCBvcHRpb25zKTtcbiAgICAgIHRoaXMuX3NldFBvc2l0aW9uRGltZW5zaW9ucyhvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgX3NldFBvc2l0aW9uRGltZW5zaW9uczogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIGNhbGNEaW0gPSB0aGlzLl9jYWxjRGltZW5zaW9ucyhvcHRpb25zKSwgY29ycmVjdExlZnRUb3A7XG4gICAgICB0aGlzLndpZHRoID0gY2FsY0RpbS53aWR0aDtcbiAgICAgIHRoaXMuaGVpZ2h0ID0gY2FsY0RpbS5oZWlnaHQ7XG4gICAgICBpZiAoIW9wdGlvbnMuZnJvbVNWRykge1xuICAgICAgICBjb3JyZWN0TGVmdFRvcCA9IHRoaXMudHJhbnNsYXRlVG9HaXZlbk9yaWdpbihcbiAgICAgICAgICB7IHg6IGNhbGNEaW0ubGVmdCAtIHRoaXMuc3Ryb2tlV2lkdGggLyAyLCB5OiBjYWxjRGltLnRvcCAtIHRoaXMuc3Ryb2tlV2lkdGggLyAyIH0sXG4gICAgICAgICAgJ2xlZnQnLFxuICAgICAgICAgICd0b3AnLFxuICAgICAgICAgIHRoaXMub3JpZ2luWCxcbiAgICAgICAgICB0aGlzLm9yaWdpbllcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5sZWZ0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLmxlZnQgPSBvcHRpb25zLmZyb21TVkcgPyBjYWxjRGltLmxlZnQgOiBjb3JyZWN0TGVmdFRvcC54O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnRvcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy50b3AgPSBvcHRpb25zLmZyb21TVkcgPyBjYWxjRGltLnRvcCA6IGNvcnJlY3RMZWZ0VG9wLnk7XG4gICAgICB9XG4gICAgICB0aGlzLnBhdGhPZmZzZXQgPSB7XG4gICAgICAgIHg6IGNhbGNEaW0ubGVmdCArIHRoaXMud2lkdGggLyAyLFxuICAgICAgICB5OiBjYWxjRGltLnRvcCArIHRoaXMuaGVpZ2h0IC8gMlxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBwb2x5Z29uIG1pbiBhbmQgbWF4IHBvaW50IGZyb20gcG9pbnRzIGFycmF5LFxuICAgICAqIHJldHVybmluZyBhbiBvYmplY3Qgd2l0aCBsZWZ0LCB0b3AsIHdpZGh0LCBoZWlnaHQgdG8gbWVhc3VyZSB0aGVcbiAgICAgKiBwb2x5Z29uIHNpemVcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9iamVjdC5sZWZ0IFggY29vcmRpbmF0ZSBvZiB0aGUgcG9seWdvbiBsZWZ0bW9zdCBwb2ludFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0LnRvcCBZIGNvb3JkaW5hdGUgb2YgdGhlIHBvbHlnb24gdG9wbW9zdCBwb2ludFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0LndpZHRoIGRpc3RhbmNlIGJldHdlZW4gWCBjb29yZGluYXRlcyBvZiB0aGUgcG9seWdvbiBsZWZ0bW9zdCBhbmQgcmlnaHRtb3N0IHBvaW50XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3QuaGVpZ2h0IGRpc3RhbmNlIGJldHdlZW4gWSBjb29yZGluYXRlcyBvZiB0aGUgcG9seWdvbiB0b3Btb3N0IGFuZCBib3R0b21tb3N0IHBvaW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY2FsY0RpbWVuc2lvbnM6IGZ1bmN0aW9uKCkge1xuXG4gICAgICB2YXIgcG9pbnRzID0gdGhpcy5wb2ludHMsXG4gICAgICAgICAgbWluWCA9IG1pbihwb2ludHMsICd4JykgfHwgMCxcbiAgICAgICAgICBtaW5ZID0gbWluKHBvaW50cywgJ3knKSB8fCAwLFxuICAgICAgICAgIG1heFggPSBtYXgocG9pbnRzLCAneCcpIHx8IDAsXG4gICAgICAgICAgbWF4WSA9IG1heChwb2ludHMsICd5JykgfHwgMCxcbiAgICAgICAgICB3aWR0aCA9IChtYXhYIC0gbWluWCksXG4gICAgICAgICAgaGVpZ2h0ID0gKG1heFkgLSBtaW5ZKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGVmdDogbWluWCxcbiAgICAgICAgdG9wOiBtaW5ZLFxuICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzVG9JbmNsdWRlXSBBbnkgcHJvcGVydGllcyB0aGF0IHlvdSBtaWdodCB3YW50IHRvIGFkZGl0aW9uYWxseSBpbmNsdWRlIGluIHRoZSBvdXRwdXRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvT2JqZWN0OiBmdW5jdGlvbihwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICByZXR1cm4gZXh0ZW5kKHRoaXMuY2FsbFN1cGVyKCd0b09iamVjdCcsIHByb3BlcnRpZXNUb0luY2x1ZGUpLCB7XG4gICAgICAgIHBvaW50czogdGhpcy5wb2ludHMuY29uY2F0KClcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKiBfVE9fU1ZHX1NUQVJUXyAqL1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3ZnIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7QXJyYXl9IGFuIGFycmF5IG9mIHN0cmluZ3Mgd2l0aCB0aGUgc3BlY2lmaWMgc3ZnIHJlcHJlc2VudGF0aW9uXG4gICAgICogb2YgdGhlIGluc3RhbmNlXG4gICAgICovXG4gICAgX3RvU1ZHOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwb2ludHMgPSBbXSwgZGlmZlggPSB0aGlzLnBhdGhPZmZzZXQueCwgZGlmZlkgPSB0aGlzLnBhdGhPZmZzZXQueSxcbiAgICAgICAgICBOVU1fRlJBQ1RJT05fRElHSVRTID0gZmFicmljLk9iamVjdC5OVU1fRlJBQ1RJT05fRElHSVRTO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5wb2ludHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgcG9pbnRzLnB1c2goXG4gICAgICAgICAgdG9GaXhlZCh0aGlzLnBvaW50c1tpXS54IC0gZGlmZlgsIE5VTV9GUkFDVElPTl9ESUdJVFMpLCAnLCcsXG4gICAgICAgICAgdG9GaXhlZCh0aGlzLnBvaW50c1tpXS55IC0gZGlmZlksIE5VTV9GUkFDVElPTl9ESUdJVFMpLCAnICdcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbXG4gICAgICAgICc8JyArIHRoaXMudHlwZSArICcgJywgJ0NPTU1PTl9QQVJUUycsXG4gICAgICAgICdwb2ludHM9XCInLCBwb2ludHMuam9pbignJyksXG4gICAgICAgICdcIiAvPlxcbidcbiAgICAgIF07XG4gICAgfSxcbiAgICAvKiBfVE9fU1ZHX0VORF8gKi9cblxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgY29tbW9uUmVuZGVyOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIHZhciBwb2ludCwgbGVuID0gdGhpcy5wb2ludHMubGVuZ3RoLFxuICAgICAgICAgIHggPSB0aGlzLnBhdGhPZmZzZXQueCxcbiAgICAgICAgICB5ID0gdGhpcy5wYXRoT2Zmc2V0Lnk7XG5cbiAgICAgIGlmICghbGVuIHx8IGlzTmFOKHRoaXMucG9pbnRzW2xlbiAtIDFdLnkpKSB7XG4gICAgICAgIC8vIGRvIG5vdCBkcmF3IGlmIG5vIHBvaW50cyBvciBvZGQgcG9pbnRzXG4gICAgICAgIC8vIE5hTiBjb21lcyBmcm9tIHBhcnNlRmxvYXQgb2YgYSBlbXB0eSBzdHJpbmcgaW4gcGFyc2VyXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5tb3ZlVG8odGhpcy5wb2ludHNbMF0ueCAtIHgsIHRoaXMucG9pbnRzWzBdLnkgLSB5KTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgcG9pbnQgPSB0aGlzLnBvaW50c1tpXTtcbiAgICAgICAgY3R4LmxpbmVUbyhwb2ludC54IC0geCwgcG9pbnQueSAtIHkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXI6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgaWYgKCF0aGlzLmNvbW1vblJlbmRlcihjdHgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3JlbmRlclBhaW50SW5PcmRlcihjdHgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyRGFzaGVkU3Ryb2tlOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIHZhciBwMSwgcDI7XG5cbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLnBvaW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBwMSA9IHRoaXMucG9pbnRzW2ldO1xuICAgICAgICBwMiA9IHRoaXMucG9pbnRzW2kgKyAxXSB8fCBwMTtcbiAgICAgICAgZmFicmljLnV0aWwuZHJhd0Rhc2hlZExpbmUoY3R4LCBwMS54LCBwMS55LCBwMi54LCBwMi55LCB0aGlzLnN0cm9rZURhc2hBcnJheSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY29tcGxleGl0eSBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge051bWJlcn0gY29tcGxleGl0eSBvZiB0aGlzIGluc3RhbmNlXG4gICAgICovXG4gICAgY29tcGxleGl0eTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXQoJ3BvaW50cycpLmxlbmd0aDtcbiAgICB9XG4gIH0pO1xuXG4gIC8qIF9GUk9NX1NWR19TVEFSVF8gKi9cbiAgLyoqXG4gICAqIExpc3Qgb2YgYXR0cmlidXRlIG5hbWVzIHRvIGFjY291bnQgZm9yIHdoZW4gcGFyc2luZyBTVkcgZWxlbWVudCAodXNlZCBieSB7QGxpbmsgZmFicmljLlBvbHlsaW5lLmZyb21FbGVtZW50fSlcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLlBvbHlsaW5lXG4gICAqIEBzZWU6IGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9zaGFwZXMuaHRtbCNQb2x5bGluZUVsZW1lbnRcbiAgICovXG4gIGZhYnJpYy5Qb2x5bGluZS5BVFRSSUJVVEVfTkFNRVMgPSBmYWJyaWMuU0hBUkVEX0FUVFJJQlVURVMuY29uY2F0KCk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmFicmljLlBvbHlsaW5lIGluc3RhbmNlIGZyb20gYW4gU1ZHIGVsZW1lbnRcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLlBvbHlsaW5lXG4gICAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZWxlbWVudCBFbGVtZW50IHRvIHBhcnNlclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBjYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIGFmdGVyIHBhcnNpbmdcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgKi9cbiAgZmFicmljLlBvbHlsaW5lLmZyb21FbGVtZW50R2VuZXJhdG9yID0gZnVuY3Rpb24oX2NsYXNzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGVsZW1lbnQsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuICAgICAgfVxuICAgICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHsgfSk7XG5cbiAgICAgIHZhciBwb2ludHMgPSBmYWJyaWMucGFyc2VQb2ludHNBdHRyaWJ1dGUoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3BvaW50cycpKSxcbiAgICAgICAgICBwYXJzZWRBdHRyaWJ1dGVzID0gZmFicmljLnBhcnNlQXR0cmlidXRlcyhlbGVtZW50LCBmYWJyaWNbX2NsYXNzXS5BVFRSSUJVVEVfTkFNRVMpO1xuICAgICAgcGFyc2VkQXR0cmlidXRlcy5mcm9tU1ZHID0gdHJ1ZTtcbiAgICAgIGNhbGxiYWNrKG5ldyBmYWJyaWNbX2NsYXNzXShwb2ludHMsIGV4dGVuZChwYXJzZWRBdHRyaWJ1dGVzLCBvcHRpb25zKSkpO1xuICAgIH07XG4gIH07XG5cbiAgZmFicmljLlBvbHlsaW5lLmZyb21FbGVtZW50ID0gZmFicmljLlBvbHlsaW5lLmZyb21FbGVtZW50R2VuZXJhdG9yKCdQb2x5bGluZScpO1xuXG4gIC8qIF9GUk9NX1NWR19FTkRfICovXG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmFicmljLlBvbHlsaW5lIGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5Qb2x5bGluZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIENhbGxiYWNrIHRvIGludm9rZSB3aGVuIGFuIGZhYnJpYy5QYXRoIGluc3RhbmNlIGlzIGNyZWF0ZWRcbiAgICovXG4gIGZhYnJpYy5Qb2x5bGluZS5mcm9tT2JqZWN0ID0gZnVuY3Rpb24ob2JqZWN0LCBjYWxsYmFjaykge1xuICAgIHJldHVybiBmYWJyaWMuT2JqZWN0Ll9mcm9tT2JqZWN0KCdQb2x5bGluZScsIG9iamVjdCwgY2FsbGJhY2ssICdwb2ludHMnKTtcbiAgfTtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pO1xuXG4gIGlmIChmYWJyaWMuUG9seWdvbikge1xuICAgIGZhYnJpYy53YXJuKCdmYWJyaWMuUG9seWdvbiBpcyBhbHJlYWR5IGRlZmluZWQnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogUG9seWdvbiBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLlBvbHlnb25cbiAgICogQGV4dGVuZHMgZmFicmljLlBvbHlsaW5lXG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5Qb2x5Z29uI2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqL1xuICBmYWJyaWMuUG9seWdvbiA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKGZhYnJpYy5Qb2x5bGluZSwgLyoqIEBsZW5kcyBmYWJyaWMuUG9seWdvbi5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiBhbiBvYmplY3RcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICdwb2x5Z29uJyxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXI6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgaWYgKCF0aGlzLmNvbW1vblJlbmRlcihjdHgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgIHRoaXMuX3JlbmRlclBhaW50SW5PcmRlcihjdHgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyRGFzaGVkU3Ryb2tlOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdfcmVuZGVyRGFzaGVkU3Ryb2tlJywgY3R4KTtcbiAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICB9LFxuICB9KTtcblxuICAvKiBfRlJPTV9TVkdfU1RBUlRfICovXG4gIC8qKlxuICAgKiBMaXN0IG9mIGF0dHJpYnV0ZSBuYW1lcyB0byBhY2NvdW50IGZvciB3aGVuIHBhcnNpbmcgU1ZHIGVsZW1lbnQgKHVzZWQgYnkgYGZhYnJpYy5Qb2x5Z29uLmZyb21FbGVtZW50YClcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLlBvbHlnb25cbiAgICogQHNlZTogaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHL3NoYXBlcy5odG1sI1BvbHlnb25FbGVtZW50XG4gICAqL1xuICBmYWJyaWMuUG9seWdvbi5BVFRSSUJVVEVfTkFNRVMgPSBmYWJyaWMuU0hBUkVEX0FUVFJJQlVURVMuY29uY2F0KCk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMge0BsaW5rIGZhYnJpYy5Qb2x5Z29ufSBpbnN0YW5jZSBmcm9tIGFuIFNWRyBlbGVtZW50XG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5Qb2x5Z29uXG4gICAqIEBwYXJhbSB7U1ZHRWxlbWVudH0gZWxlbWVudCBFbGVtZW50IHRvIHBhcnNlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIGNhbGxiYWNrIGZ1bmN0aW9uIGludm9rZWQgYWZ0ZXIgcGFyc2luZ1xuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAqL1xuICBmYWJyaWMuUG9seWdvbi5mcm9tRWxlbWVudCA9IGZhYnJpYy5Qb2x5bGluZS5mcm9tRWxlbWVudEdlbmVyYXRvcignUG9seWdvbicpO1xuICAvKiBfRlJPTV9TVkdfRU5EXyAqL1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGZhYnJpYy5Qb2x5Z29uIGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5Qb2x5Z29uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gQ2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gYW4gZmFicmljLlBhdGggaW5zdGFuY2UgaXMgY3JlYXRlZFxuICAgKi9cbiAgZmFicmljLlBvbHlnb24uZnJvbU9iamVjdCA9IGZ1bmN0aW9uKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZmFicmljLk9iamVjdC5fZnJvbU9iamVjdCgnUG9seWdvbicsIG9iamVjdCwgY2FsbGJhY2ssICdwb2ludHMnKTtcbiAgfTtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLFxuICAgICAgbWluID0gZmFicmljLnV0aWwuYXJyYXkubWluLFxuICAgICAgbWF4ID0gZmFicmljLnV0aWwuYXJyYXkubWF4LFxuICAgICAgZXh0ZW5kID0gZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZCxcbiAgICAgIF90b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsXG4gICAgICBkcmF3QXJjID0gZmFicmljLnV0aWwuZHJhd0FyYyxcbiAgICAgIHRvRml4ZWQgPSBmYWJyaWMudXRpbC50b0ZpeGVkLFxuICAgICAgY29tbWFuZExlbmd0aHMgPSB7XG4gICAgICAgIG06IDIsXG4gICAgICAgIGw6IDIsXG4gICAgICAgIGg6IDEsXG4gICAgICAgIHY6IDEsXG4gICAgICAgIGM6IDYsXG4gICAgICAgIHM6IDQsXG4gICAgICAgIHE6IDQsXG4gICAgICAgIHQ6IDIsXG4gICAgICAgIGE6IDdcbiAgICAgIH0sXG4gICAgICByZXBlYXRlZENvbW1hbmRzID0ge1xuICAgICAgICBtOiAnbCcsXG4gICAgICAgIE06ICdMJ1xuICAgICAgfTtcblxuICBpZiAoZmFicmljLlBhdGgpIHtcbiAgICBmYWJyaWMud2FybignZmFicmljLlBhdGggaXMgYWxyZWFkeSBkZWZpbmVkJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyoqXG4gICAqIFBhdGggY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5QYXRoXG4gICAqIEBleHRlbmRzIGZhYnJpYy5PYmplY3RcbiAgICogQHR1dG9yaWFsIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ZhYnJpYy1pbnRyby1wYXJ0LTEjcGF0aF9hbmRfcGF0aGdyb3VwfVxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuUGF0aCNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKi9cbiAgZmFicmljLlBhdGggPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyhmYWJyaWMuT2JqZWN0LCAvKiogQGxlbmRzIGZhYnJpYy5QYXRoLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBUeXBlIG9mIGFuIG9iamVjdFxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ3BhdGgnLFxuXG4gICAgLyoqXG4gICAgICogQXJyYXkgb2YgcGF0aCBwb2ludHNcbiAgICAgKiBAdHlwZSBBcnJheVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgcGF0aDogbnVsbCxcblxuICAgIGNhY2hlUHJvcGVydGllczogZmFicmljLk9iamVjdC5wcm90b3R5cGUuY2FjaGVQcm9wZXJ0aWVzLmNvbmNhdCgncGF0aCcsICdmaWxsUnVsZScpLFxuXG4gICAgc3RhdGVQcm9wZXJ0aWVzOiBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS5zdGF0ZVByb3BlcnRpZXMuY29uY2F0KCdwYXRoJyksXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl8U3RyaW5nfSBwYXRoIFBhdGggZGF0YSAoc2VxdWVuY2Ugb2YgY29vcmRpbmF0ZXMgYW5kIGNvcnJlc3BvbmRpbmcgXCJjb21tYW5kXCIgdG9rZW5zKVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuUGF0aH0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKHBhdGgsIG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHsgfTtcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdpbml0aWFsaXplJywgb3B0aW9ucyk7XG5cbiAgICAgIGlmICghcGF0aCkge1xuICAgICAgICBwYXRoID0gW107XG4gICAgICB9XG5cbiAgICAgIHZhciBmcm9tQXJyYXkgPSBfdG9TdHJpbmcuY2FsbChwYXRoKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcblxuICAgICAgdGhpcy5wYXRoID0gZnJvbUFycmF5XG4gICAgICAgID8gcGF0aFxuICAgICAgICAvLyBvbmUgb2YgY29tbWFuZHMgKG0sTSxsLEwscSxRLGMsQyxldGMuKSBmb2xsb3dlZCBieSBub24tY29tbWFuZCBjaGFyYWN0ZXJzIChpLmUuIGNvbW1hbmQgdmFsdWVzKVxuICAgICAgICA6IHBhdGgubWF0Y2ggJiYgcGF0aC5tYXRjaCgvW216bGh2Y3NxdGFdW15temxodmNzcXRhXSovZ2kpO1xuXG4gICAgICBpZiAoIXRoaXMucGF0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghZnJvbUFycmF5KSB7XG4gICAgICAgIHRoaXMucGF0aCA9IHRoaXMuX3BhcnNlUGF0aCgpO1xuICAgICAgfVxuXG4gICAgICBmYWJyaWMuUG9seWxpbmUucHJvdG90eXBlLl9zZXRQb3NpdGlvbkRpbWVuc2lvbnMuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IGNvbnRleHQgdG8gcmVuZGVyIHBhdGggb25cbiAgICAgKi9cbiAgICBfcmVuZGVyUGF0aENvbW1hbmRzOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIHZhciBjdXJyZW50LCAvLyBjdXJyZW50IGluc3RydWN0aW9uXG4gICAgICAgICAgcHJldmlvdXMgPSBudWxsLFxuICAgICAgICAgIHN1YnBhdGhTdGFydFggPSAwLFxuICAgICAgICAgIHN1YnBhdGhTdGFydFkgPSAwLFxuICAgICAgICAgIHggPSAwLCAvLyBjdXJyZW50IHhcbiAgICAgICAgICB5ID0gMCwgLy8gY3VycmVudCB5XG4gICAgICAgICAgY29udHJvbFggPSAwLCAvLyBjdXJyZW50IGNvbnRyb2wgcG9pbnQgeFxuICAgICAgICAgIGNvbnRyb2xZID0gMCwgLy8gY3VycmVudCBjb250cm9sIHBvaW50IHlcbiAgICAgICAgICB0ZW1wWCxcbiAgICAgICAgICB0ZW1wWSxcbiAgICAgICAgICBsID0gLXRoaXMucGF0aE9mZnNldC54LFxuICAgICAgICAgIHQgPSAtdGhpcy5wYXRoT2Zmc2V0Lnk7XG5cbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMucGF0aC5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuXG4gICAgICAgIGN1cnJlbnQgPSB0aGlzLnBhdGhbaV07XG5cbiAgICAgICAgc3dpdGNoIChjdXJyZW50WzBdKSB7IC8vIGZpcnN0IGxldHRlclxuXG4gICAgICAgICAgY2FzZSAnbCc6IC8vIGxpbmV0bywgcmVsYXRpdmVcbiAgICAgICAgICAgIHggKz0gY3VycmVudFsxXTtcbiAgICAgICAgICAgIHkgKz0gY3VycmVudFsyXTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oeCArIGwsIHkgKyB0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnTCc6IC8vIGxpbmV0bywgYWJzb2x1dGVcbiAgICAgICAgICAgIHggPSBjdXJyZW50WzFdO1xuICAgICAgICAgICAgeSA9IGN1cnJlbnRbMl07XG4gICAgICAgICAgICBjdHgubGluZVRvKHggKyBsLCB5ICsgdCk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ2gnOiAvLyBob3Jpem9udGFsIGxpbmV0bywgcmVsYXRpdmVcbiAgICAgICAgICAgIHggKz0gY3VycmVudFsxXTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8oeCArIGwsIHkgKyB0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnSCc6IC8vIGhvcml6b250YWwgbGluZXRvLCBhYnNvbHV0ZVxuICAgICAgICAgICAgeCA9IGN1cnJlbnRbMV07XG4gICAgICAgICAgICBjdHgubGluZVRvKHggKyBsLCB5ICsgdCk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ3YnOiAvLyB2ZXJ0aWNhbCBsaW5ldG8sIHJlbGF0aXZlXG4gICAgICAgICAgICB5ICs9IGN1cnJlbnRbMV07XG4gICAgICAgICAgICBjdHgubGluZVRvKHggKyBsLCB5ICsgdCk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ1YnOiAvLyB2ZXJpY2FsIGxpbmV0bywgYWJzb2x1dGVcbiAgICAgICAgICAgIHkgPSBjdXJyZW50WzFdO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyh4ICsgbCwgeSArIHQpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdtJzogLy8gbW92ZVRvLCByZWxhdGl2ZVxuICAgICAgICAgICAgeCArPSBjdXJyZW50WzFdO1xuICAgICAgICAgICAgeSArPSBjdXJyZW50WzJdO1xuICAgICAgICAgICAgc3VicGF0aFN0YXJ0WCA9IHg7XG4gICAgICAgICAgICBzdWJwYXRoU3RhcnRZID0geTtcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8oeCArIGwsIHkgKyB0KTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnTSc6IC8vIG1vdmVUbywgYWJzb2x1dGVcbiAgICAgICAgICAgIHggPSBjdXJyZW50WzFdO1xuICAgICAgICAgICAgeSA9IGN1cnJlbnRbMl07XG4gICAgICAgICAgICBzdWJwYXRoU3RhcnRYID0geDtcbiAgICAgICAgICAgIHN1YnBhdGhTdGFydFkgPSB5O1xuICAgICAgICAgICAgY3R4Lm1vdmVUbyh4ICsgbCwgeSArIHQpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdjJzogLy8gYmV6aWVyQ3VydmVUbywgcmVsYXRpdmVcbiAgICAgICAgICAgIHRlbXBYID0geCArIGN1cnJlbnRbNV07XG4gICAgICAgICAgICB0ZW1wWSA9IHkgKyBjdXJyZW50WzZdO1xuICAgICAgICAgICAgY29udHJvbFggPSB4ICsgY3VycmVudFszXTtcbiAgICAgICAgICAgIGNvbnRyb2xZID0geSArIGN1cnJlbnRbNF07XG4gICAgICAgICAgICBjdHguYmV6aWVyQ3VydmVUbyhcbiAgICAgICAgICAgICAgeCArIGN1cnJlbnRbMV0gKyBsLCAvLyB4MVxuICAgICAgICAgICAgICB5ICsgY3VycmVudFsyXSArIHQsIC8vIHkxXG4gICAgICAgICAgICAgIGNvbnRyb2xYICsgbCwgLy8geDJcbiAgICAgICAgICAgICAgY29udHJvbFkgKyB0LCAvLyB5MlxuICAgICAgICAgICAgICB0ZW1wWCArIGwsXG4gICAgICAgICAgICAgIHRlbXBZICsgdFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHggPSB0ZW1wWDtcbiAgICAgICAgICAgIHkgPSB0ZW1wWTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnQyc6IC8vIGJlemllckN1cnZlVG8sIGFic29sdXRlXG4gICAgICAgICAgICB4ID0gY3VycmVudFs1XTtcbiAgICAgICAgICAgIHkgPSBjdXJyZW50WzZdO1xuICAgICAgICAgICAgY29udHJvbFggPSBjdXJyZW50WzNdO1xuICAgICAgICAgICAgY29udHJvbFkgPSBjdXJyZW50WzRdO1xuICAgICAgICAgICAgY3R4LmJlemllckN1cnZlVG8oXG4gICAgICAgICAgICAgIGN1cnJlbnRbMV0gKyBsLFxuICAgICAgICAgICAgICBjdXJyZW50WzJdICsgdCxcbiAgICAgICAgICAgICAgY29udHJvbFggKyBsLFxuICAgICAgICAgICAgICBjb250cm9sWSArIHQsXG4gICAgICAgICAgICAgIHggKyBsLFxuICAgICAgICAgICAgICB5ICsgdFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAncyc6IC8vIHNob3J0aGFuZCBjdWJpYyBiZXppZXJDdXJ2ZVRvLCByZWxhdGl2ZVxuXG4gICAgICAgICAgICAvLyB0cmFuc2Zvcm0gdG8gYWJzb2x1dGUgeCx5XG4gICAgICAgICAgICB0ZW1wWCA9IHggKyBjdXJyZW50WzNdO1xuICAgICAgICAgICAgdGVtcFkgPSB5ICsgY3VycmVudFs0XTtcblxuICAgICAgICAgICAgaWYgKHByZXZpb3VzWzBdLm1hdGNoKC9bQ2NTc10vKSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBwcmV2aW91cyBjb21tYW5kIG9yIGlmIHRoZSBwcmV2aW91cyBjb21tYW5kIHdhcyBub3QgYSBDLCBjLCBTLCBvciBzLFxuICAgICAgICAgICAgICAvLyB0aGUgY29udHJvbCBwb2ludCBpcyBjb2luY2lkZW50IHdpdGggdGhlIGN1cnJlbnQgcG9pbnRcbiAgICAgICAgICAgICAgY29udHJvbFggPSB4O1xuICAgICAgICAgICAgICBjb250cm9sWSA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHJlZmxlY3Rpb24gb2YgcHJldmlvdXMgY29udHJvbCBwb2ludHNcbiAgICAgICAgICAgICAgY29udHJvbFggPSAyICogeCAtIGNvbnRyb2xYO1xuICAgICAgICAgICAgICBjb250cm9sWSA9IDIgKiB5IC0gY29udHJvbFk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGN0eC5iZXppZXJDdXJ2ZVRvKFxuICAgICAgICAgICAgICBjb250cm9sWCArIGwsXG4gICAgICAgICAgICAgIGNvbnRyb2xZICsgdCxcbiAgICAgICAgICAgICAgeCArIGN1cnJlbnRbMV0gKyBsLFxuICAgICAgICAgICAgICB5ICsgY3VycmVudFsyXSArIHQsXG4gICAgICAgICAgICAgIHRlbXBYICsgbCxcbiAgICAgICAgICAgICAgdGVtcFkgKyB0XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgLy8gc2V0IGNvbnRyb2wgcG9pbnQgdG8gMm5kIG9uZSBvZiB0aGlzIGNvbW1hbmRcbiAgICAgICAgICAgIC8vIFwiLi4uIHRoZSBmaXJzdCBjb250cm9sIHBvaW50IGlzIGFzc3VtZWQgdG8gYmVcbiAgICAgICAgICAgIC8vIHRoZSByZWZsZWN0aW9uIG9mIHRoZSBzZWNvbmQgY29udHJvbCBwb2ludCBvblxuICAgICAgICAgICAgLy8gdGhlIHByZXZpb3VzIGNvbW1hbmQgcmVsYXRpdmUgdG8gdGhlIGN1cnJlbnQgcG9pbnQuXCJcbiAgICAgICAgICAgIGNvbnRyb2xYID0geCArIGN1cnJlbnRbMV07XG4gICAgICAgICAgICBjb250cm9sWSA9IHkgKyBjdXJyZW50WzJdO1xuXG4gICAgICAgICAgICB4ID0gdGVtcFg7XG4gICAgICAgICAgICB5ID0gdGVtcFk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ1MnOiAvLyBzaG9ydGhhbmQgY3ViaWMgYmV6aWVyQ3VydmVUbywgYWJzb2x1dGVcbiAgICAgICAgICAgIHRlbXBYID0gY3VycmVudFszXTtcbiAgICAgICAgICAgIHRlbXBZID0gY3VycmVudFs0XTtcbiAgICAgICAgICAgIGlmIChwcmV2aW91c1swXS5tYXRjaCgvW0NjU3NdLykgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gcHJldmlvdXMgY29tbWFuZCBvciBpZiB0aGUgcHJldmlvdXMgY29tbWFuZCB3YXMgbm90IGEgQywgYywgUywgb3IgcyxcbiAgICAgICAgICAgICAgLy8gdGhlIGNvbnRyb2wgcG9pbnQgaXMgY29pbmNpZGVudCB3aXRoIHRoZSBjdXJyZW50IHBvaW50XG4gICAgICAgICAgICAgIGNvbnRyb2xYID0geDtcbiAgICAgICAgICAgICAgY29udHJvbFkgPSB5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSByZWZsZWN0aW9uIG9mIHByZXZpb3VzIGNvbnRyb2wgcG9pbnRzXG4gICAgICAgICAgICAgIGNvbnRyb2xYID0gMiAqIHggLSBjb250cm9sWDtcbiAgICAgICAgICAgICAgY29udHJvbFkgPSAyICogeSAtIGNvbnRyb2xZO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3R4LmJlemllckN1cnZlVG8oXG4gICAgICAgICAgICAgIGNvbnRyb2xYICsgbCxcbiAgICAgICAgICAgICAgY29udHJvbFkgKyB0LFxuICAgICAgICAgICAgICBjdXJyZW50WzFdICsgbCxcbiAgICAgICAgICAgICAgY3VycmVudFsyXSArIHQsXG4gICAgICAgICAgICAgIHRlbXBYICsgbCxcbiAgICAgICAgICAgICAgdGVtcFkgKyB0XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgeCA9IHRlbXBYO1xuICAgICAgICAgICAgeSA9IHRlbXBZO1xuXG4gICAgICAgICAgICAvLyBzZXQgY29udHJvbCBwb2ludCB0byAybmQgb25lIG9mIHRoaXMgY29tbWFuZFxuICAgICAgICAgICAgLy8gXCIuLi4gdGhlIGZpcnN0IGNvbnRyb2wgcG9pbnQgaXMgYXNzdW1lZCB0byBiZVxuICAgICAgICAgICAgLy8gdGhlIHJlZmxlY3Rpb24gb2YgdGhlIHNlY29uZCBjb250cm9sIHBvaW50IG9uXG4gICAgICAgICAgICAvLyB0aGUgcHJldmlvdXMgY29tbWFuZCByZWxhdGl2ZSB0byB0aGUgY3VycmVudCBwb2ludC5cIlxuICAgICAgICAgICAgY29udHJvbFggPSBjdXJyZW50WzFdO1xuICAgICAgICAgICAgY29udHJvbFkgPSBjdXJyZW50WzJdO1xuXG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ3EnOiAvLyBxdWFkcmF0aWNDdXJ2ZVRvLCByZWxhdGl2ZVxuICAgICAgICAgICAgLy8gdHJhbnNmb3JtIHRvIGFic29sdXRlIHgseVxuICAgICAgICAgICAgdGVtcFggPSB4ICsgY3VycmVudFszXTtcbiAgICAgICAgICAgIHRlbXBZID0geSArIGN1cnJlbnRbNF07XG5cbiAgICAgICAgICAgIGNvbnRyb2xYID0geCArIGN1cnJlbnRbMV07XG4gICAgICAgICAgICBjb250cm9sWSA9IHkgKyBjdXJyZW50WzJdO1xuXG4gICAgICAgICAgICBjdHgucXVhZHJhdGljQ3VydmVUbyhcbiAgICAgICAgICAgICAgY29udHJvbFggKyBsLFxuICAgICAgICAgICAgICBjb250cm9sWSArIHQsXG4gICAgICAgICAgICAgIHRlbXBYICsgbCxcbiAgICAgICAgICAgICAgdGVtcFkgKyB0XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgeCA9IHRlbXBYO1xuICAgICAgICAgICAgeSA9IHRlbXBZO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdRJzogLy8gcXVhZHJhdGljQ3VydmVUbywgYWJzb2x1dGVcbiAgICAgICAgICAgIHRlbXBYID0gY3VycmVudFszXTtcbiAgICAgICAgICAgIHRlbXBZID0gY3VycmVudFs0XTtcblxuICAgICAgICAgICAgY3R4LnF1YWRyYXRpY0N1cnZlVG8oXG4gICAgICAgICAgICAgIGN1cnJlbnRbMV0gKyBsLFxuICAgICAgICAgICAgICBjdXJyZW50WzJdICsgdCxcbiAgICAgICAgICAgICAgdGVtcFggKyBsLFxuICAgICAgICAgICAgICB0ZW1wWSArIHRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB4ID0gdGVtcFg7XG4gICAgICAgICAgICB5ID0gdGVtcFk7XG4gICAgICAgICAgICBjb250cm9sWCA9IGN1cnJlbnRbMV07XG4gICAgICAgICAgICBjb250cm9sWSA9IGN1cnJlbnRbMl07XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ3QnOiAvLyBzaG9ydGhhbmQgcXVhZHJhdGljQ3VydmVUbywgcmVsYXRpdmVcblxuICAgICAgICAgICAgLy8gdHJhbnNmb3JtIHRvIGFic29sdXRlIHgseVxuICAgICAgICAgICAgdGVtcFggPSB4ICsgY3VycmVudFsxXTtcbiAgICAgICAgICAgIHRlbXBZID0geSArIGN1cnJlbnRbMl07XG5cbiAgICAgICAgICAgIGlmIChwcmV2aW91c1swXS5tYXRjaCgvW1FxVHRdLykgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gcHJldmlvdXMgY29tbWFuZCBvciBpZiB0aGUgcHJldmlvdXMgY29tbWFuZCB3YXMgbm90IGEgUSwgcSwgVCBvciB0LFxuICAgICAgICAgICAgICAvLyBhc3N1bWUgdGhlIGNvbnRyb2wgcG9pbnQgaXMgY29pbmNpZGVudCB3aXRoIHRoZSBjdXJyZW50IHBvaW50XG4gICAgICAgICAgICAgIGNvbnRyb2xYID0geDtcbiAgICAgICAgICAgICAgY29udHJvbFkgPSB5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSByZWZsZWN0aW9uIG9mIHByZXZpb3VzIGNvbnRyb2wgcG9pbnRcbiAgICAgICAgICAgICAgY29udHJvbFggPSAyICogeCAtIGNvbnRyb2xYO1xuICAgICAgICAgICAgICBjb250cm9sWSA9IDIgKiB5IC0gY29udHJvbFk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKFxuICAgICAgICAgICAgICBjb250cm9sWCArIGwsXG4gICAgICAgICAgICAgIGNvbnRyb2xZICsgdCxcbiAgICAgICAgICAgICAgdGVtcFggKyBsLFxuICAgICAgICAgICAgICB0ZW1wWSArIHRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB4ID0gdGVtcFg7XG4gICAgICAgICAgICB5ID0gdGVtcFk7XG5cbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnVCc6XG4gICAgICAgICAgICB0ZW1wWCA9IGN1cnJlbnRbMV07XG4gICAgICAgICAgICB0ZW1wWSA9IGN1cnJlbnRbMl07XG5cbiAgICAgICAgICAgIGlmIChwcmV2aW91c1swXS5tYXRjaCgvW1FxVHRdLykgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gcHJldmlvdXMgY29tbWFuZCBvciBpZiB0aGUgcHJldmlvdXMgY29tbWFuZCB3YXMgbm90IGEgUSwgcSwgVCBvciB0LFxuICAgICAgICAgICAgICAvLyBhc3N1bWUgdGhlIGNvbnRyb2wgcG9pbnQgaXMgY29pbmNpZGVudCB3aXRoIHRoZSBjdXJyZW50IHBvaW50XG4gICAgICAgICAgICAgIGNvbnRyb2xYID0geDtcbiAgICAgICAgICAgICAgY29udHJvbFkgPSB5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSByZWZsZWN0aW9uIG9mIHByZXZpb3VzIGNvbnRyb2wgcG9pbnRcbiAgICAgICAgICAgICAgY29udHJvbFggPSAyICogeCAtIGNvbnRyb2xYO1xuICAgICAgICAgICAgICBjb250cm9sWSA9IDIgKiB5IC0gY29udHJvbFk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdHgucXVhZHJhdGljQ3VydmVUbyhcbiAgICAgICAgICAgICAgY29udHJvbFggKyBsLFxuICAgICAgICAgICAgICBjb250cm9sWSArIHQsXG4gICAgICAgICAgICAgIHRlbXBYICsgbCxcbiAgICAgICAgICAgICAgdGVtcFkgKyB0XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgeCA9IHRlbXBYO1xuICAgICAgICAgICAgeSA9IHRlbXBZO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdhJzpcbiAgICAgICAgICAgIC8vIFRPRE86IG9wdGltaXplIHRoaXNcbiAgICAgICAgICAgIGRyYXdBcmMoY3R4LCB4ICsgbCwgeSArIHQsIFtcbiAgICAgICAgICAgICAgY3VycmVudFsxXSxcbiAgICAgICAgICAgICAgY3VycmVudFsyXSxcbiAgICAgICAgICAgICAgY3VycmVudFszXSxcbiAgICAgICAgICAgICAgY3VycmVudFs0XSxcbiAgICAgICAgICAgICAgY3VycmVudFs1XSxcbiAgICAgICAgICAgICAgY3VycmVudFs2XSArIHggKyBsLFxuICAgICAgICAgICAgICBjdXJyZW50WzddICsgeSArIHRcbiAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgeCArPSBjdXJyZW50WzZdO1xuICAgICAgICAgICAgeSArPSBjdXJyZW50WzddO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdBJzpcbiAgICAgICAgICAgIC8vIFRPRE86IG9wdGltaXplIHRoaXNcbiAgICAgICAgICAgIGRyYXdBcmMoY3R4LCB4ICsgbCwgeSArIHQsIFtcbiAgICAgICAgICAgICAgY3VycmVudFsxXSxcbiAgICAgICAgICAgICAgY3VycmVudFsyXSxcbiAgICAgICAgICAgICAgY3VycmVudFszXSxcbiAgICAgICAgICAgICAgY3VycmVudFs0XSxcbiAgICAgICAgICAgICAgY3VycmVudFs1XSxcbiAgICAgICAgICAgICAgY3VycmVudFs2XSArIGwsXG4gICAgICAgICAgICAgIGN1cnJlbnRbN10gKyB0XG4gICAgICAgICAgICBdKTtcbiAgICAgICAgICAgIHggPSBjdXJyZW50WzZdO1xuICAgICAgICAgICAgeSA9IGN1cnJlbnRbN107XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ3onOlxuICAgICAgICAgIGNhc2UgJ1onOlxuICAgICAgICAgICAgeCA9IHN1YnBhdGhTdGFydFg7XG4gICAgICAgICAgICB5ID0gc3VicGF0aFN0YXJ0WTtcbiAgICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHByZXZpb3VzID0gY3VycmVudDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IGNvbnRleHQgdG8gcmVuZGVyIHBhdGggb25cbiAgICAgKi9cbiAgICBfcmVuZGVyOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIHRoaXMuX3JlbmRlclBhdGhDb21tYW5kcyhjdHgpO1xuICAgICAgdGhpcy5fcmVuZGVyUGFpbnRJbk9yZGVyKGN0eCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b1N0cmluZzogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gJyM8ZmFicmljLlBhdGggKCcgKyB0aGlzLmNvbXBsZXhpdHkoKSArXG4gICAgICAgICcpOiB7IFwidG9wXCI6ICcgKyB0aGlzLnRvcCArICcsIFwibGVmdFwiOiAnICsgdGhpcy5sZWZ0ICsgJyB9Pic7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uKHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcbiAgICAgIHJldHVybiBleHRlbmQodGhpcy5jYWxsU3VwZXIoJ3RvT2JqZWN0JywgcHJvcGVydGllc1RvSW5jbHVkZSksIHtcbiAgICAgICAgcGF0aDogdGhpcy5wYXRoLm1hcChmdW5jdGlvbihpdGVtKSB7IHJldHVybiBpdGVtLnNsaWNlKCk7IH0pLFxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgZGF0YWxlc3Mgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3Byb3BlcnRpZXNUb0luY2x1ZGVdIEFueSBwcm9wZXJ0aWVzIHRoYXQgeW91IG1pZ2h0IHdhbnQgdG8gYWRkaXRpb25hbGx5IGluY2x1ZGUgaW4gdGhlIG91dHB1dFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9EYXRhbGVzc09iamVjdDogZnVuY3Rpb24ocHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgdmFyIG8gPSB0aGlzLnRvT2JqZWN0KFsnc291cmNlUGF0aCddLmNvbmNhdChwcm9wZXJ0aWVzVG9JbmNsdWRlKSk7XG4gICAgICBpZiAoby5zb3VyY2VQYXRoKSB7XG4gICAgICAgIGRlbGV0ZSBvLnBhdGg7XG4gICAgICB9XG4gICAgICByZXR1cm4gbztcbiAgICB9LFxuXG4gICAgLyogX1RPX1NWR19TVEFSVF8gKi9cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN2ZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge0FycmF5fSBhbiBhcnJheSBvZiBzdHJpbmdzIHdpdGggdGhlIHNwZWNpZmljIHN2ZyByZXByZXNlbnRhdGlvblxuICAgICAqIG9mIHRoZSBpbnN0YW5jZVxuICAgICAqL1xuICAgIF90b1NWRzogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcGF0aCA9IHRoaXMucGF0aC5tYXAoZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICByZXR1cm4gcGF0aC5qb2luKCcgJyk7XG4gICAgICB9KS5qb2luKCcgJyk7XG4gICAgICByZXR1cm4gW1xuICAgICAgICAnPHBhdGggJywgJ0NPTU1PTl9QQVJUUycsXG4gICAgICAgICdkPVwiJywgcGF0aCxcbiAgICAgICAgJ1wiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiAnLFxuICAgICAgICAnLz5cXG4nXG4gICAgICBdO1xuICAgIH0sXG5cbiAgICBfZ2V0T2Zmc2V0VHJhbnNmb3JtOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBkaWdpdHMgPSBmYWJyaWMuT2JqZWN0Lk5VTV9GUkFDVElPTl9ESUdJVFM7XG4gICAgICByZXR1cm4gJyB0cmFuc2xhdGUoJyArIHRvRml4ZWQoLXRoaXMucGF0aE9mZnNldC54LCBkaWdpdHMpICsgJywgJyArXG4gICAgICAgICAgdG9GaXhlZCgtdGhpcy5wYXRoT2Zmc2V0LnksIGRpZ2l0cykgKyAnKSc7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3ZnIGNsaXBQYXRoIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jldml2ZXJdIE1ldGhvZCBmb3IgZnVydGhlciBwYXJzaW5nIG9mIHN2ZyByZXByZXNlbnRhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHN2ZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvQ2xpcFBhdGhTVkc6IGZ1bmN0aW9uKHJldml2ZXIpIHtcbiAgICAgIHZhciBhZGRpdGlvbmFsVHJhbnNmb3JtID0gdGhpcy5fZ2V0T2Zmc2V0VHJhbnNmb3JtKCk7XG4gICAgICByZXR1cm4gJ1xcdCcgKyB0aGlzLl9jcmVhdGVCYXNlQ2xpcFBhdGhTVkdNYXJrdXAoXG4gICAgICAgIHRoaXMuX3RvU1ZHKCksIHsgcmV2aXZlcjogcmV2aXZlciwgYWRkaXRpb25hbFRyYW5zZm9ybTogYWRkaXRpb25hbFRyYW5zZm9ybSB9XG4gICAgICApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN2ZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXZpdmVyXSBNZXRob2QgZm9yIGZ1cnRoZXIgcGFyc2luZyBvZiBzdmcgcmVwcmVzZW50YXRpb24uXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBzdmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b1NWRzogZnVuY3Rpb24ocmV2aXZlcikge1xuICAgICAgdmFyIGFkZGl0aW9uYWxUcmFuc2Zvcm0gPSB0aGlzLl9nZXRPZmZzZXRUcmFuc2Zvcm0oKTtcbiAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVCYXNlU1ZHTWFya3VwKHRoaXMuX3RvU1ZHKCksIHsgcmV2aXZlcjogcmV2aXZlciwgYWRkaXRpb25hbFRyYW5zZm9ybTogYWRkaXRpb25hbFRyYW5zZm9ybSAgfSk7XG4gICAgfSxcbiAgICAvKiBfVE9fU1ZHX0VORF8gKi9cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgbnVtYmVyIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlIGNvbXBsZXhpdHlcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGNvbXBsZXhpdHkgb2YgdGhpcyBpbnN0YW5jZVxuICAgICAqL1xuICAgIGNvbXBsZXhpdHk6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMucGF0aC5sZW5ndGg7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3BhcnNlUGF0aDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW10sXG4gICAgICAgICAgY29vcmRzID0gW10sXG4gICAgICAgICAgY3VycmVudFBhdGgsXG4gICAgICAgICAgcGFyc2VkLFxuICAgICAgICAgIHJlID0gZmFicmljLnJlUGF0aENvbW1hbmQsXG4gICAgICAgICAgbWF0Y2gsXG4gICAgICAgICAgY29vcmRzU3RyO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgY29vcmRzUGFyc2VkLCBsZW4gPSB0aGlzLnBhdGgubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgY3VycmVudFBhdGggPSB0aGlzLnBhdGhbaV07XG5cbiAgICAgICAgY29vcmRzU3RyID0gY3VycmVudFBhdGguc2xpY2UoMSkudHJpbSgpO1xuICAgICAgICBjb29yZHMubGVuZ3RoID0gMDtcblxuICAgICAgICB3aGlsZSAoKG1hdGNoID0gcmUuZXhlYyhjb29yZHNTdHIpKSkge1xuICAgICAgICAgIGNvb3Jkcy5wdXNoKG1hdGNoWzBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvb3Jkc1BhcnNlZCA9IFtjdXJyZW50UGF0aC5jaGFyQXQoMCldO1xuXG4gICAgICAgIGZvciAodmFyIGogPSAwLCBqbGVuID0gY29vcmRzLmxlbmd0aDsgaiA8IGpsZW47IGorKykge1xuICAgICAgICAgIHBhcnNlZCA9IHBhcnNlRmxvYXQoY29vcmRzW2pdKTtcbiAgICAgICAgICBpZiAoIWlzTmFOKHBhcnNlZCkpIHtcbiAgICAgICAgICAgIGNvb3Jkc1BhcnNlZC5wdXNoKHBhcnNlZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvbW1hbmQgPSBjb29yZHNQYXJzZWRbMF0sXG4gICAgICAgICAgICBjb21tYW5kTGVuZ3RoID0gY29tbWFuZExlbmd0aHNbY29tbWFuZC50b0xvd2VyQ2FzZSgpXSxcbiAgICAgICAgICAgIHJlcGVhdGVkQ29tbWFuZCA9IHJlcGVhdGVkQ29tbWFuZHNbY29tbWFuZF0gfHwgY29tbWFuZDtcblxuICAgICAgICBpZiAoY29vcmRzUGFyc2VkLmxlbmd0aCAtIDEgPiBjb21tYW5kTGVuZ3RoKSB7XG4gICAgICAgICAgZm9yICh2YXIgayA9IDEsIGtsZW4gPSBjb29yZHNQYXJzZWQubGVuZ3RoOyBrIDwga2xlbjsgayArPSBjb21tYW5kTGVuZ3RoKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChbY29tbWFuZF0uY29uY2F0KGNvb3Jkc1BhcnNlZC5zbGljZShrLCBrICsgY29tbWFuZExlbmd0aCkpKTtcbiAgICAgICAgICAgIGNvbW1hbmQgPSByZXBlYXRlZENvbW1hbmQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGNvb3Jkc1BhcnNlZCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY2FsY0RpbWVuc2lvbnM6IGZ1bmN0aW9uKCkge1xuXG4gICAgICB2YXIgYVggPSBbXSxcbiAgICAgICAgICBhWSA9IFtdLFxuICAgICAgICAgIGN1cnJlbnQsIC8vIGN1cnJlbnQgaW5zdHJ1Y3Rpb25cbiAgICAgICAgICBwcmV2aW91cyA9IG51bGwsXG4gICAgICAgICAgc3VicGF0aFN0YXJ0WCA9IDAsXG4gICAgICAgICAgc3VicGF0aFN0YXJ0WSA9IDAsXG4gICAgICAgICAgeCA9IDAsIC8vIGN1cnJlbnQgeFxuICAgICAgICAgIHkgPSAwLCAvLyBjdXJyZW50IHlcbiAgICAgICAgICBjb250cm9sWCA9IDAsIC8vIGN1cnJlbnQgY29udHJvbCBwb2ludCB4XG4gICAgICAgICAgY29udHJvbFkgPSAwLCAvLyBjdXJyZW50IGNvbnRyb2wgcG9pbnQgeVxuICAgICAgICAgIHRlbXBYLFxuICAgICAgICAgIHRlbXBZLFxuICAgICAgICAgIGJvdW5kcztcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMucGF0aC5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuXG4gICAgICAgIGN1cnJlbnQgPSB0aGlzLnBhdGhbaV07XG5cbiAgICAgICAgc3dpdGNoIChjdXJyZW50WzBdKSB7IC8vIGZpcnN0IGxldHRlclxuXG4gICAgICAgICAgY2FzZSAnbCc6IC8vIGxpbmV0bywgcmVsYXRpdmVcbiAgICAgICAgICAgIHggKz0gY3VycmVudFsxXTtcbiAgICAgICAgICAgIHkgKz0gY3VycmVudFsyXTtcbiAgICAgICAgICAgIGJvdW5kcyA9IFtdO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdMJzogLy8gbGluZXRvLCBhYnNvbHV0ZVxuICAgICAgICAgICAgeCA9IGN1cnJlbnRbMV07XG4gICAgICAgICAgICB5ID0gY3VycmVudFsyXTtcbiAgICAgICAgICAgIGJvdW5kcyA9IFtdO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdoJzogLy8gaG9yaXpvbnRhbCBsaW5ldG8sIHJlbGF0aXZlXG4gICAgICAgICAgICB4ICs9IGN1cnJlbnRbMV07XG4gICAgICAgICAgICBib3VuZHMgPSBbXTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnSCc6IC8vIGhvcml6b250YWwgbGluZXRvLCBhYnNvbHV0ZVxuICAgICAgICAgICAgeCA9IGN1cnJlbnRbMV07XG4gICAgICAgICAgICBib3VuZHMgPSBbXTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAndic6IC8vIHZlcnRpY2FsIGxpbmV0bywgcmVsYXRpdmVcbiAgICAgICAgICAgIHkgKz0gY3VycmVudFsxXTtcbiAgICAgICAgICAgIGJvdW5kcyA9IFtdO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdWJzogLy8gdmVyaWNhbCBsaW5ldG8sIGFic29sdXRlXG4gICAgICAgICAgICB5ID0gY3VycmVudFsxXTtcbiAgICAgICAgICAgIGJvdW5kcyA9IFtdO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdtJzogLy8gbW92ZVRvLCByZWxhdGl2ZVxuICAgICAgICAgICAgeCArPSBjdXJyZW50WzFdO1xuICAgICAgICAgICAgeSArPSBjdXJyZW50WzJdO1xuICAgICAgICAgICAgc3VicGF0aFN0YXJ0WCA9IHg7XG4gICAgICAgICAgICBzdWJwYXRoU3RhcnRZID0geTtcbiAgICAgICAgICAgIGJvdW5kcyA9IFtdO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdNJzogLy8gbW92ZVRvLCBhYnNvbHV0ZVxuICAgICAgICAgICAgeCA9IGN1cnJlbnRbMV07XG4gICAgICAgICAgICB5ID0gY3VycmVudFsyXTtcbiAgICAgICAgICAgIHN1YnBhdGhTdGFydFggPSB4O1xuICAgICAgICAgICAgc3VicGF0aFN0YXJ0WSA9IHk7XG4gICAgICAgICAgICBib3VuZHMgPSBbXTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnYyc6IC8vIGJlemllckN1cnZlVG8sIHJlbGF0aXZlXG4gICAgICAgICAgICB0ZW1wWCA9IHggKyBjdXJyZW50WzVdO1xuICAgICAgICAgICAgdGVtcFkgPSB5ICsgY3VycmVudFs2XTtcbiAgICAgICAgICAgIGNvbnRyb2xYID0geCArIGN1cnJlbnRbM107XG4gICAgICAgICAgICBjb250cm9sWSA9IHkgKyBjdXJyZW50WzRdO1xuICAgICAgICAgICAgYm91bmRzID0gZmFicmljLnV0aWwuZ2V0Qm91bmRzT2ZDdXJ2ZSh4LCB5LFxuICAgICAgICAgICAgICB4ICsgY3VycmVudFsxXSwgLy8geDFcbiAgICAgICAgICAgICAgeSArIGN1cnJlbnRbMl0sIC8vIHkxXG4gICAgICAgICAgICAgIGNvbnRyb2xYLCAvLyB4MlxuICAgICAgICAgICAgICBjb250cm9sWSwgLy8geTJcbiAgICAgICAgICAgICAgdGVtcFgsXG4gICAgICAgICAgICAgIHRlbXBZXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgeCA9IHRlbXBYO1xuICAgICAgICAgICAgeSA9IHRlbXBZO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdDJzogLy8gYmV6aWVyQ3VydmVUbywgYWJzb2x1dGVcbiAgICAgICAgICAgIGNvbnRyb2xYID0gY3VycmVudFszXTtcbiAgICAgICAgICAgIGNvbnRyb2xZID0gY3VycmVudFs0XTtcbiAgICAgICAgICAgIGJvdW5kcyA9IGZhYnJpYy51dGlsLmdldEJvdW5kc09mQ3VydmUoeCwgeSxcbiAgICAgICAgICAgICAgY3VycmVudFsxXSxcbiAgICAgICAgICAgICAgY3VycmVudFsyXSxcbiAgICAgICAgICAgICAgY29udHJvbFgsXG4gICAgICAgICAgICAgIGNvbnRyb2xZLFxuICAgICAgICAgICAgICBjdXJyZW50WzVdLFxuICAgICAgICAgICAgICBjdXJyZW50WzZdXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgeCA9IGN1cnJlbnRbNV07XG4gICAgICAgICAgICB5ID0gY3VycmVudFs2XTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAncyc6IC8vIHNob3J0aGFuZCBjdWJpYyBiZXppZXJDdXJ2ZVRvLCByZWxhdGl2ZVxuXG4gICAgICAgICAgICAvLyB0cmFuc2Zvcm0gdG8gYWJzb2x1dGUgeCx5XG4gICAgICAgICAgICB0ZW1wWCA9IHggKyBjdXJyZW50WzNdO1xuICAgICAgICAgICAgdGVtcFkgPSB5ICsgY3VycmVudFs0XTtcblxuICAgICAgICAgICAgaWYgKHByZXZpb3VzWzBdLm1hdGNoKC9bQ2NTc10vKSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBwcmV2aW91cyBjb21tYW5kIG9yIGlmIHRoZSBwcmV2aW91cyBjb21tYW5kIHdhcyBub3QgYSBDLCBjLCBTLCBvciBzLFxuICAgICAgICAgICAgICAvLyB0aGUgY29udHJvbCBwb2ludCBpcyBjb2luY2lkZW50IHdpdGggdGhlIGN1cnJlbnQgcG9pbnRcbiAgICAgICAgICAgICAgY29udHJvbFggPSB4O1xuICAgICAgICAgICAgICBjb250cm9sWSA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHJlZmxlY3Rpb24gb2YgcHJldmlvdXMgY29udHJvbCBwb2ludHNcbiAgICAgICAgICAgICAgY29udHJvbFggPSAyICogeCAtIGNvbnRyb2xYO1xuICAgICAgICAgICAgICBjb250cm9sWSA9IDIgKiB5IC0gY29udHJvbFk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJvdW5kcyA9IGZhYnJpYy51dGlsLmdldEJvdW5kc09mQ3VydmUoeCwgeSxcbiAgICAgICAgICAgICAgY29udHJvbFgsXG4gICAgICAgICAgICAgIGNvbnRyb2xZLFxuICAgICAgICAgICAgICB4ICsgY3VycmVudFsxXSxcbiAgICAgICAgICAgICAgeSArIGN1cnJlbnRbMl0sXG4gICAgICAgICAgICAgIHRlbXBYLFxuICAgICAgICAgICAgICB0ZW1wWVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIC8vIHNldCBjb250cm9sIHBvaW50IHRvIDJuZCBvbmUgb2YgdGhpcyBjb21tYW5kXG4gICAgICAgICAgICAvLyBcIi4uLiB0aGUgZmlyc3QgY29udHJvbCBwb2ludCBpcyBhc3N1bWVkIHRvIGJlXG4gICAgICAgICAgICAvLyB0aGUgcmVmbGVjdGlvbiBvZiB0aGUgc2Vjb25kIGNvbnRyb2wgcG9pbnQgb25cbiAgICAgICAgICAgIC8vIHRoZSBwcmV2aW91cyBjb21tYW5kIHJlbGF0aXZlIHRvIHRoZSBjdXJyZW50IHBvaW50LlwiXG4gICAgICAgICAgICBjb250cm9sWCA9IHggKyBjdXJyZW50WzFdO1xuICAgICAgICAgICAgY29udHJvbFkgPSB5ICsgY3VycmVudFsyXTtcbiAgICAgICAgICAgIHggPSB0ZW1wWDtcbiAgICAgICAgICAgIHkgPSB0ZW1wWTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnUyc6IC8vIHNob3J0aGFuZCBjdWJpYyBiZXppZXJDdXJ2ZVRvLCBhYnNvbHV0ZVxuICAgICAgICAgICAgdGVtcFggPSBjdXJyZW50WzNdO1xuICAgICAgICAgICAgdGVtcFkgPSBjdXJyZW50WzRdO1xuICAgICAgICAgICAgaWYgKHByZXZpb3VzWzBdLm1hdGNoKC9bQ2NTc10vKSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBwcmV2aW91cyBjb21tYW5kIG9yIGlmIHRoZSBwcmV2aW91cyBjb21tYW5kIHdhcyBub3QgYSBDLCBjLCBTLCBvciBzLFxuICAgICAgICAgICAgICAvLyB0aGUgY29udHJvbCBwb2ludCBpcyBjb2luY2lkZW50IHdpdGggdGhlIGN1cnJlbnQgcG9pbnRcbiAgICAgICAgICAgICAgY29udHJvbFggPSB4O1xuICAgICAgICAgICAgICBjb250cm9sWSA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHJlZmxlY3Rpb24gb2YgcHJldmlvdXMgY29udHJvbCBwb2ludHNcbiAgICAgICAgICAgICAgY29udHJvbFggPSAyICogeCAtIGNvbnRyb2xYO1xuICAgICAgICAgICAgICBjb250cm9sWSA9IDIgKiB5IC0gY29udHJvbFk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBib3VuZHMgPSBmYWJyaWMudXRpbC5nZXRCb3VuZHNPZkN1cnZlKHgsIHksXG4gICAgICAgICAgICAgIGNvbnRyb2xYLFxuICAgICAgICAgICAgICBjb250cm9sWSxcbiAgICAgICAgICAgICAgY3VycmVudFsxXSxcbiAgICAgICAgICAgICAgY3VycmVudFsyXSxcbiAgICAgICAgICAgICAgdGVtcFgsXG4gICAgICAgICAgICAgIHRlbXBZXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgeCA9IHRlbXBYO1xuICAgICAgICAgICAgeSA9IHRlbXBZO1xuICAgICAgICAgICAgLy8gc2V0IGNvbnRyb2wgcG9pbnQgdG8gMm5kIG9uZSBvZiB0aGlzIGNvbW1hbmRcbiAgICAgICAgICAgIC8vIFwiLi4uIHRoZSBmaXJzdCBjb250cm9sIHBvaW50IGlzIGFzc3VtZWQgdG8gYmVcbiAgICAgICAgICAgIC8vIHRoZSByZWZsZWN0aW9uIG9mIHRoZSBzZWNvbmQgY29udHJvbCBwb2ludCBvblxuICAgICAgICAgICAgLy8gdGhlIHByZXZpb3VzIGNvbW1hbmQgcmVsYXRpdmUgdG8gdGhlIGN1cnJlbnQgcG9pbnQuXCJcbiAgICAgICAgICAgIGNvbnRyb2xYID0gY3VycmVudFsxXTtcbiAgICAgICAgICAgIGNvbnRyb2xZID0gY3VycmVudFsyXTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAncSc6IC8vIHF1YWRyYXRpY0N1cnZlVG8sIHJlbGF0aXZlXG4gICAgICAgICAgICAvLyB0cmFuc2Zvcm0gdG8gYWJzb2x1dGUgeCx5XG4gICAgICAgICAgICB0ZW1wWCA9IHggKyBjdXJyZW50WzNdO1xuICAgICAgICAgICAgdGVtcFkgPSB5ICsgY3VycmVudFs0XTtcbiAgICAgICAgICAgIGNvbnRyb2xYID0geCArIGN1cnJlbnRbMV07XG4gICAgICAgICAgICBjb250cm9sWSA9IHkgKyBjdXJyZW50WzJdO1xuICAgICAgICAgICAgYm91bmRzID0gZmFicmljLnV0aWwuZ2V0Qm91bmRzT2ZDdXJ2ZSh4LCB5LFxuICAgICAgICAgICAgICBjb250cm9sWCxcbiAgICAgICAgICAgICAgY29udHJvbFksXG4gICAgICAgICAgICAgIGNvbnRyb2xYLFxuICAgICAgICAgICAgICBjb250cm9sWSxcbiAgICAgICAgICAgICAgdGVtcFgsXG4gICAgICAgICAgICAgIHRlbXBZXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgeCA9IHRlbXBYO1xuICAgICAgICAgICAgeSA9IHRlbXBZO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdRJzogLy8gcXVhZHJhdGljQ3VydmVUbywgYWJzb2x1dGVcbiAgICAgICAgICAgIGNvbnRyb2xYID0gY3VycmVudFsxXTtcbiAgICAgICAgICAgIGNvbnRyb2xZID0gY3VycmVudFsyXTtcbiAgICAgICAgICAgIGJvdW5kcyA9IGZhYnJpYy51dGlsLmdldEJvdW5kc09mQ3VydmUoeCwgeSxcbiAgICAgICAgICAgICAgY29udHJvbFgsXG4gICAgICAgICAgICAgIGNvbnRyb2xZLFxuICAgICAgICAgICAgICBjb250cm9sWCxcbiAgICAgICAgICAgICAgY29udHJvbFksXG4gICAgICAgICAgICAgIGN1cnJlbnRbM10sXG4gICAgICAgICAgICAgIGN1cnJlbnRbNF1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB4ID0gY3VycmVudFszXTtcbiAgICAgICAgICAgIHkgPSBjdXJyZW50WzRdO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICd0JzogLy8gc2hvcnRoYW5kIHF1YWRyYXRpY0N1cnZlVG8sIHJlbGF0aXZlXG4gICAgICAgICAgICAvLyB0cmFuc2Zvcm0gdG8gYWJzb2x1dGUgeCx5XG4gICAgICAgICAgICB0ZW1wWCA9IHggKyBjdXJyZW50WzFdO1xuICAgICAgICAgICAgdGVtcFkgPSB5ICsgY3VycmVudFsyXTtcbiAgICAgICAgICAgIGlmIChwcmV2aW91c1swXS5tYXRjaCgvW1FxVHRdLykgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gcHJldmlvdXMgY29tbWFuZCBvciBpZiB0aGUgcHJldmlvdXMgY29tbWFuZCB3YXMgbm90IGEgUSwgcSwgVCBvciB0LFxuICAgICAgICAgICAgICAvLyBhc3N1bWUgdGhlIGNvbnRyb2wgcG9pbnQgaXMgY29pbmNpZGVudCB3aXRoIHRoZSBjdXJyZW50IHBvaW50XG4gICAgICAgICAgICAgIGNvbnRyb2xYID0geDtcbiAgICAgICAgICAgICAgY29udHJvbFkgPSB5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSByZWZsZWN0aW9uIG9mIHByZXZpb3VzIGNvbnRyb2wgcG9pbnRcbiAgICAgICAgICAgICAgY29udHJvbFggPSAyICogeCAtIGNvbnRyb2xYO1xuICAgICAgICAgICAgICBjb250cm9sWSA9IDIgKiB5IC0gY29udHJvbFk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJvdW5kcyA9IGZhYnJpYy51dGlsLmdldEJvdW5kc09mQ3VydmUoeCwgeSxcbiAgICAgICAgICAgICAgY29udHJvbFgsXG4gICAgICAgICAgICAgIGNvbnRyb2xZLFxuICAgICAgICAgICAgICBjb250cm9sWCxcbiAgICAgICAgICAgICAgY29udHJvbFksXG4gICAgICAgICAgICAgIHRlbXBYLFxuICAgICAgICAgICAgICB0ZW1wWVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHggPSB0ZW1wWDtcbiAgICAgICAgICAgIHkgPSB0ZW1wWTtcblxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlICdUJzpcbiAgICAgICAgICAgIHRlbXBYID0gY3VycmVudFsxXTtcbiAgICAgICAgICAgIHRlbXBZID0gY3VycmVudFsyXTtcblxuICAgICAgICAgICAgaWYgKHByZXZpb3VzWzBdLm1hdGNoKC9bUXFUdF0vKSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBwcmV2aW91cyBjb21tYW5kIG9yIGlmIHRoZSBwcmV2aW91cyBjb21tYW5kIHdhcyBub3QgYSBRLCBxLCBUIG9yIHQsXG4gICAgICAgICAgICAgIC8vIGFzc3VtZSB0aGUgY29udHJvbCBwb2ludCBpcyBjb2luY2lkZW50IHdpdGggdGhlIGN1cnJlbnQgcG9pbnRcbiAgICAgICAgICAgICAgY29udHJvbFggPSB4O1xuICAgICAgICAgICAgICBjb250cm9sWSA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHJlZmxlY3Rpb24gb2YgcHJldmlvdXMgY29udHJvbCBwb2ludFxuICAgICAgICAgICAgICBjb250cm9sWCA9IDIgKiB4IC0gY29udHJvbFg7XG4gICAgICAgICAgICAgIGNvbnRyb2xZID0gMiAqIHkgLSBjb250cm9sWTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJvdW5kcyA9IGZhYnJpYy51dGlsLmdldEJvdW5kc09mQ3VydmUoeCwgeSxcbiAgICAgICAgICAgICAgY29udHJvbFgsXG4gICAgICAgICAgICAgIGNvbnRyb2xZLFxuICAgICAgICAgICAgICBjb250cm9sWCxcbiAgICAgICAgICAgICAgY29udHJvbFksXG4gICAgICAgICAgICAgIHRlbXBYLFxuICAgICAgICAgICAgICB0ZW1wWVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHggPSB0ZW1wWDtcbiAgICAgICAgICAgIHkgPSB0ZW1wWTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAnYSc6XG4gICAgICAgICAgICAvLyBUT0RPOiBvcHRpbWl6ZSB0aGlzXG4gICAgICAgICAgICBib3VuZHMgPSBmYWJyaWMudXRpbC5nZXRCb3VuZHNPZkFyYyh4LCB5LFxuICAgICAgICAgICAgICBjdXJyZW50WzFdLFxuICAgICAgICAgICAgICBjdXJyZW50WzJdLFxuICAgICAgICAgICAgICBjdXJyZW50WzNdLFxuICAgICAgICAgICAgICBjdXJyZW50WzRdLFxuICAgICAgICAgICAgICBjdXJyZW50WzVdLFxuICAgICAgICAgICAgICBjdXJyZW50WzZdICsgeCxcbiAgICAgICAgICAgICAgY3VycmVudFs3XSArIHlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB4ICs9IGN1cnJlbnRbNl07XG4gICAgICAgICAgICB5ICs9IGN1cnJlbnRbN107XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ0EnOlxuICAgICAgICAgICAgLy8gVE9ETzogb3B0aW1pemUgdGhpc1xuICAgICAgICAgICAgYm91bmRzID0gZmFicmljLnV0aWwuZ2V0Qm91bmRzT2ZBcmMoeCwgeSxcbiAgICAgICAgICAgICAgY3VycmVudFsxXSxcbiAgICAgICAgICAgICAgY3VycmVudFsyXSxcbiAgICAgICAgICAgICAgY3VycmVudFszXSxcbiAgICAgICAgICAgICAgY3VycmVudFs0XSxcbiAgICAgICAgICAgICAgY3VycmVudFs1XSxcbiAgICAgICAgICAgICAgY3VycmVudFs2XSxcbiAgICAgICAgICAgICAgY3VycmVudFs3XVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHggPSBjdXJyZW50WzZdO1xuICAgICAgICAgICAgeSA9IGN1cnJlbnRbN107XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgJ3onOlxuICAgICAgICAgIGNhc2UgJ1onOlxuICAgICAgICAgICAgeCA9IHN1YnBhdGhTdGFydFg7XG4gICAgICAgICAgICB5ID0gc3VicGF0aFN0YXJ0WTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHByZXZpb3VzID0gY3VycmVudDtcbiAgICAgICAgYm91bmRzLmZvckVhY2goZnVuY3Rpb24gKHBvaW50KSB7XG4gICAgICAgICAgYVgucHVzaChwb2ludC54KTtcbiAgICAgICAgICBhWS5wdXNoKHBvaW50LnkpO1xuICAgICAgICB9KTtcbiAgICAgICAgYVgucHVzaCh4KTtcbiAgICAgICAgYVkucHVzaCh5KTtcbiAgICAgIH1cblxuICAgICAgdmFyIG1pblggPSBtaW4oYVgpIHx8IDAsXG4gICAgICAgICAgbWluWSA9IG1pbihhWSkgfHwgMCxcbiAgICAgICAgICBtYXhYID0gbWF4KGFYKSB8fCAwLFxuICAgICAgICAgIG1heFkgPSBtYXgoYVkpIHx8IDAsXG4gICAgICAgICAgZGVsdGFYID0gbWF4WCAtIG1pblgsXG4gICAgICAgICAgZGVsdGFZID0gbWF4WSAtIG1pblk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxlZnQ6IG1pblgsXG4gICAgICAgIHRvcDogbWluWSxcbiAgICAgICAgd2lkdGg6IGRlbHRhWCxcbiAgICAgICAgaGVpZ2h0OiBkZWx0YVlcbiAgICAgIH07XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBmYWJyaWMuUGF0aCBmcm9tIGFuIG9iamVjdFxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuUGF0aFxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gQ2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gYW4gZmFicmljLlBhdGggaW5zdGFuY2UgaXMgY3JlYXRlZFxuICAgKi9cbiAgZmFicmljLlBhdGguZnJvbU9iamVjdCA9IGZ1bmN0aW9uKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIG9iamVjdC5zb3VyY2VQYXRoID09PSAnc3RyaW5nJykge1xuICAgICAgdmFyIHBhdGhVcmwgPSBvYmplY3Quc291cmNlUGF0aDtcbiAgICAgIGZhYnJpYy5sb2FkU1ZHRnJvbVVSTChwYXRoVXJsLCBmdW5jdGlvbiAoZWxlbWVudHMpIHtcbiAgICAgICAgdmFyIHBhdGggPSBlbGVtZW50c1swXTtcbiAgICAgICAgcGF0aC5zZXRPcHRpb25zKG9iamVjdCk7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHBhdGgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZmFicmljLk9iamVjdC5fZnJvbU9iamVjdCgnUGF0aCcsIG9iamVjdCwgY2FsbGJhY2ssICdwYXRoJyk7XG4gICAgfVxuICB9O1xuXG4gIC8qIF9GUk9NX1NWR19TVEFSVF8gKi9cbiAgLyoqXG4gICAqIExpc3Qgb2YgYXR0cmlidXRlIG5hbWVzIHRvIGFjY291bnQgZm9yIHdoZW4gcGFyc2luZyBTVkcgZWxlbWVudCAodXNlZCBieSBgZmFicmljLlBhdGguZnJvbUVsZW1lbnRgKVxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuUGF0aFxuICAgKiBAc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9wYXRocy5odG1sI1BhdGhFbGVtZW50XG4gICAqL1xuICBmYWJyaWMuUGF0aC5BVFRSSUJVVEVfTkFNRVMgPSBmYWJyaWMuU0hBUkVEX0FUVFJJQlVURVMuY29uY2F0KFsnZCddKTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBmYWJyaWMuUGF0aCBmcm9tIGFuIFNWRyA8cGF0aD4gZWxlbWVudFxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuUGF0aFxuICAgKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGVsZW1lbnQgdG8gcGFyc2VcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gYW4gZmFicmljLlBhdGggaW5zdGFuY2UgaXMgY3JlYXRlZFxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gT3B0aW9ucyBjYWxsYmFjayBpbnZva2VkIGFmdGVyIHBhcnNpbmcgaXMgZmluaXNoZWRcbiAgICovXG4gIGZhYnJpYy5QYXRoLmZyb21FbGVtZW50ID0gZnVuY3Rpb24oZWxlbWVudCwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgICB2YXIgcGFyc2VkQXR0cmlidXRlcyA9IGZhYnJpYy5wYXJzZUF0dHJpYnV0ZXMoZWxlbWVudCwgZmFicmljLlBhdGguQVRUUklCVVRFX05BTUVTKTtcbiAgICBwYXJzZWRBdHRyaWJ1dGVzLmZyb21TVkcgPSB0cnVlO1xuICAgIGNhbGxiYWNrKG5ldyBmYWJyaWMuUGF0aChwYXJzZWRBdHRyaWJ1dGVzLmQsIGV4dGVuZChwYXJzZWRBdHRyaWJ1dGVzLCBvcHRpb25zKSkpO1xuICB9O1xuICAvKiBfRlJPTV9TVkdfRU5EXyAqL1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBtaW4gPSBmYWJyaWMudXRpbC5hcnJheS5taW4sXG4gICAgICBtYXggPSBmYWJyaWMudXRpbC5hcnJheS5tYXg7XG5cbiAgaWYgKGZhYnJpYy5Hcm91cCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBHcm91cCBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkdyb3VwXG4gICAqIEBleHRlbmRzIGZhYnJpYy5PYmplY3RcbiAgICogQG1peGVzIGZhYnJpYy5Db2xsZWN0aW9uXG4gICAqIEB0dXRvcmlhbCB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9mYWJyaWMtaW50cm8tcGFydC0zI2dyb3Vwc31cbiAgICogQHNlZSB7QGxpbmsgZmFicmljLkdyb3VwI2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqL1xuICBmYWJyaWMuR3JvdXAgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyhmYWJyaWMuT2JqZWN0LCBmYWJyaWMuQ29sbGVjdGlvbiwgLyoqIEBsZW5kcyBmYWJyaWMuR3JvdXAucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIFR5cGUgb2YgYW4gb2JqZWN0XG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAnZ3JvdXAnLFxuXG4gICAgLyoqXG4gICAgICogV2lkdGggb2Ygc3Ryb2tlXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzdHJva2VXaWR0aDogMCxcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyBpZiBjbGljaywgbW91c2VvdmVyLCBtb3VzZW91dCBldmVudHMgJiBob3ZlckN1cnNvciBzaG91bGQgYWxzbyBjaGVjayBmb3Igc3VidGFyZ2V0c1xuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHN1YlRhcmdldENoZWNrOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIEdyb3VwcyBhcmUgY29udGFpbmVyLCBkbyBub3QgcmVuZGVyIGFueXRoaW5nIG9uIHRoZXlyIG93biwgZW5jZSBubyBjYWNoZSBwcm9wZXJ0aWVzXG4gICAgICogQHR5cGUgQXJyYXlcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNhY2hlUHJvcGVydGllczogW10sXG5cbiAgICAvKipcbiAgICAgKiBzZXRPbkdyb3VwIGlzIGEgbWV0aG9kIHVzZWQgZm9yIFRleHRCb3ggdGhhdCBpcyBubyBtb3JlIHVzZWQgc2luY2UgMi4wLjAgVGhlIGJlaGF2aW9yIGlzIHN0aWxsXG4gICAgICogYXZhaWxhYmxlIHNldHRpbmcgdGhpcyBib29sZWFuIHRvIHRydWUuXG4gICAgICogQHR5cGUgQm9vbGVhblxuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdXNlU2V0T25Hcm91cDogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RzIEdyb3VwIG9iamVjdHNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbaXNBbHJlYWR5R3JvdXBlZF0gaWYgdHJ1ZSwgb2JqZWN0cyBoYXZlIGJlZW4gZ3JvdXBlZCBhbHJlYWR5LlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9iamVjdHMsIG9wdGlvbnMsIGlzQWxyZWFkeUdyb3VwZWQpIHtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgdGhpcy5fb2JqZWN0cyA9IFtdO1xuICAgICAgLy8gaWYgb2JqZWN0cyBlbmNsb3NlZCBpbiBhIGdyb3VwIGhhdmUgYmVlbiBncm91cGVkIGFscmVhZHksXG4gICAgICAvLyB3ZSBjYW5ub3QgY2hhbmdlIHByb3BlcnRpZXMgb2Ygb2JqZWN0cy5cbiAgICAgIC8vIFRodXMgd2UgbmVlZCB0byBzZXQgb3B0aW9ucyB0byBncm91cCB3aXRob3V0IG9iamVjdHMsXG4gICAgICBpc0FscmVhZHlHcm91cGVkICYmIHRoaXMuY2FsbFN1cGVyKCdpbml0aWFsaXplJywgb3B0aW9ucyk7XG4gICAgICB0aGlzLl9vYmplY3RzID0gb2JqZWN0cyB8fCBbXTtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLl9vYmplY3RzLmxlbmd0aDsgaS0tOyApIHtcbiAgICAgICAgdGhpcy5fb2JqZWN0c1tpXS5ncm91cCA9IHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNBbHJlYWR5R3JvdXBlZCkge1xuICAgICAgICB2YXIgY2VudGVyID0gb3B0aW9ucyAmJiBvcHRpb25zLmNlbnRlclBvaW50O1xuICAgICAgICAvLyB3ZSB3YW50IHRvIHNldCBvcmlnaW5zIGJlZm9yZSBjYWxjdWxhdGluZyB0aGUgYm91bmRpbmcgYm94LlxuICAgICAgICAvLyBzbyB0aGF0IHRoZSB0b3BsZWZ0IGNhbiBiZSBzZXQgd2l0aCB0aGF0IGluIG1pbmQuXG4gICAgICAgIC8vIGlmIHNwZWNpZmljIHRvcCBhbmQgbGVmdCBhcmUgcGFzc2VkLCBhcmUgb3ZlcndyaXR0ZW4gbGF0ZXJcbiAgICAgICAgLy8gd2l0aCB0aGUgY2FsbFN1cGVyKCdpbml0aWFsaXplJywgb3B0aW9ucylcbiAgICAgICAgaWYgKG9wdGlvbnMub3JpZ2luWCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhpcy5vcmlnaW5YID0gb3B0aW9ucy5vcmlnaW5YO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLm9yaWdpblkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRoaXMub3JpZ2luWSA9IG9wdGlvbnMub3JpZ2luWTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBjb21pbmcgZnJvbSBzdmcgaSBkbyBub3Qgd2FudCB0byBjYWxjIGJvdW5kcy5cbiAgICAgICAgLy8gaSBhc3N1bWUgd2lkdGggYW5kIGhlaWdodCBhcmUgcGFzc2VkIGFsb25nIG9wdGlvbnNcbiAgICAgICAgY2VudGVyIHx8IHRoaXMuX2NhbGNCb3VuZHMoKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlT2JqZWN0c0Nvb3JkcyhjZW50ZXIpO1xuICAgICAgICBkZWxldGUgb3B0aW9ucy5jZW50ZXJQb2ludDtcbiAgICAgICAgdGhpcy5jYWxsU3VwZXIoJ2luaXRpYWxpemUnLCBvcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLl91cGRhdGVPYmplY3RzQUNvb3JkcygpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnNldENvb3JkcygpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3NraXBDb29yZHNDaGFuZ2VdIGlmIHRydWUsIGNvb3JkaW5hdGVzIG9mIG9iamVjdHMgZW5jbG9zZWQgaW4gYSBncm91cCBkbyBub3QgY2hhbmdlXG4gICAgICovXG4gICAgX3VwZGF0ZU9iamVjdHNBQ29vcmRzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpZ25vcmVab29tID0gdHJ1ZSwgc2tpcEFic29sdXRlID0gdHJ1ZTtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLl9vYmplY3RzLmxlbmd0aDsgaS0tOyApe1xuICAgICAgICB0aGlzLl9vYmplY3RzW2ldLnNldENvb3JkcyhpZ25vcmVab29tLCBza2lwQWJzb2x1dGUpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3NraXBDb29yZHNDaGFuZ2VdIGlmIHRydWUsIGNvb3JkaW5hdGVzIG9mIG9iamVjdHMgZW5jbG9zZWQgaW4gYSBncm91cCBkbyBub3QgY2hhbmdlXG4gICAgICovXG4gICAgX3VwZGF0ZU9iamVjdHNDb29yZHM6IGZ1bmN0aW9uKGNlbnRlcikge1xuICAgICAgdmFyIGNlbnRlciA9IGNlbnRlciB8fCB0aGlzLmdldENlbnRlclBvaW50KCk7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy5fb2JqZWN0cy5sZW5ndGg7IGktLTsgKXtcbiAgICAgICAgdGhpcy5fdXBkYXRlT2JqZWN0Q29vcmRzKHRoaXMuX29iamVjdHNbaV0sIGNlbnRlcik7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICAgICAqIEBwYXJhbSB7ZmFicmljLlBvaW50fSBjZW50ZXIsIGN1cnJlbnQgY2VudGVyIG9mIGdyb3VwLlxuICAgICAqL1xuICAgIF91cGRhdGVPYmplY3RDb29yZHM6IGZ1bmN0aW9uKG9iamVjdCwgY2VudGVyKSB7XG4gICAgICB2YXIgb2JqZWN0TGVmdCA9IG9iamVjdC5sZWZ0LFxuICAgICAgICAgIG9iamVjdFRvcCA9IG9iamVjdC50b3AsXG4gICAgICAgICAgaWdub3JlWm9vbSA9IHRydWUsIHNraXBBYnNvbHV0ZSA9IHRydWU7XG5cbiAgICAgIG9iamVjdC5zZXQoe1xuICAgICAgICBsZWZ0OiBvYmplY3RMZWZ0IC0gY2VudGVyLngsXG4gICAgICAgIHRvcDogb2JqZWN0VG9wIC0gY2VudGVyLnlcbiAgICAgIH0pO1xuICAgICAgb2JqZWN0Lmdyb3VwID0gdGhpcztcbiAgICAgIG9iamVjdC5zZXRDb29yZHMoaWdub3JlWm9vbSwgc2tpcEFic29sdXRlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdHJpbmcgcmVwcmVzZW5hdGlvbiBvZiBhIGdyb3VwXG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqL1xuICAgIHRvU3RyaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAnIzxmYWJyaWMuR3JvdXA6ICgnICsgdGhpcy5jb21wbGV4aXR5KCkgKyAnKT4nO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGFuIG9iamVjdCB0byBhIGdyb3VwOyBUaGVuIHJlY2FsY3VsYXRlcyBncm91cCdzIGRpbWVuc2lvbiwgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Hcm91cH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBhZGRXaXRoVXBkYXRlOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHRoaXMuX3Jlc3RvcmVPYmplY3RzU3RhdGUoKTtcbiAgICAgIGZhYnJpYy51dGlsLnJlc2V0T2JqZWN0VHJhbnNmb3JtKHRoaXMpO1xuICAgICAgaWYgKG9iamVjdCkge1xuICAgICAgICB0aGlzLl9vYmplY3RzLnB1c2gob2JqZWN0KTtcbiAgICAgICAgb2JqZWN0Lmdyb3VwID0gdGhpcztcbiAgICAgICAgb2JqZWN0Ll9zZXQoJ2NhbnZhcycsIHRoaXMuY2FudmFzKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2NhbGNCb3VuZHMoKTtcbiAgICAgIHRoaXMuX3VwZGF0ZU9iamVjdHNDb29yZHMoKTtcbiAgICAgIHRoaXMuc2V0Q29vcmRzKCk7XG4gICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFuIG9iamVjdCBmcm9tIGEgZ3JvdXA7IFRoZW4gcmVjYWxjdWxhdGVzIGdyb3VwJ3MgZGltZW5zaW9uLCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gICAgICogQHJldHVybiB7ZmFicmljLkdyb3VwfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHJlbW92ZVdpdGhVcGRhdGU6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgdGhpcy5fcmVzdG9yZU9iamVjdHNTdGF0ZSgpO1xuICAgICAgZmFicmljLnV0aWwucmVzZXRPYmplY3RUcmFuc2Zvcm0odGhpcyk7XG5cbiAgICAgIHRoaXMucmVtb3ZlKG9iamVjdCk7XG4gICAgICB0aGlzLl9jYWxjQm91bmRzKCk7XG4gICAgICB0aGlzLl91cGRhdGVPYmplY3RzQ29vcmRzKCk7XG4gICAgICB0aGlzLnNldENvb3JkcygpO1xuICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfb25PYmplY3RBZGRlZDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgIG9iamVjdC5ncm91cCA9IHRoaXM7XG4gICAgICBvYmplY3QuX3NldCgnY2FudmFzJywgdGhpcy5jYW52YXMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9vbk9iamVjdFJlbW92ZWQ6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICBkZWxldGUgb2JqZWN0Lmdyb3VwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBpID0gdGhpcy5fb2JqZWN0cy5sZW5ndGg7XG4gICAgICBpZiAodGhpcy51c2VTZXRPbkdyb3VwKSB7XG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICB0aGlzLl9vYmplY3RzW2ldLnNldE9uR3JvdXAoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChrZXkgPT09ICdjYW52YXMnKSB7XG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICB0aGlzLl9vYmplY3RzW2ldLl9zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZhYnJpYy5PYmplY3QucHJvdG90eXBlLl9zZXQuY2FsbCh0aGlzLCBrZXksIHZhbHVlKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcGVydGllc1RvSW5jbHVkZV0gQW55IHByb3BlcnRpZXMgdGhhdCB5b3UgbWlnaHQgd2FudCB0byBhZGRpdGlvbmFsbHkgaW5jbHVkZSBpbiB0aGUgb3V0cHV0XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24ocHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgdmFyIF9pbmNsdWRlRGVmYXVsdFZhbHVlcyA9IHRoaXMuaW5jbHVkZURlZmF1bHRWYWx1ZXM7XG4gICAgICB2YXIgb2Jqc1RvT2JqZWN0ID0gdGhpcy5fb2JqZWN0cy5tYXAoZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIHZhciBvcmlnaW5hbERlZmF1bHRzID0gb2JqLmluY2x1ZGVEZWZhdWx0VmFsdWVzO1xuICAgICAgICBvYmouaW5jbHVkZURlZmF1bHRWYWx1ZXMgPSBfaW5jbHVkZURlZmF1bHRWYWx1ZXM7XG4gICAgICAgIHZhciBfb2JqID0gb2JqLnRvT2JqZWN0KHByb3BlcnRpZXNUb0luY2x1ZGUpO1xuICAgICAgICBvYmouaW5jbHVkZURlZmF1bHRWYWx1ZXMgPSBvcmlnaW5hbERlZmF1bHRzO1xuICAgICAgICByZXR1cm4gX29iajtcbiAgICAgIH0pO1xuICAgICAgdmFyIG9iaiA9IGZhYnJpYy5PYmplY3QucHJvdG90eXBlLnRvT2JqZWN0LmNhbGwodGhpcywgcHJvcGVydGllc1RvSW5jbHVkZSk7XG4gICAgICBvYmoub2JqZWN0cyA9IG9ianNUb09iamVjdDtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlLCBpbiBkYXRhbGVzcyBtb2RlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzVG9JbmNsdWRlXSBBbnkgcHJvcGVydGllcyB0aGF0IHlvdSBtaWdodCB3YW50IHRvIGFkZGl0aW9uYWxseSBpbmNsdWRlIGluIHRoZSBvdXRwdXRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvRGF0YWxlc3NPYmplY3Q6IGZ1bmN0aW9uKHByb3BlcnRpZXNUb0luY2x1ZGUpIHtcbiAgICAgIHZhciBvYmpzVG9PYmplY3QsIHNvdXJjZVBhdGggPSB0aGlzLnNvdXJjZVBhdGg7XG4gICAgICBpZiAoc291cmNlUGF0aCkge1xuICAgICAgICBvYmpzVG9PYmplY3QgPSBzb3VyY2VQYXRoO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHZhciBfaW5jbHVkZURlZmF1bHRWYWx1ZXMgPSB0aGlzLmluY2x1ZGVEZWZhdWx0VmFsdWVzO1xuICAgICAgICBvYmpzVG9PYmplY3QgPSB0aGlzLl9vYmplY3RzLm1hcChmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICB2YXIgb3JpZ2luYWxEZWZhdWx0cyA9IG9iai5pbmNsdWRlRGVmYXVsdFZhbHVlcztcbiAgICAgICAgICBvYmouaW5jbHVkZURlZmF1bHRWYWx1ZXMgPSBfaW5jbHVkZURlZmF1bHRWYWx1ZXM7XG4gICAgICAgICAgdmFyIF9vYmogPSBvYmoudG9EYXRhbGVzc09iamVjdChwcm9wZXJ0aWVzVG9JbmNsdWRlKTtcbiAgICAgICAgICBvYmouaW5jbHVkZURlZmF1bHRWYWx1ZXMgPSBvcmlnaW5hbERlZmF1bHRzO1xuICAgICAgICAgIHJldHVybiBfb2JqO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHZhciBvYmogPSBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS50b0RhdGFsZXNzT2JqZWN0LmNhbGwodGhpcywgcHJvcGVydGllc1RvSW5jbHVkZSk7XG4gICAgICBvYmoub2JqZWN0cyA9IG9ianNUb09iamVjdDtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgaW5zdGFuY2Ugb24gYSBnaXZlbiBjb250ZXh0XG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBjb250ZXh0IHRvIHJlbmRlciBpbnN0YW5jZSBvblxuICAgICAqL1xuICAgIHJlbmRlcjogZnVuY3Rpb24oY3R4KSB7XG4gICAgICB0aGlzLl90cmFuc2Zvcm1Eb25lID0gdHJ1ZTtcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdyZW5kZXInLCBjdHgpO1xuICAgICAgdGhpcy5fdHJhbnNmb3JtRG9uZSA9IGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZWNpZGUgaWYgdGhlIG9iamVjdCBzaG91bGQgY2FjaGUgb3Igbm90LiBDcmVhdGUgaXRzIG93biBjYWNoZSBsZXZlbFxuICAgICAqIG5lZWRzSXRzT3duQ2FjaGUgc2hvdWxkIGJlIHVzZWQgd2hlbiB0aGUgb2JqZWN0IGRyYXdpbmcgbWV0aG9kIHJlcXVpcmVzXG4gICAgICogYSBjYWNoZSBzdGVwLiBOb25lIG9mIHRoZSBmYWJyaWMgY2xhc3NlcyByZXF1aXJlcyBpdC5cbiAgICAgKiBHZW5lcmFsbHkgeW91IGRvIG5vdCBjYWNoZSBvYmplY3RzIGluIGdyb3VwcyBiZWNhdXNlIHRoZSBncm91cCBpcyBhbHJlYWR5IGNhY2hlZC5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIHNob3VsZENhY2hlOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvd25DYWNoZSA9IGZhYnJpYy5PYmplY3QucHJvdG90eXBlLnNob3VsZENhY2hlLmNhbGwodGhpcyk7XG4gICAgICBpZiAob3duQ2FjaGUpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuX29iamVjdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBpZiAodGhpcy5fb2JqZWN0c1tpXS53aWxsRHJhd1NoYWRvdygpKSB7XG4gICAgICAgICAgICB0aGlzLm93bkNhY2hpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvd25DYWNoZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhpcyBvYmplY3Qgb3IgYSBjaGlsZCBvYmplY3Qgd2lsbCBjYXN0IGEgc2hhZG93XG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICB3aWxsRHJhd1NoYWRvdzogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5zaGFkb3cpIHtcbiAgICAgICAgcmV0dXJuIGZhYnJpYy5PYmplY3QucHJvdG90eXBlLndpbGxEcmF3U2hhZG93LmNhbGwodGhpcyk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5fb2JqZWN0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAodGhpcy5fb2JqZWN0c1tpXS53aWxsRHJhd1NoYWRvdygpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgdGhpcyBncm91cCBvciBpdHMgcGFyZW50IGdyb3VwIGFyZSBjYWNoaW5nLCByZWN1cnNpdmVseSB1cFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgaXNPbkFDYWNoZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5vd25DYWNoaW5nIHx8ICh0aGlzLmdyb3VwICYmIHRoaXMuZ3JvdXAuaXNPbkFDYWNoZSgpKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRXhlY3V0ZSB0aGUgZHJhd2luZyBvcGVyYXRpb24gZm9yIGFuIG9iamVjdCBvbiBhIHNwZWNpZmllZCBjb250ZXh0XG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIGRyYXdPYmplY3Q6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuX29iamVjdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdGhpcy5fb2JqZWN0c1tpXS5yZW5kZXIoY3R4KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2RyYXdDbGlwUGF0aChjdHgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBjYWNoZSBpcyBkaXJ0eVxuICAgICAqL1xuICAgIGlzQ2FjaGVEaXJ0eTogZnVuY3Rpb24oc2tpcENhbnZhcykge1xuICAgICAgaWYgKHRoaXMuY2FsbFN1cGVyKCdpc0NhY2hlRGlydHknLCBza2lwQ2FudmFzKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5zdGF0ZWZ1bGxDYWNoZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5fb2JqZWN0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAodGhpcy5fb2JqZWN0c1tpXS5pc0NhY2hlRGlydHkodHJ1ZSkpIHtcbiAgICAgICAgICBpZiAodGhpcy5fY2FjaGVDYW52YXMpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoaXMgZ3JvdXAgaGFzIG5vdCBhIGNhY2hlIGNhbnZhcyB0aGVyZSBpcyBub3RoaW5nIHRvIGNsZWFuXG4gICAgICAgICAgICB2YXIgeCA9IHRoaXMuY2FjaGVXaWR0aCAvIHRoaXMuem9vbVgsIHkgPSB0aGlzLmNhY2hlSGVpZ2h0IC8gdGhpcy56b29tWTtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlQ29udGV4dC5jbGVhclJlY3QoLXggLyAyLCAteSAvIDIsIHgsIHkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXRvcmVzIG9yaWdpbmFsIHN0YXRlIG9mIGVhY2ggb2YgZ3JvdXAgb2JqZWN0cyAob3JpZ2luYWwgc3RhdGUgaXMgdGhhdCB3aGljaCB3YXMgYmVmb3JlIGdyb3VwIHdhcyBjcmVhdGVkKS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Hcm91cH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBfcmVzdG9yZU9iamVjdHNTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLl9vYmplY3RzLmZvckVhY2godGhpcy5fcmVzdG9yZU9iamVjdFN0YXRlLCB0aGlzKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZWFsaXNlcyB0aGUgdHJhbnNmb3JtIGZyb20gdGhpcyBncm91cCBvbnRvIHRoZSBzdXBwbGllZCBvYmplY3RcbiAgICAgKiBpLmUuIGl0IHRlbGxzIHlvdSB3aGF0IHdvdWxkIGhhcHBlbiBpZiB0aGUgc3VwcGxpZWQgb2JqZWN0IHdhcyBpblxuICAgICAqIHRoZSBncm91cCwgYW5kIHRoZW4gdGhlIGdyb3VwIHdhcyBkZXN0cm95ZWQuIEl0IG11dGF0ZXMgdGhlIHN1cHBsaWVkXG4gICAgICogb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0XG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdHJhbnNmb3JtZWRPYmplY3RcbiAgICAgKi9cbiAgICByZWFsaXplVHJhbnNmb3JtOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHZhciBtYXRyaXggPSBvYmplY3QuY2FsY1RyYW5zZm9ybU1hdHJpeCgpLFxuICAgICAgICAgIG9wdGlvbnMgPSBmYWJyaWMudXRpbC5xckRlY29tcG9zZShtYXRyaXgpLFxuICAgICAgICAgIGNlbnRlciA9IG5ldyBmYWJyaWMuUG9pbnQob3B0aW9ucy50cmFuc2xhdGVYLCBvcHRpb25zLnRyYW5zbGF0ZVkpO1xuICAgICAgb2JqZWN0LmZsaXBYID0gZmFsc2U7XG4gICAgICBvYmplY3QuZmxpcFkgPSBmYWxzZTtcbiAgICAgIG9iamVjdC5zZXQoJ3NjYWxlWCcsIG9wdGlvbnMuc2NhbGVYKTtcbiAgICAgIG9iamVjdC5zZXQoJ3NjYWxlWScsIG9wdGlvbnMuc2NhbGVZKTtcbiAgICAgIG9iamVjdC5za2V3WCA9IG9wdGlvbnMuc2tld1g7XG4gICAgICBvYmplY3Quc2tld1kgPSBvcHRpb25zLnNrZXdZO1xuICAgICAgb2JqZWN0LmFuZ2xlID0gb3B0aW9ucy5hbmdsZTtcbiAgICAgIG9iamVjdC5zZXRQb3NpdGlvbkJ5T3JpZ2luKGNlbnRlciwgJ2NlbnRlcicsICdjZW50ZXInKTtcbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlc3RvcmVzIG9yaWdpbmFsIHN0YXRlIG9mIGEgc3BlY2lmaWVkIG9iamVjdCBpbiBncm91cFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtmYWJyaWMuT2JqZWN0fSBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuR3JvdXB9IHRoaXNBcmdcbiAgICAgKi9cbiAgICBfcmVzdG9yZU9iamVjdFN0YXRlOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHRoaXMucmVhbGl6ZVRyYW5zZm9ybShvYmplY3QpO1xuICAgICAgb2JqZWN0LnNldENvb3JkcygpO1xuICAgICAgZGVsZXRlIG9iamVjdC5ncm91cDtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZXN0cm95cyBhIGdyb3VwIChyZXN0b3Jpbmcgc3RhdGUgb2YgaXRzIG9iamVjdHMpXG4gICAgICogQHJldHVybiB7ZmFicmljLkdyb3VwfSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGRlc3Ryb3k6IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gd2hlbiBncm91cCBpcyBkZXN0cm95ZWQgb2JqZWN0cyBuZWVkcyB0byBnZXQgYSByZXBhaW50IHRvIGJlIGV2ZW50dWFsbHlcbiAgICAgIC8vIGRpc3BsYXllZCBvbiBjYW52YXMuXG4gICAgICB0aGlzLl9vYmplY3RzLmZvckVhY2goZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIG9iamVjdC5zZXQoJ2RpcnR5JywgdHJ1ZSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGlzLl9yZXN0b3JlT2JqZWN0c1N0YXRlKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIG1ha2UgYSBncm91cCBhbiBhY3RpdmUgc2VsZWN0aW9uLCByZW1vdmUgdGhlIGdyb3VwIGZyb20gY2FudmFzXG4gICAgICogdGhlIGdyb3VwIGhhcyB0byBiZSBvbiBjYW52YXMgZm9yIHRoaXMgdG8gd29yay5cbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuQWN0aXZlU2VsZWN0aW9ufSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIHRvQWN0aXZlU2VsZWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghdGhpcy5jYW52YXMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIG9iamVjdHMgPSB0aGlzLl9vYmplY3RzLCBjYW52YXMgPSB0aGlzLmNhbnZhcztcbiAgICAgIHRoaXMuX29iamVjdHMgPSBbXTtcbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy50b09iamVjdCgpO1xuICAgICAgZGVsZXRlIG9wdGlvbnMub2JqZWN0cztcbiAgICAgIHZhciBhY3RpdmVTZWxlY3Rpb24gPSBuZXcgZmFicmljLkFjdGl2ZVNlbGVjdGlvbihbXSk7XG4gICAgICBhY3RpdmVTZWxlY3Rpb24uc2V0KG9wdGlvbnMpO1xuICAgICAgYWN0aXZlU2VsZWN0aW9uLnR5cGUgPSAnYWN0aXZlU2VsZWN0aW9uJztcbiAgICAgIGNhbnZhcy5yZW1vdmUodGhpcyk7XG4gICAgICBvYmplY3RzLmZvckVhY2goZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIG9iamVjdC5ncm91cCA9IGFjdGl2ZVNlbGVjdGlvbjtcbiAgICAgICAgb2JqZWN0LmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgY2FudmFzLmFkZChvYmplY3QpO1xuICAgICAgfSk7XG4gICAgICBhY3RpdmVTZWxlY3Rpb24uY2FudmFzID0gY2FudmFzO1xuICAgICAgYWN0aXZlU2VsZWN0aW9uLl9vYmplY3RzID0gb2JqZWN0cztcbiAgICAgIGNhbnZhcy5fYWN0aXZlT2JqZWN0ID0gYWN0aXZlU2VsZWN0aW9uO1xuICAgICAgYWN0aXZlU2VsZWN0aW9uLnNldENvb3JkcygpO1xuICAgICAgcmV0dXJuIGFjdGl2ZVNlbGVjdGlvbjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGVzdHJveXMgYSBncm91cCAocmVzdG9yaW5nIHN0YXRlIG9mIGl0cyBvYmplY3RzKVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5Hcm91cH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICB1bmdyb3VwT25DYW52YXM6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3Jlc3RvcmVPYmplY3RzU3RhdGUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyBjb29yZGluYXRlcyBvZiBhbGwgb2JqZWN0cyBpbnNpZGUgZ3JvdXBcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuR3JvdXB9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2V0T2JqZWN0c0Nvb3JkczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaWdub3JlWm9vbSA9IHRydWUsIHNraXBBYnNvbHV0ZSA9IHRydWU7XG4gICAgICB0aGlzLmZvckVhY2hPYmplY3QoZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIG9iamVjdC5zZXRDb29yZHMoaWdub3JlWm9vbSwgc2tpcEFic29sdXRlKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NhbGNCb3VuZHM6IGZ1bmN0aW9uKG9ubHlXaWR0aEhlaWdodCkge1xuICAgICAgdmFyIGFYID0gW10sXG4gICAgICAgICAgYVkgPSBbXSxcbiAgICAgICAgICBvLCBwcm9wLFxuICAgICAgICAgIHByb3BzID0gWyd0cicsICdicicsICdibCcsICd0bCddLFxuICAgICAgICAgIGkgPSAwLCBpTGVuID0gdGhpcy5fb2JqZWN0cy5sZW5ndGgsXG4gICAgICAgICAgaiwgakxlbiA9IHByb3BzLmxlbmd0aCxcbiAgICAgICAgICBpZ25vcmVab29tID0gdHJ1ZTtcblxuICAgICAgZm9yICggOyBpIDwgaUxlbjsgKytpKSB7XG4gICAgICAgIG8gPSB0aGlzLl9vYmplY3RzW2ldO1xuICAgICAgICBvLnNldENvb3JkcyhpZ25vcmVab29tKTtcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGpMZW47IGorKykge1xuICAgICAgICAgIHByb3AgPSBwcm9wc1tqXTtcbiAgICAgICAgICBhWC5wdXNoKG8ub0Nvb3Jkc1twcm9wXS54KTtcbiAgICAgICAgICBhWS5wdXNoKG8ub0Nvb3Jkc1twcm9wXS55KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLl9nZXRCb3VuZHMoYVgsIGFZLCBvbmx5V2lkdGhIZWlnaHQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRCb3VuZHM6IGZ1bmN0aW9uKGFYLCBhWSwgb25seVdpZHRoSGVpZ2h0KSB7XG4gICAgICB2YXIgbWluWFkgPSBuZXcgZmFicmljLlBvaW50KG1pbihhWCksIG1pbihhWSkpLFxuICAgICAgICAgIG1heFhZID0gbmV3IGZhYnJpYy5Qb2ludChtYXgoYVgpLCBtYXgoYVkpKSxcbiAgICAgICAgICB0b3AgPSBtaW5YWS55IHx8IDAsIGxlZnQgPSBtaW5YWS54IHx8IDAsXG4gICAgICAgICAgd2lkdGggPSAobWF4WFkueCAtIG1pblhZLngpIHx8IDAsXG4gICAgICAgICAgaGVpZ2h0ID0gKG1heFhZLnkgLSBtaW5YWS55KSB8fCAwO1xuICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICBpZiAoIW9ubHlXaWR0aEhlaWdodCkge1xuICAgICAgICAvLyB0aGUgYm91bmRpbmcgYm94IGFsd2F5cyBmaW5kcyB0aGUgdG9wbGVmdCBtb3N0IGNvcm5lci5cbiAgICAgICAgLy8gd2hhdGV2ZXIgaXMgdGhlIGdyb3VwIG9yaWdpbiwgd2Ugc2V0IHVwIGhlcmUgdGhlIGxlZnQvdG9wIHBvc2l0aW9uLlxuICAgICAgICB0aGlzLnNldFBvc2l0aW9uQnlPcmlnaW4oeyB4OiBsZWZ0LCB5OiB0b3AgfSwgJ2xlZnQnLCAndG9wJyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qIF9UT19TVkdfU1RBUlRfICovXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmV2aXZlcl0gTWV0aG9kIGZvciBmdXJ0aGVyIHBhcnNpbmcgb2Ygc3ZnIHJlcHJlc2VudGF0aW9uLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gc3ZnIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgX3RvU1ZHOiBmdW5jdGlvbihyZXZpdmVyKSB7XG4gICAgICB2YXIgc3ZnU3RyaW5nID0gWyc8ZyAnLCAnQ09NTU9OX1BBUlRTJywgJyA+XFxuJ107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLl9vYmplY3RzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHN2Z1N0cmluZy5wdXNoKCdcXHRcXHQnLCB0aGlzLl9vYmplY3RzW2ldLnRvU1ZHKHJldml2ZXIpKTtcbiAgICAgIH1cbiAgICAgIHN2Z1N0cmluZy5wdXNoKCc8L2c+XFxuJyk7XG4gICAgICByZXR1cm4gc3ZnU3RyaW5nO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN0eWxlcy1zdHJpbmcgZm9yIHN2Zy1leHBvcnQsIHNwZWNpZmljIHZlcnNpb24gZm9yIGdyb3VwXG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqL1xuICAgIGdldFN2Z1N0eWxlczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb3BhY2l0eSA9IHR5cGVvZiB0aGlzLm9wYWNpdHkgIT09ICd1bmRlZmluZWQnICYmIHRoaXMub3BhY2l0eSAhPT0gMSA/XG4gICAgICAgICAgICAnb3BhY2l0eTogJyArIHRoaXMub3BhY2l0eSArICc7JyA6ICcnLFxuICAgICAgICAgIHZpc2liaWxpdHkgPSB0aGlzLnZpc2libGUgPyAnJyA6ICcgdmlzaWJpbGl0eTogaGlkZGVuOyc7XG4gICAgICByZXR1cm4gW1xuICAgICAgICBvcGFjaXR5LFxuICAgICAgICB0aGlzLmdldFN2Z0ZpbHRlcigpLFxuICAgICAgICB2aXNpYmlsaXR5XG4gICAgICBdLmpvaW4oJycpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN2ZyBjbGlwUGF0aCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXZpdmVyXSBNZXRob2QgZm9yIGZ1cnRoZXIgcGFyc2luZyBvZiBzdmcgcmVwcmVzZW50YXRpb24uXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBzdmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b0NsaXBQYXRoU1ZHOiBmdW5jdGlvbihyZXZpdmVyKSB7XG4gICAgICB2YXIgc3ZnU3RyaW5nID0gW107XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLl9vYmplY3RzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHN2Z1N0cmluZy5wdXNoKCdcXHQnLCB0aGlzLl9vYmplY3RzW2ldLnRvQ2xpcFBhdGhTVkcocmV2aXZlcikpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5fY3JlYXRlQmFzZUNsaXBQYXRoU1ZHTWFya3VwKHN2Z1N0cmluZywgeyByZXZpdmVyOiByZXZpdmVyIH0pO1xuICAgIH0sXG4gICAgLyogX1RPX1NWR19FTkRfICovXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHtAbGluayBmYWJyaWMuR3JvdXB9IGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5Hcm91cFxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYSBncm91cCBmcm9tXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gQ2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gYW4gZ3JvdXAgaW5zdGFuY2UgaXMgY3JlYXRlZFxuICAgKi9cbiAgZmFicmljLkdyb3VwLmZyb21PYmplY3QgPSBmdW5jdGlvbihvYmplY3QsIGNhbGxiYWNrKSB7XG4gICAgdmFyIG9iamVjdHMgPSBvYmplY3Qub2JqZWN0cyxcbiAgICAgICAgb3B0aW9ucyA9IGZhYnJpYy51dGlsLm9iamVjdC5jbG9uZShvYmplY3QsIHRydWUpO1xuICAgIGRlbGV0ZSBvcHRpb25zLm9iamVjdHM7XG4gICAgaWYgKHR5cGVvZiBvYmplY3RzID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gaXQgaGFzIHRvIGJlIGFuIHVybCBvciBzb21ldGhpbmcgd2VudCB3cm9uZy5cbiAgICAgIGZhYnJpYy5sb2FkU1ZHRnJvbVVSTChvYmplY3RzLCBmdW5jdGlvbiAoZWxlbWVudHMpIHtcbiAgICAgICAgdmFyIGdyb3VwID0gZmFicmljLnV0aWwuZ3JvdXBTVkdFbGVtZW50cyhlbGVtZW50cywgb2JqZWN0LCBvYmplY3RzKTtcbiAgICAgICAgZ3JvdXAuc2V0KG9wdGlvbnMpO1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhncm91cCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZmFicmljLnV0aWwuZW5saXZlbk9iamVjdHMob2JqZWN0cywgZnVuY3Rpb24oZW5saXZlbmVkT2JqZWN0cykge1xuICAgICAgZmFicmljLnV0aWwuZW5saXZlbk9iamVjdHMoW29iamVjdC5jbGlwUGF0aF0sIGZ1bmN0aW9uKGVubGl2ZWRDbGlwUGF0aCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGZhYnJpYy51dGlsLm9iamVjdC5jbG9uZShvYmplY3QsIHRydWUpO1xuICAgICAgICBvcHRpb25zLmNsaXBQYXRoID0gZW5saXZlZENsaXBQYXRoWzBdO1xuICAgICAgICBkZWxldGUgb3B0aW9ucy5vYmplY3RzO1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhuZXcgZmFicmljLkdyb3VwKGVubGl2ZW5lZE9iamVjdHMsIG9wdGlvbnMsIHRydWUpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSk7XG5cbiAgaWYgKGZhYnJpYy5BY3RpdmVTZWxlY3Rpb24pIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogR3JvdXAgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5BY3RpdmVTZWxlY3Rpb25cbiAgICogQGV4dGVuZHMgZmFicmljLkdyb3VwXG4gICAqIEB0dXRvcmlhbCB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9mYWJyaWMtaW50cm8tcGFydC0zI2dyb3Vwc31cbiAgICogQHNlZSB7QGxpbmsgZmFicmljLkFjdGl2ZVNlbGVjdGlvbiNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKi9cbiAgZmFicmljLkFjdGl2ZVNlbGVjdGlvbiA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKGZhYnJpYy5Hcm91cCwgLyoqIEBsZW5kcyBmYWJyaWMuQWN0aXZlU2VsZWN0aW9uLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBUeXBlIG9mIGFuIG9iamVjdFxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ2FjdGl2ZVNlbGVjdGlvbicsXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3RzIEFjdGl2ZVNlbGVjdGlvbiBvYmplY3RzXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9iamVjdHMsIG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgdGhpcy5fb2JqZWN0cyA9IG9iamVjdHMgfHwgW107XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy5fb2JqZWN0cy5sZW5ndGg7IGktLTsgKSB7XG4gICAgICAgIHRoaXMuX29iamVjdHNbaV0uZ3JvdXAgPSB0aGlzO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5vcmlnaW5YKSB7XG4gICAgICAgIHRoaXMub3JpZ2luWCA9IG9wdGlvbnMub3JpZ2luWDtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLm9yaWdpblkpIHtcbiAgICAgICAgdGhpcy5vcmlnaW5ZID0gb3B0aW9ucy5vcmlnaW5ZO1xuICAgICAgfVxuICAgICAgdGhpcy5fY2FsY0JvdW5kcygpO1xuICAgICAgdGhpcy5fdXBkYXRlT2JqZWN0c0Nvb3JkcygpO1xuICAgICAgZmFicmljLk9iamVjdC5wcm90b3R5cGUuaW5pdGlhbGl6ZS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgICAgdGhpcy5zZXRDb29yZHMoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlIHRlIGFjdGl2ZVNlbGVjdGlvbiB0byBhIG5vcm1hbCBncm91cCxcbiAgICAgKiBIaWdoIGxldmVsIGZ1bmN0aW9uIHRoYXQgYXV0b21hdGljYWxseSBhZGRzIGl0IHRvIGNhbnZhcyBhc1xuICAgICAqIGFjdGl2ZSBvYmplY3QuIG5vIGV2ZW50cyBmaXJlZC5cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuR3JvdXB9XG4gICAgICovXG4gICAgdG9Hcm91cDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb2JqZWN0cyA9IHRoaXMuX29iamVjdHMuY29uY2F0KCk7XG4gICAgICB0aGlzLl9vYmplY3RzID0gW107XG4gICAgICB2YXIgb3B0aW9ucyA9IGZhYnJpYy5PYmplY3QucHJvdG90eXBlLnRvT2JqZWN0LmNhbGwodGhpcyk7XG4gICAgICB2YXIgbmV3R3JvdXAgPSBuZXcgZmFicmljLkdyb3VwKFtdKTtcbiAgICAgIGRlbGV0ZSBvcHRpb25zLnR5cGU7XG4gICAgICBuZXdHcm91cC5zZXQob3B0aW9ucyk7XG4gICAgICBvYmplY3RzLmZvckVhY2goZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIG9iamVjdC5jYW52YXMucmVtb3ZlKG9iamVjdCk7XG4gICAgICAgIG9iamVjdC5ncm91cCA9IG5ld0dyb3VwO1xuICAgICAgfSk7XG4gICAgICBuZXdHcm91cC5fb2JqZWN0cyA9IG9iamVjdHM7XG4gICAgICBpZiAoIXRoaXMuY2FudmFzKSB7XG4gICAgICAgIHJldHVybiBuZXdHcm91cDtcbiAgICAgIH1cbiAgICAgIHZhciBjYW52YXMgPSB0aGlzLmNhbnZhcztcbiAgICAgIGNhbnZhcy5hZGQobmV3R3JvdXApO1xuICAgICAgY2FudmFzLl9hY3RpdmVPYmplY3QgPSBuZXdHcm91cDtcbiAgICAgIG5ld0dyb3VwLnNldENvb3JkcygpO1xuICAgICAgcmV0dXJuIG5ld0dyb3VwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJZiByZXR1cm5zIHRydWUsIGRlc2VsZWN0aW9uIGlzIGNhbmNlbGxlZC5cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSBbY2FuY2VsXVxuICAgICAqL1xuICAgIG9uRGVzZWxlY3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgZ3JvdXBcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAgICovXG4gICAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICcjPGZhYnJpYy5BY3RpdmVTZWxlY3Rpb246ICgnICsgdGhpcy5jb21wbGV4aXR5KCkgKyAnKT4nO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZWNpZGUgaWYgdGhlIG9iamVjdCBzaG91bGQgY2FjaGUgb3Igbm90LiBDcmVhdGUgaXRzIG93biBjYWNoZSBsZXZlbFxuICAgICAqIG9iamVjdENhY2hpbmcgaXMgYSBnbG9iYWwgZmxhZywgd2lucyBvdmVyIGV2ZXJ5dGhpbmdcbiAgICAgKiBuZWVkc0l0c093bkNhY2hlIHNob3VsZCBiZSB1c2VkIHdoZW4gdGhlIG9iamVjdCBkcmF3aW5nIG1ldGhvZCByZXF1aXJlc1xuICAgICAqIGEgY2FjaGUgc3RlcC4gTm9uZSBvZiB0aGUgZmFicmljIGNsYXNzZXMgcmVxdWlyZXMgaXQuXG4gICAgICogR2VuZXJhbGx5IHlvdSBkbyBub3QgY2FjaGUgb2JqZWN0cyBpbiBncm91cHMgYmVjYXVzZSB0aGUgZ3JvdXAgb3V0c2lkZSBpcyBjYWNoZWQuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBzaG91bGRDYWNoZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoaXMgZ3JvdXAgb3IgaXRzIHBhcmVudCBncm91cCBhcmUgY2FjaGluZywgcmVjdXJzaXZlbHkgdXBcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIGlzT25BQ2FjaGU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGNvbnRyb2xzIGFuZCBib3JkZXJzIGZvciB0aGUgb2JqZWN0XG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3R5bGVPdmVycmlkZV0gcHJvcGVydGllcyB0byBvdmVycmlkZSB0aGUgb2JqZWN0IHN0eWxlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjaGlsZHJlbk92ZXJyaWRlXSBwcm9wZXJ0aWVzIHRvIG92ZXJyaWRlIHRoZSBjaGlsZHJlbiBvdmVycmlkZXNcbiAgICAgKi9cbiAgICBfcmVuZGVyQ29udHJvbHM6IGZ1bmN0aW9uKGN0eCwgc3R5bGVPdmVycmlkZSwgY2hpbGRyZW5PdmVycmlkZSkge1xuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IHRoaXMuaXNNb3ZpbmcgPyB0aGlzLmJvcmRlck9wYWNpdHlXaGVuTW92aW5nIDogMTtcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdfcmVuZGVyQ29udHJvbHMnLCBjdHgsIHN0eWxlT3ZlcnJpZGUpO1xuICAgICAgY2hpbGRyZW5PdmVycmlkZSA9IGNoaWxkcmVuT3ZlcnJpZGUgfHwgeyB9O1xuICAgICAgaWYgKHR5cGVvZiBjaGlsZHJlbk92ZXJyaWRlLmhhc0NvbnRyb2xzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjaGlsZHJlbk92ZXJyaWRlLmhhc0NvbnRyb2xzID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGNoaWxkcmVuT3ZlcnJpZGUuaGFzUm90YXRpbmdQb2ludCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY2hpbGRyZW5PdmVycmlkZS5oYXNSb3RhdGluZ1BvaW50ID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBjaGlsZHJlbk92ZXJyaWRlLmZvckFjdGl2ZVNlbGVjdGlvbiA9IHRydWU7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5fb2JqZWN0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB0aGlzLl9vYmplY3RzW2ldLl9yZW5kZXJDb250cm9scyhjdHgsIGNoaWxkcmVuT3ZlcnJpZGUpO1xuICAgICAgfVxuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9LFxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyB7QGxpbmsgZmFicmljLkFjdGl2ZVNlbGVjdGlvbn0gaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLkFjdGl2ZVNlbGVjdGlvblxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYSBncm91cCBmcm9tXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gQ2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gYW4gQWN0aXZlU2VsZWN0aW9uIGluc3RhbmNlIGlzIGNyZWF0ZWRcbiAgICovXG4gIGZhYnJpYy5BY3RpdmVTZWxlY3Rpb24uZnJvbU9iamVjdCA9IGZ1bmN0aW9uKG9iamVjdCwgY2FsbGJhY2spIHtcbiAgICBmYWJyaWMudXRpbC5lbmxpdmVuT2JqZWN0cyhvYmplY3Qub2JqZWN0cywgZnVuY3Rpb24oZW5saXZlbmVkT2JqZWN0cykge1xuICAgICAgZGVsZXRlIG9iamVjdC5vYmplY3RzO1xuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2sobmV3IGZhYnJpYy5BY3RpdmVTZWxlY3Rpb24oZW5saXZlbmVkT2JqZWN0cywgb2JqZWN0LCB0cnVlKSk7XG4gICAgfSk7XG4gIH07XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBleHRlbmQgPSBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kO1xuXG4gIGlmICghZ2xvYmFsLmZhYnJpYykge1xuICAgIGdsb2JhbC5mYWJyaWMgPSB7IH07XG4gIH1cblxuICBpZiAoZ2xvYmFsLmZhYnJpYy5JbWFnZSkge1xuICAgIGZhYnJpYy53YXJuKCdmYWJyaWMuSW1hZ2UgaXMgYWxyZWFkeSBkZWZpbmVkLicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbWFnZSBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlXG4gICAqIEBleHRlbmRzIGZhYnJpYy5PYmplY3RcbiAgICogQHR1dG9yaWFsIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ZhYnJpYy1pbnRyby1wYXJ0LTEjaW1hZ2VzfVxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuSW1hZ2UjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICovXG4gIGZhYnJpYy5JbWFnZSA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKGZhYnJpYy5PYmplY3QsIC8qKiBAbGVuZHMgZmFicmljLkltYWdlLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBUeXBlIG9mIGFuIG9iamVjdFxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ2ltYWdlJyxcblxuICAgIC8qKlxuICAgICAqIGNyb3NzT3JpZ2luIHZhbHVlIChvbmUgb2YgXCJcIiwgXCJhbm9ueW1vdXNcIiwgXCJ1c2UtY3JlZGVudGlhbHNcIilcbiAgICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvSFRNTC9DT1JTX3NldHRpbmdzX2F0dHJpYnV0ZXNcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNyb3NzT3JpZ2luOiAnJyxcblxuICAgIC8qKlxuICAgICAqIFdpZHRoIG9mIGEgc3Ryb2tlLlxuICAgICAqIEZvciBpbWFnZSBxdWFsaXR5IGEgc3Ryb2tlIG11bHRpcGxlIG9mIDIgZ2l2ZXMgYmV0dGVyIHJlc3VsdHMuXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzdHJva2VXaWR0aDogMCxcblxuICAgIC8qKlxuICAgICAqIFdoZW4gY2FsbGluZyB7QGxpbmsgZmFicmljLkltYWdlLmdldFNyY30sIHJldHVybiB2YWx1ZSBmcm9tIGVsZW1lbnQgc3JjIHdpdGggYGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdzcmMnKWAuXG4gICAgICogVGhpcyBhbGxvd3MgZm9yIHJlbGF0aXZlIHVybHMgYXMgaW1hZ2Ugc3JjLlxuICAgICAqIEBzaW5jZSAyLjcuMFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHNyY0Zyb21BdHRyaWJ1dGU6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogcHJpdmF0ZVxuICAgICAqIGNvbnRhaW5zIGxhc3QgdmFsdWUgb2Ygc2NhbGVYIHRvIGRldGVjdFxuICAgICAqIGlmIHRoZSBJbWFnZSBnb3QgcmVzaXplZCBhZnRlciB0aGUgbGFzdCBSZW5kZXJcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKi9cbiAgICBfbGFzdFNjYWxlWDogMSxcblxuICAgIC8qKlxuICAgICAqIHByaXZhdGVcbiAgICAgKiBjb250YWlucyBsYXN0IHZhbHVlIG9mIHNjYWxlWSB0byBkZXRlY3RcbiAgICAgKiBpZiB0aGUgSW1hZ2UgZ290IHJlc2l6ZWQgYWZ0ZXIgdGhlIGxhc3QgUmVuZGVyXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICovXG4gICAgX2xhc3RTY2FsZVk6IDEsXG5cbiAgICAvKipcbiAgICAgKiBwcml2YXRlXG4gICAgICogY29udGFpbnMgbGFzdCB2YWx1ZSBvZiBzY2FsaW5nIGFwcGxpZWQgYnkgdGhlIGFwcGx5IGZpbHRlciBjaGFpblxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqL1xuICAgIF9maWx0ZXJTY2FsaW5nWDogMSxcblxuICAgIC8qKlxuICAgICAqIHByaXZhdGVcbiAgICAgKiBjb250YWlucyBsYXN0IHZhbHVlIG9mIHNjYWxpbmcgYXBwbGllZCBieSB0aGUgYXBwbHkgZmlsdGVyIGNoYWluXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICovXG4gICAgX2ZpbHRlclNjYWxpbmdZOiAxLFxuXG4gICAgLyoqXG4gICAgICogbWluaW11bSBzY2FsZSBmYWN0b3IgdW5kZXIgd2hpY2ggYW55IHJlc2l6ZUZpbHRlciBpcyB0cmlnZ2VyZWQgdG8gcmVzaXplIHRoZSBpbWFnZVxuICAgICAqIDAgd2lsbCBkaXNhYmxlIHRoZSBhdXRvbWF0aWMgcmVzaXplLiAxIHdpbGwgdHJpZ2dlciBhdXRvbWF0aWNhbGx5IGFsd2F5cy5cbiAgICAgKiBudW1iZXIgYmlnZ2VyIHRoYW4gMSBhcmUgbm90IGltcGxlbWVudGVkIHlldC5cbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKi9cbiAgICBtaW5pbXVtU2NhbGVUcmlnZ2VyOiAwLjUsXG5cbiAgICAvKipcbiAgICAgKiBMaXN0IG9mIHByb3BlcnRpZXMgdG8gY29uc2lkZXIgd2hlbiBjaGVja2luZyBpZlxuICAgICAqIHN0YXRlIG9mIGFuIG9iamVjdCBpcyBjaGFuZ2VkICh7QGxpbmsgZmFicmljLk9iamVjdCNoYXNTdGF0ZUNoYW5nZWR9KVxuICAgICAqIGFzIHdlbGwgYXMgZm9yIGhpc3RvcnkgKHVuZG8vcmVkbykgcHVycG9zZXNcbiAgICAgKiBAdHlwZSBBcnJheVxuICAgICAqL1xuICAgIHN0YXRlUHJvcGVydGllczogZmFicmljLk9iamVjdC5wcm90b3R5cGUuc3RhdGVQcm9wZXJ0aWVzLmNvbmNhdCgnY3JvcFgnLCAnY3JvcFknKSxcblxuICAgIC8qKlxuICAgICAqIGtleSB1c2VkIHRvIHJldHJpZXZlIHRoZSB0ZXh0dXJlIHJlcHJlc2VudGluZyB0aGlzIGltYWdlXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjYWNoZUtleTogJycsXG5cbiAgICAvKipcbiAgICAgKiBJbWFnZSBjcm9wIGluIHBpeGVscyBmcm9tIG9yaWdpbmFsIGltYWdlIHNpemUuXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjcm9wWDogMCxcblxuICAgIC8qKlxuICAgICAqIEltYWdlIGNyb3AgaW4gcGl4ZWxzIGZyb20gb3JpZ2luYWwgaW1hZ2Ugc2l6ZS5cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNyb3BZOiAwLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnQgfCBTdHJpbmd9IGVsZW1lbnQgSW1hZ2UgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGNhbGwgYWZ0ZXIgZXZlbnR1YWwgZmlsdGVycyBhcHBsaWVkLlxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZX0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7IH0pO1xuICAgICAgdGhpcy5maWx0ZXJzID0gW107XG4gICAgICB0aGlzLmNhY2hlS2V5ID0gJ3RleHR1cmUnICsgZmFicmljLk9iamVjdC5fX3VpZCsrO1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ2luaXRpYWxpemUnLCBvcHRpb25zKTtcbiAgICAgIHRoaXMuX2luaXRFbGVtZW50KGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGltYWdlIGVsZW1lbnQgd2hpY2ggdGhpcyBpbnN0YW5jZSBpZiBiYXNlZCBvblxuICAgICAqIEByZXR1cm4ge0hUTUxJbWFnZUVsZW1lbnR9IEltYWdlIGVsZW1lbnRcbiAgICAgKi9cbiAgICBnZXRFbGVtZW50OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLl9lbGVtZW50IHx8IHt9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGltYWdlIGVsZW1lbnQgZm9yIHRoaXMgaW5zdGFuY2UgdG8gYSBzcGVjaWZpZWQgb25lLlxuICAgICAqIElmIGZpbHRlcnMgZGVmaW5lZCB0aGV5IGFyZSBhcHBsaWVkIHRvIG5ldyBpbWFnZS5cbiAgICAgKiBZb3UgbWlnaHQgbmVlZCB0byBjYWxsIGBjYW52YXMucmVuZGVyQWxsYCBhbmQgYG9iamVjdC5zZXRDb29yZHNgIGFmdGVyIHJlcGxhY2luZywgdG8gcmVuZGVyIG5ldyBpbWFnZSBhbmQgdXBkYXRlIGNvbnRyb2xzIGFyZWEuXG4gICAgICogQHBhcmFtIHtIVE1MSW1hZ2VFbGVtZW50fSBlbGVtZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZX0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXRFbGVtZW50OiBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICB0aGlzLnJlbW92ZVRleHR1cmUodGhpcy5jYWNoZUtleSk7XG4gICAgICB0aGlzLnJlbW92ZVRleHR1cmUodGhpcy5jYWNoZUtleSArICdfZmlsdGVyZWQnKTtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgdGhpcy5fb3JpZ2luYWxFbGVtZW50ID0gZWxlbWVudDtcbiAgICAgIHRoaXMuX2luaXRDb25maWcob3B0aW9ucyk7XG4gICAgICBpZiAodGhpcy5maWx0ZXJzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICB0aGlzLmFwcGx5RmlsdGVycygpO1xuICAgICAgfVxuICAgICAgLy8gcmVzaXplRmlsdGVycyB3b3JrIG9uIHRoZSBhbHJlYWR5IGZpbHRlcmVkIGNvcHkuXG4gICAgICAvLyB3ZSBuZWVkIHRvIGFwcGx5IHJlc2l6ZUZpbHRlcnMgQUZURVIgbm9ybWFsIGZpbHRlcnMuXG4gICAgICAvLyBhcHBseVJlc2l6ZUZpbHRlcnMgaXMgcnVuIG1vcmUgb2Z0ZW4gdGhhbiBub3JtYWwgZml0ZXJzXG4gICAgICAvLyBhbmQgaXMgdHJpZ2dlcmVkIGJ5IHVzZXIgaW50ZXJhY3Rpb25zIHJhdGhlciB0aGFuIGRldiBjb2RlXG4gICAgICBpZiAodGhpcy5yZXNpemVGaWx0ZXIpIHtcbiAgICAgICAgdGhpcy5hcHBseVJlc2l6ZUZpbHRlcnMoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZWxldGUgYSBzaW5nbGUgdGV4dHVyZSBpZiBpbiB3ZWJnbCBtb2RlXG4gICAgICovXG4gICAgcmVtb3ZlVGV4dHVyZTogZnVuY3Rpb24oa2V5KSB7XG4gICAgICB2YXIgYmFja2VuZCA9IGZhYnJpYy5maWx0ZXJCYWNrZW5kO1xuICAgICAgaWYgKGJhY2tlbmQgJiYgYmFja2VuZC5ldmljdENhY2hlc0ZvcktleSkge1xuICAgICAgICBiYWNrZW5kLmV2aWN0Q2FjaGVzRm9yS2V5KGtleSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERlbGV0ZSB0ZXh0dXJlcywgcmVmZXJlbmNlIHRvIGVsZW1lbnRzIGFuZCBldmVudHVhbGx5IEpTRE9NIGNsZWFudXBcbiAgICAgKi9cbiAgICBkaXNwb3NlOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMucmVtb3ZlVGV4dHVyZSh0aGlzLmNhY2hlS2V5KTtcbiAgICAgIHRoaXMucmVtb3ZlVGV4dHVyZSh0aGlzLmNhY2hlS2V5ICsgJ19maWx0ZXJlZCcpO1xuICAgICAgdGhpcy5fY2FjaGVDb250ZXh0ID0gdW5kZWZpbmVkO1xuICAgICAgWydfb3JpZ2luYWxFbGVtZW50JywgJ19lbGVtZW50JywgJ19maWx0ZXJlZEVsJywgJ19jYWNoZUNhbnZhcyddLmZvckVhY2goKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgZmFicmljLnV0aWwuY2xlYW5VcEpzZG9tTm9kZSh0aGlzW2VsZW1lbnRdKTtcbiAgICAgICAgdGhpc1tlbGVtZW50XSA9IHVuZGVmaW5lZDtcbiAgICAgIH0pLmJpbmQodGhpcykpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGNyb3NzT3JpZ2luIHZhbHVlIChvbiBhbiBpbnN0YW5jZSBhbmQgY29ycmVzcG9uZGluZyBpbWFnZSBlbGVtZW50KVxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZX0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXRDcm9zc09yaWdpbjogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHRoaXMuY3Jvc3NPcmlnaW4gPSB2YWx1ZTtcbiAgICAgIHRoaXMuX2VsZW1lbnQuY3Jvc3NPcmlnaW4gPSB2YWx1ZTtcblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb3JpZ2luYWwgc2l6ZSBvZiBhbiBpbWFnZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHdpdGggXCJ3aWR0aFwiIGFuZCBcImhlaWdodFwiIHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBnZXRPcmlnaW5hbFNpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmdldEVsZW1lbnQoKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdpZHRoOiBlbGVtZW50Lm5hdHVyYWxXaWR0aCB8fCBlbGVtZW50LndpZHRoLFxuICAgICAgICBoZWlnaHQ6IGVsZW1lbnQubmF0dXJhbEhlaWdodCB8fCBlbGVtZW50LmhlaWdodFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgX3N0cm9rZTogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBpZiAoIXRoaXMuc3Ryb2tlIHx8IHRoaXMuc3Ryb2tlV2lkdGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHcgPSB0aGlzLndpZHRoIC8gMiwgaCA9IHRoaXMuaGVpZ2h0IC8gMjtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIGN0eC5tb3ZlVG8oLXcsIC1oKTtcbiAgICAgIGN0eC5saW5lVG8odywgLWgpO1xuICAgICAgY3R4LmxpbmVUbyh3LCBoKTtcbiAgICAgIGN0eC5saW5lVG8oLXcsIGgpO1xuICAgICAgY3R4LmxpbmVUbygtdywgLWgpO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyRGFzaGVkU3Ryb2tlOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIHZhciB4ID0gLXRoaXMud2lkdGggLyAyLFxuICAgICAgICAgIHkgPSAtdGhpcy5oZWlnaHQgLyAyLFxuICAgICAgICAgIHcgPSB0aGlzLndpZHRoLFxuICAgICAgICAgIGggPSB0aGlzLmhlaWdodDtcblxuICAgICAgY3R4LnNhdmUoKTtcbiAgICAgIHRoaXMuX3NldFN0cm9rZVN0eWxlcyhjdHgsIHRoaXMpO1xuXG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBmYWJyaWMudXRpbC5kcmF3RGFzaGVkTGluZShjdHgsIHgsIHksIHggKyB3LCB5LCB0aGlzLnN0cm9rZURhc2hBcnJheSk7XG4gICAgICBmYWJyaWMudXRpbC5kcmF3RGFzaGVkTGluZShjdHgsIHggKyB3LCB5LCB4ICsgdywgeSArIGgsIHRoaXMuc3Ryb2tlRGFzaEFycmF5KTtcbiAgICAgIGZhYnJpYy51dGlsLmRyYXdEYXNoZWRMaW5lKGN0eCwgeCArIHcsIHkgKyBoLCB4LCB5ICsgaCwgdGhpcy5zdHJva2VEYXNoQXJyYXkpO1xuICAgICAgZmFicmljLnV0aWwuZHJhd0Rhc2hlZExpbmUoY3R4LCB4LCB5ICsgaCwgeCwgeSwgdGhpcy5zdHJva2VEYXNoQXJyYXkpO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcGVydGllc1RvSW5jbHVkZV0gQW55IHByb3BlcnRpZXMgdGhhdCB5b3UgbWlnaHQgd2FudCB0byBhZGRpdGlvbmFsbHkgaW5jbHVkZSBpbiB0aGUgb3V0cHV0XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24ocHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgdmFyIGZpbHRlcnMgPSBbXTtcblxuICAgICAgdGhpcy5maWx0ZXJzLmZvckVhY2goZnVuY3Rpb24oZmlsdGVyT2JqKSB7XG4gICAgICAgIGlmIChmaWx0ZXJPYmopIHtcbiAgICAgICAgICBmaWx0ZXJzLnB1c2goZmlsdGVyT2JqLnRvT2JqZWN0KCkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHZhciBvYmplY3QgPSBleHRlbmQoXG4gICAgICAgIHRoaXMuY2FsbFN1cGVyKFxuICAgICAgICAgICd0b09iamVjdCcsXG4gICAgICAgICAgWydjcm9zc09yaWdpbicsICdjcm9wWCcsICdjcm9wWSddLmNvbmNhdChwcm9wZXJ0aWVzVG9JbmNsdWRlKVxuICAgICAgICApLCB7XG4gICAgICAgICAgc3JjOiB0aGlzLmdldFNyYygpLFxuICAgICAgICAgIGZpbHRlcnM6IGZpbHRlcnMsXG4gICAgICAgIH0pO1xuICAgICAgaWYgKHRoaXMucmVzaXplRmlsdGVyKSB7XG4gICAgICAgIG9iamVjdC5yZXNpemVGaWx0ZXIgPSB0aGlzLnJlc2l6ZUZpbHRlci50b09iamVjdCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIGFuIGltYWdlIGhhcyBjcm9wIGFwcGxpZWQsIGluc3BlY3RpbmcgdmFsdWVzIG9mIGNyb3BYLGNyb3BZLHdpZHRoLGhpZ2h0LlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgaGFzQ3JvcDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5jcm9wWCB8fCB0aGlzLmNyb3BZIHx8IHRoaXMud2lkdGggPCB0aGlzLl9lbGVtZW50LndpZHRoIHx8IHRoaXMuaGVpZ2h0IDwgdGhpcy5fZWxlbWVudC5oZWlnaHQ7XG4gICAgfSxcblxuICAgIC8qIF9UT19TVkdfU1RBUlRfICovXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzdmcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gYW4gYXJyYXkgb2Ygc3RyaW5ncyB3aXRoIHRoZSBzcGVjaWZpYyBzdmcgcmVwcmVzZW50YXRpb25cbiAgICAgKiBvZiB0aGUgaW5zdGFuY2VcbiAgICAgKi9cbiAgICBfdG9TVkc6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHN2Z1N0cmluZyA9IFtdLCBpbWFnZU1hcmt1cCA9IFtdLCBzdHJva2VTdmcsXG4gICAgICAgICAgeCA9IC10aGlzLndpZHRoIC8gMiwgeSA9IC10aGlzLmhlaWdodCAvIDIsIGNsaXBQYXRoID0gJyc7XG4gICAgICBpZiAodGhpcy5oYXNDcm9wKCkpIHtcbiAgICAgICAgdmFyIGNsaXBQYXRoSWQgPSBmYWJyaWMuT2JqZWN0Ll9fdWlkKys7XG4gICAgICAgIHN2Z1N0cmluZy5wdXNoKFxuICAgICAgICAgICc8Y2xpcFBhdGggaWQ9XCJpbWFnZUNyb3BfJyArIGNsaXBQYXRoSWQgKyAnXCI+XFxuJyxcbiAgICAgICAgICAnXFx0PHJlY3QgeD1cIicgKyB4ICsgJ1wiIHk9XCInICsgeSArICdcIiB3aWR0aD1cIicgKyB0aGlzLndpZHRoICsgJ1wiIGhlaWdodD1cIicgKyB0aGlzLmhlaWdodCArICdcIiAvPlxcbicsXG4gICAgICAgICAgJzwvY2xpcFBhdGg+XFxuJ1xuICAgICAgICApO1xuICAgICAgICBjbGlwUGF0aCA9ICcgY2xpcC1wYXRoPVwidXJsKCNpbWFnZUNyb3BfJyArIGNsaXBQYXRoSWQgKyAnKVwiICc7XG4gICAgICB9XG4gICAgICBpbWFnZU1hcmt1cC5wdXNoKCdcXHQ8aW1hZ2UgJywgJ0NPTU1PTl9QQVJUUycsICd4bGluazpocmVmPVwiJywgdGhpcy5nZXRTdmdTcmModHJ1ZSksXG4gICAgICAgICdcIiB4PVwiJywgeCAtIHRoaXMuY3JvcFgsICdcIiB5PVwiJywgeSAtIHRoaXMuY3JvcFksXG4gICAgICAgIC8vIHdlJ3JlIGVzc2VudGlhbGx5IG1vdmluZyBvcmlnaW4gb2YgdHJhbnNmb3JtYXRpb24gZnJvbSB0b3AvbGVmdCBjb3JuZXIgdG8gdGhlIGNlbnRlciBvZiB0aGUgc2hhcGVcbiAgICAgICAgLy8gYnkgd3JhcHBpbmcgaXQgaW4gY29udGFpbmVyIDxnPiBlbGVtZW50IHdpdGggYWN0dWFsIHRyYW5zZm9ybWF0aW9uLCB0aGVuIG9mZnNldHRpbmcgb2JqZWN0IHRvIHRoZSB0b3AvbGVmdFxuICAgICAgICAvLyBzbyB0aGF0IG9iamVjdCdzIGNlbnRlciBhbGlnbnMgd2l0aCBjb250YWluZXIncyBsZWZ0L3RvcFxuICAgICAgICAnXCIgd2lkdGg9XCInLCB0aGlzLl9lbGVtZW50LndpZHRoIHx8IHRoaXMuX2VsZW1lbnQubmF0dXJhbFdpZHRoLFxuICAgICAgICAnXCIgaGVpZ2h0PVwiJywgdGhpcy5fZWxlbWVudC5oZWlnaHQgfHwgdGhpcy5fZWxlbWVudC5oZWlnaHQsXG4gICAgICAgICdcIicsIGNsaXBQYXRoLFxuICAgICAgICAnPjwvaW1hZ2U+XFxuJyk7XG5cbiAgICAgIGlmICh0aGlzLnN0cm9rZSB8fCB0aGlzLnN0cm9rZURhc2hBcnJheSkge1xuICAgICAgICB2YXIgb3JpZ0ZpbGwgPSB0aGlzLmZpbGw7XG4gICAgICAgIHRoaXMuZmlsbCA9IG51bGw7XG4gICAgICAgIHN0cm9rZVN2ZyA9IFtcbiAgICAgICAgICAnXFx0PHJlY3QgJyxcbiAgICAgICAgICAneD1cIicsIHgsICdcIiB5PVwiJywgeSxcbiAgICAgICAgICAnXCIgd2lkdGg9XCInLCB0aGlzLndpZHRoLCAnXCIgaGVpZ2h0PVwiJywgdGhpcy5oZWlnaHQsXG4gICAgICAgICAgJ1wiIHN0eWxlPVwiJywgdGhpcy5nZXRTdmdTdHlsZXMoKSxcbiAgICAgICAgICAnXCIvPlxcbidcbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy5maWxsID0gb3JpZ0ZpbGw7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5wYWludEZpcnN0ICE9PSAnZmlsbCcpIHtcbiAgICAgICAgc3ZnU3RyaW5nID0gc3ZnU3RyaW5nLmNvbmNhdChzdHJva2VTdmcsIGltYWdlTWFya3VwKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzdmdTdHJpbmcgPSBzdmdTdHJpbmcuY29uY2F0KGltYWdlTWFya3VwLCBzdHJva2VTdmcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN2Z1N0cmluZztcbiAgICB9LFxuICAgIC8qIF9UT19TVkdfRU5EXyAqL1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzb3VyY2Ugb2YgYW4gaW1hZ2VcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGZpbHRlcmVkIGluZGljYXRlcyBpZiB0aGUgc3JjIGlzIG5lZWRlZCBmb3Igc3ZnXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBTb3VyY2Ugb2YgYW4gaW1hZ2VcbiAgICAgKi9cbiAgICBnZXRTcmM6IGZ1bmN0aW9uKGZpbHRlcmVkKSB7XG4gICAgICB2YXIgZWxlbWVudCA9IGZpbHRlcmVkID8gdGhpcy5fZWxlbWVudCA6IHRoaXMuX29yaWdpbmFsRWxlbWVudDtcbiAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgIGlmIChlbGVtZW50LnRvRGF0YVVSTCkge1xuICAgICAgICAgIHJldHVybiBlbGVtZW50LnRvRGF0YVVSTCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc3JjRnJvbUF0dHJpYnV0ZSkge1xuICAgICAgICAgIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZSgnc3JjJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGVsZW1lbnQuc3JjO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3JjIHx8ICcnO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHNvdXJjZSBvZiBhbiBpbWFnZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgU291cmNlIHN0cmluZyAoVVJMKVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gQ2FsbGJhY2sgaXMgaW52b2tlZCB3aGVuIGltYWdlIGhhcyBiZWVuIGxvYWRlZCAoYW5kIGFsbCBmaWx0ZXJzIGhhdmUgYmVlbiBhcHBsaWVkKVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuSW1hZ2V9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2V0U3JjOiBmdW5jdGlvbihzcmMsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgICBmYWJyaWMudXRpbC5sb2FkSW1hZ2Uoc3JjLCBmdW5jdGlvbihpbWcpIHtcbiAgICAgICAgdGhpcy5zZXRFbGVtZW50KGltZywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3NldFdpZHRoSGVpZ2h0KCk7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHRoaXMpO1xuICAgICAgfSwgdGhpcywgb3B0aW9ucyAmJiBvcHRpb25zLmNyb3NzT3JpZ2luKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gU3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICcjPGZhYnJpYy5JbWFnZTogeyBzcmM6IFwiJyArIHRoaXMuZ2V0U3JjKCkgKyAnXCIgfT4nO1xuICAgIH0sXG5cbiAgICBhcHBseVJlc2l6ZUZpbHRlcnM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGZpbHRlciA9IHRoaXMucmVzaXplRmlsdGVyLFxuICAgICAgICAgIG1pbmltdW1TY2FsZSA9IHRoaXMubWluaW11bVNjYWxlVHJpZ2dlcixcbiAgICAgICAgICBvYmplY3RTY2FsZSA9IHRoaXMuZ2V0VG90YWxPYmplY3RTY2FsaW5nKCksXG4gICAgICAgICAgc2NhbGVYID0gb2JqZWN0U2NhbGUuc2NhbGVYLFxuICAgICAgICAgIHNjYWxlWSA9IG9iamVjdFNjYWxlLnNjYWxlWSxcbiAgICAgICAgICBlbGVtZW50VG9GaWx0ZXIgPSB0aGlzLl9maWx0ZXJlZEVsIHx8IHRoaXMuX29yaWdpbmFsRWxlbWVudDtcbiAgICAgIGlmICh0aGlzLmdyb3VwKSB7XG4gICAgICAgIHRoaXMuc2V0KCdkaXJ0eScsIHRydWUpO1xuICAgICAgfVxuICAgICAgaWYgKCFmaWx0ZXIgfHwgKHNjYWxlWCA+IG1pbmltdW1TY2FsZSAmJiBzY2FsZVkgPiBtaW5pbXVtU2NhbGUpKSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50VG9GaWx0ZXI7XG4gICAgICAgIHRoaXMuX2ZpbHRlclNjYWxpbmdYID0gMTtcbiAgICAgICAgdGhpcy5fZmlsdGVyU2NhbGluZ1kgPSAxO1xuICAgICAgICB0aGlzLl9sYXN0U2NhbGVYID0gc2NhbGVYO1xuICAgICAgICB0aGlzLl9sYXN0U2NhbGVZID0gc2NhbGVZO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIWZhYnJpYy5maWx0ZXJCYWNrZW5kKSB7XG4gICAgICAgIGZhYnJpYy5maWx0ZXJCYWNrZW5kID0gZmFicmljLmluaXRGaWx0ZXJCYWNrZW5kKCk7XG4gICAgICB9XG4gICAgICB2YXIgY2FudmFzRWwgPSBmYWJyaWMudXRpbC5jcmVhdGVDYW52YXNFbGVtZW50KCksXG4gICAgICAgICAgY2FjaGVLZXkgPSB0aGlzLl9maWx0ZXJlZEVsID8gKHRoaXMuY2FjaGVLZXkgKyAnX2ZpbHRlcmVkJykgOiB0aGlzLmNhY2hlS2V5LFxuICAgICAgICAgIHNvdXJjZVdpZHRoID0gZWxlbWVudFRvRmlsdGVyLndpZHRoLCBzb3VyY2VIZWlnaHQgPSBlbGVtZW50VG9GaWx0ZXIuaGVpZ2h0O1xuICAgICAgY2FudmFzRWwud2lkdGggPSBzb3VyY2VXaWR0aDtcbiAgICAgIGNhbnZhc0VsLmhlaWdodCA9IHNvdXJjZUhlaWdodDtcbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBjYW52YXNFbDtcbiAgICAgIHRoaXMuX2xhc3RTY2FsZVggPSBmaWx0ZXIuc2NhbGVYID0gc2NhbGVYO1xuICAgICAgdGhpcy5fbGFzdFNjYWxlWSA9IGZpbHRlci5zY2FsZVkgPSBzY2FsZVk7XG4gICAgICBmYWJyaWMuZmlsdGVyQmFja2VuZC5hcHBseUZpbHRlcnMoXG4gICAgICAgIFtmaWx0ZXJdLCBlbGVtZW50VG9GaWx0ZXIsIHNvdXJjZVdpZHRoLCBzb3VyY2VIZWlnaHQsIHRoaXMuX2VsZW1lbnQsIGNhY2hlS2V5KTtcbiAgICAgIHRoaXMuX2ZpbHRlclNjYWxpbmdYID0gY2FudmFzRWwud2lkdGggLyB0aGlzLl9vcmlnaW5hbEVsZW1lbnQud2lkdGg7XG4gICAgICB0aGlzLl9maWx0ZXJTY2FsaW5nWSA9IGNhbnZhc0VsLmhlaWdodCAvIHRoaXMuX29yaWdpbmFsRWxlbWVudC5oZWlnaHQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgZmlsdGVycyBhc3NpZ25lZCB0byB0aGlzIGltYWdlIChmcm9tIFwiZmlsdGVyc1wiIGFycmF5KSBvciBmcm9tIGZpbHRlciBwYXJhbVxuICAgICAqIEBtZXRob2QgYXBwbHlGaWx0ZXJzXG4gICAgICogQHBhcmFtIHtBcnJheX0gZmlsdGVycyB0byBiZSBhcHBsaWVkXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBmb3JSZXNpemluZyBzcGVjaWZ5IGlmIHRoZSBmaWx0ZXIgb3BlcmF0aW9uIGlzIGEgcmVzaXplIG9wZXJhdGlvblxuICAgICAqIEByZXR1cm4ge3RoaXNBcmd9IHJldHVybiB0aGUgZmFicmljLkltYWdlIG9iamVjdFxuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBhcHBseUZpbHRlcnM6IGZ1bmN0aW9uKGZpbHRlcnMpIHtcblxuICAgICAgZmlsdGVycyA9IGZpbHRlcnMgfHwgdGhpcy5maWx0ZXJzIHx8IFtdO1xuICAgICAgZmlsdGVycyA9IGZpbHRlcnMuZmlsdGVyKGZ1bmN0aW9uKGZpbHRlcikgeyByZXR1cm4gZmlsdGVyICYmICFmaWx0ZXIuaXNOZXV0cmFsU3RhdGUoKTsgfSk7XG4gICAgICB0aGlzLnNldCgnZGlydHknLCB0cnVlKTtcblxuICAgICAgLy8gbmVlZHMgdG8gY2xlYXIgb3V0IG9yIFdFQkdMIHdpbGwgbm90IHJlc2l6ZSBjb3JyZWN0bHlcbiAgICAgIHRoaXMucmVtb3ZlVGV4dHVyZSh0aGlzLmNhY2hlS2V5ICsgJ19maWx0ZXJlZCcpO1xuXG4gICAgICBpZiAoZmlsdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX29yaWdpbmFsRWxlbWVudDtcbiAgICAgICAgdGhpcy5fZmlsdGVyZWRFbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2ZpbHRlclNjYWxpbmdYID0gMTtcbiAgICAgICAgdGhpcy5fZmlsdGVyU2NhbGluZ1kgPSAxO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgdmFyIGltZ0VsZW1lbnQgPSB0aGlzLl9vcmlnaW5hbEVsZW1lbnQsXG4gICAgICAgICAgc291cmNlV2lkdGggPSBpbWdFbGVtZW50Lm5hdHVyYWxXaWR0aCB8fCBpbWdFbGVtZW50LndpZHRoLFxuICAgICAgICAgIHNvdXJjZUhlaWdodCA9IGltZ0VsZW1lbnQubmF0dXJhbEhlaWdodCB8fCBpbWdFbGVtZW50LmhlaWdodDtcblxuICAgICAgaWYgKHRoaXMuX2VsZW1lbnQgPT09IHRoaXMuX29yaWdpbmFsRWxlbWVudCkge1xuICAgICAgICAvLyBpZiB0aGUgZWxlbWVudCBpcyB0aGUgc2FtZSB3ZSBuZWVkIHRvIGNyZWF0ZSBhIG5ldyBlbGVtZW50XG4gICAgICAgIHZhciBjYW52YXNFbCA9IGZhYnJpYy51dGlsLmNyZWF0ZUNhbnZhc0VsZW1lbnQoKTtcbiAgICAgICAgY2FudmFzRWwud2lkdGggPSBzb3VyY2VXaWR0aDtcbiAgICAgICAgY2FudmFzRWwuaGVpZ2h0ID0gc291cmNlSGVpZ2h0O1xuICAgICAgICB0aGlzLl9lbGVtZW50ID0gY2FudmFzRWw7XG4gICAgICAgIHRoaXMuX2ZpbHRlcmVkRWwgPSBjYW52YXNFbDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyBjbGVhciB0aGUgZXhpc3RpbmcgZWxlbWVudCB0byBnZXQgbmV3IGZpbHRlciBkYXRhXG4gICAgICAgIC8vIGFsc28gZGVyZWZlcmVuY2UgdGhlIGV2ZW50dWFsIHJlc2l6ZWQgX2VsZW1lbnRcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2ZpbHRlcmVkRWw7XG4gICAgICAgIHRoaXMuX2ZpbHRlcmVkRWwuZ2V0Q29udGV4dCgnMmQnKS5jbGVhclJlY3QoMCwgMCwgc291cmNlV2lkdGgsIHNvdXJjZUhlaWdodCk7XG4gICAgICAgIC8vIHdlIGFsc28gbmVlZCB0byByZXNpemUgYWdhaW4gYXQgbmV4dCByZW5kZXJBbGwsIHNvIHJlbW92ZSBzYXZlZCBfbGFzdFNjYWxlWC9ZXG4gICAgICAgIHRoaXMuX2xhc3RTY2FsZVggPSAxO1xuICAgICAgICB0aGlzLl9sYXN0U2NhbGVZID0gMTtcbiAgICAgIH1cbiAgICAgIGlmICghZmFicmljLmZpbHRlckJhY2tlbmQpIHtcbiAgICAgICAgZmFicmljLmZpbHRlckJhY2tlbmQgPSBmYWJyaWMuaW5pdEZpbHRlckJhY2tlbmQoKTtcbiAgICAgIH1cbiAgICAgIGZhYnJpYy5maWx0ZXJCYWNrZW5kLmFwcGx5RmlsdGVycyhcbiAgICAgICAgZmlsdGVycywgdGhpcy5fb3JpZ2luYWxFbGVtZW50LCBzb3VyY2VXaWR0aCwgc291cmNlSGVpZ2h0LCB0aGlzLl9lbGVtZW50LCB0aGlzLmNhY2hlS2V5KTtcbiAgICAgIGlmICh0aGlzLl9vcmlnaW5hbEVsZW1lbnQud2lkdGggIT09IHRoaXMuX2VsZW1lbnQud2lkdGggfHxcbiAgICAgICAgdGhpcy5fb3JpZ2luYWxFbGVtZW50LmhlaWdodCAhPT0gdGhpcy5fZWxlbWVudC5oZWlnaHQpIHtcbiAgICAgICAgdGhpcy5fZmlsdGVyU2NhbGluZ1ggPSB0aGlzLl9lbGVtZW50LndpZHRoIC8gdGhpcy5fb3JpZ2luYWxFbGVtZW50LndpZHRoO1xuICAgICAgICB0aGlzLl9maWx0ZXJTY2FsaW5nWSA9IHRoaXMuX2VsZW1lbnQuaGVpZ2h0IC8gdGhpcy5fb3JpZ2luYWxFbGVtZW50LmhlaWdodDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGlmICh0aGlzLmlzTW92aW5nICE9PSB0cnVlICYmIHRoaXMucmVzaXplRmlsdGVyICYmIHRoaXMuX25lZWRzUmVzaXplKCkpIHtcbiAgICAgICAgdGhpcy5hcHBseVJlc2l6ZUZpbHRlcnMoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3N0cm9rZShjdHgpO1xuICAgICAgdGhpcy5fcmVuZGVyUGFpbnRJbk9yZGVyKGN0eCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERlY2lkZSBpZiB0aGUgb2JqZWN0IHNob3VsZCBjYWNoZSBvciBub3QuIENyZWF0ZSBpdHMgb3duIGNhY2hlIGxldmVsXG4gICAgICogbmVlZHNJdHNPd25DYWNoZSBzaG91bGQgYmUgdXNlZCB3aGVuIHRoZSBvYmplY3QgZHJhd2luZyBtZXRob2QgcmVxdWlyZXNcbiAgICAgKiBhIGNhY2hlIHN0ZXAuIE5vbmUgb2YgdGhlIGZhYnJpYyBjbGFzc2VzIHJlcXVpcmVzIGl0LlxuICAgICAqIEdlbmVyYWxseSB5b3UgZG8gbm90IGNhY2hlIG9iamVjdHMgaW4gZ3JvdXBzIGJlY2F1c2UgdGhlIGdyb3VwIG91dHNpZGUgaXMgY2FjaGVkLlxuICAgICAqIFRoaXMgaXMgdGhlIHNwZWNpYWwgaW1hZ2UgdmVyc2lvbiB3aGVyZSB3ZSB3b3VsZCBsaWtlIHRvIGF2b2lkIGNhY2hpbmcgd2hlcmUgcG9zc2libGUuXG4gICAgICogRXNzZW50aWFsbHkgaW1hZ2VzIGRvIG5vdCBiZW5lZml0IGZyb20gY2FjaGluZy4gVGhleSBtYXkgcmVxdWlyZSBjYWNoaW5nLCBhbmQgaW4gdGhhdFxuICAgICAqIGNhc2Ugd2UgZG8gaXQuIEFsc28gY2FjaGluZyBhbiBpbWFnZSB1c3VhbGx5IGVuZHMgaW4gYSBsb3NzIG9mIGRldGFpbHMuXG4gICAgICogQSBmdWxsIHBlcmZvcm1hbmNlIGF1ZGl0IHNob3VsZCBiZSBkb25lLlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgc2hvdWxkQ2FjaGU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMubmVlZHNJdHNPd25DYWNoZSgpO1xuICAgIH0sXG5cbiAgICBfcmVuZGVyRmlsbDogZnVuY3Rpb24oY3R4KSB7XG4gICAgICB2YXIgZWxlbWVudFRvRHJhdyA9IHRoaXMuX2VsZW1lbnQsXG4gICAgICAgICAgdyA9IHRoaXMud2lkdGgsIGggPSB0aGlzLmhlaWdodCxcbiAgICAgICAgICBzVyA9IE1hdGgubWluKGVsZW1lbnRUb0RyYXcubmF0dXJhbFdpZHRoIHx8IGVsZW1lbnRUb0RyYXcud2lkdGgsIHcgKiB0aGlzLl9maWx0ZXJTY2FsaW5nWCksXG4gICAgICAgICAgc0ggPSBNYXRoLm1pbihlbGVtZW50VG9EcmF3Lm5hdHVyYWxIZWlnaHQgfHwgZWxlbWVudFRvRHJhdy5oZWlnaHQsIGggKiB0aGlzLl9maWx0ZXJTY2FsaW5nWSksXG4gICAgICAgICAgeCA9IC13IC8gMiwgeSA9IC1oIC8gMixcbiAgICAgICAgICBzWCA9IE1hdGgubWF4KDAsIHRoaXMuY3JvcFggKiB0aGlzLl9maWx0ZXJTY2FsaW5nWCksXG4gICAgICAgICAgc1kgPSBNYXRoLm1heCgwLCB0aGlzLmNyb3BZICogdGhpcy5fZmlsdGVyU2NhbGluZ1kpO1xuXG4gICAgICBlbGVtZW50VG9EcmF3ICYmIGN0eC5kcmF3SW1hZ2UoZWxlbWVudFRvRHJhdywgc1gsIHNZLCBzVywgc0gsIHgsIHksIHcsIGgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBuZWVkZWQgdG8gY2hlY2sgaWYgaW1hZ2UgbmVlZHMgcmVzaXplXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfbmVlZHNSZXNpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNjYWxlID0gdGhpcy5nZXRUb3RhbE9iamVjdFNjYWxpbmcoKTtcbiAgICAgIHJldHVybiAoc2NhbGUuc2NhbGVYICE9PSB0aGlzLl9sYXN0U2NhbGVYIHx8IHNjYWxlLnNjYWxlWSAhPT0gdGhpcy5fbGFzdFNjYWxlWSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3Jlc2V0V2lkdGhIZWlnaHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5zZXQodGhpcy5nZXRPcmlnaW5hbFNpemUoKSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRoZSBJbWFnZSBjbGFzcydzIGluaXRpYWxpemF0aW9uIG1ldGhvZC4gVGhpcyBtZXRob2QgaXMgYXV0b21hdGljYWxseVxuICAgICAqIGNhbGxlZCBieSB0aGUgY29uc3RydWN0b3IuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8U3RyaW5nfSBlbGVtZW50IFRoZSBlbGVtZW50IHJlcHJlc2VudGluZyB0aGUgaW1hZ2VcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICovXG4gICAgX2luaXRFbGVtZW50OiBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICB0aGlzLnNldEVsZW1lbnQoZmFicmljLnV0aWwuZ2V0QnlJZChlbGVtZW50KSwgb3B0aW9ucyk7XG4gICAgICBmYWJyaWMudXRpbC5hZGRDbGFzcyh0aGlzLmdldEVsZW1lbnQoKSwgZmFicmljLkltYWdlLkNTU19DQU5WQVMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKi9cbiAgICBfaW5pdENvbmZpZzogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHsgfSk7XG4gICAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICB0aGlzLl9zZXRXaWR0aEhlaWdodChvcHRpb25zKTtcbiAgICAgIGlmICh0aGlzLl9lbGVtZW50ICYmIHRoaXMuY3Jvc3NPcmlnaW4pIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5jcm9zc09yaWdpbiA9IHRoaXMuY3Jvc3NPcmlnaW47XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gZmlsdGVycyB0byBiZSBpbml0aWFsaXplZFxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrIHRvIGludm9rZSB3aGVuIGFsbCBmYWJyaWMuSW1hZ2UuZmlsdGVycyBpbnN0YW5jZXMgYXJlIGNyZWF0ZWRcbiAgICAgKi9cbiAgICBfaW5pdEZpbHRlcnM6IGZ1bmN0aW9uKGZpbHRlcnMsIGNhbGxiYWNrKSB7XG4gICAgICBpZiAoZmlsdGVycyAmJiBmaWx0ZXJzLmxlbmd0aCkge1xuICAgICAgICBmYWJyaWMudXRpbC5lbmxpdmVuT2JqZWN0cyhmaWx0ZXJzLCBmdW5jdGlvbihlbmxpdmVuZWRPYmplY3RzKSB7XG4gICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZW5saXZlbmVkT2JqZWN0cyk7XG4gICAgICAgIH0sICdmYWJyaWMuSW1hZ2UuZmlsdGVycycpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogU2V0IHRoZSB3aWR0aCBhbmQgdGhlIGhlaWdodCBvZiB0aGUgaW1hZ2Ugb2JqZWN0LCB1c2luZyB0aGUgZWxlbWVudCBvciB0aGVcbiAgICAgKiBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT2JqZWN0IHdpdGggd2lkdGgvaGVpZ2h0IHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBfc2V0V2lkdGhIZWlnaHQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7IH0pO1xuICAgICAgdmFyIGVsID0gdGhpcy5nZXRFbGVtZW50KCk7XG4gICAgICB0aGlzLndpZHRoID0gb3B0aW9ucy53aWR0aCB8fCBlbC5uYXR1cmFsV2lkdGggfHwgZWwud2lkdGggfHwgMDtcbiAgICAgIHRoaXMuaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQgfHwgZWwubmF0dXJhbEhlaWdodCB8fCBlbC5oZWlnaHQgfHwgMDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIG9mZnNldCBmb3IgY2VudGVyIGFuZCBzY2FsZSBmYWN0b3IgZm9yIHRoZSBpbWFnZSBpbiBvcmRlciB0byByZXNwZWN0XG4gICAgICogdGhlIHByZXNlcnZlQXNwZWN0UmF0aW8gYXR0cmlidXRlXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICovXG4gICAgcGFyc2VQcmVzZXJ2ZUFzcGVjdFJhdGlvQXR0cmlidXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwQVIgPSBmYWJyaWMudXRpbC5wYXJzZVByZXNlcnZlQXNwZWN0UmF0aW9BdHRyaWJ1dGUodGhpcy5wcmVzZXJ2ZUFzcGVjdFJhdGlvIHx8ICcnKSxcbiAgICAgICAgICByV2lkdGggPSB0aGlzLl9lbGVtZW50LndpZHRoLCBySGVpZ2h0ID0gdGhpcy5fZWxlbWVudC5oZWlnaHQsXG4gICAgICAgICAgc2NhbGVYID0gMSwgc2NhbGVZID0gMSwgb2Zmc2V0TGVmdCA9IDAsIG9mZnNldFRvcCA9IDAsIGNyb3BYID0gMCwgY3JvcFkgPSAwLFxuICAgICAgICAgIG9mZnNldCwgcFdpZHRoID0gdGhpcy53aWR0aCwgcEhlaWdodCA9IHRoaXMuaGVpZ2h0LCBwYXJzZWRBdHRyaWJ1dGVzID0geyB3aWR0aDogcFdpZHRoLCBoZWlnaHQ6IHBIZWlnaHQgfTtcbiAgICAgIGlmIChwQVIgJiYgKHBBUi5hbGlnblggIT09ICdub25lJyB8fCBwQVIuYWxpZ25ZICE9PSAnbm9uZScpKSB7XG4gICAgICAgIGlmIChwQVIubWVldE9yU2xpY2UgPT09ICdtZWV0Jykge1xuICAgICAgICAgIHNjYWxlWCA9IHNjYWxlWSA9IGZhYnJpYy51dGlsLmZpbmRTY2FsZVRvRml0KHRoaXMuX2VsZW1lbnQsIHBhcnNlZEF0dHJpYnV0ZXMpO1xuICAgICAgICAgIG9mZnNldCA9IChwV2lkdGggLSByV2lkdGggKiBzY2FsZVgpIC8gMjtcbiAgICAgICAgICBpZiAocEFSLmFsaWduWCA9PT0gJ01pbicpIHtcbiAgICAgICAgICAgIG9mZnNldExlZnQgPSAtb2Zmc2V0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocEFSLmFsaWduWCA9PT0gJ01heCcpIHtcbiAgICAgICAgICAgIG9mZnNldExlZnQgPSBvZmZzZXQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9mZnNldCA9IChwSGVpZ2h0IC0gckhlaWdodCAqIHNjYWxlWSkgLyAyO1xuICAgICAgICAgIGlmIChwQVIuYWxpZ25ZID09PSAnTWluJykge1xuICAgICAgICAgICAgb2Zmc2V0VG9wID0gLW9mZnNldDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBBUi5hbGlnblkgPT09ICdNYXgnKSB7XG4gICAgICAgICAgICBvZmZzZXRUb3AgPSBvZmZzZXQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwQVIubWVldE9yU2xpY2UgPT09ICdzbGljZScpIHtcbiAgICAgICAgICBzY2FsZVggPSBzY2FsZVkgPSBmYWJyaWMudXRpbC5maW5kU2NhbGVUb0NvdmVyKHRoaXMuX2VsZW1lbnQsIHBhcnNlZEF0dHJpYnV0ZXMpO1xuICAgICAgICAgIG9mZnNldCA9IHJXaWR0aCAtIHBXaWR0aCAvIHNjYWxlWDtcbiAgICAgICAgICBpZiAocEFSLmFsaWduWCA9PT0gJ01pZCcpIHtcbiAgICAgICAgICAgIGNyb3BYID0gb2Zmc2V0IC8gMjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBBUi5hbGlnblggPT09ICdNYXgnKSB7XG4gICAgICAgICAgICBjcm9wWCA9IG9mZnNldDtcbiAgICAgICAgICB9XG4gICAgICAgICAgb2Zmc2V0ID0gckhlaWdodCAtIHBIZWlnaHQgLyBzY2FsZVk7XG4gICAgICAgICAgaWYgKHBBUi5hbGlnblkgPT09ICdNaWQnKSB7XG4gICAgICAgICAgICBjcm9wWSA9IG9mZnNldCAvIDI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwQVIuYWxpZ25ZID09PSAnTWF4Jykge1xuICAgICAgICAgICAgY3JvcFkgPSBvZmZzZXQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJXaWR0aCA9IHBXaWR0aCAvIHNjYWxlWDtcbiAgICAgICAgICBySGVpZ2h0ID0gcEhlaWdodCAvIHNjYWxlWTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHNjYWxlWCA9IHBXaWR0aCAvIHJXaWR0aDtcbiAgICAgICAgc2NhbGVZID0gcEhlaWdodCAvIHJIZWlnaHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICB3aWR0aDogcldpZHRoLFxuICAgICAgICBoZWlnaHQ6IHJIZWlnaHQsXG4gICAgICAgIHNjYWxlWDogc2NhbGVYLFxuICAgICAgICBzY2FsZVk6IHNjYWxlWSxcbiAgICAgICAgb2Zmc2V0TGVmdDogb2Zmc2V0TGVmdCxcbiAgICAgICAgb2Zmc2V0VG9wOiBvZmZzZXRUb3AsXG4gICAgICAgIGNyb3BYOiBjcm9wWCxcbiAgICAgICAgY3JvcFk6IGNyb3BZXG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIERlZmF1bHQgQ1NTIGNsYXNzIG5hbWUgZm9yIGNhbnZhc1xuICAgKiBAc3RhdGljXG4gICAqIEB0eXBlIFN0cmluZ1xuICAgKiBAZGVmYXVsdFxuICAgKi9cbiAgZmFicmljLkltYWdlLkNTU19DQU5WQVMgPSAnY2FudmFzLWltZyc7XG5cbiAgLyoqXG4gICAqIEFsaWFzIGZvciBnZXRTcmNcbiAgICogQHN0YXRpY1xuICAgKi9cbiAgZmFicmljLkltYWdlLnByb3RvdHlwZS5nZXRTdmdTcmMgPSBmYWJyaWMuSW1hZ2UucHJvdG90eXBlLmdldFNyYztcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2UgZnJvbSBpdHMgb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIGZyb21cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gaW52b2tlIHdoZW4gYW4gaW1hZ2UgaW5zdGFuY2UgaXMgY3JlYXRlZFxuICAgKi9cbiAgZmFicmljLkltYWdlLmZyb21PYmplY3QgPSBmdW5jdGlvbihfb2JqZWN0LCBjYWxsYmFjaykge1xuICAgIHZhciBvYmplY3QgPSBmYWJyaWMudXRpbC5vYmplY3QuY2xvbmUoX29iamVjdCk7XG4gICAgZmFicmljLnV0aWwubG9hZEltYWdlKG9iamVjdC5zcmMsIGZ1bmN0aW9uKGltZywgZXJyb3IpIHtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayhudWxsLCBlcnJvcik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZhYnJpYy5JbWFnZS5wcm90b3R5cGUuX2luaXRGaWx0ZXJzLmNhbGwob2JqZWN0LCBvYmplY3QuZmlsdGVycywgZnVuY3Rpb24oZmlsdGVycykge1xuICAgICAgICBvYmplY3QuZmlsdGVycyA9IGZpbHRlcnMgfHwgW107XG4gICAgICAgIGZhYnJpYy5JbWFnZS5wcm90b3R5cGUuX2luaXRGaWx0ZXJzLmNhbGwob2JqZWN0LCBbb2JqZWN0LnJlc2l6ZUZpbHRlcl0sIGZ1bmN0aW9uKHJlc2l6ZUZpbHRlcnMpIHtcbiAgICAgICAgICBvYmplY3QucmVzaXplRmlsdGVyID0gcmVzaXplRmlsdGVyc1swXTtcbiAgICAgICAgICBmYWJyaWMudXRpbC5lbmxpdmVuT2JqZWN0cyhbb2JqZWN0LmNsaXBQYXRoXSwgZnVuY3Rpb24oZW5saXZlZFByb3BzKSB7XG4gICAgICAgICAgICBvYmplY3QuY2xpcFBhdGggPSBlbmxpdmVkUHJvcHNbMF07XG4gICAgICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgZmFicmljLkltYWdlKGltZywgb2JqZWN0KTtcbiAgICAgICAgICAgIGNhbGxiYWNrKGltYWdlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LCBudWxsLCBvYmplY3QuY3Jvc3NPcmlnaW4pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGZhYnJpYy5JbWFnZSBmcm9tIGFuIFVSTCBzdHJpbmdcbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIFVSTCB0byBjcmVhdGUgYW4gaW1hZ2UgZnJvbVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIENhbGxiYWNrIHRvIGludm9rZSB3aGVuIGltYWdlIGlzIGNyZWF0ZWQgKG5ld2x5IGNyZWF0ZWQgaW1hZ2UgaXMgcGFzc2VkIGFzIGEgZmlyc3QgYXJndW1lbnQpXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbaW1nT3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICovXG4gIGZhYnJpYy5JbWFnZS5mcm9tVVJMID0gZnVuY3Rpb24odXJsLCBjYWxsYmFjaywgaW1nT3B0aW9ucykge1xuICAgIGZhYnJpYy51dGlsLmxvYWRJbWFnZSh1cmwsIGZ1bmN0aW9uKGltZykge1xuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2sobmV3IGZhYnJpYy5JbWFnZShpbWcsIGltZ09wdGlvbnMpKTtcbiAgICB9LCBudWxsLCBpbWdPcHRpb25zICYmIGltZ09wdGlvbnMuY3Jvc3NPcmlnaW4pO1xuICB9O1xuXG4gIC8qIF9GUk9NX1NWR19TVEFSVF8gKi9cbiAgLyoqXG4gICAqIExpc3Qgb2YgYXR0cmlidXRlIG5hbWVzIHRvIGFjY291bnQgZm9yIHdoZW4gcGFyc2luZyBTVkcgZWxlbWVudCAodXNlZCBieSB7QGxpbmsgZmFicmljLkltYWdlLmZyb21FbGVtZW50fSlcbiAgICogQHN0YXRpY1xuICAgKiBAc2VlIHtAbGluayBodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvc3RydWN0Lmh0bWwjSW1hZ2VFbGVtZW50fVxuICAgKi9cbiAgZmFicmljLkltYWdlLkFUVFJJQlVURV9OQU1FUyA9XG4gICAgZmFicmljLlNIQVJFRF9BVFRSSUJVVEVTLmNvbmNhdCgneCB5IHdpZHRoIGhlaWdodCBwcmVzZXJ2ZUFzcGVjdFJhdGlvIHhsaW5rOmhyZWYgY3Jvc3NPcmlnaW4nLnNwbGl0KCcgJykpO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHtAbGluayBmYWJyaWMuSW1hZ2V9IGluc3RhbmNlIGZyb20gYW4gU1ZHIGVsZW1lbnRcbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0byBwYXJzZVxuICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrIHRvIGV4ZWN1dGUgd2hlbiBmYWJyaWMuSW1hZ2Ugb2JqZWN0IGlzIGNyZWF0ZWRcbiAgICogQHJldHVybiB7ZmFicmljLkltYWdlfSBJbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2VcbiAgICovXG4gIGZhYnJpYy5JbWFnZS5mcm9tRWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gICAgdmFyIHBhcnNlZEF0dHJpYnV0ZXMgPSBmYWJyaWMucGFyc2VBdHRyaWJ1dGVzKGVsZW1lbnQsIGZhYnJpYy5JbWFnZS5BVFRSSUJVVEVfTkFNRVMpO1xuICAgIGZhYnJpYy5JbWFnZS5mcm9tVVJMKHBhcnNlZEF0dHJpYnV0ZXNbJ3hsaW5rOmhyZWYnXSwgY2FsbGJhY2ssXG4gICAgICBleHRlbmQoKG9wdGlvbnMgPyBmYWJyaWMudXRpbC5vYmplY3QuY2xvbmUob3B0aW9ucykgOiB7IH0pLCBwYXJzZWRBdHRyaWJ1dGVzKSk7XG4gIH07XG4gIC8qIF9GUk9NX1NWR19FTkRfICovXG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG5mYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5PYmplY3QucHJvdG90eXBlLCAvKiogQGxlbmRzIGZhYnJpYy5PYmplY3QucHJvdG90eXBlICovIHtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICogQHJldHVybiB7TnVtYmVyfSBhbmdsZSB2YWx1ZVxuICAgKi9cbiAgX2dldEFuZ2xlVmFsdWVGb3JTdHJhaWdodGVuOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYW5nbGUgPSB0aGlzLmFuZ2xlICUgMzYwO1xuICAgIGlmIChhbmdsZSA+IDApIHtcbiAgICAgIHJldHVybiBNYXRoLnJvdW5kKChhbmdsZSAtIDEpIC8gOTApICogOTA7XG4gICAgfVxuICAgIHJldHVybiBNYXRoLnJvdW5kKGFuZ2xlIC8gOTApICogOTA7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFN0cmFpZ2h0ZW5zIGFuIG9iamVjdCAocm90YXRpbmcgaXQgZnJvbSBjdXJyZW50IGFuZ2xlIHRvIG9uZSBvZiAwLCA5MCwgMTgwLCAyNzAsIGV0Yy4gZGVwZW5kaW5nIG9uIHdoaWNoIGlzIGNsb3NlcilcbiAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgKiBAY2hhaW5hYmxlXG4gICAqL1xuICBzdHJhaWdodGVuOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnJvdGF0ZSh0aGlzLl9nZXRBbmdsZVZhbHVlRm9yU3RyYWlnaHRlbigpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogU2FtZSBhcyB7QGxpbmsgZmFicmljLk9iamVjdC5wcm90b3R5cGUuc3RyYWlnaHRlbn0gYnV0IHdpdGggYW5pbWF0aW9uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjYWxsYmFja3MgT2JqZWN0IHdpdGggY2FsbGJhY2sgZnVuY3Rpb25zXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja3Mub25Db21wbGV0ZV0gSW52b2tlZCBvbiBjb21wbGV0aW9uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja3Mub25DaGFuZ2VdIEludm9rZWQgb24gZXZlcnkgc3RlcCBvZiBhbmltYXRpb25cbiAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgKiBAY2hhaW5hYmxlXG4gICAqL1xuICBmeFN0cmFpZ2h0ZW46IGZ1bmN0aW9uKGNhbGxiYWNrcykge1xuICAgIGNhbGxiYWNrcyA9IGNhbGxiYWNrcyB8fCB7IH07XG5cbiAgICB2YXIgZW1wdHkgPSBmdW5jdGlvbigpIHsgfSxcbiAgICAgICAgb25Db21wbGV0ZSA9IGNhbGxiYWNrcy5vbkNvbXBsZXRlIHx8IGVtcHR5LFxuICAgICAgICBvbkNoYW5nZSA9IGNhbGxiYWNrcy5vbkNoYW5nZSB8fCBlbXB0eSxcbiAgICAgICAgX3RoaXMgPSB0aGlzO1xuXG4gICAgZmFicmljLnV0aWwuYW5pbWF0ZSh7XG4gICAgICBzdGFydFZhbHVlOiB0aGlzLmdldCgnYW5nbGUnKSxcbiAgICAgIGVuZFZhbHVlOiB0aGlzLl9nZXRBbmdsZVZhbHVlRm9yU3RyYWlnaHRlbigpLFxuICAgICAgZHVyYXRpb246IHRoaXMuRlhfRFVSQVRJT04sXG4gICAgICBvbkNoYW5nZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgX3RoaXMucm90YXRlKHZhbHVlKTtcbiAgICAgICAgb25DaGFuZ2UoKTtcbiAgICAgIH0sXG4gICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgX3RoaXMuc2V0Q29vcmRzKCk7XG4gICAgICAgIG9uQ29tcGxldGUoKTtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufSk7XG5cbmZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQoZmFicmljLlN0YXRpY0NhbnZhcy5wcm90b3R5cGUsIC8qKiBAbGVuZHMgZmFicmljLlN0YXRpY0NhbnZhcy5wcm90b3R5cGUgKi8ge1xuXG4gIC8qKlxuICAgKiBTdHJhaWdodGVucyBvYmplY3QsIHRoZW4gcmVyZW5kZXJzIGNhbnZhc1xuICAgKiBAcGFyYW0ge2ZhYnJpYy5PYmplY3R9IG9iamVjdCBPYmplY3QgdG8gc3RyYWlnaHRlblxuICAgKiBAcmV0dXJuIHtmYWJyaWMuQ2FudmFzfSB0aGlzQXJnXG4gICAqIEBjaGFpbmFibGVcbiAgICovXG4gIHN0cmFpZ2h0ZW5PYmplY3Q6IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICBvYmplY3Quc3RyYWlnaHRlbigpO1xuICAgIHRoaXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTYW1lIGFzIHtAbGluayBmYWJyaWMuQ2FudmFzLnByb3RvdHlwZS5zdHJhaWdodGVuT2JqZWN0fSwgYnV0IGFuaW1hdGVkXG4gICAqIEBwYXJhbSB7ZmFicmljLk9iamVjdH0gb2JqZWN0IE9iamVjdCB0byBzdHJhaWdodGVuXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5DYW52YXN9IHRoaXNBcmdcbiAgICogQGNoYWluYWJsZVxuICAgKi9cbiAgZnhTdHJhaWdodGVuT2JqZWN0OiBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgb2JqZWN0LmZ4U3RyYWlnaHRlbih7XG4gICAgICBvbkNoYW5nZTogdGhpcy5yZXF1ZXN0UmVuZGVyQWxsQm91bmRcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxufSk7XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogVGVzdHMgaWYgd2ViZ2wgc3VwcG9ydHMgY2VydGFpbiBwcmVjaXNpb25cbiAgICogQHBhcmFtIHtXZWJHTH0gQ2FudmFzIFdlYkdMIGNvbnRleHQgdG8gdGVzdCBvblxuICAgKiBAcGFyYW0ge1N0cmluZ30gUHJlY2lzaW9uIHRvIHRlc3QgY2FuIGJlIGFueSBvZiBmb2xsb3dpbmc6ICdsb3dwJywgJ21lZGl1bXAnLCAnaGlnaHAnXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBXaGV0aGVyIHRoZSB1c2VyJ3MgYnJvd3NlciBXZWJHTCBzdXBwb3J0cyBnaXZlbiBwcmVjaXNpb24uXG4gICAqL1xuICBmdW5jdGlvbiB0ZXN0UHJlY2lzaW9uKGdsLCBwcmVjaXNpb24pe1xuICAgIHZhciBmcmFnbWVudFNvdXJjZSA9ICdwcmVjaXNpb24gJyArIHByZWNpc2lvbiArICcgZmxvYXQ7XFxudm9pZCBtYWluKCl7fSc7XG4gICAgdmFyIGZyYWdtZW50U2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKGdsLkZSQUdNRU5UX1NIQURFUik7XG4gICAgZ2wuc2hhZGVyU291cmNlKGZyYWdtZW50U2hhZGVyLCBmcmFnbWVudFNvdXJjZSk7XG4gICAgZ2wuY29tcGlsZVNoYWRlcihmcmFnbWVudFNoYWRlcik7XG4gICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoZnJhZ21lbnRTaGFkZXIsIGdsLkNPTVBJTEVfU1RBVFVTKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZSB3aGV0aGVyIHRoaXMgZmlsdGVyaW5nIGJhY2tlbmQgaXMgc3VwcG9ydGVkIGJ5IHRoZSB1c2VyJ3MgYnJvd3Nlci5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IHRpbGVTaXplIGNoZWNrIGlmIHRoZSB0aWxlU2l6ZSBpcyBzdXBwb3J0ZWRcbiAgICogQHJldHVybnMge0Jvb2xlYW59IFdoZXRoZXIgdGhlIHVzZXIncyBicm93c2VyIHN1cHBvcnRzIFdlYkdMLlxuICAgKi9cbiAgZmFicmljLmlzV2ViZ2xTdXBwb3J0ZWQgPSBmdW5jdGlvbih0aWxlU2l6ZSkge1xuICAgIGlmIChmYWJyaWMuaXNMaWtlbHlOb2RlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRpbGVTaXplID0gdGlsZVNpemUgfHwgZmFicmljLldlYmdsRmlsdGVyQmFja2VuZC5wcm90b3R5cGUudGlsZVNpemU7XG4gICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIHZhciBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcpIHx8IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnKTtcbiAgICB2YXIgaXNTdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICBpZiAoZ2wpIHtcbiAgICAgIGZhYnJpYy5tYXhUZXh0dXJlU2l6ZSA9IGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVEVYVFVSRV9TSVpFKTtcbiAgICAgIGlzU3VwcG9ydGVkID0gZmFicmljLm1heFRleHR1cmVTaXplID49IHRpbGVTaXplO1xuICAgICAgdmFyIHByZWNpc2lvbnMgPSBbJ2hpZ2hwJywgJ21lZGl1bXAnLCAnbG93cCddO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzOyBpKyspe1xuICAgICAgICBpZiAodGVzdFByZWNpc2lvbihnbCwgcHJlY2lzaW9uc1tpXSkpe1xuICAgICAgICAgIGZhYnJpYy53ZWJHbFByZWNpc2lvbiA9IHByZWNpc2lvbnNbaV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuaXNTdXBwb3J0ZWQgPSBpc1N1cHBvcnRlZDtcbiAgICByZXR1cm4gaXNTdXBwb3J0ZWQ7XG4gIH07XG5cbiAgZmFicmljLldlYmdsRmlsdGVyQmFja2VuZCA9IFdlYmdsRmlsdGVyQmFja2VuZDtcblxuICAvKipcbiAgICogV2ViR0wgZmlsdGVyIGJhY2tlbmQuXG4gICAqL1xuICBmdW5jdGlvbiBXZWJnbEZpbHRlckJhY2tlbmQob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMudGlsZVNpemUpIHtcbiAgICAgIHRoaXMudGlsZVNpemUgPSBvcHRpb25zLnRpbGVTaXplO1xuICAgIH1cbiAgICB0aGlzLnNldHVwR0xDb250ZXh0KHRoaXMudGlsZVNpemUsIHRoaXMudGlsZVNpemUpO1xuICAgIHRoaXMuY2FwdHVyZUdQVUluZm8oKTtcbiAgfTtcblxuICBXZWJnbEZpbHRlckJhY2tlbmQucHJvdG90eXBlID0gLyoqIEBsZW5kcyBmYWJyaWMuV2ViZ2xGaWx0ZXJCYWNrZW5kLnByb3RvdHlwZSAqLyB7XG5cbiAgICB0aWxlU2l6ZTogMjA0OCxcblxuICAgIC8qKlxuICAgICAqIEV4cGVyaW1lbnRhbC4gVGhpcyBvYmplY3QgaXMgYSBzb3J0IG9mIHJlcG9zaXRvcnkgb2YgaGVscCBsYXllcnMgdXNlZCB0byBhdm9pZFxuICAgICAqIG9mIHJlY3JlYXRpbmcgdGhlbSBkdXJpbmcgZnJlcXVlbnQgZmlsdGVyaW5nLiBJZiB5b3UgYXJlIHByZXZpZXdpbmcgYSBmaWx0ZXIgd2l0aFxuICAgICAqIGEgc2xpZGVyIHlvdSBwcm9ibGFibHkgZG8gbm90IHdhbnQgdG8gY3JlYXRlIGhlbHAgbGF5ZXJzIGV2ZXJ5IGZpbHRlciBzdGVwLlxuICAgICAqIGluIHRoaXMgb2JqZWN0IHRoZXJlIHdpbGwgYmUgYXBwZW5kZWQgc29tZSBjYW52YXNlcywgY3JlYXRlZCBvbmNlLCByZXNpemVkIHNvbWV0aW1lc1xuICAgICAqIGNsZWFyZWQgbmV2ZXIuIENsZWFyaW5nIGlzIGxlZnQgdG8gdGhlIGRldmVsb3Blci5cbiAgICAgKiovXG4gICAgcmVzb3VyY2VzOiB7XG5cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0dXAgYSBXZWJHTCBjb250ZXh0IHN1aXRhYmxlIGZvciBmaWx0ZXJpbmcsIGFuZCBiaW5kIGFueSBuZWVkZWQgZXZlbnQgaGFuZGxlcnMuXG4gICAgICovXG4gICAgc2V0dXBHTENvbnRleHQ6IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIHRoaXMuZGlzcG9zZSgpO1xuICAgICAgdGhpcy5jcmVhdGVXZWJHTENhbnZhcyh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgdGhpcy5hUG9zaXRpb24gPSBuZXcgRmxvYXQzMkFycmF5KFswLCAwLCAwLCAxLCAxLCAwLCAxLCAxXSk7XG4gICAgICB0aGlzLmNob29zZUZhc3Rlc3RDb3B5R0xUbzJETWV0aG9kKHdpZHRoLCBoZWlnaHQpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBQaWNrIGEgbWV0aG9kIHRvIGNvcHkgZGF0YSBmcm9tIEdMIGNvbnRleHQgdG8gMmQgY2FudmFzLiAgSW4gc29tZSBicm93c2VycyB1c2luZ1xuICAgICAqIHB1dEltYWdlRGF0YSBpcyBmYXN0ZXIgdGhhbiBkcmF3SW1hZ2UgZm9yIHRoYXQgc3BlY2lmaWMgb3BlcmF0aW9uLlxuICAgICAqL1xuICAgIGNob29zZUZhc3Rlc3RDb3B5R0xUbzJETWV0aG9kOiBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICB2YXIgY2FuTWVhc3VyZVBlcmYgPSB0eXBlb2Ygd2luZG93LnBlcmZvcm1hbmNlICE9PSAndW5kZWZpbmVkJywgY2FuVXNlSW1hZ2VEYXRhO1xuICAgICAgdHJ5IHtcbiAgICAgICAgbmV3IEltYWdlRGF0YSgxLCAxKTtcbiAgICAgICAgY2FuVXNlSW1hZ2VEYXRhID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGNhblVzZUltYWdlRGF0YSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICB2YXIgY2FuVXNlQXJyYXlCdWZmZXIgPSB0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICB2YXIgY2FuVXNlVWludDhDbGFtcGVkID0gdHlwZW9mIFVpbnQ4Q2xhbXBlZEFycmF5ICE9PSAndW5kZWZpbmVkJztcblxuICAgICAgaWYgKCEoY2FuTWVhc3VyZVBlcmYgJiYgY2FuVXNlSW1hZ2VEYXRhICYmIGNhblVzZUFycmF5QnVmZmVyICYmIGNhblVzZVVpbnQ4Q2xhbXBlZCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgdGFyZ2V0Q2FudmFzID0gZmFicmljLnV0aWwuY3JlYXRlQ2FudmFzRWxlbWVudCgpO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICB2YXIgaW1hZ2VCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIod2lkdGggKiBoZWlnaHQgKiA0KTtcbiAgICAgIGlmIChmYWJyaWMuZm9yY2VHTFB1dEltYWdlRGF0YSkge1xuICAgICAgICB0aGlzLmltYWdlQnVmZmVyID0gaW1hZ2VCdWZmZXI7XG4gICAgICAgIHRoaXMuY29weUdMVG8yRCA9IGNvcHlHTFRvMkRQdXRJbWFnZURhdGE7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciB0ZXN0Q29udGV4dCA9IHtcbiAgICAgICAgaW1hZ2VCdWZmZXI6IGltYWdlQnVmZmVyLFxuICAgICAgICBkZXN0aW5hdGlvbldpZHRoOiB3aWR0aCxcbiAgICAgICAgZGVzdGluYXRpb25IZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgdGFyZ2V0Q2FudmFzOiB0YXJnZXRDYW52YXNcbiAgICAgIH07XG4gICAgICB2YXIgc3RhcnRUaW1lLCBkcmF3SW1hZ2VUaW1lLCBwdXRJbWFnZURhdGFUaW1lO1xuICAgICAgdGFyZ2V0Q2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICB0YXJnZXRDYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICBzdGFydFRpbWUgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBjb3B5R0xUbzJERHJhd0ltYWdlLmNhbGwodGVzdENvbnRleHQsIHRoaXMuZ2wsIHRlc3RDb250ZXh0KTtcbiAgICAgIGRyYXdJbWFnZVRpbWUgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydFRpbWU7XG5cbiAgICAgIHN0YXJ0VGltZSA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIGNvcHlHTFRvMkRQdXRJbWFnZURhdGEuY2FsbCh0ZXN0Q29udGV4dCwgdGhpcy5nbCwgdGVzdENvbnRleHQpO1xuICAgICAgcHV0SW1hZ2VEYXRhVGltZSA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSAtIHN0YXJ0VGltZTtcblxuICAgICAgaWYgKGRyYXdJbWFnZVRpbWUgPiBwdXRJbWFnZURhdGFUaW1lKSB7XG4gICAgICAgIHRoaXMuaW1hZ2VCdWZmZXIgPSBpbWFnZUJ1ZmZlcjtcbiAgICAgICAgdGhpcy5jb3B5R0xUbzJEID0gY29weUdMVG8yRFB1dEltYWdlRGF0YTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmNvcHlHTFRvMkQgPSBjb3B5R0xUbzJERHJhd0ltYWdlO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBjYW52YXMgZWxlbWVudCBhbmQgYXNzb2NpYXRlZCBXZWJHTCBjb250ZXh0IGFuZCBhdHRhY2hlcyB0aGVtIGFzXG4gICAgICogY2xhc3MgcHJvcGVydGllcyB0byB0aGUgR0xGaWx0ZXJCYWNrZW5kIGNsYXNzLlxuICAgICAqL1xuICAgIGNyZWF0ZVdlYkdMQ2FudmFzOiBmdW5jdGlvbih3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICB2YXIgY2FudmFzID0gZmFicmljLnV0aWwuY3JlYXRlQ2FudmFzRWxlbWVudCgpO1xuICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgdmFyIGdsT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGFscGhhOiB0cnVlLFxuICAgICAgICAgICAgcHJlbXVsdGlwbGllZEFscGhhOiBmYWxzZSxcbiAgICAgICAgICAgIGRlcHRoOiBmYWxzZSxcbiAgICAgICAgICAgIHN0ZW5jaWw6IGZhbHNlLFxuICAgICAgICAgICAgYW50aWFsaWFzOiBmYWxzZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2wgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnLCBnbE9wdGlvbnMpO1xuICAgICAgaWYgKCFnbCkge1xuICAgICAgICBnbCA9IGNhbnZhcy5nZXRDb250ZXh0KCdleHBlcmltZW50YWwtd2ViZ2wnLCBnbE9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgaWYgKCFnbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBnbC5jbGVhckNvbG9yKDAsIDAsIDAsIDApO1xuICAgICAgLy8gdGhpcyBjYW52YXMgY2FuIGZpcmUgd2ViZ2xjb250ZXh0bG9zdCBhbmQgd2ViZ2xjb250ZXh0cmVzdG9yZWRcbiAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuICAgICAgdGhpcy5nbCA9IGdsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBdHRlbXB0cyB0byBhcHBseSB0aGUgcmVxdWVzdGVkIGZpbHRlcnMgdG8gdGhlIHNvdXJjZSBwcm92aWRlZCwgZHJhd2luZyB0aGUgZmlsdGVyZWQgb3V0cHV0XG4gICAgICogdG8gdGhlIHByb3ZpZGVkIHRhcmdldCBjYW52YXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBmaWx0ZXJzIFRoZSBmaWx0ZXJzIHRvIGFwcGx5LlxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gc291cmNlIFRoZSBzb3VyY2UgdG8gYmUgZmlsdGVyZWQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoIFRoZSB3aWR0aCBvZiB0aGUgc291cmNlIGlucHV0LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHQgVGhlIGhlaWdodCBvZiB0aGUgc291cmNlIGlucHV0LlxuICAgICAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IHRhcmdldENhbnZhcyBUaGUgZGVzdGluYXRpb24gZm9yIGZpbHRlcmVkIG91dHB1dCB0byBiZSBkcmF3bi5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ3x1bmRlZmluZWR9IGNhY2hlS2V5IEEga2V5IHVzZWQgdG8gY2FjaGUgcmVzb3VyY2VzIHJlbGF0ZWQgdG8gdGhlIHNvdXJjZS4gSWZcbiAgICAgKiBvbWl0dGVkLCBjYWNoaW5nIHdpbGwgYmUgc2tpcHBlZC5cbiAgICAgKi9cbiAgICBhcHBseUZpbHRlcnM6IGZ1bmN0aW9uKGZpbHRlcnMsIHNvdXJjZSwgd2lkdGgsIGhlaWdodCwgdGFyZ2V0Q2FudmFzLCBjYWNoZUtleSkge1xuICAgICAgdmFyIGdsID0gdGhpcy5nbDtcbiAgICAgIHZhciBjYWNoZWRUZXh0dXJlO1xuICAgICAgaWYgKGNhY2hlS2V5KSB7XG4gICAgICAgIGNhY2hlZFRleHR1cmUgPSB0aGlzLmdldENhY2hlZFRleHR1cmUoY2FjaGVLZXksIHNvdXJjZSk7XG4gICAgICB9XG4gICAgICB2YXIgcGlwZWxpbmVTdGF0ZSA9IHtcbiAgICAgICAgb3JpZ2luYWxXaWR0aDogc291cmNlLndpZHRoIHx8IHNvdXJjZS5vcmlnaW5hbFdpZHRoLFxuICAgICAgICBvcmlnaW5hbEhlaWdodDogc291cmNlLmhlaWdodCB8fCBzb3VyY2Uub3JpZ2luYWxIZWlnaHQsXG4gICAgICAgIHNvdXJjZVdpZHRoOiB3aWR0aCxcbiAgICAgICAgc291cmNlSGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgIGRlc3RpbmF0aW9uV2lkdGg6IHdpZHRoLFxuICAgICAgICBkZXN0aW5hdGlvbkhlaWdodDogaGVpZ2h0LFxuICAgICAgICBjb250ZXh0OiBnbCxcbiAgICAgICAgc291cmNlVGV4dHVyZTogdGhpcy5jcmVhdGVUZXh0dXJlKGdsLCB3aWR0aCwgaGVpZ2h0LCAhY2FjaGVkVGV4dHVyZSAmJiBzb3VyY2UpLFxuICAgICAgICB0YXJnZXRUZXh0dXJlOiB0aGlzLmNyZWF0ZVRleHR1cmUoZ2wsIHdpZHRoLCBoZWlnaHQpLFxuICAgICAgICBvcmlnaW5hbFRleHR1cmU6IGNhY2hlZFRleHR1cmUgfHxcbiAgICAgICAgICB0aGlzLmNyZWF0ZVRleHR1cmUoZ2wsIHdpZHRoLCBoZWlnaHQsICFjYWNoZWRUZXh0dXJlICYmIHNvdXJjZSksXG4gICAgICAgIHBhc3NlczogZmlsdGVycy5sZW5ndGgsXG4gICAgICAgIHdlYmdsOiB0cnVlLFxuICAgICAgICBhUG9zaXRpb246IHRoaXMuYVBvc2l0aW9uLFxuICAgICAgICBwcm9ncmFtQ2FjaGU6IHRoaXMucHJvZ3JhbUNhY2hlLFxuICAgICAgICBwYXNzOiAwLFxuICAgICAgICBmaWx0ZXJCYWNrZW5kOiB0aGlzLFxuICAgICAgICB0YXJnZXRDYW52YXM6IHRhcmdldENhbnZhc1xuICAgICAgfTtcbiAgICAgIHZhciB0ZW1wRmJvID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcbiAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgdGVtcEZibyk7XG4gICAgICBmaWx0ZXJzLmZvckVhY2goZnVuY3Rpb24oZmlsdGVyKSB7IGZpbHRlciAmJiBmaWx0ZXIuYXBwbHlUbyhwaXBlbGluZVN0YXRlKTsgfSk7XG4gICAgICByZXNpemVDYW52YXNJZk5lZWRlZChwaXBlbGluZVN0YXRlKTtcbiAgICAgIHRoaXMuY29weUdMVG8yRChnbCwgcGlwZWxpbmVTdGF0ZSk7XG4gICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBudWxsKTtcbiAgICAgIGdsLmRlbGV0ZVRleHR1cmUocGlwZWxpbmVTdGF0ZS5zb3VyY2VUZXh0dXJlKTtcbiAgICAgIGdsLmRlbGV0ZVRleHR1cmUocGlwZWxpbmVTdGF0ZS50YXJnZXRUZXh0dXJlKTtcbiAgICAgIGdsLmRlbGV0ZUZyYW1lYnVmZmVyKHRlbXBGYm8pO1xuICAgICAgdGFyZ2V0Q2FudmFzLmdldENvbnRleHQoJzJkJykuc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgICAgcmV0dXJuIHBpcGVsaW5lU3RhdGU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIERldGFjaCBldmVudCBsaXN0ZW5lcnMsIHJlbW92ZSByZWZlcmVuY2VzLCBhbmQgY2xlYW4gdXAgY2FjaGVzLlxuICAgICAqL1xuICAgIGRpc3Bvc2U6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgICAgIHRoaXMuY2FudmFzID0gbnVsbDtcbiAgICAgICAgdGhpcy5nbCA9IG51bGw7XG4gICAgICB9XG4gICAgICB0aGlzLmNsZWFyV2ViR0xDYWNoZXMoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogV2lwZSBvdXQgV2ViR0wtcmVsYXRlZCBjYWNoZXMuXG4gICAgICovXG4gICAgY2xlYXJXZWJHTENhY2hlczogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnByb2dyYW1DYWNoZSA9IHt9O1xuICAgICAgdGhpcy50ZXh0dXJlQ2FjaGUgPSB7fTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgV2ViR0wgdGV4dHVyZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBBY2NlcHRzIHNwZWNpZmljIGRpbWVuc2lvbnMgdG8gaW5pdGlhbGl6ZSB0aGUgdGV4dHVlciB0byBvciBhIHNvdXJjZSBpbWFnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY29udGV4dCB0byB1c2UgZm9yIGNyZWF0aW5nIHRoZSB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB3aWR0aCBUaGUgd2lkdGggdG8gaW5pdGlhbGl6ZSB0aGUgdGV4dHVyZSBhdC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gaGVpZ2h0IFRoZSBoZWlnaHQgdG8gaW5pdGlhbGl6ZSB0aGUgdGV4dHVyZS5cbiAgICAgKiBAcGFyYW0ge0hUTUxJbWFnZUVsZW1lbnR8SFRNTENhbnZhc0VsZW1lbnR9IHRleHR1cmVJbWFnZVNvdXJjZSBBIHNvdXJjZSBmb3IgdGhlIHRleHR1cmUgZGF0YS5cbiAgICAgKiBAcmV0dXJucyB7V2ViR0xUZXh0dXJlfVxuICAgICAqL1xuICAgIGNyZWF0ZVRleHR1cmU6IGZ1bmN0aW9uKGdsLCB3aWR0aCwgaGVpZ2h0LCB0ZXh0dXJlSW1hZ2VTb3VyY2UpIHtcbiAgICAgIHZhciB0ZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZSk7XG4gICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgZ2wuTkVBUkVTVCk7XG4gICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTkVBUkVTVCk7XG4gICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9XUkFQX1QsIGdsLkNMQU1QX1RPX0VER0UpO1xuICAgICAgaWYgKHRleHR1cmVJbWFnZVNvdXJjZSkge1xuICAgICAgICBnbC50ZXhJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIGdsLlJHQkEsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIHRleHR1cmVJbWFnZVNvdXJjZSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCB3aWR0aCwgaGVpZ2h0LCAwLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBudWxsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDYW4gYmUgb3B0aW9uYWxseSB1c2VkIHRvIGdldCBhIHRleHR1cmUgZnJvbSB0aGUgY2FjaGUgYXJyYXlcbiAgICAgKlxuICAgICAqIElmIGFuIGV4aXN0aW5nIHRleHR1cmUgaXMgbm90IGZvdW5kLCBhIG5ldyB0ZXh0dXJlIGlzIGNyZWF0ZWQgYW5kIGNhY2hlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1bmlxdWVJZCBBIGNhY2hlIGtleSB0byB1c2UgdG8gZmluZCBhbiBleGlzdGluZyB0ZXh0dXJlLlxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gdGV4dHVyZUltYWdlU291cmNlIEEgc291cmNlIHRvIHVzZSB0byBjcmVhdGUgdGhlXG4gICAgICogdGV4dHVyZSBjYWNoZSBlbnRyeSBpZiBvbmUgZG9lcyBub3QgYWxyZWFkeSBleGlzdC5cbiAgICAgKi9cbiAgICBnZXRDYWNoZWRUZXh0dXJlOiBmdW5jdGlvbih1bmlxdWVJZCwgdGV4dHVyZUltYWdlU291cmNlKSB7XG4gICAgICBpZiAodGhpcy50ZXh0dXJlQ2FjaGVbdW5pcXVlSWRdKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRleHR1cmVDYWNoZVt1bmlxdWVJZF07XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIHRleHR1cmUgPSB0aGlzLmNyZWF0ZVRleHR1cmUoXG4gICAgICAgICAgdGhpcy5nbCwgdGV4dHVyZUltYWdlU291cmNlLndpZHRoLCB0ZXh0dXJlSW1hZ2VTb3VyY2UuaGVpZ2h0LCB0ZXh0dXJlSW1hZ2VTb3VyY2UpO1xuICAgICAgICB0aGlzLnRleHR1cmVDYWNoZVt1bmlxdWVJZF0gPSB0ZXh0dXJlO1xuICAgICAgICByZXR1cm4gdGV4dHVyZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgb3V0IGNhY2hlZCByZXNvdXJjZXMgcmVsYXRlZCB0byBhIHNvdXJjZSBpbWFnZSB0aGF0IGhhcyBiZWVuXG4gICAgICogZmlsdGVyZWQgcHJldmlvdXNseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjYWNoZUtleSBUaGUgY2FjaGUga2V5IHByb3ZpZGVkIHdoZW4gdGhlIHNvdXJjZSBpbWFnZSB3YXMgZmlsdGVyZWQuXG4gICAgICovXG4gICAgZXZpY3RDYWNoZXNGb3JLZXk6IGZ1bmN0aW9uKGNhY2hlS2V5KSB7XG4gICAgICBpZiAodGhpcy50ZXh0dXJlQ2FjaGVbY2FjaGVLZXldKSB7XG4gICAgICAgIHRoaXMuZ2wuZGVsZXRlVGV4dHVyZSh0aGlzLnRleHR1cmVDYWNoZVtjYWNoZUtleV0pO1xuICAgICAgICBkZWxldGUgdGhpcy50ZXh0dXJlQ2FjaGVbY2FjaGVLZXldO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBjb3B5R0xUbzJEOiBjb3B5R0xUbzJERHJhd0ltYWdlLFxuXG4gICAgLyoqXG4gICAgICogQXR0ZW1wdCB0byBleHRyYWN0IEdQVSBpbmZvcm1hdGlvbiBzdHJpbmdzIGZyb20gYSBXZWJHTCBjb250ZXh0LlxuICAgICAqXG4gICAgICogVXNlZnVsIGluZm9ybWF0aW9uIHdoZW4gZGVidWdnaW5nIG9yIGJsYWNrbGlzdGluZyBzcGVjaWZpYyBHUFVzLlxuICAgICAqXG4gICAgICogQHJldHVybnMge09iamVjdH0gQSBHUFUgaW5mbyBvYmplY3Qgd2l0aCByZW5kZXJlciBhbmQgdmVuZG9yIHN0cmluZ3MuXG4gICAgICovXG4gICAgY2FwdHVyZUdQVUluZm86IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuZ3B1SW5mbykge1xuICAgICAgICByZXR1cm4gdGhpcy5ncHVJbmZvO1xuICAgICAgfVxuICAgICAgdmFyIGdsID0gdGhpcy5nbCwgZ3B1SW5mbyA9IHsgcmVuZGVyZXI6ICcnLCB2ZW5kb3I6ICcnIH07XG4gICAgICBpZiAoIWdsKSB7XG4gICAgICAgIHJldHVybiBncHVJbmZvO1xuICAgICAgfVxuICAgICAgdmFyIGV4dCA9IGdsLmdldEV4dGVuc2lvbignV0VCR0xfZGVidWdfcmVuZGVyZXJfaW5mbycpO1xuICAgICAgaWYgKGV4dCkge1xuICAgICAgICB2YXIgcmVuZGVyZXIgPSBnbC5nZXRQYXJhbWV0ZXIoZXh0LlVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMKTtcbiAgICAgICAgdmFyIHZlbmRvciA9IGdsLmdldFBhcmFtZXRlcihleHQuVU5NQVNLRURfVkVORE9SX1dFQkdMKTtcbiAgICAgICAgaWYgKHJlbmRlcmVyKSB7XG4gICAgICAgICAgZ3B1SW5mby5yZW5kZXJlciA9IHJlbmRlcmVyLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZlbmRvcikge1xuICAgICAgICAgIGdwdUluZm8udmVuZG9yID0gdmVuZG9yLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuZ3B1SW5mbyA9IGdwdUluZm87XG4gICAgICByZXR1cm4gZ3B1SW5mbztcbiAgICB9LFxuICB9O1xufSkoKTtcblxuZnVuY3Rpb24gcmVzaXplQ2FudmFzSWZOZWVkZWQocGlwZWxpbmVTdGF0ZSkge1xuICB2YXIgdGFyZ2V0Q2FudmFzID0gcGlwZWxpbmVTdGF0ZS50YXJnZXRDYW52YXMsXG4gICAgICB3aWR0aCA9IHRhcmdldENhbnZhcy53aWR0aCwgaGVpZ2h0ID0gdGFyZ2V0Q2FudmFzLmhlaWdodCxcbiAgICAgIGRXaWR0aCA9IHBpcGVsaW5lU3RhdGUuZGVzdGluYXRpb25XaWR0aCxcbiAgICAgIGRIZWlnaHQgPSBwaXBlbGluZVN0YXRlLmRlc3RpbmF0aW9uSGVpZ2h0O1xuXG4gIGlmICh3aWR0aCAhPT0gZFdpZHRoIHx8IGhlaWdodCAhPT0gZEhlaWdodCkge1xuICAgIHRhcmdldENhbnZhcy53aWR0aCA9IGRXaWR0aDtcbiAgICB0YXJnZXRDYW52YXMuaGVpZ2h0ID0gZEhlaWdodDtcbiAgfVxufVxuXG4vKipcbiAqIENvcHkgYW4gaW5wdXQgV2ViR0wgY2FudmFzIG9uIHRvIGFuIG91dHB1dCAyRCBjYW52YXMuXG4gKlxuICogVGhlIFdlYkdMIGNhbnZhcyBpcyBhc3N1bWVkIHRvIGJlIHVwc2lkZSBkb3duLCB3aXRoIHRoZSB0b3AtbGVmdCBwaXhlbCBvZiB0aGVcbiAqIGRlc2lyZWQgb3V0cHV0IGltYWdlIGFwcGVhcmluZyBpbiB0aGUgYm90dG9tLWxlZnQgY29ybmVyIG9mIHRoZSBXZWJHTCBjYW52YXMuXG4gKlxuICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IHNvdXJjZUNvbnRleHQgVGhlIFdlYkdMIGNvbnRleHQgdG8gY29weSBmcm9tLlxuICogQHBhcmFtIHtIVE1MQ2FudmFzRWxlbWVudH0gdGFyZ2V0Q2FudmFzIFRoZSAyRCB0YXJnZXQgY2FudmFzIHRvIGNvcHkgb24gdG8uXG4gKiBAcGFyYW0ge09iamVjdH0gcGlwZWxpbmVTdGF0ZSBUaGUgMkQgdGFyZ2V0IGNhbnZhcyB0byBjb3B5IG9uIHRvLlxuICovXG5mdW5jdGlvbiBjb3B5R0xUbzJERHJhd0ltYWdlKGdsLCBwaXBlbGluZVN0YXRlKSB7XG4gIHZhciBnbENhbnZhcyA9IGdsLmNhbnZhcywgdGFyZ2V0Q2FudmFzID0gcGlwZWxpbmVTdGF0ZS50YXJnZXRDYW52YXMsXG4gICAgICBjdHggPSB0YXJnZXRDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgY3R4LnRyYW5zbGF0ZSgwLCB0YXJnZXRDYW52YXMuaGVpZ2h0KTsgLy8gbW92ZSBpdCBkb3duIGFnYWluXG4gIGN0eC5zY2FsZSgxLCAtMSk7IC8vIHZlcnRpY2FsIGZsaXBcbiAgLy8gd2hlcmUgaXMgbXkgaW1hZ2Ugb24gdGhlIGJpZyBnbGNhbnZhcz9cbiAgdmFyIHNvdXJjZVkgPSBnbENhbnZhcy5oZWlnaHQgLSB0YXJnZXRDYW52YXMuaGVpZ2h0O1xuICBjdHguZHJhd0ltYWdlKGdsQ2FudmFzLCAwLCBzb3VyY2VZLCB0YXJnZXRDYW52YXMud2lkdGgsIHRhcmdldENhbnZhcy5oZWlnaHQsIDAsIDAsXG4gICAgdGFyZ2V0Q2FudmFzLndpZHRoLCB0YXJnZXRDYW52YXMuaGVpZ2h0KTtcbn1cblxuLyoqXG4gKiBDb3B5IGFuIGlucHV0IFdlYkdMIGNhbnZhcyBvbiB0byBhbiBvdXRwdXQgMkQgY2FudmFzIHVzaW5nIDJkIGNhbnZhcycgcHV0SW1hZ2VEYXRhXG4gKiBBUEkuIE1lYXN1cmFibHkgZmFzdGVyIHRoYW4gdXNpbmcgY3R4LmRyYXdJbWFnZSBpbiBGaXJlZm94ICh2ZXJzaW9uIDU0IG9uIE9TWCBTaWVycmEpLlxuICpcbiAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBzb3VyY2VDb250ZXh0IFRoZSBXZWJHTCBjb250ZXh0IHRvIGNvcHkgZnJvbS5cbiAqIEBwYXJhbSB7SFRNTENhbnZhc0VsZW1lbnR9IHRhcmdldENhbnZhcyBUaGUgMkQgdGFyZ2V0IGNhbnZhcyB0byBjb3B5IG9uIHRvLlxuICogQHBhcmFtIHtPYmplY3R9IHBpcGVsaW5lU3RhdGUgVGhlIDJEIHRhcmdldCBjYW52YXMgdG8gY29weSBvbiB0by5cbiAqL1xuZnVuY3Rpb24gY29weUdMVG8yRFB1dEltYWdlRGF0YShnbCwgcGlwZWxpbmVTdGF0ZSkge1xuICB2YXIgdGFyZ2V0Q2FudmFzID0gcGlwZWxpbmVTdGF0ZS50YXJnZXRDYW52YXMsIGN0eCA9IHRhcmdldENhbnZhcy5nZXRDb250ZXh0KCcyZCcpLFxuICAgICAgZFdpZHRoID0gcGlwZWxpbmVTdGF0ZS5kZXN0aW5hdGlvbldpZHRoLFxuICAgICAgZEhlaWdodCA9IHBpcGVsaW5lU3RhdGUuZGVzdGluYXRpb25IZWlnaHQsXG4gICAgICBudW1CeXRlcyA9IGRXaWR0aCAqIGRIZWlnaHQgKiA0O1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2YXIgdTggPSBuZXcgVWludDhBcnJheSh0aGlzLmltYWdlQnVmZmVyLCAwLCBudW1CeXRlcyk7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2YXIgdThDbGFtcGVkID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHRoaXMuaW1hZ2VCdWZmZXIsIDAsIG51bUJ5dGVzKTtcblxuICBnbC5yZWFkUGl4ZWxzKDAsIDAsIGRXaWR0aCwgZEhlaWdodCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgdTgpO1xuICB2YXIgaW1nRGF0YSA9IG5ldyBJbWFnZURhdGEodThDbGFtcGVkLCBkV2lkdGgsIGRIZWlnaHQpO1xuICBjdHgucHV0SW1hZ2VEYXRhKGltZ0RhdGEsIDAsIDApO1xufVxuXG5cbihmdW5jdGlvbigpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIG5vb3AgPSBmdW5jdGlvbigpIHt9O1xuXG4gIGZhYnJpYy5DYW52YXMyZEZpbHRlckJhY2tlbmQgPSBDYW52YXMyZEZpbHRlckJhY2tlbmQ7XG5cbiAgLyoqXG4gICAqIENhbnZhcyAyRCBmaWx0ZXIgYmFja2VuZC5cbiAgICovXG4gIGZ1bmN0aW9uIENhbnZhczJkRmlsdGVyQmFja2VuZCgpIHt9O1xuXG4gIENhbnZhczJkRmlsdGVyQmFja2VuZC5wcm90b3R5cGUgPSAvKiogQGxlbmRzIGZhYnJpYy5DYW52YXMyZEZpbHRlckJhY2tlbmQucHJvdG90eXBlICovIHtcbiAgICBldmljdENhY2hlc0ZvcktleTogbm9vcCxcbiAgICBkaXNwb3NlOiBub29wLFxuICAgIGNsZWFyV2ViR0xDYWNoZXM6IG5vb3AsXG5cbiAgICAvKipcbiAgICAgKiBFeHBlcmltZW50YWwuIFRoaXMgb2JqZWN0IGlzIGEgc29ydCBvZiByZXBvc2l0b3J5IG9mIGhlbHAgbGF5ZXJzIHVzZWQgdG8gYXZvaWRcbiAgICAgKiBvZiByZWNyZWF0aW5nIHRoZW0gZHVyaW5nIGZyZXF1ZW50IGZpbHRlcmluZy4gSWYgeW91IGFyZSBwcmV2aWV3aW5nIGEgZmlsdGVyIHdpdGhcbiAgICAgKiBhIHNsaWRlciB5b3UgcHJvYmFibHkgZG8gbm90IHdhbnQgdG8gY3JlYXRlIGhlbHAgbGF5ZXJzIGV2ZXJ5IGZpbHRlciBzdGVwLlxuICAgICAqIGluIHRoaXMgb2JqZWN0IHRoZXJlIHdpbGwgYmUgYXBwZW5kZWQgc29tZSBjYW52YXNlcywgY3JlYXRlZCBvbmNlLCByZXNpemVkIHNvbWV0aW1lc1xuICAgICAqIGNsZWFyZWQgbmV2ZXIuIENsZWFyaW5nIGlzIGxlZnQgdG8gdGhlIGRldmVsb3Blci5cbiAgICAgKiovXG4gICAgcmVzb3VyY2VzOiB7XG5cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXBwbHkgYSBzZXQgb2YgZmlsdGVycyBhZ2FpbnN0IGEgc291cmNlIGltYWdlIGFuZCBkcmF3IHRoZSBmaWx0ZXJlZCBvdXRwdXRcbiAgICAgKiB0byB0aGUgcHJvdmlkZWQgZGVzdGluYXRpb24gY2FudmFzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFbmhhbmNlZEZpbHRlcn0gZmlsdGVycyBUaGUgZmlsdGVyIHRvIGFwcGx5LlxuICAgICAqIEBwYXJhbSB7SFRNTEltYWdlRWxlbWVudHxIVE1MQ2FudmFzRWxlbWVudH0gc291cmNlRWxlbWVudCBUaGUgc291cmNlIHRvIGJlIGZpbHRlcmVkLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzb3VyY2VXaWR0aCBUaGUgd2lkdGggb2YgdGhlIHNvdXJjZSBpbnB1dC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc291cmNlSGVpZ2h0IFRoZSBoZWlnaHQgb2YgdGhlIHNvdXJjZSBpbnB1dC5cbiAgICAgKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSB0YXJnZXRDYW52YXMgVGhlIGRlc3RpbmF0aW9uIGZvciBmaWx0ZXJlZCBvdXRwdXQgdG8gYmUgZHJhd24uXG4gICAgICovXG4gICAgYXBwbHlGaWx0ZXJzOiBmdW5jdGlvbihmaWx0ZXJzLCBzb3VyY2VFbGVtZW50LCBzb3VyY2VXaWR0aCwgc291cmNlSGVpZ2h0LCB0YXJnZXRDYW52YXMpIHtcbiAgICAgIHZhciBjdHggPSB0YXJnZXRDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgIGN0eC5kcmF3SW1hZ2Uoc291cmNlRWxlbWVudCwgMCwgMCwgc291cmNlV2lkdGgsIHNvdXJjZUhlaWdodCk7XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCBzb3VyY2VXaWR0aCwgc291cmNlSGVpZ2h0KTtcbiAgICAgIHZhciBvcmlnaW5hbEltYWdlRGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgc291cmNlV2lkdGgsIHNvdXJjZUhlaWdodCk7XG4gICAgICB2YXIgcGlwZWxpbmVTdGF0ZSA9IHtcbiAgICAgICAgc291cmNlV2lkdGg6IHNvdXJjZVdpZHRoLFxuICAgICAgICBzb3VyY2VIZWlnaHQ6IHNvdXJjZUhlaWdodCxcbiAgICAgICAgaW1hZ2VEYXRhOiBpbWFnZURhdGEsXG4gICAgICAgIG9yaWdpbmFsRWw6IHNvdXJjZUVsZW1lbnQsXG4gICAgICAgIG9yaWdpbmFsSW1hZ2VEYXRhOiBvcmlnaW5hbEltYWdlRGF0YSxcbiAgICAgICAgY2FudmFzRWw6IHRhcmdldENhbnZhcyxcbiAgICAgICAgY3R4OiBjdHgsXG4gICAgICAgIGZpbHRlckJhY2tlbmQ6IHRoaXMsXG4gICAgICB9O1xuICAgICAgZmlsdGVycy5mb3JFYWNoKGZ1bmN0aW9uKGZpbHRlcikgeyBmaWx0ZXIuYXBwbHlUbyhwaXBlbGluZVN0YXRlKTsgfSk7XG4gICAgICBpZiAocGlwZWxpbmVTdGF0ZS5pbWFnZURhdGEud2lkdGggIT09IHNvdXJjZVdpZHRoIHx8IHBpcGVsaW5lU3RhdGUuaW1hZ2VEYXRhLmhlaWdodCAhPT0gc291cmNlSGVpZ2h0KSB7XG4gICAgICAgIHRhcmdldENhbnZhcy53aWR0aCA9IHBpcGVsaW5lU3RhdGUuaW1hZ2VEYXRhLndpZHRoO1xuICAgICAgICB0YXJnZXRDYW52YXMuaGVpZ2h0ID0gcGlwZWxpbmVTdGF0ZS5pbWFnZURhdGEuaGVpZ2h0O1xuICAgICAgfVxuICAgICAgY3R4LnB1dEltYWdlRGF0YShwaXBlbGluZVN0YXRlLmltYWdlRGF0YSwgMCwgMCk7XG4gICAgICByZXR1cm4gcGlwZWxpbmVTdGF0ZTtcbiAgICB9LFxuXG4gIH07XG59KSgpO1xuXG5cbi8qKlxuICogQG5hbWVzcGFjZSBmYWJyaWMuSW1hZ2UuZmlsdGVyc1xuICogQG1lbWJlck9mIGZhYnJpYy5JbWFnZVxuICogQHR1dG9yaWFsIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ZhYnJpYy1pbnRyby1wYXJ0LTIjaW1hZ2VfZmlsdGVyc31cbiAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vaW1hZ2UtZmlsdGVyc3xJbWFnZUZpbHRlcnMgZGVtb31cbiAqL1xuZmFicmljLkltYWdlID0gZmFicmljLkltYWdlIHx8IHsgfTtcbmZhYnJpYy5JbWFnZS5maWx0ZXJzID0gZmFicmljLkltYWdlLmZpbHRlcnMgfHwgeyB9O1xuXG4vKipcbiAqIFJvb3QgZmlsdGVyIGNsYXNzIGZyb20gd2hpY2ggYWxsIGZpbHRlciBjbGFzc2VzIGluaGVyaXQgZnJvbVxuICogQGNsYXNzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXJcbiAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVyc1xuICovXG5mYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyLnByb3RvdHlwZSAqLyB7XG5cbiAgLyoqXG4gICAqIEZpbHRlciB0eXBlXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gICAqIEBkZWZhdWx0XG4gICAqL1xuICB0eXBlOiAnQmFzZUZpbHRlcicsXG5cbiAgLyoqXG4gICAqIEFycmF5IG9mIGF0dHJpYnV0ZXMgdG8gc2VuZCB3aXRoIGJ1ZmZlcnMuIGRvIG5vdCBtb2RpZnlcbiAgICogQHByaXZhdGVcbiAgICovXG5cbiAgdmVydGV4U291cmNlOiAnYXR0cmlidXRlIHZlYzIgYVBvc2l0aW9uO1xcbicgK1xuICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAndlRleENvb3JkID0gYVBvc2l0aW9uO1xcbicgK1xuICAgICAgJ2dsX1Bvc2l0aW9uID0gdmVjNChhUG9zaXRpb24gKiAyLjAgLSAxLjAsIDAuMCwgMS4wKTtcXG4nICtcbiAgICAnfScsXG5cbiAgZnJhZ21lbnRTb3VyY2U6ICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuJyArXG4gICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAnZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbicgK1xuICAgICd9JyxcblxuICAvKipcbiAgICogQ29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgKi9cbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBTZXRzIGZpbHRlcidzIHByb3BlcnRpZXMgZnJvbSBvcHRpb25zXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICovXG4gIHNldE9wdGlvbnM6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBmb3IgKHZhciBwcm9wIGluIG9wdGlvbnMpIHtcbiAgICAgIHRoaXNbcHJvcF0gPSBvcHRpb25zW3Byb3BdO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQ29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlciBwcm9ncmFtLlxuICAgKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHRvIHVzZSBmb3Igc2hhZGVyIGNvbXBpbGF0aW9uLlxuICAgKiBAcGFyYW0ge1N0cmluZ30gZnJhZ21lbnRTb3VyY2UgZnJhZ21lbnRTaGFkZXIgc291cmNlIGZvciBjb21waWxhdGlvblxuICAgKiBAcGFyYW0ge1N0cmluZ30gdmVydGV4U291cmNlIHZlcnRleFNoYWRlciBzb3VyY2UgZm9yIGNvbXBpbGF0aW9uXG4gICAqL1xuICBjcmVhdGVQcm9ncmFtOiBmdW5jdGlvbihnbCwgZnJhZ21lbnRTb3VyY2UsIHZlcnRleFNvdXJjZSkge1xuICAgIGZyYWdtZW50U291cmNlID0gZnJhZ21lbnRTb3VyY2UgfHwgdGhpcy5mcmFnbWVudFNvdXJjZTtcbiAgICB2ZXJ0ZXhTb3VyY2UgPSB2ZXJ0ZXhTb3VyY2UgfHwgdGhpcy52ZXJ0ZXhTb3VyY2U7XG4gICAgaWYgKGZhYnJpYy53ZWJHbFByZWNpc2lvbiAhPT0gJ2hpZ2hwJyl7XG4gICAgICBmcmFnbWVudFNvdXJjZSA9IGZyYWdtZW50U291cmNlLnJlcGxhY2UoXG4gICAgICAgIC9wcmVjaXNpb24gaGlnaHAgZmxvYXQvZyxcbiAgICAgICAgJ3ByZWNpc2lvbiAnICsgZmFicmljLndlYkdsUHJlY2lzaW9uICsgJyBmbG9hdCdcbiAgICAgICk7XG4gICAgfVxuICAgIHZhciB2ZXJ0ZXhTaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoZ2wuVkVSVEVYX1NIQURFUik7XG4gICAgZ2wuc2hhZGVyU291cmNlKHZlcnRleFNoYWRlciwgdmVydGV4U291cmNlKTtcbiAgICBnbC5jb21waWxlU2hhZGVyKHZlcnRleFNoYWRlcik7XG4gICAgaWYgKCFnbC5nZXRTaGFkZXJQYXJhbWV0ZXIodmVydGV4U2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci10ZW1wbGF0ZVxuICAgICAgICAnVmVydGV4IHNoYWRlciBjb21waWxlIGVycm9yIGZvciAnICsgdGhpcy50eXBlICsgJzogJyArXG4gICAgICAgIGdsLmdldFNoYWRlckluZm9Mb2codmVydGV4U2hhZGVyKVxuICAgICAgKTtcbiAgICB9XG5cbiAgICB2YXIgZnJhZ21lbnRTaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIoZ2wuRlJBR01FTlRfU0hBREVSKTtcbiAgICBnbC5zaGFkZXJTb3VyY2UoZnJhZ21lbnRTaGFkZXIsIGZyYWdtZW50U291cmNlKTtcbiAgICBnbC5jb21waWxlU2hhZGVyKGZyYWdtZW50U2hhZGVyKTtcbiAgICBpZiAoIWdsLmdldFNoYWRlclBhcmFtZXRlcihmcmFnbWVudFNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItdGVtcGxhdGVcbiAgICAgICAgJ0ZyYWdtZW50IHNoYWRlciBjb21waWxlIGVycm9yIGZvciAnICsgdGhpcy50eXBlICsgJzogJyArXG4gICAgICAgIGdsLmdldFNoYWRlckluZm9Mb2coZnJhZ21lbnRTaGFkZXIpXG4gICAgICApO1xuICAgIH1cblxuICAgIHZhciBwcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIpO1xuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7XG4gICAgZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7XG4gICAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXRlbXBsYXRlXG4gICAgICAgICdTaGFkZXIgbGluayBlcnJvciBmb3IgXCIke3RoaXMudHlwZX1cIiAnICtcbiAgICAgICAgZ2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSlcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdmFyIGF0dHJpYnV0ZUxvY2F0aW9ucyA9IHRoaXMuZ2V0QXR0cmlidXRlTG9jYXRpb25zKGdsLCBwcm9ncmFtKTtcbiAgICB2YXIgdW5pZm9ybUxvY2F0aW9ucyA9IHRoaXMuZ2V0VW5pZm9ybUxvY2F0aW9ucyhnbCwgcHJvZ3JhbSkgfHwgeyB9O1xuICAgIHVuaWZvcm1Mb2NhdGlvbnMudVN0ZXBXID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1U3RlcFcnKTtcbiAgICB1bmlmb3JtTG9jYXRpb25zLnVTdGVwSCA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndVN0ZXBIJyk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHByb2dyYW06IHByb2dyYW0sXG4gICAgICBhdHRyaWJ1dGVMb2NhdGlvbnM6IGF0dHJpYnV0ZUxvY2F0aW9ucyxcbiAgICAgIHVuaWZvcm1Mb2NhdGlvbnM6IHVuaWZvcm1Mb2NhdGlvbnNcbiAgICB9O1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBtYXAgb2YgYXR0cmlidXRlIG5hbWVzIHRvIFdlYkdMQXR0cmlidXRlTG9jYXRpb24gb2JqZWN0cy5cbiAgICpcbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhlIHNoYWRlciBwcm9ncmFtLlxuICAgKiBAcGFyYW0ge1dlYkdMU2hhZGVyUHJvZ3JhbX0gcHJvZ3JhbSBUaGUgc2hhZGVyIHByb2dyYW0gZnJvbSB3aGljaCB0byB0YWtlIGF0dHJpYnV0ZSBsb2NhdGlvbnMuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IEEgbWFwIG9mIGF0dHJpYnV0ZSBuYW1lcyB0byBhdHRyaWJ1dGUgbG9jYXRpb25zLlxuICAgKi9cbiAgZ2V0QXR0cmlidXRlTG9jYXRpb25zOiBmdW5jdGlvbihnbCwgcHJvZ3JhbSkge1xuICAgIHJldHVybiB7XG4gICAgICBhUG9zaXRpb246IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sICdhUG9zaXRpb24nKSxcbiAgICB9O1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBtYXAgb2YgdW5pZm9ybSBuYW1lcyB0byBXZWJHTFVuaWZvcm1Mb2NhdGlvbiBvYmplY3RzLlxuICAgKlxuICAgKiBJbnRlbmRlZCB0byBiZSBvdmVycmlkZGVuIGJ5IHN1YmNsYXNzZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoZSBzaGFkZXIgcHJvZ3JhbS5cbiAgICogQHBhcmFtIHtXZWJHTFNoYWRlclByb2dyYW19IHByb2dyYW0gVGhlIHNoYWRlciBwcm9ncmFtIGZyb20gd2hpY2ggdG8gdGFrZSB1bmlmb3JtIGxvY2F0aW9ucy5cbiAgICogQHJldHVybnMge09iamVjdH0gQSBtYXAgb2YgdW5pZm9ybSBuYW1lcyB0byB1bmlmb3JtIGxvY2F0aW9ucy5cbiAgICovXG4gIGdldFVuaWZvcm1Mb2NhdGlvbnM6IGZ1bmN0aW9uICgvKiBnbCwgcHJvZ3JhbSAqLykge1xuICAgIC8vIGluIGNhc2UgaSBkbyBub3QgbmVlZCBhbnkgc3BlY2lhbCB1bmlmb3JtIGkgbmVlZCB0byByZXR1cm4gYW4gZW1wdHkgb2JqZWN0XG4gICAgcmV0dXJuIHsgfTtcbiAgfSxcblxuICAvKipcbiAgICogU2VuZCBhdHRyaWJ1dGUgZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSBvbiB0aGUgR1BVLlxuICAgKlxuICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGUgc2hhZGVyIHByb2dyYW0uXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhdHRyaWJ1dGVMb2NhdGlvbnMgQSBtYXAgb2Ygc2hhZGVyIGF0dHJpYnV0ZSBuYW1lcyB0byB0aGVpciBsb2NhdGlvbnMuXG4gICAqL1xuICBzZW5kQXR0cmlidXRlRGF0YTogZnVuY3Rpb24oZ2wsIGF0dHJpYnV0ZUxvY2F0aW9ucywgYVBvc2l0aW9uRGF0YSkge1xuICAgIHZhciBhdHRyaWJ1dGVMb2NhdGlvbiA9IGF0dHJpYnV0ZUxvY2F0aW9ucy5hUG9zaXRpb247XG4gICAgdmFyIGJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBidWZmZXIpO1xuICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KGF0dHJpYnV0ZUxvY2F0aW9uKTtcbiAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGF0dHJpYnV0ZUxvY2F0aW9uLCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBhUG9zaXRpb25EYXRhLCBnbC5TVEFUSUNfRFJBVyk7XG4gIH0sXG5cbiAgX3NldHVwRnJhbWVCdWZmZXI6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB2YXIgZ2wgPSBvcHRpb25zLmNvbnRleHQsIHdpZHRoLCBoZWlnaHQ7XG4gICAgaWYgKG9wdGlvbnMucGFzc2VzID4gMSkge1xuICAgICAgd2lkdGggPSBvcHRpb25zLmRlc3RpbmF0aW9uV2lkdGg7XG4gICAgICBoZWlnaHQgPSBvcHRpb25zLmRlc3RpbmF0aW9uSGVpZ2h0O1xuICAgICAgaWYgKG9wdGlvbnMuc291cmNlV2lkdGggIT09IHdpZHRoIHx8IG9wdGlvbnMuc291cmNlSGVpZ2h0ICE9PSBoZWlnaHQpIHtcbiAgICAgICAgZ2wuZGVsZXRlVGV4dHVyZShvcHRpb25zLnRhcmdldFRleHR1cmUpO1xuICAgICAgICBvcHRpb25zLnRhcmdldFRleHR1cmUgPSBvcHRpb25zLmZpbHRlckJhY2tlbmQuY3JlYXRlVGV4dHVyZShnbCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICB9XG4gICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsXG4gICAgICAgIG9wdGlvbnMudGFyZ2V0VGV4dHVyZSwgMCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgLy8gZHJhdyBsYXN0IGZpbHRlciBvbiBjYW52YXMgYW5kIG5vdCB0byBmcmFtZWJ1ZmZlci5cbiAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgbnVsbCk7XG4gICAgICBnbC5maW5pc2goKTtcbiAgICB9XG4gIH0sXG5cbiAgX3N3YXBUZXh0dXJlczogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIG9wdGlvbnMucGFzc2VzLS07XG4gICAgb3B0aW9ucy5wYXNzKys7XG4gICAgdmFyIHRlbXAgPSBvcHRpb25zLnRhcmdldFRleHR1cmU7XG4gICAgb3B0aW9ucy50YXJnZXRUZXh0dXJlID0gb3B0aW9ucy5zb3VyY2VUZXh0dXJlO1xuICAgIG9wdGlvbnMuc291cmNlVGV4dHVyZSA9IHRlbXA7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdlbmVyaWMgaXNOZXV0cmFsIGltcGxlbWVudGF0aW9uIGZvciBvbmUgcGFyYW1ldGVyIGJhc2VkIGZpbHRlcnMuXG4gICAqIFVzZWQgb25seSBpbiBpbWFnZSBhcHBseUZpbHRlcnMgdG8gZGlzY2FyZCBmaWx0ZXJzIHRoYXQgd2lsbCBub3QgaGF2ZSBhbiBlZmZlY3RcbiAgICogb24gdGhlIGltYWdlXG4gICAqIE90aGVyIGZpbHRlcnMgbWF5IG5lZWQgdGhlaXIgb3duIHZlcmlzb24gKCBDb2xvck1hdHJpeCwgSHVlUm90YXRpb24sIGdhbW1hLCBDb21wb3NlZEZpbHRlciApXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqKi9cbiAgaXNOZXV0cmFsU3RhdGU6IGZ1bmN0aW9uKC8qIG9wdGlvbnMgKi8pIHtcbiAgICB2YXIgbWFpbiA9IHRoaXMubWFpblBhcmFtZXRlcixcbiAgICAgICAgX2NsYXNzID0gZmFicmljLkltYWdlLmZpbHRlcnNbdGhpcy50eXBlXS5wcm90b3R5cGU7XG4gICAgaWYgKG1haW4pIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KF9jbGFzc1ttYWluXSkpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IF9jbGFzc1ttYWluXS5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgICBpZiAodGhpc1ttYWluXVtpXSAhPT0gX2NsYXNzW21haW5dW2ldKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBfY2xhc3NbbWFpbl0gPT09IHRoaXNbbWFpbl07XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQXBwbHkgdGhpcyBmaWx0ZXIgdG8gdGhlIGlucHV0IGltYWdlIGRhdGEgcHJvdmlkZWQuXG4gICAqXG4gICAqIERldGVybWluZXMgd2hldGhlciB0byB1c2UgV2ViR0wgb3IgQ2FudmFzMkQgYmFzZWQgb24gdGhlIG9wdGlvbnMud2ViZ2wgZmxhZy5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMucGFzc2VzIFRoZSBudW1iZXIgb2YgZmlsdGVycyByZW1haW5pbmcgdG8gYmUgZXhlY3V0ZWRcbiAgICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLndlYmdsIFdoZXRoZXIgdG8gdXNlIHdlYmdsIHRvIHJlbmRlciB0aGUgZmlsdGVyLlxuICAgKiBAcGFyYW0ge1dlYkdMVGV4dHVyZX0gb3B0aW9ucy5zb3VyY2VUZXh0dXJlIFRoZSB0ZXh0dXJlIHNldHVwIGFzIHRoZSBzb3VyY2UgdG8gYmUgZmlsdGVyZWQuXG4gICAqIEBwYXJhbSB7V2ViR0xUZXh0dXJlfSBvcHRpb25zLnRhcmdldFRleHR1cmUgVGhlIHRleHR1cmUgd2hlcmUgZmlsdGVyZWQgb3V0cHV0IHNob3VsZCBiZSBkcmF3bi5cbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IG9wdGlvbnMuY29udGV4dCBUaGUgR0wgY29udGV4dCB1c2VkIGZvciByZW5kZXJpbmcuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLnByb2dyYW1DYWNoZSBBIG1hcCBvZiBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbXMsIGtleWVkIGJ5IGZpbHRlciB0eXBlLlxuICAgKi9cbiAgYXBwbHlUbzogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLndlYmdsKSB7XG4gICAgICB0aGlzLl9zZXR1cEZyYW1lQnVmZmVyKG9wdGlvbnMpO1xuICAgICAgdGhpcy5hcHBseVRvV2ViR0wob3B0aW9ucyk7XG4gICAgICB0aGlzLl9zd2FwVGV4dHVyZXMob3B0aW9ucyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5hcHBseVRvMmQob3B0aW9ucyk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZXMgdGhlIGNhY2hlZCBzaGFkZXIuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBvcHRpb25zLmNvbnRleHQgVGhlIEdMIGNvbnRleHQgdXNlZCBmb3IgcmVuZGVyaW5nLlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5wcm9ncmFtQ2FjaGUgQSBtYXAgb2YgY29tcGlsZWQgc2hhZGVyIHByb2dyYW1zLCBrZXllZCBieSBmaWx0ZXIgdHlwZS5cbiAgICovXG4gIHJldHJpZXZlU2hhZGVyOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zLnByb2dyYW1DYWNoZS5oYXNPd25Qcm9wZXJ0eSh0aGlzLnR5cGUpKSB7XG4gICAgICBvcHRpb25zLnByb2dyYW1DYWNoZVt0aGlzLnR5cGVdID0gdGhpcy5jcmVhdGVQcm9ncmFtKG9wdGlvbnMuY29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25zLnByb2dyYW1DYWNoZVt0aGlzLnR5cGVdO1xuICB9LFxuXG4gIC8qKlxuICAgKiBBcHBseSB0aGlzIGZpbHRlciB1c2luZyB3ZWJnbC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMucGFzc2VzIFRoZSBudW1iZXIgb2YgZmlsdGVycyByZW1haW5pbmcgdG8gYmUgZXhlY3V0ZWRcbiAgICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLndlYmdsIFdoZXRoZXIgdG8gdXNlIHdlYmdsIHRvIHJlbmRlciB0aGUgZmlsdGVyLlxuICAgKiBAcGFyYW0ge1dlYkdMVGV4dHVyZX0gb3B0aW9ucy5vcmlnaW5hbFRleHR1cmUgVGhlIHRleHR1cmUgb2YgdGhlIG9yaWdpbmFsIGlucHV0IGltYWdlLlxuICAgKiBAcGFyYW0ge1dlYkdMVGV4dHVyZX0gb3B0aW9ucy5zb3VyY2VUZXh0dXJlIFRoZSB0ZXh0dXJlIHNldHVwIGFzIHRoZSBzb3VyY2UgdG8gYmUgZmlsdGVyZWQuXG4gICAqIEBwYXJhbSB7V2ViR0xUZXh0dXJlfSBvcHRpb25zLnRhcmdldFRleHR1cmUgVGhlIHRleHR1cmUgd2hlcmUgZmlsdGVyZWQgb3V0cHV0IHNob3VsZCBiZSBkcmF3bi5cbiAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IG9wdGlvbnMuY29udGV4dCBUaGUgR0wgY29udGV4dCB1c2VkIGZvciByZW5kZXJpbmcuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLnByb2dyYW1DYWNoZSBBIG1hcCBvZiBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbXMsIGtleWVkIGJ5IGZpbHRlciB0eXBlLlxuICAgKi9cbiAgYXBwbHlUb1dlYkdMOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgdmFyIGdsID0gb3B0aW9ucy5jb250ZXh0O1xuICAgIHZhciBzaGFkZXIgPSB0aGlzLnJldHJpZXZlU2hhZGVyKG9wdGlvbnMpO1xuICAgIGlmIChvcHRpb25zLnBhc3MgPT09IDAgJiYgb3B0aW9ucy5vcmlnaW5hbFRleHR1cmUpIHtcbiAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIG9wdGlvbnMub3JpZ2luYWxUZXh0dXJlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBvcHRpb25zLnNvdXJjZVRleHR1cmUpO1xuICAgIH1cbiAgICBnbC51c2VQcm9ncmFtKHNoYWRlci5wcm9ncmFtKTtcbiAgICB0aGlzLnNlbmRBdHRyaWJ1dGVEYXRhKGdsLCBzaGFkZXIuYXR0cmlidXRlTG9jYXRpb25zLCBvcHRpb25zLmFQb3NpdGlvbik7XG5cbiAgICBnbC51bmlmb3JtMWYoc2hhZGVyLnVuaWZvcm1Mb2NhdGlvbnMudVN0ZXBXLCAxIC8gb3B0aW9ucy5zb3VyY2VXaWR0aCk7XG4gICAgZ2wudW5pZm9ybTFmKHNoYWRlci51bmlmb3JtTG9jYXRpb25zLnVTdGVwSCwgMSAvIG9wdGlvbnMuc291cmNlSGVpZ2h0KTtcblxuICAgIHRoaXMuc2VuZFVuaWZvcm1EYXRhKGdsLCBzaGFkZXIudW5pZm9ybUxvY2F0aW9ucyk7XG4gICAgZ2wudmlld3BvcnQoMCwgMCwgb3B0aW9ucy5kZXN0aW5hdGlvbldpZHRoLCBvcHRpb25zLmRlc3RpbmF0aW9uSGVpZ2h0KTtcbiAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbiAgfSxcblxuICBiaW5kQWRkaXRpb25hbFRleHR1cmU6IGZ1bmN0aW9uKGdsLCB0ZXh0dXJlLCB0ZXh0dXJlVW5pdCkge1xuICAgIGdsLmFjdGl2ZVRleHR1cmUodGV4dHVyZVVuaXQpO1xuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUpO1xuICAgIC8vIHJlc2V0IGFjdGl2ZSB0ZXh0dXJlIHRvIDAgYXMgdXN1YWxcbiAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwKTtcbiAgfSxcblxuICB1bmJpbmRBZGRpdGlvbmFsVGV4dHVyZTogZnVuY3Rpb24oZ2wsIHRleHR1cmVVbml0KSB7XG4gICAgZ2wuYWN0aXZlVGV4dHVyZSh0ZXh0dXJlVW5pdCk7XG4gICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgbnVsbCk7XG4gICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCk7XG4gIH0sXG5cbiAgZ2V0TWFpblBhcmFtZXRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXNbdGhpcy5tYWluUGFyYW1ldGVyXTtcbiAgfSxcblxuICBzZXRNYWluUGFyYW1ldGVyOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHRoaXNbdGhpcy5tYWluUGFyYW1ldGVyXSA9IHZhbHVlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTZW5kIHVuaWZvcm0gZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSBvbiB0aGUgR1BVLlxuICAgKlxuICAgKiBJbnRlbmRlZCB0byBiZSBvdmVycmlkZGVuIGJ5IHN1YmNsYXNzZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoZSBzaGFkZXIgcHJvZ3JhbS5cbiAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1Mb2NhdGlvbnMgQSBtYXAgb2Ygc2hhZGVyIHVuaWZvcm0gbmFtZXMgdG8gdGhlaXIgbG9jYXRpb25zLlxuICAgKi9cbiAgc2VuZFVuaWZvcm1EYXRhOiBmdW5jdGlvbigvKiBnbCwgdW5pZm9ybUxvY2F0aW9ucyAqLykge1xuICAgIC8vIEludGVudGlvbmFsbHkgbGVmdCBibGFuay4gIE92ZXJyaWRlIG1lIGluIHN1YmNsYXNzZXMuXG4gIH0sXG5cbiAgLyoqXG4gICAqIElmIG5lZWRlZCBieSBhIDJkIGZpbHRlciwgdGhpcyBmdW5jdGlvbnMgY2FuIGNyZWF0ZSBhbiBoZWxwZXIgY2FudmFzIHRvIGJlIHVzZWRcbiAgICogcmVtZW1iZXIgdGhhdCBvcHRpb25zLnRhcmdldENhbnZhcyBpcyBhdmFpbGFibGUgZm9yIHVzZSB0aWxsIGVuZCBvZiBjaGFpbi5cbiAgICovXG4gIGNyZWF0ZUhlbHBMYXllcjogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucy5oZWxwTGF5ZXIpIHtcbiAgICAgIHZhciBoZWxwTGF5ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgIGhlbHBMYXllci53aWR0aCA9IG9wdGlvbnMuc291cmNlV2lkdGg7XG4gICAgICBoZWxwTGF5ZXIuaGVpZ2h0ID0gb3B0aW9ucy5zb3VyY2VIZWlnaHQ7XG4gICAgICBvcHRpb25zLmhlbHBMYXllciA9IGhlbHBMYXllcjtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAqL1xuICB0b09iamVjdDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG9iamVjdCA9IHsgdHlwZTogdGhpcy50eXBlIH0sIG1haW5QID0gdGhpcy5tYWluUGFyYW1ldGVyO1xuICAgIGlmIChtYWluUCkge1xuICAgICAgb2JqZWN0W21haW5QXSA9IHRoaXNbbWFpblBdO1xuICAgIH1cbiAgICByZXR1cm4gb2JqZWN0O1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgKiBAcmV0dXJuIHtPYmplY3R9IEpTT05cbiAgICovXG4gIHRvSlNPTjogZnVuY3Rpb24oKSB7XG4gICAgLy8gZGVsZWdhdGUsIG5vdCBhbGlhc1xuICAgIHJldHVybiB0aGlzLnRvT2JqZWN0KCk7XG4gIH1cbn0pO1xuXG5mYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyLmZyb21PYmplY3QgPSBmdW5jdGlvbihvYmplY3QsIGNhbGxiYWNrKSB7XG4gIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnNbb2JqZWN0LnR5cGVdKG9iamVjdCk7XG4gIGNhbGxiYWNrICYmIGNhbGxiYWNrKGZpbHRlcik7XG4gIHJldHVybiBmaWx0ZXI7XG59O1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIENvbG9yIE1hdHJpeCBmaWx0ZXIgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbG9yTWF0cml4XG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVyc1xuICAgKiBAZXh0ZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyXG4gICAqIEBzZWUge0BsaW5rIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbG9yTWF0cml4I2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vaW1hZ2UtZmlsdGVyc3xJbWFnZUZpbHRlcnMgZGVtb31cbiAgICogQHNlZSB7QExpbmsgaHR0cDovL3d3dy53ZWJ3YXNwLmNvLnVrL3R1dG9yaWFscy8yMTkvQ29sb3JfTWF0cml4X0ZpbHRlci5waHB9XG4gICAqIEBzZWUge0BMaW5rIGh0dHA6Ly9waG9ib3NsYWIub3JnL2xvZy8yMDEzLzExL2Zhc3QtaW1hZ2UtZmlsdGVycy13aXRoLXdlYmdsfVxuICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5Lb2RhY2hyb21lIGZpbHRlcjwvY2FwdGlvbj5cbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db2xvck1hdHJpeCh7XG4gICAqICBtYXRyaXg6IFtcbiAgICAgICAxLjEyODU1ODIzOTY1OTM1MjUsIC0wLjM5NjczODIyODM2MDEzNDgsIC0wLjAzOTkyNTU5MTcyOTIxNzkzLCAwLCA2My43Mjk1ODc2MjE5NjUwMixcbiAgICAgICAtMC4xNjQwNDMzOTk2MjI0NDYxNiwgMS4wODM1MjUxNTY2MjkxMzA0LCAtMC4wNTQ5ODgwNTExNTYzMzEzMiwgMCwgMjQuNzMyNDA3ODk2NzA2MjAzLFxuICAgICAgIC0wLjE2Nzg2MDEwNzA2MTU1NzYzLCAtMC41NjAzNDE2Mjc3Njk1MjQ4LCAxLjYwMTQ4NTA3NjE5NjQ5NDMsIDAsIDM1LjYyOTgyODA3NDYwOTQ2LFxuICAgICAgIDAsIDAsIDAsIDEsIDBcbiAgICAgIF1cbiAgICogfSk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKi9cbiAgZmlsdGVycy5Db2xvck1hdHJpeCA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db2xvck1hdHJpeC5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHR5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ0NvbG9yTWF0cml4JyxcblxuICAgIGZyYWdtZW50U291cmNlOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAndW5pZm9ybSBtYXQ0IHVDb2xvck1hdHJpeDtcXG4nICtcbiAgICAgICd1bmlmb3JtIHZlYzQgdUNvbnN0YW50cztcXG4nICtcbiAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICd2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbicgK1xuICAgICAgICAnY29sb3IgKj0gdUNvbG9yTWF0cml4O1xcbicgK1xuICAgICAgICAnY29sb3IgKz0gdUNvbnN0YW50cztcXG4nICtcbiAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbicgK1xuICAgICAgJ30nLFxuXG4gICAgLyoqXG4gICAgICogQ29sb3JtYXRyaXggZm9yIHBpeGVscy5cbiAgICAgKiBhcnJheSBvZiAyMCBmbG9hdHMuIE51bWJlcnMgaW4gcG9zaXRpb25zIDQsIDksIDE0LCAxOSBsb29zZSBtZWFuaW5nXG4gICAgICogb3V0c2lkZSB0aGUgLTEsIDEgcmFuZ2UuXG4gICAgICogMC4wMDM5MjE1Njg2IGlzIHRoZSBwYXJ0IG9mIDEgdGhhdCBnZXQgdHJhbnNsYXRlZCB0byAxIGluIDJkXG4gICAgICogQHBhcmFtIHtBcnJheX0gbWF0cml4IGFycmF5IG9mIDIwIG51bWJlcnMuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBtYXRyaXg6IFtcbiAgICAgIDEsIDAsIDAsIDAsIDAsXG4gICAgICAwLCAxLCAwLCAwLCAwLFxuICAgICAgMCwgMCwgMSwgMCwgMCxcbiAgICAgIDAsIDAsIDAsIDEsIDBcbiAgICBdLFxuXG4gICAgbWFpblBhcmFtZXRlcjogJ21hdHJpeCcsXG5cbiAgICAvKipcbiAgICAgKiBMb2NrIHRoZSBjb2xvcm1hdHJpeCBvbiB0aGUgY29sb3IgcGFydCwgc2tpcHBpbmcgYWxwaGEsIG1hbmx5IGZvciBub24gd2ViZ2wgc2NlbmFyaW9cbiAgICAgKiB0byBzYXZlIHNvbWUgY2FsY3VsYXRpb25cbiAgICAgKi9cbiAgICBjb2xvcnNPbmx5OiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICovXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ2luaXRpYWxpemUnLCBvcHRpb25zKTtcbiAgICAgIC8vIGNyZWF0ZSBhIG5ldyBhcnJheSBpbnN0ZWFkIG11dGF0aW5nIHRoZSBwcm90b3R5cGUgd2l0aCBwdXNoXG4gICAgICB0aGlzLm1hdHJpeCA9IHRoaXMubWF0cml4LnNsaWNlKDApO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBcHBseSB0aGUgQ29sb3JNYXRyaXggb3BlcmF0aW9uIHRvIGEgVWludDhBcnJheSByZXByZXNlbnRpbmcgdGhlIHBpeGVscyBvZiBhbiBpbWFnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtJbWFnZURhdGF9IG9wdGlvbnMuaW1hZ2VEYXRhIFRoZSBVaW50OEFycmF5IHRvIGJlIGZpbHRlcmVkLlxuICAgICAqL1xuICAgIGFwcGx5VG8yZDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIGltYWdlRGF0YSA9IG9wdGlvbnMuaW1hZ2VEYXRhLFxuICAgICAgICAgIGRhdGEgPSBpbWFnZURhdGEuZGF0YSxcbiAgICAgICAgICBpTGVuID0gZGF0YS5sZW5ndGgsXG4gICAgICAgICAgbSA9IHRoaXMubWF0cml4LFxuICAgICAgICAgIHIsIGcsIGIsIGEsIGksIGNvbG9yc09ubHkgPSB0aGlzLmNvbG9yc09ubHk7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBpTGVuOyBpICs9IDQpIHtcbiAgICAgICAgciA9IGRhdGFbaV07XG4gICAgICAgIGcgPSBkYXRhW2kgKyAxXTtcbiAgICAgICAgYiA9IGRhdGFbaSArIDJdO1xuICAgICAgICBpZiAoY29sb3JzT25seSkge1xuICAgICAgICAgIGRhdGFbaV0gPSByICogbVswXSArIGcgKiBtWzFdICsgYiAqIG1bMl0gKyBtWzRdICogMjU1O1xuICAgICAgICAgIGRhdGFbaSArIDFdID0gciAqIG1bNV0gKyBnICogbVs2XSArIGIgKiBtWzddICsgbVs5XSAqIDI1NTtcbiAgICAgICAgICBkYXRhW2kgKyAyXSA9IHIgKiBtWzEwXSArIGcgKiBtWzExXSArIGIgKiBtWzEyXSArIG1bMTRdICogMjU1O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGEgPSBkYXRhW2kgKyAzXTtcbiAgICAgICAgICBkYXRhW2ldID0gciAqIG1bMF0gKyBnICogbVsxXSArIGIgKiBtWzJdICsgYSAqIG1bM10gKyBtWzRdICogMjU1O1xuICAgICAgICAgIGRhdGFbaSArIDFdID0gciAqIG1bNV0gKyBnICogbVs2XSArIGIgKiBtWzddICsgYSAqIG1bOF0gKyBtWzldICogMjU1O1xuICAgICAgICAgIGRhdGFbaSArIDJdID0gciAqIG1bMTBdICsgZyAqIG1bMTFdICsgYiAqIG1bMTJdICsgYSAqIG1bMTNdICsgbVsxNF0gKiAyNTU7XG4gICAgICAgICAgZGF0YVtpICsgM10gPSByICogbVsxNV0gKyBnICogbVsxNl0gKyBiICogbVsxN10gKyBhICogbVsxOF0gKyBtWzE5XSAqIDI1NTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gV2ViR0wgdW5pZm9ybSBsb2NhdGlvbnMgZm9yIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtXZWJHTFNoYWRlclByb2dyYW19IHByb2dyYW0gVGhpcyBmaWx0ZXIncyBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbS5cbiAgICAgKi9cbiAgICBnZXRVbmlmb3JtTG9jYXRpb25zOiBmdW5jdGlvbihnbCwgcHJvZ3JhbSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdUNvbG9yTWF0cml4OiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VDb2xvck1hdHJpeCcpLFxuICAgICAgICB1Q29uc3RhbnRzOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VDb25zdGFudHMnKSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSdzIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1Mb2NhdGlvbnMgQSBtYXAgb2Ygc3RyaW5nIHVuaWZvcm0gbmFtZXMgdG8gV2ViR0xVbmlmb3JtTG9jYXRpb24gb2JqZWN0c1xuICAgICAqL1xuICAgIHNlbmRVbmlmb3JtRGF0YTogZnVuY3Rpb24oZ2wsIHVuaWZvcm1Mb2NhdGlvbnMpIHtcbiAgICAgIHZhciBtID0gdGhpcy5tYXRyaXgsXG4gICAgICAgICAgbWF0cml4ID0gW1xuICAgICAgICAgICAgbVswXSwgbVsxXSwgbVsyXSwgbVszXSxcbiAgICAgICAgICAgIG1bNV0sIG1bNl0sIG1bN10sIG1bOF0sXG4gICAgICAgICAgICBtWzEwXSwgbVsxMV0sIG1bMTJdLCBtWzEzXSxcbiAgICAgICAgICAgIG1bMTVdLCBtWzE2XSwgbVsxN10sIG1bMThdXG4gICAgICAgICAgXSxcbiAgICAgICAgICBjb25zdGFudHMgPSBbbVs0XSwgbVs5XSwgbVsxNF0sIG1bMTldXTtcbiAgICAgIGdsLnVuaWZvcm1NYXRyaXg0ZnYodW5pZm9ybUxvY2F0aW9ucy51Q29sb3JNYXRyaXgsIGZhbHNlLCBtYXRyaXgpO1xuICAgICAgZ2wudW5pZm9ybTRmdih1bmlmb3JtTG9jYXRpb25zLnVDb25zdGFudHMsIGNvbnN0YW50cyk7XG4gICAgfSxcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmlsdGVyIGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIGZyb21cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSBmdW5jdGlvbiB0byBpbnZva2UgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbG9yTWF0cml4fSBJbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db2xvck1hdHJpeFxuICAgKi9cbiAgZmFicmljLkltYWdlLmZpbHRlcnMuQ29sb3JNYXRyaXguZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBmaWx0ZXJzID0gZmFicmljLkltYWdlLmZpbHRlcnMsXG4gICAgICBjcmVhdGVDbGFzcyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzO1xuXG4gIC8qKlxuICAgKiBCcmlnaHRuZXNzIGZpbHRlciBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlLmZpbHRlcnMuQnJpZ2h0bmVzc1xuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CcmlnaHRuZXNzI2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vaW1hZ2UtZmlsdGVyc3xJbWFnZUZpbHRlcnMgZGVtb31cbiAgICogQGV4YW1wbGVcbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CcmlnaHRuZXNzKHtcbiAgICogICBicmlnaHRuZXNzOiAwLjA1XG4gICAqIH0pO1xuICAgKiBvYmplY3QuZmlsdGVycy5wdXNoKGZpbHRlcik7XG4gICAqIG9iamVjdC5hcHBseUZpbHRlcnMoKTtcbiAgICovXG4gIGZpbHRlcnMuQnJpZ2h0bmVzcyA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CcmlnaHRuZXNzLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgdHlwZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAnQnJpZ2h0bmVzcycsXG5cbiAgICAvKipcbiAgICAgKiBGcmFnbWVudCBzb3VyY2UgZm9yIHRoZSBicmlnaHRuZXNzIHByb2dyYW1cbiAgICAgKi9cbiAgICBmcmFnbWVudFNvdXJjZTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4nICtcbiAgICAgICd1bmlmb3JtIGZsb2F0IHVCcmlnaHRuZXNzO1xcbicgK1xuICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAndmVjNCBjb2xvciA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKTtcXG4nICtcbiAgICAgICAgJ2NvbG9yLnJnYiArPSB1QnJpZ2h0bmVzcztcXG4nICtcbiAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbicgK1xuICAgICAgJ30nLFxuXG4gICAgLyoqXG4gICAgICogQnJpZ2h0bmVzcyB2YWx1ZSwgZnJvbSAtMSB0byAxLlxuICAgICAqIHRyYW5zbGF0ZWQgdG8gLTI1NSB0byAyNTUgZm9yIDJkXG4gICAgICogMC4wMDM5MjE1Njg2IGlzIHRoZSBwYXJ0IG9mIDEgdGhhdCBnZXQgdHJhbnNsYXRlZCB0byAxIGluIDJkXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGJyaWdodG5lc3NcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGJyaWdodG5lc3M6IDAsXG5cbiAgICAvKipcbiAgICAgKiBEZXNjcmliZSB0aGUgcHJvcGVydHkgdGhhdCBpcyB0aGUgZmlsdGVyIHBhcmFtZXRlclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBtYWluUGFyYW1ldGVyOiAnYnJpZ2h0bmVzcycsXG5cbiAgICAvKipcbiAgICAqIEFwcGx5IHRoZSBCcmlnaHRuZXNzIG9wZXJhdGlvbiB0byBhIFVpbnQ4Q2xhbXBlZEFycmF5IHJlcHJlc2VudGluZyB0aGUgcGl4ZWxzIG9mIGFuIGltYWdlLlxuICAgICpcbiAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgKiBAcGFyYW0ge0ltYWdlRGF0YX0gb3B0aW9ucy5pbWFnZURhdGEgVGhlIFVpbnQ4Q2xhbXBlZEFycmF5IHRvIGJlIGZpbHRlcmVkLlxuICAgICovXG4gICAgYXBwbHlUbzJkOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBpZiAodGhpcy5icmlnaHRuZXNzID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBpbWFnZURhdGEgPSBvcHRpb25zLmltYWdlRGF0YSxcbiAgICAgICAgICBkYXRhID0gaW1hZ2VEYXRhLmRhdGEsIGksIGxlbiA9IGRhdGEubGVuZ3RoLFxuICAgICAgICAgIGJyaWdodG5lc3MgPSBNYXRoLnJvdW5kKHRoaXMuYnJpZ2h0bmVzcyAqIDI1NSk7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICAgICAgZGF0YVtpXSA9IGRhdGFbaV0gKyBicmlnaHRuZXNzO1xuICAgICAgICBkYXRhW2kgKyAxXSA9IGRhdGFbaSArIDFdICsgYnJpZ2h0bmVzcztcbiAgICAgICAgZGF0YVtpICsgMl0gPSBkYXRhW2kgKyAyXSArIGJyaWdodG5lc3M7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBXZWJHTCB1bmlmb3JtIGxvY2F0aW9ucyBmb3IgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge1dlYkdMU2hhZGVyUHJvZ3JhbX0gcHJvZ3JhbSBUaGlzIGZpbHRlcidzIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtLlxuICAgICAqL1xuICAgIGdldFVuaWZvcm1Mb2NhdGlvbnM6IGZ1bmN0aW9uKGdsLCBwcm9ncmFtKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1QnJpZ2h0bmVzczogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1QnJpZ2h0bmVzcycpLFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VuZCBkYXRhIGZyb20gdGhpcyBmaWx0ZXIgdG8gaXRzIHNoYWRlciBwcm9ncmFtJ3MgdW5pZm9ybXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdW5pZm9ybUxvY2F0aW9ucyBBIG1hcCBvZiBzdHJpbmcgdW5pZm9ybSBuYW1lcyB0byBXZWJHTFVuaWZvcm1Mb2NhdGlvbiBvYmplY3RzXG4gICAgICovXG4gICAgc2VuZFVuaWZvcm1EYXRhOiBmdW5jdGlvbihnbCwgdW5pZm9ybUxvY2F0aW9ucykge1xuICAgICAgZ2wudW5pZm9ybTFmKHVuaWZvcm1Mb2NhdGlvbnMudUJyaWdodG5lc3MsIHRoaXMuYnJpZ2h0bmVzcyk7XG4gICAgfSxcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmlsdGVyIGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIGZyb21cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSB0byBiZSBpbnZva2VkIGFmdGVyIGZpbHRlciBjcmVhdGlvblxuICAgKiBAcmV0dXJuIHtmYWJyaWMuSW1hZ2UuZmlsdGVycy5CcmlnaHRuZXNzfSBJbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CcmlnaHRuZXNzXG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CcmlnaHRuZXNzLmZyb21PYmplY3QgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyLmZyb21PYmplY3Q7XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBleHRlbmQgPSBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kLFxuICAgICAgZmlsdGVycyA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLFxuICAgICAgY3JlYXRlQ2xhc3MgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcztcblxuICAvKipcbiAgICogQWRhcHRlZCBmcm9tIDxhIGhyZWY9XCJodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9jYW52YXMvaW1hZ2VmaWx0ZXJzL1wiPmh0bWw1cm9ja3MgYXJ0aWNsZTwvYT5cbiAgICogQGNsYXNzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbnZvbHV0ZVxuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db252b2x1dGUjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICogQHNlZSB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9pbWFnZS1maWx0ZXJzfEltYWdlRmlsdGVycyBkZW1vfVxuICAgKiBAZXhhbXBsZSA8Y2FwdGlvbj5TaGFycGVuIGZpbHRlcjwvY2FwdGlvbj5cbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db252b2x1dGUoe1xuICAgKiAgIG1hdHJpeDogWyAwLCAtMSwgIDAsXG4gICAqICAgICAgICAgICAgLTEsICA1LCAtMSxcbiAgICogICAgICAgICAgICAgMCwgLTEsICAwIF1cbiAgICogfSk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKiBjYW52YXMucmVuZGVyQWxsKCk7XG4gICAqIEBleGFtcGxlIDxjYXB0aW9uPkJsdXIgZmlsdGVyPC9jYXB0aW9uPlxuICAgKiB2YXIgZmlsdGVyID0gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbnZvbHV0ZSh7XG4gICAqICAgbWF0cml4OiBbIDEvOSwgMS85LCAxLzksXG4gICAqICAgICAgICAgICAgIDEvOSwgMS85LCAxLzksXG4gICAqICAgICAgICAgICAgIDEvOSwgMS85LCAxLzkgXVxuICAgKiB9KTtcbiAgICogb2JqZWN0LmZpbHRlcnMucHVzaChmaWx0ZXIpO1xuICAgKiBvYmplY3QuYXBwbHlGaWx0ZXJzKCk7XG4gICAqIGNhbnZhcy5yZW5kZXJBbGwoKTtcbiAgICogQGV4YW1wbGUgPGNhcHRpb24+RW1ib3NzIGZpbHRlcjwvY2FwdGlvbj5cbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db252b2x1dGUoe1xuICAgKiAgIG1hdHJpeDogWyAxLCAgIDEsICAxLFxuICAgKiAgICAgICAgICAgICAxLCAwLjcsIC0xLFxuICAgKiAgICAgICAgICAgIC0xLCAgLTEsIC0xIF1cbiAgICogfSk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKiBjYW52YXMucmVuZGVyQWxsKCk7XG4gICAqIEBleGFtcGxlIDxjYXB0aW9uPkVtYm9zcyBmaWx0ZXIgd2l0aCBvcGFxdWVuZXNzPC9jYXB0aW9uPlxuICAgKiB2YXIgZmlsdGVyID0gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbnZvbHV0ZSh7XG4gICAqICAgb3BhcXVlOiB0cnVlLFxuICAgKiAgIG1hdHJpeDogWyAxLCAgIDEsICAxLFxuICAgKiAgICAgICAgICAgICAxLCAwLjcsIC0xLFxuICAgKiAgICAgICAgICAgIC0xLCAgLTEsIC0xIF1cbiAgICogfSk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKiBjYW52YXMucmVuZGVyQWxsKCk7XG4gICAqL1xuICBmaWx0ZXJzLkNvbnZvbHV0ZSA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db252b2x1dGUucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIEZpbHRlciB0eXBlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICdDb252b2x1dGUnLFxuXG4gICAgLypcbiAgICAgKiBPcGFxdWUgdmFsdWUgKHRydWUvZmFsc2UpXG4gICAgICovXG4gICAgb3BhcXVlOiBmYWxzZSxcblxuICAgIC8qXG4gICAgICogbWF0cml4IGZvciB0aGUgZmlsdGVyLCBtYXggOXg5XG4gICAgICovXG4gICAgbWF0cml4OiBbMCwgMCwgMCwgMCwgMSwgMCwgMCwgMCwgMF0sXG5cbiAgICAvKipcbiAgICAgKiBGcmFnbWVudCBzb3VyY2UgZm9yIHRoZSBicmlnaHRuZXNzIHByb2dyYW1cbiAgICAgKi9cbiAgICBmcmFnbWVudFNvdXJjZToge1xuICAgICAgQ29udm9sdXRlXzNfMTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1TWF0cml4WzldO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1U3RlcFc7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwSDtcXG4nICtcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgJ3ZlYzQgY29sb3IgPSB2ZWM0KDAsIDAsIDAsIDApO1xcbicgK1xuICAgICAgICAgICdmb3IgKGZsb2F0IGggPSAwLjA7IGggPCAzLjA7IGgrPTEuMCkge1xcbicgK1xuICAgICAgICAgICAgJ2ZvciAoZmxvYXQgdyA9IDAuMDsgdyA8IDMuMDsgdys9MS4wKSB7XFxuJyArXG4gICAgICAgICAgICAgICd2ZWMyIG1hdHJpeFBvcyA9IHZlYzIodVN0ZXBXICogKHcgLSAxKSwgdVN0ZXBIICogKGggLSAxKSk7XFxuJyArXG4gICAgICAgICAgICAgICdjb2xvciArPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCArIG1hdHJpeFBvcykgKiB1TWF0cml4W2ludChoICogMy4wICsgdyldO1xcbicgK1xuICAgICAgICAgICAgJ31cXG4nICtcbiAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICAgJ30nLFxuICAgICAgQ29udm9sdXRlXzNfMDogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1TWF0cml4WzldO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1U3RlcFc7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwSDtcXG4nICtcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgJ3ZlYzQgY29sb3IgPSB2ZWM0KDAsIDAsIDAsIDEpO1xcbicgK1xuICAgICAgICAgICdmb3IgKGZsb2F0IGggPSAwLjA7IGggPCAzLjA7IGgrPTEuMCkge1xcbicgK1xuICAgICAgICAgICAgJ2ZvciAoZmxvYXQgdyA9IDAuMDsgdyA8IDMuMDsgdys9MS4wKSB7XFxuJyArXG4gICAgICAgICAgICAgICd2ZWMyIG1hdHJpeFBvcyA9IHZlYzIodVN0ZXBXICogKHcgLSAxLjApLCB1U3RlcEggKiAoaCAtIDEuMCkpO1xcbicgK1xuICAgICAgICAgICAgICAnY29sb3IucmdiICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkICsgbWF0cml4UG9zKS5yZ2IgKiB1TWF0cml4W2ludChoICogMy4wICsgdyldO1xcbicgK1xuICAgICAgICAgICAgJ31cXG4nICtcbiAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICdmbG9hdCBhbHBoYSA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKS5hO1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yLmEgPSBhbHBoYTtcXG4nICtcbiAgICAgICAgJ30nLFxuICAgICAgQ29udm9sdXRlXzVfMTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1TWF0cml4WzI1XTtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gZmxvYXQgdVN0ZXBXO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1U3RlcEg7XFxuJyArXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICd2ZWM0IGNvbG9yID0gdmVjNCgwLCAwLCAwLCAwKTtcXG4nICtcbiAgICAgICAgICAnZm9yIChmbG9hdCBoID0gMC4wOyBoIDwgNS4wOyBoKz0xLjApIHtcXG4nICtcbiAgICAgICAgICAgICdmb3IgKGZsb2F0IHcgPSAwLjA7IHcgPCA1LjA7IHcrPTEuMCkge1xcbicgK1xuICAgICAgICAgICAgICAndmVjMiBtYXRyaXhQb3MgPSB2ZWMyKHVTdGVwVyAqICh3IC0gMi4wKSwgdVN0ZXBIICogKGggLSAyLjApKTtcXG4nICtcbiAgICAgICAgICAgICAgJ2NvbG9yICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkICsgbWF0cml4UG9zKSAqIHVNYXRyaXhbaW50KGggKiA1LjAgKyB3KV07XFxuJyArXG4gICAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbicgK1xuICAgICAgICAnfScsXG4gICAgICBDb252b2x1dGVfNV8wOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVNYXRyaXhbMjVdO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1U3RlcFc7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwSDtcXG4nICtcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgJ3ZlYzQgY29sb3IgPSB2ZWM0KDAsIDAsIDAsIDEpO1xcbicgK1xuICAgICAgICAgICdmb3IgKGZsb2F0IGggPSAwLjA7IGggPCA1LjA7IGgrPTEuMCkge1xcbicgK1xuICAgICAgICAgICAgJ2ZvciAoZmxvYXQgdyA9IDAuMDsgdyA8IDUuMDsgdys9MS4wKSB7XFxuJyArXG4gICAgICAgICAgICAgICd2ZWMyIG1hdHJpeFBvcyA9IHZlYzIodVN0ZXBXICogKHcgLSAyLjApLCB1U3RlcEggKiAoaCAtIDIuMCkpO1xcbicgK1xuICAgICAgICAgICAgICAnY29sb3IucmdiICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkICsgbWF0cml4UG9zKS5yZ2IgKiB1TWF0cml4W2ludChoICogNS4wICsgdyldO1xcbicgK1xuICAgICAgICAgICAgJ31cXG4nICtcbiAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICdmbG9hdCBhbHBoYSA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKS5hO1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yLmEgPSBhbHBoYTtcXG4nICtcbiAgICAgICAgJ30nLFxuICAgICAgQ29udm9sdXRlXzdfMTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1TWF0cml4WzQ5XTtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gZmxvYXQgdVN0ZXBXO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1U3RlcEg7XFxuJyArXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICd2ZWM0IGNvbG9yID0gdmVjNCgwLCAwLCAwLCAwKTtcXG4nICtcbiAgICAgICAgICAnZm9yIChmbG9hdCBoID0gMC4wOyBoIDwgNy4wOyBoKz0xLjApIHtcXG4nICtcbiAgICAgICAgICAgICdmb3IgKGZsb2F0IHcgPSAwLjA7IHcgPCA3LjA7IHcrPTEuMCkge1xcbicgK1xuICAgICAgICAgICAgICAndmVjMiBtYXRyaXhQb3MgPSB2ZWMyKHVTdGVwVyAqICh3IC0gMy4wKSwgdVN0ZXBIICogKGggLSAzLjApKTtcXG4nICtcbiAgICAgICAgICAgICAgJ2NvbG9yICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkICsgbWF0cml4UG9zKSAqIHVNYXRyaXhbaW50KGggKiA3LjAgKyB3KV07XFxuJyArXG4gICAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbicgK1xuICAgICAgICAnfScsXG4gICAgICBDb252b2x1dGVfN18wOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVNYXRyaXhbNDldO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1U3RlcFc7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwSDtcXG4nICtcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgJ3ZlYzQgY29sb3IgPSB2ZWM0KDAsIDAsIDAsIDEpO1xcbicgK1xuICAgICAgICAgICdmb3IgKGZsb2F0IGggPSAwLjA7IGggPCA3LjA7IGgrPTEuMCkge1xcbicgK1xuICAgICAgICAgICAgJ2ZvciAoZmxvYXQgdyA9IDAuMDsgdyA8IDcuMDsgdys9MS4wKSB7XFxuJyArXG4gICAgICAgICAgICAgICd2ZWMyIG1hdHJpeFBvcyA9IHZlYzIodVN0ZXBXICogKHcgLSAzLjApLCB1U3RlcEggKiAoaCAtIDMuMCkpO1xcbicgK1xuICAgICAgICAgICAgICAnY29sb3IucmdiICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkICsgbWF0cml4UG9zKS5yZ2IgKiB1TWF0cml4W2ludChoICogNy4wICsgdyldO1xcbicgK1xuICAgICAgICAgICAgJ31cXG4nICtcbiAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICdmbG9hdCBhbHBoYSA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKS5hO1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yLmEgPSBhbHBoYTtcXG4nICtcbiAgICAgICAgJ30nLFxuICAgICAgQ29udm9sdXRlXzlfMTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1TWF0cml4WzgxXTtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gZmxvYXQgdVN0ZXBXO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1U3RlcEg7XFxuJyArXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICd2ZWM0IGNvbG9yID0gdmVjNCgwLCAwLCAwLCAwKTtcXG4nICtcbiAgICAgICAgICAnZm9yIChmbG9hdCBoID0gMC4wOyBoIDwgOS4wOyBoKz0xLjApIHtcXG4nICtcbiAgICAgICAgICAgICdmb3IgKGZsb2F0IHcgPSAwLjA7IHcgPCA5LjA7IHcrPTEuMCkge1xcbicgK1xuICAgICAgICAgICAgICAndmVjMiBtYXRyaXhQb3MgPSB2ZWMyKHVTdGVwVyAqICh3IC0gNC4wKSwgdVN0ZXBIICogKGggLSA0LjApKTtcXG4nICtcbiAgICAgICAgICAgICAgJ2NvbG9yICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkICsgbWF0cml4UG9zKSAqIHVNYXRyaXhbaW50KGggKiA5LjAgKyB3KV07XFxuJyArXG4gICAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbicgK1xuICAgICAgICAnfScsXG4gICAgICBDb252b2x1dGVfOV8wOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVNYXRyaXhbODFdO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBmbG9hdCB1U3RlcFc7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwSDtcXG4nICtcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgJ3ZlYzQgY29sb3IgPSB2ZWM0KDAsIDAsIDAsIDEpO1xcbicgK1xuICAgICAgICAgICdmb3IgKGZsb2F0IGggPSAwLjA7IGggPCA5LjA7IGgrPTEuMCkge1xcbicgK1xuICAgICAgICAgICAgJ2ZvciAoZmxvYXQgdyA9IDAuMDsgdyA8IDkuMDsgdys9MS4wKSB7XFxuJyArXG4gICAgICAgICAgICAgICd2ZWMyIG1hdHJpeFBvcyA9IHZlYzIodVN0ZXBXICogKHcgLSA0LjApLCB1U3RlcEggKiAoaCAtIDQuMCkpO1xcbicgK1xuICAgICAgICAgICAgICAnY29sb3IucmdiICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkICsgbWF0cml4UG9zKS5yZ2IgKiB1TWF0cml4W2ludChoICogOS4wICsgdyldO1xcbicgK1xuICAgICAgICAgICAgJ31cXG4nICtcbiAgICAgICAgICAnfVxcbicgK1xuICAgICAgICAgICdmbG9hdCBhbHBoYSA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKS5hO1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yLmEgPSBhbHBoYTtcXG4nICtcbiAgICAgICAgJ30nLFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db252b2x1dGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMub3BhcXVlPWZhbHNlXSBPcGFxdWUgdmFsdWUgKHRydWUvZmFsc2UpXG4gICAgICogQHBhcmFtIHtBcnJheX0gW29wdGlvbnMubWF0cml4XSBGaWx0ZXIgbWF0cml4XG4gICAgICovXG5cblxuICAgIC8qKlxuICAgICogUmV0cmlldmVzIHRoZSBjYWNoZWQgc2hhZGVyLlxuICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBvcHRpb25zLmNvbnRleHQgVGhlIEdMIGNvbnRleHQgdXNlZCBmb3IgcmVuZGVyaW5nLlxuICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMucHJvZ3JhbUNhY2hlIEEgbWFwIG9mIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtcywga2V5ZWQgYnkgZmlsdGVyIHR5cGUuXG4gICAgKi9cbiAgICByZXRyaWV2ZVNoYWRlcjogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIHNpemUgPSBNYXRoLnNxcnQodGhpcy5tYXRyaXgubGVuZ3RoKTtcbiAgICAgIHZhciBjYWNoZUtleSA9IHRoaXMudHlwZSArICdfJyArIHNpemUgKyAnXycgKyAodGhpcy5vcGFxdWUgPyAxIDogMCk7XG4gICAgICB2YXIgc2hhZGVyU291cmNlID0gdGhpcy5mcmFnbWVudFNvdXJjZVtjYWNoZUtleV07XG4gICAgICBpZiAoIW9wdGlvbnMucHJvZ3JhbUNhY2hlLmhhc093blByb3BlcnR5KGNhY2hlS2V5KSkge1xuICAgICAgICBvcHRpb25zLnByb2dyYW1DYWNoZVtjYWNoZUtleV0gPSB0aGlzLmNyZWF0ZVByb2dyYW0ob3B0aW9ucy5jb250ZXh0LCBzaGFkZXJTb3VyY2UpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9wdGlvbnMucHJvZ3JhbUNhY2hlW2NhY2hlS2V5XTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXBwbHkgdGhlIEJyaWdodG5lc3Mgb3BlcmF0aW9uIHRvIGEgVWludDhDbGFtcGVkQXJyYXkgcmVwcmVzZW50aW5nIHRoZSBwaXhlbHMgb2YgYW4gaW1hZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7SW1hZ2VEYXRhfSBvcHRpb25zLmltYWdlRGF0YSBUaGUgVWludDhDbGFtcGVkQXJyYXkgdG8gYmUgZmlsdGVyZWQuXG4gICAgICovXG4gICAgYXBwbHlUbzJkOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gb3B0aW9ucy5pbWFnZURhdGEsXG4gICAgICAgICAgZGF0YSA9IGltYWdlRGF0YS5kYXRhLFxuICAgICAgICAgIHdlaWdodHMgPSB0aGlzLm1hdHJpeCxcbiAgICAgICAgICBzaWRlID0gTWF0aC5yb3VuZChNYXRoLnNxcnQod2VpZ2h0cy5sZW5ndGgpKSxcbiAgICAgICAgICBoYWxmU2lkZSA9IE1hdGguZmxvb3Ioc2lkZSAvIDIpLFxuICAgICAgICAgIHN3ID0gaW1hZ2VEYXRhLndpZHRoLFxuICAgICAgICAgIHNoID0gaW1hZ2VEYXRhLmhlaWdodCxcbiAgICAgICAgICBvdXRwdXQgPSBvcHRpb25zLmN0eC5jcmVhdGVJbWFnZURhdGEoc3csIHNoKSxcbiAgICAgICAgICBkc3QgPSBvdXRwdXQuZGF0YSxcbiAgICAgICAgICAvLyBnbyB0aHJvdWdoIHRoZSBkZXN0aW5hdGlvbiBpbWFnZSBwaXhlbHNcbiAgICAgICAgICBhbHBoYUZhYyA9IHRoaXMub3BhcXVlID8gMSA6IDAsXG4gICAgICAgICAgciwgZywgYiwgYSwgZHN0T2ZmLFxuICAgICAgICAgIHNjeCwgc2N5LCBzcmNPZmYsIHd0LFxuICAgICAgICAgIHgsIHksIGN4LCBjeTtcblxuICAgICAgZm9yICh5ID0gMDsgeSA8IHNoOyB5KyspIHtcbiAgICAgICAgZm9yICh4ID0gMDsgeCA8IHN3OyB4KyspIHtcbiAgICAgICAgICBkc3RPZmYgPSAoeSAqIHN3ICsgeCkgKiA0O1xuICAgICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgd2VpZ2hlZCBzdW0gb2YgdGhlIHNvdXJjZSBpbWFnZSBwaXhlbHMgdGhhdFxuICAgICAgICAgIC8vIGZhbGwgdW5kZXIgdGhlIGNvbnZvbHV0aW9uIG1hdHJpeFxuICAgICAgICAgIHIgPSAwOyBnID0gMDsgYiA9IDA7IGEgPSAwO1xuXG4gICAgICAgICAgZm9yIChjeSA9IDA7IGN5IDwgc2lkZTsgY3krKykge1xuICAgICAgICAgICAgZm9yIChjeCA9IDA7IGN4IDwgc2lkZTsgY3grKykge1xuICAgICAgICAgICAgICBzY3kgPSB5ICsgY3kgLSBoYWxmU2lkZTtcbiAgICAgICAgICAgICAgc2N4ID0geCArIGN4IC0gaGFsZlNpZGU7XG5cbiAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1kZXB0aFxuICAgICAgICAgICAgICBpZiAoc2N5IDwgMCB8fCBzY3kgPj0gc2ggfHwgc2N4IDwgMCB8fCBzY3ggPj0gc3cpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHNyY09mZiA9IChzY3kgKiBzdyArIHNjeCkgKiA0O1xuICAgICAgICAgICAgICB3dCA9IHdlaWdodHNbY3kgKiBzaWRlICsgY3hdO1xuXG4gICAgICAgICAgICAgIHIgKz0gZGF0YVtzcmNPZmZdICogd3Q7XG4gICAgICAgICAgICAgIGcgKz0gZGF0YVtzcmNPZmYgKyAxXSAqIHd0O1xuICAgICAgICAgICAgICBiICs9IGRhdGFbc3JjT2ZmICsgMl0gKiB3dDtcbiAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1kZXB0aFxuICAgICAgICAgICAgICBpZiAoIWFscGhhRmFjKSB7XG4gICAgICAgICAgICAgICAgYSArPSBkYXRhW3NyY09mZiArIDNdICogd3Q7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZHN0W2RzdE9mZl0gPSByO1xuICAgICAgICAgIGRzdFtkc3RPZmYgKyAxXSA9IGc7XG4gICAgICAgICAgZHN0W2RzdE9mZiArIDJdID0gYjtcbiAgICAgICAgICBpZiAoIWFscGhhRmFjKSB7XG4gICAgICAgICAgICBkc3RbZHN0T2ZmICsgM10gPSBhO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRzdFtkc3RPZmYgKyAzXSA9IGRhdGFbZHN0T2ZmICsgM107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBvcHRpb25zLmltYWdlRGF0YSA9IG91dHB1dDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIFdlYkdMIHVuaWZvcm0gbG9jYXRpb25zIGZvciB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7V2ViR0xTaGFkZXJQcm9ncmFtfSBwcm9ncmFtIFRoaXMgZmlsdGVyJ3MgY29tcGlsZWQgc2hhZGVyIHByb2dyYW0uXG4gICAgICovXG4gICAgZ2V0VW5pZm9ybUxvY2F0aW9uczogZnVuY3Rpb24oZ2wsIHByb2dyYW0pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVNYXRyaXg6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndU1hdHJpeCcpLFxuICAgICAgICB1T3BhcXVlOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VPcGFxdWUnKSxcbiAgICAgICAgdUhhbGZTaXplOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VIYWxmU2l6ZScpLFxuICAgICAgICB1U2l6ZTogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1U2l6ZScpLFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VuZCBkYXRhIGZyb20gdGhpcyBmaWx0ZXIgdG8gaXRzIHNoYWRlciBwcm9ncmFtJ3MgdW5pZm9ybXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdW5pZm9ybUxvY2F0aW9ucyBBIG1hcCBvZiBzdHJpbmcgdW5pZm9ybSBuYW1lcyB0byBXZWJHTFVuaWZvcm1Mb2NhdGlvbiBvYmplY3RzXG4gICAgICovXG4gICAgc2VuZFVuaWZvcm1EYXRhOiBmdW5jdGlvbihnbCwgdW5pZm9ybUxvY2F0aW9ucykge1xuICAgICAgZ2wudW5pZm9ybTFmdih1bmlmb3JtTG9jYXRpb25zLnVNYXRyaXgsIHRoaXMubWF0cml4KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvT2JqZWN0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBleHRlbmQodGhpcy5jYWxsU3VwZXIoJ3RvT2JqZWN0JyksIHtcbiAgICAgICAgb3BhcXVlOiB0aGlzLm9wYXF1ZSxcbiAgICAgICAgbWF0cml4OiB0aGlzLm1hdHJpeFxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmaWx0ZXIgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIHRvIGJlIGludm9rZWQgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbnZvbHV0ZX0gSW5zdGFuY2Ugb2YgZmFicmljLkltYWdlLmZpbHRlcnMuQ29udm9sdXRlXG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db252b2x1dGUuZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIEdyYXlzY2FsZSBpbWFnZSBmaWx0ZXIgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkdyYXlzY2FsZVxuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAc2VlIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ltYWdlLWZpbHRlcnN8SW1hZ2VGaWx0ZXJzIGRlbW99XG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuR3JheXNjYWxlKCk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKi9cbiAgZmlsdGVycy5HcmF5c2NhbGUgPSBjcmVhdGVDbGFzcyhmaWx0ZXJzLkJhc2VGaWx0ZXIsIC8qKiBAbGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuR3JheXNjYWxlLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgdHlwZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAnR3JheXNjYWxlJyxcblxuICAgIGZyYWdtZW50U291cmNlOiB7XG4gICAgICBhdmVyYWdlOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICd2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbicgK1xuICAgICAgICAgICdmbG9hdCBhdmVyYWdlID0gKGNvbG9yLnIgKyBjb2xvci5iICsgY29sb3IuZykgLyAzLjA7XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IHZlYzQoYXZlcmFnZSwgYXZlcmFnZSwgYXZlcmFnZSwgY29sb3IuYSk7XFxuJyArXG4gICAgICAgICd9JyxcbiAgICAgIGxpZ2h0bmVzczogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgICAndW5pZm9ybSBpbnQgdU1vZGU7XFxuJyArXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICd2ZWM0IGNvbCA9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkKTtcXG4nICtcbiAgICAgICAgICAnZmxvYXQgYXZlcmFnZSA9IChtYXgobWF4KGNvbC5yLCBjb2wuZyksY29sLmIpICsgbWluKG1pbihjb2wuciwgY29sLmcpLGNvbC5iKSkgLyAyLjA7XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IHZlYzQoYXZlcmFnZSwgYXZlcmFnZSwgYXZlcmFnZSwgY29sLmEpO1xcbicgK1xuICAgICAgICAnfScsXG4gICAgICBsdW1pbm9zaXR5OiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIGludCB1TW9kZTtcXG4nICtcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgJ3ZlYzQgY29sID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbicgK1xuICAgICAgICAgICdmbG9hdCBhdmVyYWdlID0gMC4yMSAqIGNvbC5yICsgMC43MiAqIGNvbC5nICsgMC4wNyAqIGNvbC5iO1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IgPSB2ZWM0KGF2ZXJhZ2UsIGF2ZXJhZ2UsIGF2ZXJhZ2UsIGNvbC5hKTtcXG4nICtcbiAgICAgICAgJ30nLFxuICAgIH0sXG5cblxuICAgIC8qKlxuICAgICAqIEdyYXlzY2FsZSBtb2RlLCBiZXR3ZWVuICdhdmVyYWdlJywgJ2xpZ2h0bmVzcycsICdsdW1pbm9zaXR5J1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBtb2RlOiAnYXZlcmFnZScsXG5cbiAgICBtYWluUGFyYW1ldGVyOiAnbW9kZScsXG5cbiAgICAvKipcbiAgICAgKiBBcHBseSB0aGUgR3JheXNjYWxlIG9wZXJhdGlvbiB0byBhIFVpbnQ4QXJyYXkgcmVwcmVzZW50aW5nIHRoZSBwaXhlbHMgb2YgYW4gaW1hZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7SW1hZ2VEYXRhfSBvcHRpb25zLmltYWdlRGF0YSBUaGUgVWludDhBcnJheSB0byBiZSBmaWx0ZXJlZC5cbiAgICAgKi9cbiAgICBhcHBseVRvMmQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBpbWFnZURhdGEgPSBvcHRpb25zLmltYWdlRGF0YSxcbiAgICAgICAgICBkYXRhID0gaW1hZ2VEYXRhLmRhdGEsIGksXG4gICAgICAgICAgbGVuID0gZGF0YS5sZW5ndGgsIHZhbHVlLFxuICAgICAgICAgIG1vZGUgPSB0aGlzLm1vZGU7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICAgICAgaWYgKG1vZGUgPT09ICdhdmVyYWdlJykge1xuICAgICAgICAgIHZhbHVlID0gKGRhdGFbaV0gKyBkYXRhW2kgKyAxXSArIGRhdGFbaSArIDJdKSAvIDM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobW9kZSA9PT0gJ2xpZ2h0bmVzcycpIHtcbiAgICAgICAgICB2YWx1ZSA9IChNYXRoLm1pbihkYXRhW2ldLCBkYXRhW2kgKyAxXSwgZGF0YVtpICsgMl0pICtcbiAgICAgICAgICAgIE1hdGgubWF4KGRhdGFbaV0sIGRhdGFbaSArIDFdLCBkYXRhW2kgKyAyXSkpIC8gMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtb2RlID09PSAnbHVtaW5vc2l0eScpIHtcbiAgICAgICAgICB2YWx1ZSA9IDAuMjEgKiBkYXRhW2ldICsgMC43MiAqIGRhdGFbaSArIDFdICsgMC4wNyAqIGRhdGFbaSArIDJdO1xuICAgICAgICB9XG4gICAgICAgIGRhdGFbaV0gPSB2YWx1ZTtcbiAgICAgICAgZGF0YVtpICsgMV0gPSB2YWx1ZTtcbiAgICAgICAgZGF0YVtpICsgMl0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBjYWNoZWQgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IG9wdGlvbnMuY29udGV4dCBUaGUgR0wgY29udGV4dCB1c2VkIGZvciByZW5kZXJpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMucHJvZ3JhbUNhY2hlIEEgbWFwIG9mIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtcywga2V5ZWQgYnkgZmlsdGVyIHR5cGUuXG4gICAgICovXG4gICAgcmV0cmlldmVTaGFkZXI6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBjYWNoZUtleSA9IHRoaXMudHlwZSArICdfJyArIHRoaXMubW9kZTtcbiAgICAgIGlmICghb3B0aW9ucy5wcm9ncmFtQ2FjaGUuaGFzT3duUHJvcGVydHkoY2FjaGVLZXkpKSB7XG4gICAgICAgIHZhciBzaGFkZXJTb3VyY2UgPSB0aGlzLmZyYWdtZW50U291cmNlW3RoaXMubW9kZV07XG4gICAgICAgIG9wdGlvbnMucHJvZ3JhbUNhY2hlW2NhY2hlS2V5XSA9IHRoaXMuY3JlYXRlUHJvZ3JhbShvcHRpb25zLmNvbnRleHQsIHNoYWRlclNvdXJjZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3B0aW9ucy5wcm9ncmFtQ2FjaGVbY2FjaGVLZXldO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gV2ViR0wgdW5pZm9ybSBsb2NhdGlvbnMgZm9yIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtXZWJHTFNoYWRlclByb2dyYW19IHByb2dyYW0gVGhpcyBmaWx0ZXIncyBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbS5cbiAgICAgKi9cbiAgICBnZXRVbmlmb3JtTG9jYXRpb25zOiBmdW5jdGlvbihnbCwgcHJvZ3JhbSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdU1vZGU6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndU1vZGUnKSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSdzIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1Mb2NhdGlvbnMgQSBtYXAgb2Ygc3RyaW5nIHVuaWZvcm0gbmFtZXMgdG8gV2ViR0xVbmlmb3JtTG9jYXRpb24gb2JqZWN0c1xuICAgICAqL1xuICAgIHNlbmRVbmlmb3JtRGF0YTogZnVuY3Rpb24oZ2wsIHVuaWZvcm1Mb2NhdGlvbnMpIHtcbiAgICAgIC8vIGRlZmF1bHQgYXZlcmFnZSBtb2RlLlxuICAgICAgdmFyIG1vZGUgPSAxO1xuICAgICAgZ2wudW5pZm9ybTFpKHVuaWZvcm1Mb2NhdGlvbnMudU1vZGUsIG1vZGUpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHcmF5c2NhbGUgZmlsdGVyIGlzTmV1dHJhbFN0YXRlIGltcGxlbWVudGF0aW9uXG4gICAgICogVGhlIGZpbHRlciBpcyBuZXZlciBuZXV0cmFsXG4gICAgICogb24gdGhlIGltYWdlXG4gICAgICoqL1xuICAgIGlzTmV1dHJhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmaWx0ZXIgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIHRvIGJlIGludm9rZWQgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLkdyYXlzY2FsZX0gSW5zdGFuY2Ugb2YgZmFicmljLkltYWdlLmZpbHRlcnMuR3JheXNjYWxlXG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZmlsdGVycy5HcmF5c2NhbGUuZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIEludmVydCBmaWx0ZXIgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkludmVydFxuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAc2VlIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ltYWdlLWZpbHRlcnN8SW1hZ2VGaWx0ZXJzIGRlbW99XG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuSW52ZXJ0KCk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycyhjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKSk7XG4gICAqL1xuICBmaWx0ZXJzLkludmVydCA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5JbnZlcnQucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIEZpbHRlciB0eXBlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICdJbnZlcnQnLFxuXG4gICAgZnJhZ21lbnRTb3VyY2U6ICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuJyArXG4gICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAndW5pZm9ybSBpbnQgdUludmVydDtcXG4nICtcbiAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgJ3ZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCk7XFxuJyArXG4gICAgICAgICdpZiAodUludmVydCA9PSAxKSB7XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IHZlYzQoMS4wIC0gY29sb3IuciwxLjAgLWNvbG9yLmcsMS4wIC1jb2xvci5iLGNvbG9yLmEpO1xcbicgK1xuICAgICAgICAnfSBlbHNlIHtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxuJyArXG4gICAgICAgICd9XFxuJyArXG4gICAgICAnfScsXG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgaW52ZXJ0LiBpZiBmYWxzZSwgZG9lcyBub3RoaW5nXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBpbnZlcnRcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGludmVydDogdHJ1ZSxcblxuICAgIG1haW5QYXJhbWV0ZXI6ICdpbnZlcnQnLFxuXG4gICAgLyoqXG4gICAgICogQXBwbHkgdGhlIEludmVydCBvcGVyYXRpb24gdG8gYSBVaW50OEFycmF5IHJlcHJlc2VudGluZyB0aGUgcGl4ZWxzIG9mIGFuIGltYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge0ltYWdlRGF0YX0gb3B0aW9ucy5pbWFnZURhdGEgVGhlIFVpbnQ4QXJyYXkgdG8gYmUgZmlsdGVyZWQuXG4gICAgICovXG4gICAgYXBwbHlUbzJkOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gb3B0aW9ucy5pbWFnZURhdGEsXG4gICAgICAgICAgZGF0YSA9IGltYWdlRGF0YS5kYXRhLCBpLFxuICAgICAgICAgIGxlbiA9IGRhdGEubGVuZ3RoO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgICAgIGRhdGFbaV0gPSAyNTUgLSBkYXRhW2ldO1xuICAgICAgICBkYXRhW2kgKyAxXSA9IDI1NSAtIGRhdGFbaSArIDFdO1xuICAgICAgICBkYXRhW2kgKyAyXSA9IDI1NSAtIGRhdGFbaSArIDJdO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbnZlcnQgZmlsdGVyIGlzTmV1dHJhbFN0YXRlIGltcGxlbWVudGF0aW9uXG4gICAgICogVXNlZCBvbmx5IGluIGltYWdlIGFwcGx5RmlsdGVycyB0byBkaXNjYXJkIGZpbHRlcnMgdGhhdCB3aWxsIG5vdCBoYXZlIGFuIGVmZmVjdFxuICAgICAqIG9uIHRoZSBpbWFnZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICoqL1xuICAgIGlzTmV1dHJhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAhdGhpcy5pbnZlcnQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBXZWJHTCB1bmlmb3JtIGxvY2F0aW9ucyBmb3IgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge1dlYkdMU2hhZGVyUHJvZ3JhbX0gcHJvZ3JhbSBUaGlzIGZpbHRlcidzIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtLlxuICAgICAqL1xuICAgIGdldFVuaWZvcm1Mb2NhdGlvbnM6IGZ1bmN0aW9uKGdsLCBwcm9ncmFtKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1SW52ZXJ0OiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VJbnZlcnQnKSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSdzIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1Mb2NhdGlvbnMgQSBtYXAgb2Ygc3RyaW5nIHVuaWZvcm0gbmFtZXMgdG8gV2ViR0xVbmlmb3JtTG9jYXRpb24gb2JqZWN0c1xuICAgICAqL1xuICAgIHNlbmRVbmlmb3JtRGF0YTogZnVuY3Rpb24oZ2wsIHVuaWZvcm1Mb2NhdGlvbnMpIHtcbiAgICAgIGdsLnVuaWZvcm0xaSh1bmlmb3JtTG9jYXRpb25zLnVJbnZlcnQsIHRoaXMuaW52ZXJ0KTtcbiAgICB9LFxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmaWx0ZXIgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIHRvIGJlIGludm9rZWQgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLkludmVydH0gSW5zdGFuY2Ugb2YgZmFicmljLkltYWdlLmZpbHRlcnMuSW52ZXJ0XG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZmlsdGVycy5JbnZlcnQuZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcblxuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljICA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLFxuICAgICAgZXh0ZW5kID0gZmFicmljLnV0aWwub2JqZWN0LmV4dGVuZCxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIE5vaXNlIGZpbHRlciBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlLmZpbHRlcnMuTm9pc2VcbiAgICogQG1lbWJlck9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzXG4gICAqIEBleHRlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXJcbiAgICogQHNlZSB7QGxpbmsgZmFicmljLkltYWdlLmZpbHRlcnMuTm9pc2UjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICogQHNlZSB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9pbWFnZS1maWx0ZXJzfEltYWdlRmlsdGVycyBkZW1vfVxuICAgKiBAZXhhbXBsZVxuICAgKiB2YXIgZmlsdGVyID0gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLk5vaXNlKHtcbiAgICogICBub2lzZTogNzAwXG4gICAqIH0pO1xuICAgKiBvYmplY3QuZmlsdGVycy5wdXNoKGZpbHRlcik7XG4gICAqIG9iamVjdC5hcHBseUZpbHRlcnMoKTtcbiAgICogY2FudmFzLnJlbmRlckFsbCgpO1xuICAgKi9cbiAgZmlsdGVycy5Ob2lzZSA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Ob2lzZS5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHR5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ05vaXNlJyxcblxuICAgIC8qKlxuICAgICAqIEZyYWdtZW50IHNvdXJjZSBmb3IgdGhlIG5vaXNlIHByb2dyYW1cbiAgICAgKi9cbiAgICBmcmFnbWVudFNvdXJjZTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4nICtcbiAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwSDtcXG4nICtcbiAgICAgICd1bmlmb3JtIGZsb2F0IHVOb2lzZTtcXG4nICtcbiAgICAgICd1bmlmb3JtIGZsb2F0IHVTZWVkO1xcbicgK1xuICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAnZmxvYXQgcmFuZCh2ZWMyIGNvLCBmbG9hdCBzZWVkLCBmbG9hdCB2U2NhbGUpIHtcXG4nICtcbiAgICAgICAgJ3JldHVybiBmcmFjdChzaW4oZG90KGNvLnh5ICogdlNjYWxlICx2ZWMyKDEyLjk4OTggLCA3OC4yMzMpKSkgKiA0Mzc1OC41NDUzICogKHNlZWQgKyAwLjAxKSAvIDIuMCk7XFxuJyArXG4gICAgICAnfVxcbicgK1xuICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgJ3ZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCk7XFxuJyArXG4gICAgICAgICdjb2xvci5yZ2IgKz0gKDAuNSAtIHJhbmQodlRleENvb3JkLCB1U2VlZCwgMC4xIC8gdVN0ZXBIKSkgKiB1Tm9pc2U7XFxuJyArXG4gICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICd9JyxcblxuICAgIC8qKlxuICAgICAqIERlc2NyaWJlIHRoZSBwcm9wZXJ0eSB0aGF0IGlzIHRoZSBmaWx0ZXIgcGFyYW1ldGVyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG1haW5QYXJhbWV0ZXI6ICdub2lzZScsXG5cbiAgICAvKipcbiAgICAgKiBOb2lzZSB2YWx1ZSwgZnJvbVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBub2lzZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgbm9pc2U6IDAsXG5cbiAgICAvKipcbiAgICAgKiBBcHBseSB0aGUgQnJpZ2h0bmVzcyBvcGVyYXRpb24gdG8gYSBVaW50OENsYW1wZWRBcnJheSByZXByZXNlbnRpbmcgdGhlIHBpeGVscyBvZiBhbiBpbWFnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtJbWFnZURhdGF9IG9wdGlvbnMuaW1hZ2VEYXRhIFRoZSBVaW50OENsYW1wZWRBcnJheSB0byBiZSBmaWx0ZXJlZC5cbiAgICAgKi9cbiAgICBhcHBseVRvMmQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIGlmICh0aGlzLm5vaXNlID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBpbWFnZURhdGEgPSBvcHRpb25zLmltYWdlRGF0YSxcbiAgICAgICAgICBkYXRhID0gaW1hZ2VEYXRhLmRhdGEsIGksIGxlbiA9IGRhdGEubGVuZ3RoLFxuICAgICAgICAgIG5vaXNlID0gdGhpcy5ub2lzZSwgcmFuZDtcblxuICAgICAgZm9yIChpID0gMCwgbGVuID0gZGF0YS5sZW5ndGg7IGkgPCBsZW47IGkgKz0gNCkge1xuXG4gICAgICAgIHJhbmQgPSAoMC41IC0gTWF0aC5yYW5kb20oKSkgKiBub2lzZTtcblxuICAgICAgICBkYXRhW2ldICs9IHJhbmQ7XG4gICAgICAgIGRhdGFbaSArIDFdICs9IHJhbmQ7XG4gICAgICAgIGRhdGFbaSArIDJdICs9IHJhbmQ7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBXZWJHTCB1bmlmb3JtIGxvY2F0aW9ucyBmb3IgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge1dlYkdMU2hhZGVyUHJvZ3JhbX0gcHJvZ3JhbSBUaGlzIGZpbHRlcidzIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtLlxuICAgICAqL1xuICAgIGdldFVuaWZvcm1Mb2NhdGlvbnM6IGZ1bmN0aW9uKGdsLCBwcm9ncmFtKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1Tm9pc2U6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndU5vaXNlJyksXG4gICAgICAgIHVTZWVkOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VTZWVkJyksXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGRhdGEgZnJvbSB0aGlzIGZpbHRlciB0byBpdHMgc2hhZGVyIHByb2dyYW0ncyB1bmlmb3Jtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB1bmlmb3JtTG9jYXRpb25zIEEgbWFwIG9mIHN0cmluZyB1bmlmb3JtIG5hbWVzIHRvIFdlYkdMVW5pZm9ybUxvY2F0aW9uIG9iamVjdHNcbiAgICAgKi9cbiAgICBzZW5kVW5pZm9ybURhdGE6IGZ1bmN0aW9uKGdsLCB1bmlmb3JtTG9jYXRpb25zKSB7XG4gICAgICBnbC51bmlmb3JtMWYodW5pZm9ybUxvY2F0aW9ucy51Tm9pc2UsIHRoaXMubm9pc2UgLyAyNTUpO1xuICAgICAgZ2wudW5pZm9ybTFmKHVuaWZvcm1Mb2NhdGlvbnMudVNlZWQsIE1hdGgucmFuZG9tKCkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGV4dGVuZCh0aGlzLmNhbGxTdXBlcigndG9PYmplY3QnKSwge1xuICAgICAgICBub2lzZTogdGhpcy5ub2lzZVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmaWx0ZXIgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIHRvIGJlIGludm9rZWQgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLk5vaXNlfSBJbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Ob2lzZVxuICAgKi9cbiAgZmFicmljLkltYWdlLmZpbHRlcnMuTm9pc2UuZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIFBpeGVsYXRlIGZpbHRlciBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlLmZpbHRlcnMuUGl4ZWxhdGVcbiAgICogQG1lbWJlck9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzXG4gICAqIEBleHRlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXJcbiAgICogQHNlZSB7QGxpbmsgZmFicmljLkltYWdlLmZpbHRlcnMuUGl4ZWxhdGUjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICogQHNlZSB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9pbWFnZS1maWx0ZXJzfEltYWdlRmlsdGVycyBkZW1vfVxuICAgKiBAZXhhbXBsZVxuICAgKiB2YXIgZmlsdGVyID0gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLlBpeGVsYXRlKHtcbiAgICogICBibG9ja3NpemU6IDhcbiAgICogfSk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKi9cbiAgZmlsdGVycy5QaXhlbGF0ZSA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5QaXhlbGF0ZS5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHR5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ1BpeGVsYXRlJyxcblxuICAgIGJsb2Nrc2l6ZTogNCxcblxuICAgIG1haW5QYXJhbWV0ZXI6ICdibG9ja3NpemUnLFxuXG4gICAgLyoqXG4gICAgICogRnJhZ21lbnQgc291cmNlIGZvciB0aGUgUGl4ZWxhdGUgcHJvZ3JhbVxuICAgICAqL1xuICAgIGZyYWdtZW50U291cmNlOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgJ3VuaWZvcm0gZmxvYXQgdUJsb2Nrc2l6ZTtcXG4nICtcbiAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwVztcXG4nICtcbiAgICAgICd1bmlmb3JtIGZsb2F0IHVTdGVwSDtcXG4nICtcbiAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgJ2Zsb2F0IGJsb2NrVyA9IHVCbG9ja3NpemUgKiB1U3RlcFc7XFxuJyArXG4gICAgICAgICdmbG9hdCBibG9ja0ggPSB1QmxvY2tzaXplICogdVN0ZXBXO1xcbicgK1xuICAgICAgICAnaW50IHBvc1ggPSBpbnQodlRleENvb3JkLnggLyBibG9ja1cpO1xcbicgK1xuICAgICAgICAnaW50IHBvc1kgPSBpbnQodlRleENvb3JkLnkgLyBibG9ja0gpO1xcbicgK1xuICAgICAgICAnZmxvYXQgZnBvc1ggPSBmbG9hdChwb3NYKTtcXG4nICtcbiAgICAgICAgJ2Zsb2F0IGZwb3NZID0gZmxvYXQocG9zWSk7XFxuJyArXG4gICAgICAgICd2ZWMyIHNxdWFyZUNvb3JkcyA9IHZlYzIoZnBvc1ggKiBibG9ja1csIGZwb3NZICogYmxvY2tIKTtcXG4nICtcbiAgICAgICAgJ3ZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVRleHR1cmUsIHNxdWFyZUNvb3Jkcyk7XFxuJyArXG4gICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICd9JyxcblxuICAgIC8qKlxuICAgICAqIEFwcGx5IHRoZSBQaXhlbGF0ZSBvcGVyYXRpb24gdG8gYSBVaW50OENsYW1wZWRBcnJheSByZXByZXNlbnRpbmcgdGhlIHBpeGVscyBvZiBhbiBpbWFnZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtJbWFnZURhdGF9IG9wdGlvbnMuaW1hZ2VEYXRhIFRoZSBVaW50OENsYW1wZWRBcnJheSB0byBiZSBmaWx0ZXJlZC5cbiAgICAgKi9cbiAgICBhcHBseVRvMmQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBpbWFnZURhdGEgPSBvcHRpb25zLmltYWdlRGF0YSxcbiAgICAgICAgICBkYXRhID0gaW1hZ2VEYXRhLmRhdGEsXG4gICAgICAgICAgaUxlbiA9IGltYWdlRGF0YS5oZWlnaHQsXG4gICAgICAgICAgakxlbiA9IGltYWdlRGF0YS53aWR0aCxcbiAgICAgICAgICBpbmRleCwgaSwgaiwgciwgZywgYiwgYSxcbiAgICAgICAgICBfaSwgX2osIF9pTGVuLCBfakxlbjtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IGlMZW47IGkgKz0gdGhpcy5ibG9ja3NpemUpIHtcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGpMZW47IGogKz0gdGhpcy5ibG9ja3NpemUpIHtcblxuICAgICAgICAgIGluZGV4ID0gKGkgKiA0KSAqIGpMZW4gKyAoaiAqIDQpO1xuXG4gICAgICAgICAgciA9IGRhdGFbaW5kZXhdO1xuICAgICAgICAgIGcgPSBkYXRhW2luZGV4ICsgMV07XG4gICAgICAgICAgYiA9IGRhdGFbaW5kZXggKyAyXTtcbiAgICAgICAgICBhID0gZGF0YVtpbmRleCArIDNdO1xuXG4gICAgICAgICAgX2lMZW4gPSBNYXRoLm1pbihpICsgdGhpcy5ibG9ja3NpemUsIGlMZW4pO1xuICAgICAgICAgIF9qTGVuID0gTWF0aC5taW4oaiArIHRoaXMuYmxvY2tzaXplLCBqTGVuKTtcbiAgICAgICAgICBmb3IgKF9pID0gaTsgX2kgPCBfaUxlbjsgX2krKykge1xuICAgICAgICAgICAgZm9yIChfaiA9IGo7IF9qIDwgX2pMZW47IF9qKyspIHtcbiAgICAgICAgICAgICAgaW5kZXggPSAoX2kgKiA0KSAqIGpMZW4gKyAoX2ogKiA0KTtcbiAgICAgICAgICAgICAgZGF0YVtpbmRleF0gPSByO1xuICAgICAgICAgICAgICBkYXRhW2luZGV4ICsgMV0gPSBnO1xuICAgICAgICAgICAgICBkYXRhW2luZGV4ICsgMl0gPSBiO1xuICAgICAgICAgICAgICBkYXRhW2luZGV4ICsgM10gPSBhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZSB3aGVuIHRoZSBmaWx0ZXIgaXMgbm90IGdvbm5hIGFwcGx5IGNoYW5nZXMgdG8gdGhlIGltYWdlXG4gICAgICoqL1xuICAgIGlzTmV1dHJhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmJsb2Nrc2l6ZSA9PT0gMTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIFdlYkdMIHVuaWZvcm0gbG9jYXRpb25zIGZvciB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7V2ViR0xTaGFkZXJQcm9ncmFtfSBwcm9ncmFtIFRoaXMgZmlsdGVyJ3MgY29tcGlsZWQgc2hhZGVyIHByb2dyYW0uXG4gICAgICovXG4gICAgZ2V0VW5pZm9ybUxvY2F0aW9uczogZnVuY3Rpb24oZ2wsIHByb2dyYW0pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVCbG9ja3NpemU6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndUJsb2Nrc2l6ZScpLFxuICAgICAgICB1U3RlcFc6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndVN0ZXBXJyksXG4gICAgICAgIHVTdGVwSDogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1U3RlcEgnKSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSdzIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1Mb2NhdGlvbnMgQSBtYXAgb2Ygc3RyaW5nIHVuaWZvcm0gbmFtZXMgdG8gV2ViR0xVbmlmb3JtTG9jYXRpb24gb2JqZWN0c1xuICAgICAqL1xuICAgIHNlbmRVbmlmb3JtRGF0YTogZnVuY3Rpb24oZ2wsIHVuaWZvcm1Mb2NhdGlvbnMpIHtcbiAgICAgIGdsLnVuaWZvcm0xZih1bmlmb3JtTG9jYXRpb25zLnVCbG9ja3NpemUsIHRoaXMuYmxvY2tzaXplKTtcbiAgICB9LFxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmaWx0ZXIgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIHRvIGJlIGludm9rZWQgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLlBpeGVsYXRlfSBJbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5QaXhlbGF0ZVxuICAgKi9cbiAgZmFicmljLkltYWdlLmZpbHRlcnMuUGl4ZWxhdGUuZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGV4dGVuZCA9IGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQsXG4gICAgICBmaWx0ZXJzID0gZmFicmljLkltYWdlLmZpbHRlcnMsXG4gICAgICBjcmVhdGVDbGFzcyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzO1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgd2hpdGUgZmlsdGVyIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5SZW1vdmVDb2xvclxuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuSW1hZ2UuZmlsdGVycy5SZW1vdmVDb2xvciNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKiBAc2VlIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ltYWdlLWZpbHRlcnN8SW1hZ2VGaWx0ZXJzIGRlbW99XG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuUmVtb3ZlQ29sb3Ioe1xuICAgKiAgIHRocmVzaG9sZDogMC4yLFxuICAgKiB9KTtcbiAgICogb2JqZWN0LmZpbHRlcnMucHVzaChmaWx0ZXIpO1xuICAgKiBvYmplY3QuYXBwbHlGaWx0ZXJzKCk7XG4gICAqIGNhbnZhcy5yZW5kZXJBbGwoKTtcbiAgICovXG4gIGZpbHRlcnMuUmVtb3ZlQ29sb3IgPSBjcmVhdGVDbGFzcyhmaWx0ZXJzLkJhc2VGaWx0ZXIsIC8qKiBAbGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuUmVtb3ZlQ29sb3IucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIEZpbHRlciB0eXBlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICdSZW1vdmVDb2xvcicsXG5cbiAgICAvKipcbiAgICAgKiBDb2xvciB0byByZW1vdmUsIGluIGFueSBmb3JtYXQgdW5kZXJzdG9vZCBieSBmYWJyaWMuQ29sb3IuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGNvbG9yOiAnI0ZGRkZGRicsXG5cbiAgICAvKipcbiAgICAgKiBGcmFnbWVudCBzb3VyY2UgZm9yIHRoZSBicmlnaHRuZXNzIHByb2dyYW1cbiAgICAgKi9cbiAgICBmcmFnbWVudFNvdXJjZTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4nICtcbiAgICAgICd1bmlmb3JtIHZlYzQgdUxvdztcXG4nICtcbiAgICAgICd1bmlmb3JtIHZlYzQgdUhpZ2g7XFxuJyArXG4gICAgICAndmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG4nICtcbiAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICdnbF9GcmFnQ29sb3IgPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCk7XFxuJyArXG4gICAgICAgICdpZihhbGwoZ3JlYXRlclRoYW4oZ2xfRnJhZ0NvbG9yLnJnYix1TG93LnJnYikpICYmIGFsbChncmVhdGVyVGhhbih1SGlnaC5yZ2IsZ2xfRnJhZ0NvbG9yLnJnYikpKSB7XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvci5hID0gMC4wO1xcbicgK1xuICAgICAgICAnfVxcbicgK1xuICAgICAgJ30nLFxuXG4gICAgLyoqXG4gICAgICogZGlzdGFuY2UgdG8gYWN0dWFsIGNvbG9yLCBhcyB2YWx1ZSB1cCBvciBkb3duIGZyb20gZWFjaCByLGcsYlxuICAgICAqIGJldHdlZW4gMCBhbmQgMVxuICAgICAqKi9cbiAgICBkaXN0YW5jZTogMC4wMixcblxuICAgIC8qKlxuICAgICAqIEZvciBjb2xvciB0byByZW1vdmUgaW5zaWRlIGRpc3RhbmNlLCB1c2UgYWxwaGEgY2hhbm5lbCBmb3IgYSBzbW9vdGhlciBkZWxldGlvblxuICAgICAqIE5PVCBJTVBMRU1FTlRFRCBZRVRcbiAgICAgKiovXG4gICAgdXNlQWxwaGE6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnMuUmVtb3ZlV2hpdGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5jb2xvcj0jUlJHR0JCXSBUaHJlc2hvbGQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW29wdGlvbnMuZGlzdGFuY2U9MTBdIERpc3RhbmNlIHZhbHVlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGZpbHRlciB0byBjYW52YXMgZWxlbWVudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjYW52YXNFbCBDYW52YXMgZWxlbWVudCB0byBhcHBseSBmaWx0ZXIgdG9cbiAgICAgKi9cbiAgICBhcHBseVRvMmQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBpbWFnZURhdGEgPSBvcHRpb25zLmltYWdlRGF0YSxcbiAgICAgICAgICBkYXRhID0gaW1hZ2VEYXRhLmRhdGEsIGksXG4gICAgICAgICAgZGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlICogMjU1LFxuICAgICAgICAgIHIsIGcsIGIsXG4gICAgICAgICAgc291cmNlID0gbmV3IGZhYnJpYy5Db2xvcih0aGlzLmNvbG9yKS5nZXRTb3VyY2UoKSxcbiAgICAgICAgICBsb3dDID0gW1xuICAgICAgICAgICAgc291cmNlWzBdIC0gZGlzdGFuY2UsXG4gICAgICAgICAgICBzb3VyY2VbMV0gLSBkaXN0YW5jZSxcbiAgICAgICAgICAgIHNvdXJjZVsyXSAtIGRpc3RhbmNlLFxuICAgICAgICAgIF0sXG4gICAgICAgICAgaGlnaEMgPSBbXG4gICAgICAgICAgICBzb3VyY2VbMF0gKyBkaXN0YW5jZSxcbiAgICAgICAgICAgIHNvdXJjZVsxXSArIGRpc3RhbmNlLFxuICAgICAgICAgICAgc291cmNlWzJdICsgZGlzdGFuY2UsXG4gICAgICAgICAgXTtcblxuXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkgKz0gNCkge1xuICAgICAgICByID0gZGF0YVtpXTtcbiAgICAgICAgZyA9IGRhdGFbaSArIDFdO1xuICAgICAgICBiID0gZGF0YVtpICsgMl07XG5cbiAgICAgICAgaWYgKHIgPiBsb3dDWzBdICYmXG4gICAgICAgICAgICBnID4gbG93Q1sxXSAmJlxuICAgICAgICAgICAgYiA+IGxvd0NbMl0gJiZcbiAgICAgICAgICAgIHIgPCBoaWdoQ1swXSAmJlxuICAgICAgICAgICAgZyA8IGhpZ2hDWzFdICYmXG4gICAgICAgICAgICBiIDwgaGlnaENbMl0pIHtcbiAgICAgICAgICBkYXRhW2kgKyAzXSA9IDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIFdlYkdMIHVuaWZvcm0gbG9jYXRpb25zIGZvciB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7V2ViR0xTaGFkZXJQcm9ncmFtfSBwcm9ncmFtIFRoaXMgZmlsdGVyJ3MgY29tcGlsZWQgc2hhZGVyIHByb2dyYW0uXG4gICAgICovXG4gICAgZ2V0VW5pZm9ybUxvY2F0aW9uczogZnVuY3Rpb24oZ2wsIHByb2dyYW0pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVMb3c6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndUxvdycpLFxuICAgICAgICB1SGlnaDogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1SGlnaCcpLFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VuZCBkYXRhIGZyb20gdGhpcyBmaWx0ZXIgdG8gaXRzIHNoYWRlciBwcm9ncmFtJ3MgdW5pZm9ybXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdW5pZm9ybUxvY2F0aW9ucyBBIG1hcCBvZiBzdHJpbmcgdW5pZm9ybSBuYW1lcyB0byBXZWJHTFVuaWZvcm1Mb2NhdGlvbiBvYmplY3RzXG4gICAgICovXG4gICAgc2VuZFVuaWZvcm1EYXRhOiBmdW5jdGlvbihnbCwgdW5pZm9ybUxvY2F0aW9ucykge1xuICAgICAgdmFyIHNvdXJjZSA9IG5ldyBmYWJyaWMuQ29sb3IodGhpcy5jb2xvcikuZ2V0U291cmNlKCksXG4gICAgICAgICAgZGlzdGFuY2UgPSBwYXJzZUZsb2F0KHRoaXMuZGlzdGFuY2UpLFxuICAgICAgICAgIGxvd0MgPSBbXG4gICAgICAgICAgICAwICsgc291cmNlWzBdIC8gMjU1IC0gZGlzdGFuY2UsXG4gICAgICAgICAgICAwICsgc291cmNlWzFdIC8gMjU1IC0gZGlzdGFuY2UsXG4gICAgICAgICAgICAwICsgc291cmNlWzJdIC8gMjU1IC0gZGlzdGFuY2UsXG4gICAgICAgICAgICAxXG4gICAgICAgICAgXSxcbiAgICAgICAgICBoaWdoQyA9IFtcbiAgICAgICAgICAgIHNvdXJjZVswXSAvIDI1NSArIGRpc3RhbmNlLFxuICAgICAgICAgICAgc291cmNlWzFdIC8gMjU1ICsgZGlzdGFuY2UsXG4gICAgICAgICAgICBzb3VyY2VbMl0gLyAyNTUgKyBkaXN0YW5jZSxcbiAgICAgICAgICAgIDFcbiAgICAgICAgICBdO1xuICAgICAgZ2wudW5pZm9ybTRmdih1bmlmb3JtTG9jYXRpb25zLnVMb3csIGxvd0MpO1xuICAgICAgZ2wudW5pZm9ybTRmdih1bmlmb3JtTG9jYXRpb25zLnVIaWdoLCBoaWdoQyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gZXh0ZW5kKHRoaXMuY2FsbFN1cGVyKCd0b09iamVjdCcpLCB7XG4gICAgICAgIGNvbG9yOiB0aGlzLmNvbG9yLFxuICAgICAgICBkaXN0YW5jZTogdGhpcy5kaXN0YW5jZVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmaWx0ZXIgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIHRvIGJlIGludm9rZWQgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLlJlbW92ZUNvbG9yfSBJbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5SZW1vdmVXaGl0ZVxuICAgKi9cbiAgZmFicmljLkltYWdlLmZpbHRlcnMuUmVtb3ZlQ29sb3IuZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgdmFyIG1hdHJpY2VzID0ge1xuICAgIEJyb3duaWU6IFtcbiAgICAgIDAuNTk5NzAsMC4zNDU1MywtMC4yNzA4MiwwLDAuMTg2LFxuICAgICAgLTAuMDM3NzAsMC44NjA5NSwwLjE1MDU5LDAsLTAuMTQ0OSxcbiAgICAgIDAuMjQxMTMsLTAuMDc0NDEsMC40NDk3MiwwLC0wLjAyOTY1LFxuICAgICAgMCwwLDAsMSwwXG4gICAgXSxcbiAgICBWaW50YWdlOiBbXG4gICAgICAwLjYyNzkzLDAuMzIwMjEsLTAuMDM5NjUsMCwwLjAzNzg0LFxuICAgICAgMC4wMjU3OCwwLjY0NDExLDAuMDMyNTksMCwwLjAyOTI2LFxuICAgICAgMC4wNDY2MCwtMC4wODUxMiwwLjUyNDE2LDAsMC4wMjAyMyxcbiAgICAgIDAsMCwwLDEsMFxuICAgIF0sXG4gICAgS29kYWNocm9tZTogW1xuICAgICAgMS4xMjg1NSwtMC4zOTY3MywtMC4wMzk5MiwwLDAuMjQ5OTEsXG4gICAgICAtMC4xNjQwNCwxLjA4MzUyLC0wLjA1NDk4LDAsMC4wOTY5OCxcbiAgICAgIC0wLjE2Nzg2LC0wLjU2MDM0LDEuNjAxNDgsMCwwLjEzOTcyLFxuICAgICAgMCwwLDAsMSwwXG4gICAgXSxcbiAgICBUZWNobmljb2xvcjogW1xuICAgICAgMS45MTI1MiwtMC44NTQ1MywtMC4wOTE1NSwwLDAuMDQ2MjQsXG4gICAgICAtMC4zMDg3OCwxLjc2NTg5LC0wLjEwNjAxLDAsLTAuMjc1ODksXG4gICAgICAtMC4yMzExMCwtMC43NTAxOCwxLjg0NzU5LDAsMC4xMjEzNyxcbiAgICAgIDAsMCwwLDEsMFxuICAgIF0sXG4gICAgUG9sYXJvaWQ6IFtcbiAgICAgIDEuNDM4LC0wLjA2MiwtMC4wNjIsMCwwLFxuICAgICAgLTAuMTIyLDEuMzc4LC0wLjEyMiwwLDAsXG4gICAgICAtMC4wMTYsLTAuMDE2LDEuNDgzLDAsMCxcbiAgICAgIDAsMCwwLDEsMFxuICAgIF0sXG4gICAgU2VwaWE6IFtcbiAgICAgIDAuMzkzLCAwLjc2OSwgMC4xODksIDAsIDAsXG4gICAgICAwLjM0OSwgMC42ODYsIDAuMTY4LCAwLCAwLFxuICAgICAgMC4yNzIsIDAuNTM0LCAwLjEzMSwgMCwgMCxcbiAgICAgIDAsIDAsIDAsIDEsIDBcbiAgICBdLFxuICAgIEJsYWNrV2hpdGU6IFtcbiAgICAgIDEuNSwgMS41LCAxLjUsIDAsIC0xLFxuICAgICAgMS41LCAxLjUsIDEuNSwgMCwgLTEsXG4gICAgICAxLjUsIDEuNSwgMS41LCAwLCAtMSxcbiAgICAgIDAsIDAsIDAsIDEsIDAsXG4gICAgXVxuICB9O1xuXG4gIGZvciAodmFyIGtleSBpbiBtYXRyaWNlcykge1xuICAgIGZpbHRlcnNba2V5XSA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQ29sb3JNYXRyaXgsIC8qKiBAbGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuU2VwaWEucHJvdG90eXBlICovIHtcblxuICAgICAgLyoqXG4gICAgICAgKiBGaWx0ZXIgdHlwZVxuICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICAgICAqIEBkZWZhdWx0XG4gICAgICAgKi9cbiAgICAgIHR5cGU6IGtleSxcblxuICAgICAgLyoqXG4gICAgICAgKiBDb2xvcm1hdHJpeCBmb3IgdGhlIGVmZmVjdFxuICAgICAgICogYXJyYXkgb2YgMjAgZmxvYXRzLiBOdW1iZXJzIGluIHBvc2l0aW9ucyA0LCA5LCAxNCwgMTkgbG9vc2UgbWVhbmluZ1xuICAgICAgICogb3V0c2lkZSB0aGUgLTEsIDEgcmFuZ2UuXG4gICAgICAgKiBAcGFyYW0ge0FycmF5fSBtYXRyaXggYXJyYXkgb2YgMjAgbnVtYmVycy5cbiAgICAgICAqIEBkZWZhdWx0XG4gICAgICAgKi9cbiAgICAgIG1hdHJpeDogbWF0cmljZXNba2V5XSxcblxuICAgICAgLyoqXG4gICAgICAgKiBMb2NrIHRoZSBtYXRyaXggZXhwb3J0IGZvciB0aGlzIGtpbmQgb2Ygc3RhdGljLCBwYXJhbWV0ZXIgbGVzcyBmaWx0ZXJzLlxuICAgICAgICovXG4gICAgICBtYWluUGFyYW1ldGVyOiBmYWxzZSxcbiAgICAgIC8qKlxuICAgICAgICogTG9jayB0aGUgY29sb3JtYXRyaXggb24gdGhlIGNvbG9yIHBhcnQsIHNraXBwaW5nIGFscGhhXG4gICAgICAgKi9cbiAgICAgIGNvbG9yc09ubHk6IHRydWUsXG5cbiAgICB9KTtcbiAgICBmYWJyaWMuSW1hZ2UuZmlsdGVyc1trZXldLmZyb21PYmplY3QgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyLmZyb21PYmplY3Q7XG4gIH1cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIENvbG9yIEJsZW5kIGZpbHRlciBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlLmZpbHRlci5CbGVuZENvbG9yXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVyc1xuICAgKiBAZXh0ZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyXG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuQmxlbmRDb2xvcih7XG4gICAqICBjb2xvcjogJyMwMDAnLFxuICAgKiAgbW9kZTogJ211bHRpcGx5J1xuICAgKiB9KTtcbiAgICpcbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CbGVuZEltYWdlKHtcbiAgICogIGltYWdlOiBmYWJyaWNJbWFnZU9iamVjdCxcbiAgICogIG1vZGU6ICdtdWx0aXBseScsXG4gICAqICBhbHBoYTogMC41XG4gICAqIH0pO1xuICAgKiBvYmplY3QuZmlsdGVycy5wdXNoKGZpbHRlcik7XG4gICAqIG9iamVjdC5hcHBseUZpbHRlcnMoKTtcbiAgICogY2FudmFzLnJlbmRlckFsbCgpO1xuICAgKi9cblxuICBmaWx0ZXJzLkJsZW5kQ29sb3IgPSBjcmVhdGVDbGFzcyhmaWx0ZXJzLkJhc2VGaWx0ZXIsIC8qKiBAbGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmxlbmQucHJvdG90eXBlICovIHtcbiAgICB0eXBlOiAnQmxlbmRDb2xvcicsXG5cbiAgICAvKipcbiAgICAgKiBDb2xvciB0byBtYWtlIHRoZSBibGVuZCBvcGVyYXRpb24gd2l0aC4gZGVmYXVsdCB0byBhIHJlZGRpc2ggY29sb3Igc2luY2UgYmxhY2sgb3Igd2hpdGVcbiAgICAgKiBnaXZlcyBhbHdheXMgc3Ryb25nIHJlc3VsdC5cbiAgICAgKiovXG4gICAgY29sb3I6ICcjRjk1QzYzJyxcblxuICAgIC8qKlxuICAgICAqIEJsZW5kIG1vZGUgZm9yIHRoZSBmaWx0ZXI6IG9uZSBvZiBtdWx0aXBseSwgYWRkLCBkaWZmLCBzY3JlZW4sIHN1YnRyYWN0LFxuICAgICAqIGRhcmtlbiwgbGlnaHRlbiwgb3ZlcmxheSwgZXhjbHVzaW9uLCB0aW50LlxuICAgICAqKi9cbiAgICBtb2RlOiAnbXVsdGlwbHknLFxuXG4gICAgLyoqXG4gICAgICogYWxwaGEgdmFsdWUuIHJlcHJlc2VudCB0aGUgc3RyZW5ndGggb2YgdGhlIGJsZW5kIGNvbG9yIG9wZXJhdGlvbi5cbiAgICAgKiovXG4gICAgYWxwaGE6IDEsXG5cbiAgICAvKipcbiAgICAgKiBGcmFnbWVudCBzb3VyY2UgZm9yIHRoZSBNdWx0aXBseSBwcm9ncmFtXG4gICAgICovXG4gICAgZnJhZ21lbnRTb3VyY2U6IHtcbiAgICAgIG11bHRpcGx5OiAnZ2xfRnJhZ0NvbG9yLnJnYiAqPSB1Q29sb3IucmdiO1xcbicsXG4gICAgICBzY3JlZW46ICdnbF9GcmFnQ29sb3IucmdiID0gMS4wIC0gKDEuMCAtIGdsX0ZyYWdDb2xvci5yZ2IpICogKDEuMCAtIHVDb2xvci5yZ2IpO1xcbicsXG4gICAgICBhZGQ6ICdnbF9GcmFnQ29sb3IucmdiICs9IHVDb2xvci5yZ2I7XFxuJyxcbiAgICAgIGRpZmY6ICdnbF9GcmFnQ29sb3IucmdiID0gYWJzKGdsX0ZyYWdDb2xvci5yZ2IgLSB1Q29sb3IucmdiKTtcXG4nLFxuICAgICAgc3VidHJhY3Q6ICdnbF9GcmFnQ29sb3IucmdiIC09IHVDb2xvci5yZ2I7XFxuJyxcbiAgICAgIGxpZ2h0ZW46ICdnbF9GcmFnQ29sb3IucmdiID0gbWF4KGdsX0ZyYWdDb2xvci5yZ2IsIHVDb2xvci5yZ2IpO1xcbicsXG4gICAgICBkYXJrZW46ICdnbF9GcmFnQ29sb3IucmdiID0gbWluKGdsX0ZyYWdDb2xvci5yZ2IsIHVDb2xvci5yZ2IpO1xcbicsXG4gICAgICBleGNsdXNpb246ICdnbF9GcmFnQ29sb3IucmdiICs9IHVDb2xvci5yZ2IgLSAyLjAgKiAodUNvbG9yLnJnYiAqIGdsX0ZyYWdDb2xvci5yZ2IpO1xcbicsXG4gICAgICBvdmVybGF5OiAnaWYgKHVDb2xvci5yIDwgMC41KSB7XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvci5yICo9IDIuMCAqIHVDb2xvci5yO1xcbicgK1xuICAgICAgICAnfSBlbHNlIHtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yLnIgPSAxLjAgLSAyLjAgKiAoMS4wIC0gZ2xfRnJhZ0NvbG9yLnIpICogKDEuMCAtIHVDb2xvci5yKTtcXG4nICtcbiAgICAgICAgJ31cXG4nICtcbiAgICAgICAgJ2lmICh1Q29sb3IuZyA8IDAuNSkge1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IuZyAqPSAyLjAgKiB1Q29sb3IuZztcXG4nICtcbiAgICAgICAgJ30gZWxzZSB7XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvci5nID0gMS4wIC0gMi4wICogKDEuMCAtIGdsX0ZyYWdDb2xvci5nKSAqICgxLjAgLSB1Q29sb3IuZyk7XFxuJyArXG4gICAgICAgICd9XFxuJyArXG4gICAgICAgICdpZiAodUNvbG9yLmIgPCAwLjUpIHtcXG4nICtcbiAgICAgICAgICAnZ2xfRnJhZ0NvbG9yLmIgKj0gMi4wICogdUNvbG9yLmI7XFxuJyArXG4gICAgICAgICd9IGVsc2Uge1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IuYiA9IDEuMCAtIDIuMCAqICgxLjAgLSBnbF9GcmFnQ29sb3IuYikgKiAoMS4wIC0gdUNvbG9yLmIpO1xcbicgK1xuICAgICAgICAnfVxcbicsXG4gICAgICB0aW50OiAnZ2xfRnJhZ0NvbG9yLnJnYiAqPSAoMS4wIC0gdUNvbG9yLmEpO1xcbicgK1xuICAgICAgICAnZ2xfRnJhZ0NvbG9yLnJnYiArPSB1Q29sb3IucmdiO1xcbicsXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGJ1aWxkIHRoZSBmcmFnbWVudCBzb3VyY2UgZm9yIHRoZSBmaWx0ZXJzLCBqb2luaW5nIHRoZSBjb21tb24gcGFydCB3aXRoXG4gICAgICogdGhlIHNwZWNpZmljIG9uZS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbW9kZSB0aGUgbW9kZSBvZiB0aGUgZmlsdGVyLCBhIGtleSBvZiB0aGlzLmZyYWdtZW50U291cmNlXG4gICAgICogQHJldHVybiB7U3RyaW5nfSB0aGUgc291cmNlIHRvIGJlIGNvbXBpbGVkXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBidWlsZFNvdXJjZTogZnVuY3Rpb24obW9kZSkge1xuICAgICAgcmV0dXJuICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gdmVjNCB1Q29sb3I7XFxuJyArXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICd2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbicgK1xuICAgICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICAgICAnaWYgKGNvbG9yLmEgPiAwLjApIHtcXG4nICtcbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRTb3VyY2VbbW9kZV0gK1xuICAgICAgICAgICd9XFxuJyArXG4gICAgICAgICd9JztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBjYWNoZWQgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IG9wdGlvbnMuY29udGV4dCBUaGUgR0wgY29udGV4dCB1c2VkIGZvciByZW5kZXJpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMucHJvZ3JhbUNhY2hlIEEgbWFwIG9mIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtcywga2V5ZWQgYnkgZmlsdGVyIHR5cGUuXG4gICAgICovXG4gICAgcmV0cmlldmVTaGFkZXI6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBjYWNoZUtleSA9IHRoaXMudHlwZSArICdfJyArIHRoaXMubW9kZSwgc2hhZGVyU291cmNlO1xuICAgICAgaWYgKCFvcHRpb25zLnByb2dyYW1DYWNoZS5oYXNPd25Qcm9wZXJ0eShjYWNoZUtleSkpIHtcbiAgICAgICAgc2hhZGVyU291cmNlID0gdGhpcy5idWlsZFNvdXJjZSh0aGlzLm1vZGUpO1xuICAgICAgICBvcHRpb25zLnByb2dyYW1DYWNoZVtjYWNoZUtleV0gPSB0aGlzLmNyZWF0ZVByb2dyYW0ob3B0aW9ucy5jb250ZXh0LCBzaGFkZXJTb3VyY2UpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9wdGlvbnMucHJvZ3JhbUNhY2hlW2NhY2hlS2V5XTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXBwbHkgdGhlIEJsZW5kIG9wZXJhdGlvbiB0byBhIFVpbnQ4Q2xhbXBlZEFycmF5IHJlcHJlc2VudGluZyB0aGUgcGl4ZWxzIG9mIGFuIGltYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge0ltYWdlRGF0YX0gb3B0aW9ucy5pbWFnZURhdGEgVGhlIFVpbnQ4Q2xhbXBlZEFycmF5IHRvIGJlIGZpbHRlcmVkLlxuICAgICAqL1xuICAgIGFwcGx5VG8yZDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIGltYWdlRGF0YSA9IG9wdGlvbnMuaW1hZ2VEYXRhLFxuICAgICAgICAgIGRhdGEgPSBpbWFnZURhdGEuZGF0YSwgaUxlbiA9IGRhdGEubGVuZ3RoLFxuICAgICAgICAgIHRyLCB0ZywgdGIsXG4gICAgICAgICAgciwgZywgYixcbiAgICAgICAgICBzb3VyY2UsIGFscGhhMSA9IDEgLSB0aGlzLmFscGhhO1xuXG4gICAgICBzb3VyY2UgPSBuZXcgZmFicmljLkNvbG9yKHRoaXMuY29sb3IpLmdldFNvdXJjZSgpO1xuICAgICAgdHIgPSBzb3VyY2VbMF0gKiB0aGlzLmFscGhhO1xuICAgICAgdGcgPSBzb3VyY2VbMV0gKiB0aGlzLmFscGhhO1xuICAgICAgdGIgPSBzb3VyY2VbMl0gKiB0aGlzLmFscGhhO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlMZW47IGkgKz0gNCkge1xuXG4gICAgICAgIHIgPSBkYXRhW2ldO1xuICAgICAgICBnID0gZGF0YVtpICsgMV07XG4gICAgICAgIGIgPSBkYXRhW2kgKyAyXTtcblxuICAgICAgICBzd2l0Y2ggKHRoaXMubW9kZSkge1xuICAgICAgICAgIGNhc2UgJ211bHRpcGx5JzpcbiAgICAgICAgICAgIGRhdGFbaV0gPSByICogdHIgLyAyNTU7XG4gICAgICAgICAgICBkYXRhW2kgKyAxXSA9IGcgKiB0ZyAvIDI1NTtcbiAgICAgICAgICAgIGRhdGFbaSArIDJdID0gYiAqIHRiIC8gMjU1O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnc2NyZWVuJzpcbiAgICAgICAgICAgIGRhdGFbaV0gPSAyNTUgLSAoMjU1IC0gcikgKiAoMjU1IC0gdHIpIC8gMjU1O1xuICAgICAgICAgICAgZGF0YVtpICsgMV0gPSAyNTUgLSAoMjU1IC0gZykgKiAoMjU1IC0gdGcpIC8gMjU1O1xuICAgICAgICAgICAgZGF0YVtpICsgMl0gPSAyNTUgLSAoMjU1IC0gYikgKiAoMjU1IC0gdGIpIC8gMjU1O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnYWRkJzpcbiAgICAgICAgICAgIGRhdGFbaV0gPSByICsgdHI7XG4gICAgICAgICAgICBkYXRhW2kgKyAxXSA9IGcgKyB0ZztcbiAgICAgICAgICAgIGRhdGFbaSArIDJdID0gYiArIHRiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnZGlmZic6XG4gICAgICAgICAgY2FzZSAnZGlmZmVyZW5jZSc6XG4gICAgICAgICAgICBkYXRhW2ldID0gTWF0aC5hYnMociAtIHRyKTtcbiAgICAgICAgICAgIGRhdGFbaSArIDFdID0gTWF0aC5hYnMoZyAtIHRnKTtcbiAgICAgICAgICAgIGRhdGFbaSArIDJdID0gTWF0aC5hYnMoYiAtIHRiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3N1YnRyYWN0JzpcbiAgICAgICAgICAgIGRhdGFbaV0gPSByIC0gdHI7XG4gICAgICAgICAgICBkYXRhW2kgKyAxXSA9IGcgLSB0ZztcbiAgICAgICAgICAgIGRhdGFbaSArIDJdID0gYiAtIHRiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnZGFya2VuJzpcbiAgICAgICAgICAgIGRhdGFbaV0gPSBNYXRoLm1pbihyLCB0cik7XG4gICAgICAgICAgICBkYXRhW2kgKyAxXSA9IE1hdGgubWluKGcsIHRnKTtcbiAgICAgICAgICAgIGRhdGFbaSArIDJdID0gTWF0aC5taW4oYiwgdGIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnbGlnaHRlbic6XG4gICAgICAgICAgICBkYXRhW2ldID0gTWF0aC5tYXgociwgdHIpO1xuICAgICAgICAgICAgZGF0YVtpICsgMV0gPSBNYXRoLm1heChnLCB0Zyk7XG4gICAgICAgICAgICBkYXRhW2kgKyAyXSA9IE1hdGgubWF4KGIsIHRiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ292ZXJsYXknOlxuICAgICAgICAgICAgZGF0YVtpXSA9IHRyIDwgMTI4ID8gKDIgKiByICogdHIgLyAyNTUpIDogKDI1NSAtIDIgKiAoMjU1IC0gcikgKiAoMjU1IC0gdHIpIC8gMjU1KTtcbiAgICAgICAgICAgIGRhdGFbaSArIDFdID0gdGcgPCAxMjggPyAoMiAqIGcgKiB0ZyAvIDI1NSkgOiAoMjU1IC0gMiAqICgyNTUgLSBnKSAqICgyNTUgLSB0ZykgLyAyNTUpO1xuICAgICAgICAgICAgZGF0YVtpICsgMl0gPSB0YiA8IDEyOCA/ICgyICogYiAqIHRiIC8gMjU1KSA6ICgyNTUgLSAyICogKDI1NSAtIGIpICogKDI1NSAtIHRiKSAvIDI1NSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdleGNsdXNpb24nOlxuICAgICAgICAgICAgZGF0YVtpXSA9IHRyICsgciAtICgoMiAqIHRyICogcikgLyAyNTUpO1xuICAgICAgICAgICAgZGF0YVtpICsgMV0gPSB0ZyArIGcgLSAoKDIgKiB0ZyAqIGcpIC8gMjU1KTtcbiAgICAgICAgICAgIGRhdGFbaSArIDJdID0gdGIgKyBiIC0gKCgyICogdGIgKiBiKSAvIDI1NSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICd0aW50JzpcbiAgICAgICAgICAgIGRhdGFbaV0gPSB0ciArIHIgKiBhbHBoYTE7XG4gICAgICAgICAgICBkYXRhW2kgKyAxXSA9IHRnICsgZyAqIGFscGhhMTtcbiAgICAgICAgICAgIGRhdGFbaSArIDJdID0gdGIgKyBiICogYWxwaGExO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBXZWJHTCB1bmlmb3JtIGxvY2F0aW9ucyBmb3IgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge1dlYkdMU2hhZGVyUHJvZ3JhbX0gcHJvZ3JhbSBUaGlzIGZpbHRlcidzIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtLlxuICAgICAqL1xuICAgIGdldFVuaWZvcm1Mb2NhdGlvbnM6IGZ1bmN0aW9uKGdsLCBwcm9ncmFtKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1Q29sb3I6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndUNvbG9yJyksXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGRhdGEgZnJvbSB0aGlzIGZpbHRlciB0byBpdHMgc2hhZGVyIHByb2dyYW0ncyB1bmlmb3Jtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB1bmlmb3JtTG9jYXRpb25zIEEgbWFwIG9mIHN0cmluZyB1bmlmb3JtIG5hbWVzIHRvIFdlYkdMVW5pZm9ybUxvY2F0aW9uIG9iamVjdHNcbiAgICAgKi9cbiAgICBzZW5kVW5pZm9ybURhdGE6IGZ1bmN0aW9uKGdsLCB1bmlmb3JtTG9jYXRpb25zKSB7XG4gICAgICB2YXIgc291cmNlID0gbmV3IGZhYnJpYy5Db2xvcih0aGlzLmNvbG9yKS5nZXRTb3VyY2UoKTtcbiAgICAgIHNvdXJjZVswXSA9IHRoaXMuYWxwaGEgKiBzb3VyY2VbMF0gLyAyNTU7XG4gICAgICBzb3VyY2VbMV0gPSB0aGlzLmFscGhhICogc291cmNlWzFdIC8gMjU1O1xuICAgICAgc291cmNlWzJdID0gdGhpcy5hbHBoYSAqIHNvdXJjZVsyXSAvIDI1NTtcbiAgICAgIHNvdXJjZVszXSA9IHRoaXMuYWxwaGE7XG4gICAgICBnbC51bmlmb3JtNGZ2KHVuaWZvcm1Mb2NhdGlvbnMudUNvbG9yLCBzb3VyY2UpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICBjb2xvcjogdGhpcy5jb2xvcixcbiAgICAgICAgbW9kZTogdGhpcy5tb2RlLFxuICAgICAgICBhbHBoYTogdGhpcy5hbHBoYVxuICAgICAgfTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGZpbHRlciBpbnN0YW5jZSBmcm9tIGFuIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja10gdG8gYmUgaW52b2tlZCBhZnRlciBmaWx0ZXIgY3JlYXRpb25cbiAgICogQHJldHVybiB7ZmFicmljLkltYWdlLmZpbHRlcnMuQmxlbmRDb2xvcn0gSW5zdGFuY2Ugb2YgZmFicmljLkltYWdlLmZpbHRlcnMuQmxlbmRDb2xvclxuICAgKi9cbiAgZmFicmljLkltYWdlLmZpbHRlcnMuQmxlbmRDb2xvci5mcm9tT2JqZWN0ID0gZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlci5mcm9tT2JqZWN0O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyA9IGdsb2JhbC5mYWJyaWMsXG4gICAgICBmaWx0ZXJzID0gZmFicmljLkltYWdlLmZpbHRlcnMsXG4gICAgICBjcmVhdGVDbGFzcyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzO1xuXG4gIC8qKlxuICAgKiBJbWFnZSBCbGVuZCBmaWx0ZXIgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5JbWFnZS5maWx0ZXIuQmxlbmRJbWFnZVxuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAZXhhbXBsZVxuICAgKiB2YXIgZmlsdGVyID0gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJsZW5kQ29sb3Ioe1xuICAgKiAgY29sb3I6ICcjMDAwJyxcbiAgICogIG1vZGU6ICdtdWx0aXBseSdcbiAgICogfSk7XG4gICAqXG4gICAqIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuQmxlbmRJbWFnZSh7XG4gICAqICBpbWFnZTogZmFicmljSW1hZ2VPYmplY3QsXG4gICAqICBtb2RlOiAnbXVsdGlwbHknLFxuICAgKiAgYWxwaGE6IDAuNVxuICAgKiB9KTtcbiAgICogb2JqZWN0LmZpbHRlcnMucHVzaChmaWx0ZXIpO1xuICAgKiBvYmplY3QuYXBwbHlGaWx0ZXJzKCk7XG4gICAqIGNhbnZhcy5yZW5kZXJBbGwoKTtcbiAgICovXG5cbiAgZmlsdGVycy5CbGVuZEltYWdlID0gY3JlYXRlQ2xhc3MoZmlsdGVycy5CYXNlRmlsdGVyLCAvKiogQGxlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJsZW5kSW1hZ2UucHJvdG90eXBlICovIHtcbiAgICB0eXBlOiAnQmxlbmRJbWFnZScsXG5cbiAgICAvKipcbiAgICAgKiBDb2xvciB0byBtYWtlIHRoZSBibGVuZCBvcGVyYXRpb24gd2l0aC4gZGVmYXVsdCB0byBhIHJlZGRpc2ggY29sb3Igc2luY2UgYmxhY2sgb3Igd2hpdGVcbiAgICAgKiBnaXZlcyBhbHdheXMgc3Ryb25nIHJlc3VsdC5cbiAgICAgKiovXG4gICAgaW1hZ2U6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBCbGVuZCBtb2RlIGZvciB0aGUgZmlsdGVyOiBvbmUgb2YgbXVsdGlwbHksIGFkZCwgZGlmZiwgc2NyZWVuLCBzdWJ0cmFjdCxcbiAgICAgKiBkYXJrZW4sIGxpZ2h0ZW4sIG92ZXJsYXksIGV4Y2x1c2lvbiwgdGludC5cbiAgICAgKiovXG4gICAgbW9kZTogJ211bHRpcGx5JyxcblxuICAgIC8qKlxuICAgICAqIGFscGhhIHZhbHVlLiByZXByZXNlbnQgdGhlIHN0cmVuZ3RoIG9mIHRoZSBibGVuZCBpbWFnZSBvcGVyYXRpb24uXG4gICAgICogbm90IGltcGxlbWVudGVkLlxuICAgICAqKi9cbiAgICBhbHBoYTogMSxcblxuICAgIHZlcnRleFNvdXJjZTogJ2F0dHJpYnV0ZSB2ZWMyIGFQb3NpdGlvbjtcXG4nICtcbiAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQyO1xcbicgK1xuICAgICAgJ3VuaWZvcm0gbWF0MyB1VHJhbnNmb3JtTWF0cml4O1xcbicgK1xuICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgJ3ZUZXhDb29yZCA9IGFQb3NpdGlvbjtcXG4nICtcbiAgICAgICAgJ3ZUZXhDb29yZDIgPSAodVRyYW5zZm9ybU1hdHJpeCAqIHZlYzMoYVBvc2l0aW9uLCAxLjApKS54eTtcXG4nICtcbiAgICAgICAgJ2dsX1Bvc2l0aW9uID0gdmVjNChhUG9zaXRpb24gKiAyLjAgLSAxLjAsIDAuMCwgMS4wKTtcXG4nICtcbiAgICAgICd9JyxcblxuICAgIC8qKlxuICAgICAqIEZyYWdtZW50IHNvdXJjZSBmb3IgdGhlIE11bHRpcGx5IHByb2dyYW1cbiAgICAgKi9cbiAgICBmcmFnbWVudFNvdXJjZToge1xuICAgICAgbXVsdGlwbHk6ICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVJbWFnZTtcXG4nICtcbiAgICAgICAgJ3VuaWZvcm0gdmVjNCB1Q29sb3I7XFxuJyArXG4gICAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicgK1xuICAgICAgICAndmFyeWluZyB2ZWMyIHZUZXhDb29yZDI7XFxuJyArXG4gICAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICAgJ3ZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCk7XFxuJyArXG4gICAgICAgICAgJ3ZlYzQgY29sb3IyID0gdGV4dHVyZTJEKHVJbWFnZSwgdlRleENvb3JkMik7XFxuJyArXG4gICAgICAgICAgJ2NvbG9yLnJnYmEgKj0gY29sb3IyLnJnYmE7XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbicgK1xuICAgICAgICAnfScsXG4gICAgICBtYXNrOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1SW1hZ2U7XFxuJyArXG4gICAgICAgICd1bmlmb3JtIHZlYzQgdUNvbG9yO1xcbicgK1xuICAgICAgICAndmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG4nICtcbiAgICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQyO1xcbicgK1xuICAgICAgICAndm9pZCBtYWluKCkge1xcbicgK1xuICAgICAgICAgICd2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbicgK1xuICAgICAgICAgICd2ZWM0IGNvbG9yMiA9IHRleHR1cmUyRCh1SW1hZ2UsIHZUZXhDb29yZDIpO1xcbicgK1xuICAgICAgICAgICdjb2xvci5hID0gY29sb3IyLmE7XFxuJyArXG4gICAgICAgICAgJ2dsX0ZyYWdDb2xvciA9IGNvbG9yO1xcbicgK1xuICAgICAgICAnfScsXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgY2FjaGVkIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBvcHRpb25zLmNvbnRleHQgVGhlIEdMIGNvbnRleHQgdXNlZCBmb3IgcmVuZGVyaW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zLnByb2dyYW1DYWNoZSBBIG1hcCBvZiBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbXMsIGtleWVkIGJ5IGZpbHRlciB0eXBlLlxuICAgICAqL1xuICAgIHJldHJpZXZlU2hhZGVyOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB2YXIgY2FjaGVLZXkgPSB0aGlzLnR5cGUgKyAnXycgKyB0aGlzLm1vZGU7XG4gICAgICB2YXIgc2hhZGVyU291cmNlID0gdGhpcy5mcmFnbWVudFNvdXJjZVt0aGlzLm1vZGVdO1xuICAgICAgaWYgKCFvcHRpb25zLnByb2dyYW1DYWNoZS5oYXNPd25Qcm9wZXJ0eShjYWNoZUtleSkpIHtcbiAgICAgICAgb3B0aW9ucy5wcm9ncmFtQ2FjaGVbY2FjaGVLZXldID0gdGhpcy5jcmVhdGVQcm9ncmFtKG9wdGlvbnMuY29udGV4dCwgc2hhZGVyU291cmNlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvcHRpb25zLnByb2dyYW1DYWNoZVtjYWNoZUtleV07XG4gICAgfSxcblxuICAgIGFwcGx5VG9XZWJHTDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgLy8gbG9hZCB0ZXh0dXJlIHRvIGJsZW5kLlxuICAgICAgdmFyIGdsID0gb3B0aW9ucy5jb250ZXh0LFxuICAgICAgICAgIHRleHR1cmUgPSB0aGlzLmNyZWF0ZVRleHR1cmUob3B0aW9ucy5maWx0ZXJCYWNrZW5kLCB0aGlzLmltYWdlKTtcbiAgICAgIHRoaXMuYmluZEFkZGl0aW9uYWxUZXh0dXJlKGdsLCB0ZXh0dXJlLCBnbC5URVhUVVJFMSk7XG4gICAgICB0aGlzLmNhbGxTdXBlcignYXBwbHlUb1dlYkdMJywgb3B0aW9ucyk7XG4gICAgICB0aGlzLnVuYmluZEFkZGl0aW9uYWxUZXh0dXJlKGdsLCBnbC5URVhUVVJFMSk7XG4gICAgfSxcblxuICAgIGNyZWF0ZVRleHR1cmU6IGZ1bmN0aW9uKGJhY2tlbmQsIGltYWdlKSB7XG4gICAgICByZXR1cm4gYmFja2VuZC5nZXRDYWNoZWRUZXh0dXJlKGltYWdlLmNhY2hlS2V5LCBpbWFnZS5fZWxlbWVudCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBhIHRyYW5zZm9ybU1hdHJpeCB0byBhZGFwdCB0aGUgaW1hZ2UgdG8gYmxlbmQgb3ZlclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IG9wdGlvbnMuY29udGV4dCBUaGUgR0wgY29udGV4dCB1c2VkIGZvciByZW5kZXJpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMucHJvZ3JhbUNhY2hlIEEgbWFwIG9mIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtcywga2V5ZWQgYnkgZmlsdGVyIHR5cGUuXG4gICAgICovXG4gICAgY2FsY3VsYXRlTWF0cml4OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2UsXG4gICAgICAgICAgd2lkdGggPSBpbWFnZS5fZWxlbWVudC53aWR0aCxcbiAgICAgICAgICBoZWlnaHQgPSBpbWFnZS5fZWxlbWVudC5oZWlnaHQ7XG4gICAgICByZXR1cm4gW1xuICAgICAgICAxIC8gaW1hZ2Uuc2NhbGVYLCAwLCAwLFxuICAgICAgICAwLCAxIC8gaW1hZ2Uuc2NhbGVZLCAwLFxuICAgICAgICAtaW1hZ2UubGVmdCAvIHdpZHRoLCAtaW1hZ2UudG9wIC8gaGVpZ2h0LCAxXG4gICAgICBdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBcHBseSB0aGUgQmxlbmQgb3BlcmF0aW9uIHRvIGEgVWludDhDbGFtcGVkQXJyYXkgcmVwcmVzZW50aW5nIHRoZSBwaXhlbHMgb2YgYW4gaW1hZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7SW1hZ2VEYXRhfSBvcHRpb25zLmltYWdlRGF0YSBUaGUgVWludDhDbGFtcGVkQXJyYXkgdG8gYmUgZmlsdGVyZWQuXG4gICAgICovXG4gICAgYXBwbHlUbzJkOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gb3B0aW9ucy5pbWFnZURhdGEsXG4gICAgICAgICAgcmVzb3VyY2VzID0gb3B0aW9ucy5maWx0ZXJCYWNrZW5kLnJlc291cmNlcyxcbiAgICAgICAgICBkYXRhID0gaW1hZ2VEYXRhLmRhdGEsIGlMZW4gPSBkYXRhLmxlbmd0aCxcbiAgICAgICAgICB3aWR0aCA9IGltYWdlRGF0YS53aWR0aCxcbiAgICAgICAgICBoZWlnaHQgPSBpbWFnZURhdGEuaGVpZ2h0LFxuICAgICAgICAgIHRyLCB0ZywgdGIsIHRhLFxuICAgICAgICAgIHIsIGcsIGIsIGEsXG4gICAgICAgICAgY2FudmFzMSwgY29udGV4dCwgaW1hZ2UgPSB0aGlzLmltYWdlLCBibGVuZERhdGE7XG5cbiAgICAgIGlmICghcmVzb3VyY2VzLmJsZW5kSW1hZ2UpIHtcbiAgICAgICAgcmVzb3VyY2VzLmJsZW5kSW1hZ2UgPSBmYWJyaWMudXRpbC5jcmVhdGVDYW52YXNFbGVtZW50KCk7XG4gICAgICB9XG4gICAgICBjYW52YXMxID0gcmVzb3VyY2VzLmJsZW5kSW1hZ2U7XG4gICAgICBjb250ZXh0ID0gY2FudmFzMS5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgaWYgKGNhbnZhczEud2lkdGggIT09IHdpZHRoIHx8IGNhbnZhczEuaGVpZ2h0ICE9PSBoZWlnaHQpIHtcbiAgICAgICAgY2FudmFzMS53aWR0aCA9IHdpZHRoO1xuICAgICAgICBjYW52YXMxLmhlaWdodCA9IGhlaWdodDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIH1cbiAgICAgIGNvbnRleHQuc2V0VHJhbnNmb3JtKGltYWdlLnNjYWxlWCwgMCwgMCwgaW1hZ2Uuc2NhbGVZLCBpbWFnZS5sZWZ0LCBpbWFnZS50b3ApO1xuICAgICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UuX2VsZW1lbnQsIDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgYmxlbmREYXRhID0gY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgd2lkdGgsIGhlaWdodCkuZGF0YTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaUxlbjsgaSArPSA0KSB7XG5cbiAgICAgICAgciA9IGRhdGFbaV07XG4gICAgICAgIGcgPSBkYXRhW2kgKyAxXTtcbiAgICAgICAgYiA9IGRhdGFbaSArIDJdO1xuICAgICAgICBhID0gZGF0YVtpICsgM107XG5cbiAgICAgICAgdHIgPSBibGVuZERhdGFbaV07XG4gICAgICAgIHRnID0gYmxlbmREYXRhW2kgKyAxXTtcbiAgICAgICAgdGIgPSBibGVuZERhdGFbaSArIDJdO1xuICAgICAgICB0YSA9IGJsZW5kRGF0YVtpICsgM107XG5cbiAgICAgICAgc3dpdGNoICh0aGlzLm1vZGUpIHtcbiAgICAgICAgICBjYXNlICdtdWx0aXBseSc6XG4gICAgICAgICAgICBkYXRhW2ldID0gciAqIHRyIC8gMjU1O1xuICAgICAgICAgICAgZGF0YVtpICsgMV0gPSBnICogdGcgLyAyNTU7XG4gICAgICAgICAgICBkYXRhW2kgKyAyXSA9IGIgKiB0YiAvIDI1NTtcbiAgICAgICAgICAgIGRhdGFbaSArIDNdID0gYSAqIHRhIC8gMjU1O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnbWFzayc6XG4gICAgICAgICAgICBkYXRhW2kgKyAzXSA9IHRhO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIFdlYkdMIHVuaWZvcm0gbG9jYXRpb25zIGZvciB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7V2ViR0xTaGFkZXJQcm9ncmFtfSBwcm9ncmFtIFRoaXMgZmlsdGVyJ3MgY29tcGlsZWQgc2hhZGVyIHByb2dyYW0uXG4gICAgICovXG4gICAgZ2V0VW5pZm9ybUxvY2F0aW9uczogZnVuY3Rpb24oZ2wsIHByb2dyYW0pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVUcmFuc2Zvcm1NYXRyaXg6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndVRyYW5zZm9ybU1hdHJpeCcpLFxuICAgICAgICB1SW1hZ2U6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndUltYWdlJyksXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGRhdGEgZnJvbSB0aGlzIGZpbHRlciB0byBpdHMgc2hhZGVyIHByb2dyYW0ncyB1bmlmb3Jtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB1bmlmb3JtTG9jYXRpb25zIEEgbWFwIG9mIHN0cmluZyB1bmlmb3JtIG5hbWVzIHRvIFdlYkdMVW5pZm9ybUxvY2F0aW9uIG9iamVjdHNcbiAgICAgKi9cbiAgICBzZW5kVW5pZm9ybURhdGE6IGZ1bmN0aW9uKGdsLCB1bmlmb3JtTG9jYXRpb25zKSB7XG4gICAgICB2YXIgbWF0cml4ID0gdGhpcy5jYWxjdWxhdGVNYXRyaXgoKTtcbiAgICAgIGdsLnVuaWZvcm0xaSh1bmlmb3JtTG9jYXRpb25zLnVJbWFnZSwgMSk7IC8vIHRleHR1cmUgdW5pdCAxLlxuICAgICAgZ2wudW5pZm9ybU1hdHJpeDNmdih1bmlmb3JtTG9jYXRpb25zLnVUcmFuc2Zvcm1NYXRyaXgsIGZhbHNlLCBtYXRyaXgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge09iamVjdH0gT2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgdG9PYmplY3Q6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICBpbWFnZTogdGhpcy5pbWFnZSAmJiB0aGlzLmltYWdlLnRvT2JqZWN0KCksXG4gICAgICAgIG1vZGU6IHRoaXMubW9kZSxcbiAgICAgICAgYWxwaGE6IHRoaXMuYWxwaGFcbiAgICAgIH07XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmaWx0ZXIgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayB0byBiZSBpbnZva2VkIGFmdGVyIGZpbHRlciBjcmVhdGlvblxuICAgKiBAcmV0dXJuIHtmYWJyaWMuSW1hZ2UuZmlsdGVycy5CbGVuZEltYWdlfSBJbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CbGVuZEltYWdlXG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CbGVuZEltYWdlLmZyb21PYmplY3QgPSBmdW5jdGlvbihvYmplY3QsIGNhbGxiYWNrKSB7XG4gICAgZmFicmljLkltYWdlLmZyb21PYmplY3Qob2JqZWN0LmltYWdlLCBmdW5jdGlvbihpbWFnZSkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBmYWJyaWMudXRpbC5vYmplY3QuY2xvbmUob2JqZWN0KTtcbiAgICAgIG9wdGlvbnMuaW1hZ2UgPSBpbWFnZTtcbiAgICAgIGNhbGxiYWNrKG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CbGVuZEltYWdlKG9wdGlvbnMpKTtcbiAgICB9KTtcbiAgfTtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSwgcG93ID0gTWF0aC5wb3csIGZsb29yID0gTWF0aC5mbG9vcixcbiAgICAgIHNxcnQgPSBNYXRoLnNxcnQsIGFicyA9IE1hdGguYWJzLCByb3VuZCA9IE1hdGgucm91bmQsIHNpbiA9IE1hdGguc2luLFxuICAgICAgY2VpbCA9IE1hdGguY2VpbCxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIFJlc2l6ZSBpbWFnZSBmaWx0ZXIgY2xhc3NcbiAgICogQGNsYXNzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLlJlc2l6ZVxuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAc2VlIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ltYWdlLWZpbHRlcnN8SW1hZ2VGaWx0ZXJzIGRlbW99XG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuUmVzaXplKCk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycyhjYW52YXMucmVuZGVyQWxsLmJpbmQoY2FudmFzKSk7XG4gICAqL1xuICBmaWx0ZXJzLlJlc2l6ZSA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5SZXNpemUucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIEZpbHRlciB0eXBlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICdSZXNpemUnLFxuXG4gICAgLyoqXG4gICAgICogUmVzaXplIHR5cGVcbiAgICAgKiBmb3Igd2ViZ2wgcmVzaXplVHlwZSBpcyBqdXN0IGxhbmN6b3MsIGZvciBjYW52YXMyZCBjYW4gYmU6XG4gICAgICogYmlsaW5lYXIsIGhlcm1pdGUsIHNsaWNlSGFjaywgbGFuY3pvcy5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcmVzaXplVHlwZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgcmVzaXplVHlwZTogJ2hlcm1pdGUnLFxuXG4gICAgLyoqXG4gICAgICogU2NhbGUgZmFjdG9yIGZvciByZXNpemluZywgeCBheGlzXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlWFxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc2NhbGVYOiAxLFxuXG4gICAgLyoqXG4gICAgICogU2NhbGUgZmFjdG9yIGZvciByZXNpemluZywgeSBheGlzXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlWVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc2NhbGVZOiAxLFxuXG4gICAgLyoqXG4gICAgICogTGFuY3pvc0xvYmVzIHBhcmFtZXRlciBmb3IgbGFuY3pvcyBmaWx0ZXIsIHZhbGlkIGZvciByZXNpemVUeXBlIGxhbmN6b3NcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGFuY3pvc0xvYmVzXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBsYW5jem9zTG9iZXM6IDMsXG5cblxuICAgIC8qKlxuICAgICAqIFJldHVybiBXZWJHTCB1bmlmb3JtIGxvY2F0aW9ucyBmb3IgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge1dlYkdMU2hhZGVyUHJvZ3JhbX0gcHJvZ3JhbSBUaGlzIGZpbHRlcidzIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtLlxuICAgICAqL1xuICAgIGdldFVuaWZvcm1Mb2NhdGlvbnM6IGZ1bmN0aW9uKGdsLCBwcm9ncmFtKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1RGVsdGE6IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndURlbHRhJyksXG4gICAgICAgIHVUYXBzOiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VUYXBzJyksXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZW5kIGRhdGEgZnJvbSB0aGlzIGZpbHRlciB0byBpdHMgc2hhZGVyIHByb2dyYW0ncyB1bmlmb3Jtcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB1bmlmb3JtTG9jYXRpb25zIEEgbWFwIG9mIHN0cmluZyB1bmlmb3JtIG5hbWVzIHRvIFdlYkdMVW5pZm9ybUxvY2F0aW9uIG9iamVjdHNcbiAgICAgKi9cbiAgICBzZW5kVW5pZm9ybURhdGE6IGZ1bmN0aW9uKGdsLCB1bmlmb3JtTG9jYXRpb25zKSB7XG4gICAgICBnbC51bmlmb3JtMmZ2KHVuaWZvcm1Mb2NhdGlvbnMudURlbHRhLCB0aGlzLmhvcml6b250YWwgPyBbMSAvIHRoaXMud2lkdGgsIDBdIDogWzAsIDEgLyB0aGlzLmhlaWdodF0pO1xuICAgICAgZ2wudW5pZm9ybTFmdih1bmlmb3JtTG9jYXRpb25zLnVUYXBzLCB0aGlzLnRhcHMpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGNhY2hlZCBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gb3B0aW9ucy5jb250ZXh0IFRoZSBHTCBjb250ZXh0IHVzZWQgZm9yIHJlbmRlcmluZy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5wcm9ncmFtQ2FjaGUgQSBtYXAgb2YgY29tcGlsZWQgc2hhZGVyIHByb2dyYW1zLCBrZXllZCBieSBmaWx0ZXIgdHlwZS5cbiAgICAgKi9cbiAgICByZXRyaWV2ZVNoYWRlcjogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIGZpbHRlcldpbmRvdyA9IHRoaXMuZ2V0RmlsdGVyV2luZG93KCksIGNhY2hlS2V5ID0gdGhpcy50eXBlICsgJ18nICsgZmlsdGVyV2luZG93O1xuICAgICAgaWYgKCFvcHRpb25zLnByb2dyYW1DYWNoZS5oYXNPd25Qcm9wZXJ0eShjYWNoZUtleSkpIHtcbiAgICAgICAgdmFyIGZyYWdtZW50U2hhZGVyID0gdGhpcy5nZW5lcmF0ZVNoYWRlcihmaWx0ZXJXaW5kb3cpO1xuICAgICAgICBvcHRpb25zLnByb2dyYW1DYWNoZVtjYWNoZUtleV0gPSB0aGlzLmNyZWF0ZVByb2dyYW0ob3B0aW9ucy5jb250ZXh0LCBmcmFnbWVudFNoYWRlcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3B0aW9ucy5wcm9ncmFtQ2FjaGVbY2FjaGVLZXldO1xuICAgIH0sXG5cbiAgICBnZXRGaWx0ZXJXaW5kb3c6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNjYWxlID0gdGhpcy50ZW1wU2NhbGU7XG4gICAgICByZXR1cm4gTWF0aC5jZWlsKHRoaXMubGFuY3pvc0xvYmVzIC8gc2NhbGUpO1xuICAgIH0sXG5cbiAgICBnZXRUYXBzOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBsb2JlRnVuY3Rpb24gPSB0aGlzLmxhbmN6b3NDcmVhdGUodGhpcy5sYW5jem9zTG9iZXMpLCBzY2FsZSA9IHRoaXMudGVtcFNjYWxlLFxuICAgICAgICAgIGZpbHRlcldpbmRvdyA9IHRoaXMuZ2V0RmlsdGVyV2luZG93KCksIHRhcHMgPSBuZXcgQXJyYXkoZmlsdGVyV2luZG93KTtcbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IGZpbHRlcldpbmRvdzsgaSsrKSB7XG4gICAgICAgIHRhcHNbaSAtIDFdID0gbG9iZUZ1bmN0aW9uKGkgKiBzY2FsZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGFwcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgdmVydGV4IGFuZCBzaGFkZXIgc291cmNlcyBmcm9tIHRoZSBuZWNlc3Nhcnkgc3RlcHMgbnVtYmVyc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBmaWx0ZXJXaW5kb3dcbiAgICAgKi9cbiAgICBnZW5lcmF0ZVNoYWRlcjogZnVuY3Rpb24oZmlsdGVyV2luZG93KSB7XG4gICAgICB2YXIgb2Zmc2V0cyA9IG5ldyBBcnJheShmaWx0ZXJXaW5kb3cpLFxuICAgICAgICAgIGZyYWdtZW50U2hhZGVyID0gdGhpcy5mcmFnbWVudFNvdXJjZVRPUCwgZmlsdGVyV2luZG93O1xuXG4gICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBmaWx0ZXJXaW5kb3c7IGkrKykge1xuICAgICAgICBvZmZzZXRzW2kgLSAxXSA9IGkgKyAnLjAgKiB1RGVsdGEnO1xuICAgICAgfVxuXG4gICAgICBmcmFnbWVudFNoYWRlciArPSAndW5pZm9ybSBmbG9hdCB1VGFwc1snICsgZmlsdGVyV2luZG93ICsgJ107XFxuJztcbiAgICAgIGZyYWdtZW50U2hhZGVyICs9ICd2b2lkIG1haW4oKSB7XFxuJztcbiAgICAgIGZyYWdtZW50U2hhZGVyICs9ICcgIHZlYzQgY29sb3IgPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCk7XFxuJztcbiAgICAgIGZyYWdtZW50U2hhZGVyICs9ICcgIGZsb2F0IHN1bSA9IDEuMDtcXG4nO1xuXG4gICAgICBvZmZzZXRzLmZvckVhY2goZnVuY3Rpb24ob2Zmc2V0LCBpKSB7XG4gICAgICAgIGZyYWdtZW50U2hhZGVyICs9ICcgIGNvbG9yICs9IHRleHR1cmUyRCh1VGV4dHVyZSwgdlRleENvb3JkICsgJyArIG9mZnNldCArICcpICogdVRhcHNbJyArIGkgKyAnXTtcXG4nO1xuICAgICAgICBmcmFnbWVudFNoYWRlciArPSAnICBjb2xvciArPSB0ZXh0dXJlMkQodVRleHR1cmUsIHZUZXhDb29yZCAtICcgKyBvZmZzZXQgKyAnKSAqIHVUYXBzWycgKyBpICsgJ107XFxuJztcbiAgICAgICAgZnJhZ21lbnRTaGFkZXIgKz0gJyAgc3VtICs9IDIuMCAqIHVUYXBzWycgKyBpICsgJ107XFxuJztcbiAgICAgIH0pO1xuICAgICAgZnJhZ21lbnRTaGFkZXIgKz0gJyAgZ2xfRnJhZ0NvbG9yID0gY29sb3IgLyBzdW07XFxuJztcbiAgICAgIGZyYWdtZW50U2hhZGVyICs9ICd9JztcbiAgICAgIHJldHVybiBmcmFnbWVudFNoYWRlcjtcbiAgICB9LFxuXG4gICAgZnJhZ21lbnRTb3VyY2VUT1A6ICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuJyArXG4gICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAndW5pZm9ybSB2ZWMyIHVEZWx0YTtcXG4nICtcbiAgICAgICd2YXJ5aW5nIHZlYzIgdlRleENvb3JkO1xcbicsXG5cbiAgICAvKipcbiAgICAgKiBBcHBseSB0aGUgcmVzaXplIGZpbHRlciB0byB0aGUgaW1hZ2VcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdG8gdXNlIFdlYkdMIG9yIENhbnZhczJEIGJhc2VkIG9uIHRoZSBvcHRpb25zLndlYmdsIGZsYWcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLnBhc3NlcyBUaGUgbnVtYmVyIG9mIGZpbHRlcnMgcmVtYWluaW5nIHRvIGJlIGV4ZWN1dGVkXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLndlYmdsIFdoZXRoZXIgdG8gdXNlIHdlYmdsIHRvIHJlbmRlciB0aGUgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7V2ViR0xUZXh0dXJlfSBvcHRpb25zLnNvdXJjZVRleHR1cmUgVGhlIHRleHR1cmUgc2V0dXAgYXMgdGhlIHNvdXJjZSB0byBiZSBmaWx0ZXJlZC5cbiAgICAgKiBAcGFyYW0ge1dlYkdMVGV4dHVyZX0gb3B0aW9ucy50YXJnZXRUZXh0dXJlIFRoZSB0ZXh0dXJlIHdoZXJlIGZpbHRlcmVkIG91dHB1dCBzaG91bGQgYmUgZHJhd24uXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IG9wdGlvbnMuY29udGV4dCBUaGUgR0wgY29udGV4dCB1c2VkIGZvciByZW5kZXJpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMucHJvZ3JhbUNhY2hlIEEgbWFwIG9mIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtcywga2V5ZWQgYnkgZmlsdGVyIHR5cGUuXG4gICAgICovXG4gICAgYXBwbHlUbzogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgaWYgKG9wdGlvbnMud2ViZ2wpIHtcbiAgICAgICAgb3B0aW9ucy5wYXNzZXMrKztcbiAgICAgICAgdGhpcy53aWR0aCA9IG9wdGlvbnMuc291cmNlV2lkdGg7XG4gICAgICAgIHRoaXMuaG9yaXpvbnRhbCA9IHRydWU7XG4gICAgICAgIHRoaXMuZFcgPSBNYXRoLnJvdW5kKHRoaXMud2lkdGggKiB0aGlzLnNjYWxlWCk7XG4gICAgICAgIHRoaXMuZEggPSBvcHRpb25zLnNvdXJjZUhlaWdodDtcbiAgICAgICAgdGhpcy50ZW1wU2NhbGUgPSB0aGlzLmRXIC8gdGhpcy53aWR0aDtcbiAgICAgICAgdGhpcy50YXBzID0gdGhpcy5nZXRUYXBzKCk7XG4gICAgICAgIG9wdGlvbnMuZGVzdGluYXRpb25XaWR0aCA9IHRoaXMuZFc7XG4gICAgICAgIHRoaXMuX3NldHVwRnJhbWVCdWZmZXIob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuYXBwbHlUb1dlYkdMKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9zd2FwVGV4dHVyZXMob3B0aW9ucyk7XG4gICAgICAgIG9wdGlvbnMuc291cmNlV2lkdGggPSBvcHRpb25zLmRlc3RpbmF0aW9uV2lkdGg7XG5cbiAgICAgICAgdGhpcy5oZWlnaHQgPSBvcHRpb25zLnNvdXJjZUhlaWdodDtcbiAgICAgICAgdGhpcy5ob3Jpem9udGFsID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZEggPSBNYXRoLnJvdW5kKHRoaXMuaGVpZ2h0ICogdGhpcy5zY2FsZVkpO1xuICAgICAgICB0aGlzLnRlbXBTY2FsZSA9IHRoaXMuZEggLyB0aGlzLmhlaWdodDtcbiAgICAgICAgdGhpcy50YXBzID0gdGhpcy5nZXRUYXBzKCk7XG4gICAgICAgIG9wdGlvbnMuZGVzdGluYXRpb25IZWlnaHQgPSB0aGlzLmRIO1xuICAgICAgICB0aGlzLl9zZXR1cEZyYW1lQnVmZmVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmFwcGx5VG9XZWJHTChvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fc3dhcFRleHR1cmVzKG9wdGlvbnMpO1xuICAgICAgICBvcHRpb25zLnNvdXJjZUhlaWdodCA9IG9wdGlvbnMuZGVzdGluYXRpb25IZWlnaHQ7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5hcHBseVRvMmQob3B0aW9ucyk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGlzTmV1dHJhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnNjYWxlWCA9PT0gMSAmJiB0aGlzLnNjYWxlWSA9PT0gMTtcbiAgICB9LFxuXG4gICAgbGFuY3pvc0NyZWF0ZTogZnVuY3Rpb24obG9iZXMpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbih4KSB7XG4gICAgICAgIGlmICh4ID49IGxvYmVzIHx8IHggPD0gLWxvYmVzKSB7XG4gICAgICAgICAgcmV0dXJuIDAuMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeCA8IDEuMTkyMDkyOTBFLTA3ICYmIHggPiAtMS4xOTIwOTI5MEUtMDcpIHtcbiAgICAgICAgICByZXR1cm4gMS4wO1xuICAgICAgICB9XG4gICAgICAgIHggKj0gTWF0aC5QSTtcbiAgICAgICAgdmFyIHh4ID0geCAvIGxvYmVzO1xuICAgICAgICByZXR1cm4gKHNpbih4KSAvIHgpICogc2luKHh4KSAvIHh4O1xuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyBmaWx0ZXIgdG8gY2FudmFzIGVsZW1lbnRcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnMuUmVzaXplLnByb3RvdHlwZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjYW52YXNFbCBDYW52YXMgZWxlbWVudCB0byBhcHBseSBmaWx0ZXIgdG9cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc2NhbGVYXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNjYWxlWVxuICAgICAqL1xuICAgIGFwcGx5VG8yZDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIGltYWdlRGF0YSA9IG9wdGlvbnMuaW1hZ2VEYXRhLFxuICAgICAgICAgIHNjYWxlWCA9IHRoaXMuc2NhbGVYLFxuICAgICAgICAgIHNjYWxlWSA9IHRoaXMuc2NhbGVZO1xuXG4gICAgICB0aGlzLnJjcFNjYWxlWCA9IDEgLyBzY2FsZVg7XG4gICAgICB0aGlzLnJjcFNjYWxlWSA9IDEgLyBzY2FsZVk7XG5cbiAgICAgIHZhciBvVyA9IGltYWdlRGF0YS53aWR0aCwgb0ggPSBpbWFnZURhdGEuaGVpZ2h0LFxuICAgICAgICAgIGRXID0gcm91bmQob1cgKiBzY2FsZVgpLCBkSCA9IHJvdW5kKG9IICogc2NhbGVZKSxcbiAgICAgICAgICBuZXdEYXRhO1xuXG4gICAgICBpZiAodGhpcy5yZXNpemVUeXBlID09PSAnc2xpY2VIYWNrJykge1xuICAgICAgICBuZXdEYXRhID0gdGhpcy5zbGljZUJ5VHdvKG9wdGlvbnMsIG9XLCBvSCwgZFcsIGRIKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHRoaXMucmVzaXplVHlwZSA9PT0gJ2hlcm1pdGUnKSB7XG4gICAgICAgIG5ld0RhdGEgPSB0aGlzLmhlcm1pdGVGYXN0UmVzaXplKG9wdGlvbnMsIG9XLCBvSCwgZFcsIGRIKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHRoaXMucmVzaXplVHlwZSA9PT0gJ2JpbGluZWFyJykge1xuICAgICAgICBuZXdEYXRhID0gdGhpcy5iaWxpbmVhckZpbHRlcmluZyhvcHRpb25zLCBvVywgb0gsIGRXLCBkSCk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh0aGlzLnJlc2l6ZVR5cGUgPT09ICdsYW5jem9zJykge1xuICAgICAgICBuZXdEYXRhID0gdGhpcy5sYW5jem9zUmVzaXplKG9wdGlvbnMsIG9XLCBvSCwgZFcsIGRIKTtcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMuaW1hZ2VEYXRhID0gbmV3RGF0YTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHNsaWNlQnlUd29cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY2FudmFzRWwgQ2FudmFzIGVsZW1lbnQgdG8gYXBwbHkgZmlsdGVyIHRvXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9XIE9yaWdpbmFsIFdpZHRoXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9IIE9yaWdpbmFsIEhlaWdodFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkVyBEZXN0aW5hdGlvbiBXaWR0aFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkSCBEZXN0aW5hdGlvbiBIZWlnaHRcbiAgICAgKiBAcmV0dXJucyB7SW1hZ2VEYXRhfVxuICAgICAqL1xuICAgIHNsaWNlQnlUd286IGZ1bmN0aW9uKG9wdGlvbnMsIG9XLCBvSCwgZFcsIGRIKSB7XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gb3B0aW9ucy5pbWFnZURhdGEsXG4gICAgICAgICAgbXVsdCA9IDAuNSwgZG9uZVcgPSBmYWxzZSwgZG9uZUggPSBmYWxzZSwgc3RlcFcgPSBvVyAqIG11bHQsXG4gICAgICAgICAgc3RlcEggPSBvSCAqIG11bHQsIHJlc291cmNlcyA9IGZhYnJpYy5maWx0ZXJCYWNrZW5kLnJlc291cmNlcyxcbiAgICAgICAgICB0bXBDYW52YXMsIGN0eCwgc1ggPSAwLCBzWSA9IDAsIGRYID0gb1csIGRZID0gMDtcbiAgICAgIGlmICghcmVzb3VyY2VzLnNsaWNlQnlUd28pIHtcbiAgICAgICAgcmVzb3VyY2VzLnNsaWNlQnlUd28gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgIH1cbiAgICAgIHRtcENhbnZhcyA9IHJlc291cmNlcy5zbGljZUJ5VHdvO1xuICAgICAgaWYgKHRtcENhbnZhcy53aWR0aCA8IG9XICogMS41IHx8IHRtcENhbnZhcy5oZWlnaHQgPCBvSCkge1xuICAgICAgICB0bXBDYW52YXMud2lkdGggPSBvVyAqIDEuNTtcbiAgICAgICAgdG1wQ2FudmFzLmhlaWdodCA9IG9IO1xuICAgICAgfVxuICAgICAgY3R4ID0gdG1wQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIG9XICogMS41LCBvSCk7XG4gICAgICBjdHgucHV0SW1hZ2VEYXRhKGltYWdlRGF0YSwgMCwgMCk7XG5cbiAgICAgIGRXID0gZmxvb3IoZFcpO1xuICAgICAgZEggPSBmbG9vcihkSCk7XG5cbiAgICAgIHdoaWxlICghZG9uZVcgfHwgIWRvbmVIKSB7XG4gICAgICAgIG9XID0gc3RlcFc7XG4gICAgICAgIG9IID0gc3RlcEg7XG4gICAgICAgIGlmIChkVyA8IGZsb29yKHN0ZXBXICogbXVsdCkpIHtcbiAgICAgICAgICBzdGVwVyA9IGZsb29yKHN0ZXBXICogbXVsdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgc3RlcFcgPSBkVztcbiAgICAgICAgICBkb25lVyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRIIDwgZmxvb3Ioc3RlcEggKiBtdWx0KSkge1xuICAgICAgICAgIHN0ZXBIID0gZmxvb3Ioc3RlcEggKiBtdWx0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBzdGVwSCA9IGRIO1xuICAgICAgICAgIGRvbmVIID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjdHguZHJhd0ltYWdlKHRtcENhbnZhcywgc1gsIHNZLCBvVywgb0gsIGRYLCBkWSwgc3RlcFcsIHN0ZXBIKTtcbiAgICAgICAgc1ggPSBkWDtcbiAgICAgICAgc1kgPSBkWTtcbiAgICAgICAgZFkgKz0gc3RlcEg7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3R4LmdldEltYWdlRGF0YShzWCwgc1ksIGRXLCBkSCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZpbHRlciBsYW5jem9zUmVzaXplXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNhbnZhc0VsIENhbnZhcyBlbGVtZW50IHRvIGFwcGx5IGZpbHRlciB0b1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvVyBPcmlnaW5hbCBXaWR0aFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvSCBPcmlnaW5hbCBIZWlnaHRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZFcgRGVzdGluYXRpb24gV2lkdGhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZEggRGVzdGluYXRpb24gSGVpZ2h0XG4gICAgICogQHJldHVybnMge0ltYWdlRGF0YX1cbiAgICAgKi9cbiAgICBsYW5jem9zUmVzaXplOiBmdW5jdGlvbihvcHRpb25zLCBvVywgb0gsIGRXLCBkSCkge1xuXG4gICAgICBmdW5jdGlvbiBwcm9jZXNzKHUpIHtcbiAgICAgICAgdmFyIHYsIGksIHdlaWdodCwgaWR4LCBhLCByZWQsIGdyZWVuLFxuICAgICAgICAgICAgYmx1ZSwgYWxwaGEsIGZYLCBmWTtcbiAgICAgICAgY2VudGVyLnggPSAodSArIDAuNSkgKiByYXRpb1g7XG4gICAgICAgIGljZW50ZXIueCA9IGZsb29yKGNlbnRlci54KTtcbiAgICAgICAgZm9yICh2ID0gMDsgdiA8IGRIOyB2KyspIHtcbiAgICAgICAgICBjZW50ZXIueSA9ICh2ICsgMC41KSAqIHJhdGlvWTtcbiAgICAgICAgICBpY2VudGVyLnkgPSBmbG9vcihjZW50ZXIueSk7XG4gICAgICAgICAgYSA9IDA7IHJlZCA9IDA7IGdyZWVuID0gMDsgYmx1ZSA9IDA7IGFscGhhID0gMDtcbiAgICAgICAgICBmb3IgKGkgPSBpY2VudGVyLnggLSByYW5nZTJYOyBpIDw9IGljZW50ZXIueCArIHJhbmdlMlg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPCAwIHx8IGkgPj0gb1cpIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmWCA9IGZsb29yKDEwMDAgKiBhYnMoaSAtIGNlbnRlci54KSk7XG4gICAgICAgICAgICBpZiAoIWNhY2hlTGFuY1tmWF0pIHtcbiAgICAgICAgICAgICAgY2FjaGVMYW5jW2ZYXSA9IHsgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGogPSBpY2VudGVyLnkgLSByYW5nZTJZOyBqIDw9IGljZW50ZXIueSArIHJhbmdlMlk7IGorKykge1xuICAgICAgICAgICAgICBpZiAoaiA8IDAgfHwgaiA+PSBvSCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGZZID0gZmxvb3IoMTAwMCAqIGFicyhqIC0gY2VudGVyLnkpKTtcbiAgICAgICAgICAgICAgaWYgKCFjYWNoZUxhbmNbZlhdW2ZZXSkge1xuICAgICAgICAgICAgICAgIGNhY2hlTGFuY1tmWF1bZlldID0gbGFuY3pvcyhzcXJ0KHBvdyhmWCAqIHJjcFJhdGlvWCwgMikgKyBwb3coZlkgKiByY3BSYXRpb1ksIDIpKSAvIDEwMDApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHdlaWdodCA9IGNhY2hlTGFuY1tmWF1bZlldO1xuICAgICAgICAgICAgICBpZiAod2VpZ2h0ID4gMCkge1xuICAgICAgICAgICAgICAgIGlkeCA9IChqICogb1cgKyBpKSAqIDQ7XG4gICAgICAgICAgICAgICAgYSArPSB3ZWlnaHQ7XG4gICAgICAgICAgICAgICAgcmVkICs9IHdlaWdodCAqIHNyY0RhdGFbaWR4XTtcbiAgICAgICAgICAgICAgICBncmVlbiArPSB3ZWlnaHQgKiBzcmNEYXRhW2lkeCArIDFdO1xuICAgICAgICAgICAgICAgIGJsdWUgKz0gd2VpZ2h0ICogc3JjRGF0YVtpZHggKyAyXTtcbiAgICAgICAgICAgICAgICBhbHBoYSArPSB3ZWlnaHQgKiBzcmNEYXRhW2lkeCArIDNdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlkeCA9ICh2ICogZFcgKyB1KSAqIDQ7XG4gICAgICAgICAgZGVzdERhdGFbaWR4XSA9IHJlZCAvIGE7XG4gICAgICAgICAgZGVzdERhdGFbaWR4ICsgMV0gPSBncmVlbiAvIGE7XG4gICAgICAgICAgZGVzdERhdGFbaWR4ICsgMl0gPSBibHVlIC8gYTtcbiAgICAgICAgICBkZXN0RGF0YVtpZHggKyAzXSA9IGFscGhhIC8gYTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgrK3UgPCBkVykge1xuICAgICAgICAgIHJldHVybiBwcm9jZXNzKHUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJldHVybiBkZXN0SW1nO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBzcmNEYXRhID0gb3B0aW9ucy5pbWFnZURhdGEuZGF0YSxcbiAgICAgICAgICBkZXN0SW1nID0gb3B0aW9ucy5jdHguY3JlYXRlSW1hZ2VEYXRhKGRXLCBkSCksXG4gICAgICAgICAgZGVzdERhdGEgPSBkZXN0SW1nLmRhdGEsXG4gICAgICAgICAgbGFuY3pvcyA9IHRoaXMubGFuY3pvc0NyZWF0ZSh0aGlzLmxhbmN6b3NMb2JlcyksXG4gICAgICAgICAgcmF0aW9YID0gdGhpcy5yY3BTY2FsZVgsIHJhdGlvWSA9IHRoaXMucmNwU2NhbGVZLFxuICAgICAgICAgIHJjcFJhdGlvWCA9IDIgLyB0aGlzLnJjcFNjYWxlWCwgcmNwUmF0aW9ZID0gMiAvIHRoaXMucmNwU2NhbGVZLFxuICAgICAgICAgIHJhbmdlMlggPSBjZWlsKHJhdGlvWCAqIHRoaXMubGFuY3pvc0xvYmVzIC8gMiksXG4gICAgICAgICAgcmFuZ2UyWSA9IGNlaWwocmF0aW9ZICogdGhpcy5sYW5jem9zTG9iZXMgLyAyKSxcbiAgICAgICAgICBjYWNoZUxhbmMgPSB7IH0sIGNlbnRlciA9IHsgfSwgaWNlbnRlciA9IHsgfTtcblxuICAgICAgcmV0dXJuIHByb2Nlc3MoMCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGJpbGluZWFyRmlsdGVyaW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNhbnZhc0VsIENhbnZhcyBlbGVtZW50IHRvIGFwcGx5IGZpbHRlciB0b1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvVyBPcmlnaW5hbCBXaWR0aFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvSCBPcmlnaW5hbCBIZWlnaHRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZFcgRGVzdGluYXRpb24gV2lkdGhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZEggRGVzdGluYXRpb24gSGVpZ2h0XG4gICAgICogQHJldHVybnMge0ltYWdlRGF0YX1cbiAgICAgKi9cbiAgICBiaWxpbmVhckZpbHRlcmluZzogZnVuY3Rpb24ob3B0aW9ucywgb1csIG9ILCBkVywgZEgpIHtcbiAgICAgIHZhciBhLCBiLCBjLCBkLCB4LCB5LCBpLCBqLCB4RGlmZiwgeURpZmYsIGNobmwsXG4gICAgICAgICAgY29sb3IsIG9mZnNldCA9IDAsIG9yaWdQaXgsIHJhdGlvWCA9IHRoaXMucmNwU2NhbGVYLFxuICAgICAgICAgIHJhdGlvWSA9IHRoaXMucmNwU2NhbGVZLFxuICAgICAgICAgIHc0ID0gNCAqIChvVyAtIDEpLCBpbWcgPSBvcHRpb25zLmltYWdlRGF0YSxcbiAgICAgICAgICBwaXhlbHMgPSBpbWcuZGF0YSwgZGVzdEltYWdlID0gb3B0aW9ucy5jdHguY3JlYXRlSW1hZ2VEYXRhKGRXLCBkSCksXG4gICAgICAgICAgZGVzdFBpeGVscyA9IGRlc3RJbWFnZS5kYXRhO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGRIOyBpKyspIHtcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGRXOyBqKyspIHtcbiAgICAgICAgICB4ID0gZmxvb3IocmF0aW9YICogaik7XG4gICAgICAgICAgeSA9IGZsb29yKHJhdGlvWSAqIGkpO1xuICAgICAgICAgIHhEaWZmID0gcmF0aW9YICogaiAtIHg7XG4gICAgICAgICAgeURpZmYgPSByYXRpb1kgKiBpIC0geTtcbiAgICAgICAgICBvcmlnUGl4ID0gNCAqICh5ICogb1cgKyB4KTtcblxuICAgICAgICAgIGZvciAoY2hubCA9IDA7IGNobmwgPCA0OyBjaG5sKyspIHtcbiAgICAgICAgICAgIGEgPSBwaXhlbHNbb3JpZ1BpeCArIGNobmxdO1xuICAgICAgICAgICAgYiA9IHBpeGVsc1tvcmlnUGl4ICsgNCArIGNobmxdO1xuICAgICAgICAgICAgYyA9IHBpeGVsc1tvcmlnUGl4ICsgdzQgKyBjaG5sXTtcbiAgICAgICAgICAgIGQgPSBwaXhlbHNbb3JpZ1BpeCArIHc0ICsgNCArIGNobmxdO1xuICAgICAgICAgICAgY29sb3IgPSBhICogKDEgLSB4RGlmZikgKiAoMSAtIHlEaWZmKSArIGIgKiB4RGlmZiAqICgxIC0geURpZmYpICtcbiAgICAgICAgICAgICAgICAgICAgYyAqIHlEaWZmICogKDEgLSB4RGlmZikgKyBkICogeERpZmYgKiB5RGlmZjtcbiAgICAgICAgICAgIGRlc3RQaXhlbHNbb2Zmc2V0KytdID0gY29sb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVzdEltYWdlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBoZXJtaXRlRmFzdFJlc2l6ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjYW52YXNFbCBDYW52YXMgZWxlbWVudCB0byBhcHBseSBmaWx0ZXIgdG9cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gb1cgT3JpZ2luYWwgV2lkdGhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gb0ggT3JpZ2luYWwgSGVpZ2h0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGRXIERlc3RpbmF0aW9uIFdpZHRoXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGRIIERlc3RpbmF0aW9uIEhlaWdodFxuICAgICAqIEByZXR1cm5zIHtJbWFnZURhdGF9XG4gICAgICovXG4gICAgaGVybWl0ZUZhc3RSZXNpemU6IGZ1bmN0aW9uKG9wdGlvbnMsIG9XLCBvSCwgZFcsIGRIKSB7XG4gICAgICB2YXIgcmF0aW9XID0gdGhpcy5yY3BTY2FsZVgsIHJhdGlvSCA9IHRoaXMucmNwU2NhbGVZLFxuICAgICAgICAgIHJhdGlvV0hhbGYgPSBjZWlsKHJhdGlvVyAvIDIpLFxuICAgICAgICAgIHJhdGlvSEhhbGYgPSBjZWlsKHJhdGlvSCAvIDIpLFxuICAgICAgICAgIGltZyA9IG9wdGlvbnMuaW1hZ2VEYXRhLCBkYXRhID0gaW1nLmRhdGEsXG4gICAgICAgICAgaW1nMiA9IG9wdGlvbnMuY3R4LmNyZWF0ZUltYWdlRGF0YShkVywgZEgpLCBkYXRhMiA9IGltZzIuZGF0YTtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZEg7IGorKykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRXOyBpKyspIHtcbiAgICAgICAgICB2YXIgeDIgPSAoaSArIGogKiBkVykgKiA0LCB3ZWlnaHQgPSAwLCB3ZWlnaHRzID0gMCwgd2VpZ2h0c0FscGhhID0gMCxcbiAgICAgICAgICAgICAgZ3hSID0gMCwgZ3hHID0gMCwgZ3hCID0gMCwgZ3hBID0gMCwgY2VudGVyWSA9IChqICsgMC41KSAqIHJhdGlvSDtcbiAgICAgICAgICBmb3IgKHZhciB5eSA9IGZsb29yKGogKiByYXRpb0gpOyB5eSA8IChqICsgMSkgKiByYXRpb0g7IHl5KyspIHtcbiAgICAgICAgICAgIHZhciBkeSA9IGFicyhjZW50ZXJZIC0gKHl5ICsgMC41KSkgLyByYXRpb0hIYWxmLFxuICAgICAgICAgICAgICAgIGNlbnRlclggPSAoaSArIDAuNSkgKiByYXRpb1csIHcwID0gZHkgKiBkeTtcbiAgICAgICAgICAgIGZvciAodmFyIHh4ID0gZmxvb3IoaSAqIHJhdGlvVyk7IHh4IDwgKGkgKyAxKSAqIHJhdGlvVzsgeHgrKykge1xuICAgICAgICAgICAgICB2YXIgZHggPSBhYnMoY2VudGVyWCAtICh4eCArIDAuNSkpIC8gcmF0aW9XSGFsZixcbiAgICAgICAgICAgICAgICAgIHcgPSBzcXJ0KHcwICsgZHggKiBkeCk7XG4gICAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1kZXB0aCAqL1xuICAgICAgICAgICAgICBpZiAodyA+IDEgJiYgdyA8IC0xKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy9oZXJtaXRlIGZpbHRlclxuICAgICAgICAgICAgICB3ZWlnaHQgPSAyICogdyAqIHcgKiB3IC0gMyAqIHcgKiB3ICsgMTtcbiAgICAgICAgICAgICAgaWYgKHdlaWdodCA+IDApIHtcbiAgICAgICAgICAgICAgICBkeCA9IDQgKiAoeHggKyB5eSAqIG9XKTtcbiAgICAgICAgICAgICAgICAvL2FscGhhXG4gICAgICAgICAgICAgICAgZ3hBICs9IHdlaWdodCAqIGRhdGFbZHggKyAzXTtcbiAgICAgICAgICAgICAgICB3ZWlnaHRzQWxwaGEgKz0gd2VpZ2h0O1xuICAgICAgICAgICAgICAgIC8vY29sb3JzXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFbZHggKyAzXSA8IDI1NSkge1xuICAgICAgICAgICAgICAgICAgd2VpZ2h0ID0gd2VpZ2h0ICogZGF0YVtkeCArIDNdIC8gMjUwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBneFIgKz0gd2VpZ2h0ICogZGF0YVtkeF07XG4gICAgICAgICAgICAgICAgZ3hHICs9IHdlaWdodCAqIGRhdGFbZHggKyAxXTtcbiAgICAgICAgICAgICAgICBneEIgKz0gd2VpZ2h0ICogZGF0YVtkeCArIDJdO1xuICAgICAgICAgICAgICAgIHdlaWdodHMgKz0gd2VpZ2h0O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgbWF4LWRlcHRoICovXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGRhdGEyW3gyXSA9IGd4UiAvIHdlaWdodHM7XG4gICAgICAgICAgZGF0YTJbeDIgKyAxXSA9IGd4RyAvIHdlaWdodHM7XG4gICAgICAgICAgZGF0YTJbeDIgKyAyXSA9IGd4QiAvIHdlaWdodHM7XG4gICAgICAgICAgZGF0YTJbeDIgKyAzXSA9IGd4QSAvIHdlaWdodHNBbHBoYTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGltZzI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgIHNjYWxlWDogdGhpcy5zY2FsZVgsXG4gICAgICAgIHNjYWxlWTogdGhpcy5zY2FsZVksXG4gICAgICAgIHJlc2l6ZVR5cGU6IHRoaXMucmVzaXplVHlwZSxcbiAgICAgICAgbGFuY3pvc0xvYmVzOiB0aGlzLmxhbmN6b3NMb2Jlc1xuICAgICAgfTtcbiAgICB9XG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGZpbHRlciBpbnN0YW5jZSBmcm9tIGFuIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjYWxsYmFja10gdG8gYmUgaW52b2tlZCBhZnRlciBmaWx0ZXIgY3JlYXRpb25cbiAgICogQHJldHVybiB7ZmFicmljLkltYWdlLmZpbHRlcnMuUmVzaXplfSBJbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5SZXNpemVcbiAgICovXG4gIGZhYnJpYy5JbWFnZS5maWx0ZXJzLlJlc2l6ZS5mcm9tT2JqZWN0ID0gZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlci5mcm9tT2JqZWN0O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljICA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLFxuICAgICAgZmlsdGVycyA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLFxuICAgICAgY3JlYXRlQ2xhc3MgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcztcblxuICAvKipcbiAgICogQ29udHJhc3QgZmlsdGVyIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db250cmFzdFxuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db250cmFzdCNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKiBAc2VlIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ltYWdlLWZpbHRlcnN8SW1hZ2VGaWx0ZXJzIGRlbW99XG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuQ29udHJhc3Qoe1xuICAgKiAgIGNvbnRyYXN0OiA0MFxuICAgKiB9KTtcbiAgICogb2JqZWN0LmZpbHRlcnMucHVzaChmaWx0ZXIpO1xuICAgKiBvYmplY3QuYXBwbHlGaWx0ZXJzKCk7XG4gICAqL1xuICBmaWx0ZXJzLkNvbnRyYXN0ID0gY3JlYXRlQ2xhc3MoZmlsdGVycy5CYXNlRmlsdGVyLCAvKiogQGxlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbnRyYXN0LnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgdHlwZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAnQ29udHJhc3QnLFxuXG4gICAgZnJhZ21lbnRTb3VyY2U6ICdwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuJyArXG4gICAgICAndW5pZm9ybSBzYW1wbGVyMkQgdVRleHR1cmU7XFxuJyArXG4gICAgICAndW5pZm9ybSBmbG9hdCB1Q29udHJhc3Q7XFxuJyArXG4gICAgICAndmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG4nICtcbiAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICd2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbicgK1xuICAgICAgICAnZmxvYXQgY29udHJhc3RGID0gMS4wMTUgKiAodUNvbnRyYXN0ICsgMS4wKSAvICgxLjAgKiAoMS4wMTUgLSB1Q29udHJhc3QpKTtcXG4nICtcbiAgICAgICAgJ2NvbG9yLnJnYiA9IGNvbnRyYXN0RiAqIChjb2xvci5yZ2IgLSAwLjUpICsgMC41O1xcbicgK1xuICAgICAgICAnZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxuJyArXG4gICAgICAnfScsXG5cbiAgICBjb250cmFzdDogMCxcblxuICAgIG1haW5QYXJhbWV0ZXI6ICdjb250cmFzdCcsXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBtZW1iZXJPZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db250cmFzdC5wcm90b3R5cGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtvcHRpb25zLmNvbnRyYXN0PTBdIFZhbHVlIHRvIGNvbnRyYXN0IHRoZSBpbWFnZSB1cCAoLTEuLi4xKVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICAqIEFwcGx5IHRoZSBDb250cmFzdCBvcGVyYXRpb24gdG8gYSBVaW50OEFycmF5IHJlcHJlc2VudGluZyB0aGUgcGl4ZWxzIG9mIGFuIGltYWdlLlxuICAgICAgKlxuICAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAgKiBAcGFyYW0ge0ltYWdlRGF0YX0gb3B0aW9ucy5pbWFnZURhdGEgVGhlIFVpbnQ4QXJyYXkgdG8gYmUgZmlsdGVyZWQuXG4gICAgICAqL1xuICAgIGFwcGx5VG8yZDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgaWYgKHRoaXMuY29udHJhc3QgPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGltYWdlRGF0YSA9IG9wdGlvbnMuaW1hZ2VEYXRhLCBpLCBsZW4sXG4gICAgICAgICAgZGF0YSA9IGltYWdlRGF0YS5kYXRhLCBsZW4gPSBkYXRhLmxlbmd0aCxcbiAgICAgICAgICBjb250cmFzdCA9IE1hdGguZmxvb3IodGhpcy5jb250cmFzdCAqIDI1NSksXG4gICAgICAgICAgY29udHJhc3RGID0gMjU5ICogKGNvbnRyYXN0ICsgMjU1KSAvICgyNTUgKiAoMjU5IC0gY29udHJhc3QpKTtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSArPSA0KSB7XG4gICAgICAgIGRhdGFbaV0gPSBjb250cmFzdEYgKiAoZGF0YVtpXSAtIDEyOCkgKyAxMjg7XG4gICAgICAgIGRhdGFbaSArIDFdID0gY29udHJhc3RGICogKGRhdGFbaSArIDFdIC0gMTI4KSArIDEyODtcbiAgICAgICAgZGF0YVtpICsgMl0gPSBjb250cmFzdEYgKiAoZGF0YVtpICsgMl0gLSAxMjgpICsgMTI4O1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gV2ViR0wgdW5pZm9ybSBsb2NhdGlvbnMgZm9yIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtXZWJHTFNoYWRlclByb2dyYW19IHByb2dyYW0gVGhpcyBmaWx0ZXIncyBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbS5cbiAgICAgKi9cbiAgICBnZXRVbmlmb3JtTG9jYXRpb25zOiBmdW5jdGlvbihnbCwgcHJvZ3JhbSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdUNvbnRyYXN0OiBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VDb250cmFzdCcpLFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VuZCBkYXRhIGZyb20gdGhpcyBmaWx0ZXIgdG8gaXRzIHNoYWRlciBwcm9ncmFtJ3MgdW5pZm9ybXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdW5pZm9ybUxvY2F0aW9ucyBBIG1hcCBvZiBzdHJpbmcgdW5pZm9ybSBuYW1lcyB0byBXZWJHTFVuaWZvcm1Mb2NhdGlvbiBvYmplY3RzXG4gICAgICovXG4gICAgc2VuZFVuaWZvcm1EYXRhOiBmdW5jdGlvbihnbCwgdW5pZm9ybUxvY2F0aW9ucykge1xuICAgICAgZ2wudW5pZm9ybTFmKHVuaWZvcm1Mb2NhdGlvbnMudUNvbnRyYXN0LCB0aGlzLmNvbnRyYXN0KTtcbiAgICB9LFxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmaWx0ZXIgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIHRvIGJlIGludm9rZWQgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLkNvbnRyYXN0fSBJbnN0YW5jZSBvZiBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db250cmFzdFxuICAgKi9cbiAgZmFicmljLkltYWdlLmZpbHRlcnMuQ29udHJhc3QuZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIFNhdHVyYXRlIGZpbHRlciBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlLmZpbHRlcnMuU2F0dXJhdGlvblxuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuSW1hZ2UuZmlsdGVycy5TYXR1cmF0aW9uI2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vaW1hZ2UtZmlsdGVyc3xJbWFnZUZpbHRlcnMgZGVtb31cbiAgICogQGV4YW1wbGVcbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5TYXR1cmF0aW9uKHtcbiAgICogICBzYXR1cmF0aW9uOiAxMDBcbiAgICogfSk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKi9cbiAgZmlsdGVycy5TYXR1cmF0aW9uID0gY3JlYXRlQ2xhc3MoZmlsdGVycy5CYXNlRmlsdGVyLCAvKiogQGxlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLlNhdHVyYXRpb24ucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIEZpbHRlciB0eXBlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICdTYXR1cmF0aW9uJyxcblxuICAgIGZyYWdtZW50U291cmNlOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgJ3VuaWZvcm0gZmxvYXQgdVNhdHVyYXRpb247XFxuJyArXG4gICAgICAndmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG4nICtcbiAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICd2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbicgK1xuICAgICAgICAnZmxvYXQgcmdNYXggPSBtYXgoY29sb3IuciwgY29sb3IuZyk7XFxuJyArXG4gICAgICAgICdmbG9hdCByZ2JNYXggPSBtYXgocmdNYXgsIGNvbG9yLmIpO1xcbicgK1xuICAgICAgICAnY29sb3IuciArPSByZ2JNYXggIT0gY29sb3IuciA/IChyZ2JNYXggLSBjb2xvci5yKSAqIHVTYXR1cmF0aW9uIDogMC4wMDtcXG4nICtcbiAgICAgICAgJ2NvbG9yLmcgKz0gcmdiTWF4ICE9IGNvbG9yLmcgPyAocmdiTWF4IC0gY29sb3IuZykgKiB1U2F0dXJhdGlvbiA6IDAuMDA7XFxuJyArXG4gICAgICAgICdjb2xvci5iICs9IHJnYk1heCAhPSBjb2xvci5iID8gKHJnYk1heCAtIGNvbG9yLmIpICogdVNhdHVyYXRpb24gOiAwLjAwO1xcbicgK1xuICAgICAgICAnZ2xfRnJhZ0NvbG9yID0gY29sb3I7XFxuJyArXG4gICAgICAnfScsXG5cbiAgICBzYXR1cmF0aW9uOiAwLFxuXG4gICAgbWFpblBhcmFtZXRlcjogJ3NhdHVyYXRpb24nLFxuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnMuU2F0dXJhdGUucHJvdG90eXBlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbb3B0aW9ucy5zYXR1cmF0ZT0wXSBWYWx1ZSB0byBzYXR1cmF0ZSB0aGUgaW1hZ2UgKC0xLi4uMSlcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFwcGx5IHRoZSBTYXR1cmF0aW9uIG9wZXJhdGlvbiB0byBhIFVpbnQ4Q2xhbXBlZEFycmF5IHJlcHJlc2VudGluZyB0aGUgcGl4ZWxzIG9mIGFuIGltYWdlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge0ltYWdlRGF0YX0gb3B0aW9ucy5pbWFnZURhdGEgVGhlIFVpbnQ4Q2xhbXBlZEFycmF5IHRvIGJlIGZpbHRlcmVkLlxuICAgICAqL1xuICAgIGFwcGx5VG8yZDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgaWYgKHRoaXMuc2F0dXJhdGlvbiA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgaW1hZ2VEYXRhID0gb3B0aW9ucy5pbWFnZURhdGEsXG4gICAgICAgICAgZGF0YSA9IGltYWdlRGF0YS5kYXRhLCBsZW4gPSBkYXRhLmxlbmd0aCxcbiAgICAgICAgICBhZGp1c3QgPSAtdGhpcy5zYXR1cmF0aW9uLCBpLCBtYXg7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgICAgICBtYXggPSBNYXRoLm1heChkYXRhW2ldLCBkYXRhW2kgKyAxXSwgZGF0YVtpICsgMl0pO1xuICAgICAgICBkYXRhW2ldICs9IG1heCAhPT0gZGF0YVtpXSA/IChtYXggLSBkYXRhW2ldKSAqIGFkanVzdCA6IDA7XG4gICAgICAgIGRhdGFbaSArIDFdICs9IG1heCAhPT0gZGF0YVtpICsgMV0gPyAobWF4IC0gZGF0YVtpICsgMV0pICogYWRqdXN0IDogMDtcbiAgICAgICAgZGF0YVtpICsgMl0gKz0gbWF4ICE9PSBkYXRhW2kgKyAyXSA/IChtYXggLSBkYXRhW2kgKyAyXSkgKiBhZGp1c3QgOiAwO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gV2ViR0wgdW5pZm9ybSBsb2NhdGlvbnMgZm9yIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtXZWJHTFNoYWRlclByb2dyYW19IHByb2dyYW0gVGhpcyBmaWx0ZXIncyBjb21waWxlZCBzaGFkZXIgcHJvZ3JhbS5cbiAgICAgKi9cbiAgICBnZXRVbmlmb3JtTG9jYXRpb25zOiBmdW5jdGlvbihnbCwgcHJvZ3JhbSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdVNhdHVyYXRpb246IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndVNhdHVyYXRpb24nKSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSdzIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1Mb2NhdGlvbnMgQSBtYXAgb2Ygc3RyaW5nIHVuaWZvcm0gbmFtZXMgdG8gV2ViR0xVbmlmb3JtTG9jYXRpb24gb2JqZWN0c1xuICAgICAqL1xuICAgIHNlbmRVbmlmb3JtRGF0YTogZnVuY3Rpb24oZ2wsIHVuaWZvcm1Mb2NhdGlvbnMpIHtcbiAgICAgIGdsLnVuaWZvcm0xZih1bmlmb3JtTG9jYXRpb25zLnVTYXR1cmF0aW9uLCAtdGhpcy5zYXR1cmF0aW9uKTtcbiAgICB9LFxuICB9KTtcblxuICAvKipcbiAgICogUmV0dXJucyBmaWx0ZXIgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY2FsbGJhY2tdIHRvIGJlIGludm9rZWQgYWZ0ZXIgZmlsdGVyIGNyZWF0aW9uXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JbWFnZS5maWx0ZXJzLlNhdHVyYXRpb259IEluc3RhbmNlIG9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzLlNhdHVyYXRlXG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZmlsdGVycy5TYXR1cmF0aW9uLmZyb21PYmplY3QgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyLmZyb21PYmplY3Q7XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHsgfSksXG4gICAgICBmaWx0ZXJzID0gZmFicmljLkltYWdlLmZpbHRlcnMsXG4gICAgICBjcmVhdGVDbGFzcyA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzO1xuXG4gIC8qKlxuICAgKiBCbHVyIGZpbHRlciBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlLmZpbHRlcnMuQmx1clxuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CbHVyI2luaXRpYWxpemV9IGZvciBjb25zdHJ1Y3RvciBkZWZpbml0aW9uXG4gICAqIEBzZWUge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vaW1hZ2UtZmlsdGVyc3xJbWFnZUZpbHRlcnMgZGVtb31cbiAgICogQGV4YW1wbGVcbiAgICogdmFyIGZpbHRlciA9IG5ldyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CbHVyKHtcbiAgICogICBibHVyOiAwLjVcbiAgICogfSk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKiBjYW52YXMucmVuZGVyQWxsKCk7XG4gICAqL1xuICBmaWx0ZXJzLkJsdXIgPSBjcmVhdGVDbGFzcyhmaWx0ZXJzLkJhc2VGaWx0ZXIsIC8qKiBAbGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmx1ci5wcm90b3R5cGUgKi8ge1xuXG4gICAgdHlwZTogJ0JsdXInLFxuXG4gICAgLypcbidnbF9GcmFnQ29sb3IgPSB2ZWM0KDAuMCk7JyxcbidnbF9GcmFnQ29sb3IgKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZUZXhDb29yZCArIC03ICogdURlbHRhKSowLjAwNDQyOTkxMjEwNTUxMTMyNjU7JyxcbidnbF9GcmFnQ29sb3IgKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZUZXhDb29yZCArIC02ICogdURlbHRhKSowLjAwODk1NzgxMjExNzk0OycsXG4nZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2VGV4Q29vcmQgKyAtNSAqIHVEZWx0YSkqMC4wMjE1OTYzODY2MDUzOycsXG4nZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2VGV4Q29vcmQgKyAtNCAqIHVEZWx0YSkqMC4wNDQzNjgzMzM4NzE4OycsXG4nZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2VGV4Q29vcmQgKyAtMyAqIHVEZWx0YSkqMC4wNzc2NzQ0MjE5OTMzOycsXG4nZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2VGV4Q29vcmQgKyAtMiAqIHVEZWx0YSkqMC4xMTU4NzY2MjExMDU7JyxcbidnbF9GcmFnQ29sb3IgKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZUZXhDb29yZCArIC0xICogdURlbHRhKSowLjE0NzMwODA1NjEyMTsnLFxuJ2dsX0ZyYWdDb2xvciArPSB0ZXh0dXJlMkQodGV4dHVyZSwgdlRleENvb3JkICAgICAgICAgICAgICApKjAuMTU5NTc2OTEyMTYxOycsXG4nZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2VGV4Q29vcmQgKyAxICogdURlbHRhKSowLjE0NzMwODA1NjEyMTsnLFxuJ2dsX0ZyYWdDb2xvciArPSB0ZXh0dXJlMkQodGV4dHVyZSwgdlRleENvb3JkICsgMiAqIHVEZWx0YSkqMC4xMTU4NzY2MjExMDU7JyxcbidnbF9GcmFnQ29sb3IgKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZUZXhDb29yZCArIDMgKiB1RGVsdGEpKjAuMDc3Njc0NDIxOTkzMzsnLFxuJ2dsX0ZyYWdDb2xvciArPSB0ZXh0dXJlMkQodGV4dHVyZSwgdlRleENvb3JkICsgNCAqIHVEZWx0YSkqMC4wNDQzNjgzMzM4NzE4OycsXG4nZ2xfRnJhZ0NvbG9yICs9IHRleHR1cmUyRCh0ZXh0dXJlLCB2VGV4Q29vcmQgKyA1ICogdURlbHRhKSowLjAyMTU5NjM4NjYwNTM7JyxcbidnbF9GcmFnQ29sb3IgKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZUZXhDb29yZCArIDYgKiB1RGVsdGEpKjAuMDA4OTU3ODEyMTE3OTQ7JyxcbidnbF9GcmFnQ29sb3IgKz0gdGV4dHVyZTJEKHRleHR1cmUsIHZUZXhDb29yZCArIDcgKiB1RGVsdGEpKjAuMDA0NDI5OTEyMTA1NTExMzI2NTsnLFxuKi9cblxuICAgIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cbiAgICBmcmFnbWVudFNvdXJjZTogJ3ByZWNpc2lvbiBoaWdocCBmbG9hdDtcXG4nICtcbiAgICAgICd1bmlmb3JtIHNhbXBsZXIyRCB1VGV4dHVyZTtcXG4nICtcbiAgICAgICd1bmlmb3JtIHZlYzIgdURlbHRhO1xcbicgK1xuICAgICAgJ3ZhcnlpbmcgdmVjMiB2VGV4Q29vcmQ7XFxuJyArXG4gICAgICAnY29uc3QgZmxvYXQgblNhbXBsZXMgPSAxNS4wO1xcbicgK1xuICAgICAgJ3ZlYzMgdjNvZmZzZXQgPSB2ZWMzKDEyLjk4OTgsIDc4LjIzMywgMTUxLjcxODIpO1xcbicgK1xuICAgICAgJ2Zsb2F0IHJhbmRvbSh2ZWMzIHNjYWxlKSB7XFxuJyArXG4gICAgICAgIC8qIHVzZSB0aGUgZnJhZ21lbnQgcG9zaXRpb24gZm9yIGEgZGlmZmVyZW50IHNlZWQgcGVyLXBpeGVsICovXG4gICAgICAgICdyZXR1cm4gZnJhY3Qoc2luKGRvdChnbF9GcmFnQ29vcmQueHl6LCBzY2FsZSkpICogNDM3NTguNTQ1Myk7XFxuJyArXG4gICAgICAnfVxcbicgK1xuICAgICAgJ3ZvaWQgbWFpbigpIHtcXG4nICtcbiAgICAgICAgJ3ZlYzQgY29sb3IgPSB2ZWM0KDAuMCk7XFxuJyArXG4gICAgICAgICdmbG9hdCB0b3RhbCA9IDAuMDtcXG4nICtcbiAgICAgICAgJ2Zsb2F0IG9mZnNldCA9IHJhbmRvbSh2M29mZnNldCk7XFxuJyArXG4gICAgICAgICdmb3IgKGZsb2F0IHQgPSAtblNhbXBsZXM7IHQgPD0gblNhbXBsZXM7IHQrKykge1xcbicgK1xuICAgICAgICAgICdmbG9hdCBwZXJjZW50ID0gKHQgKyBvZmZzZXQgLSAwLjUpIC8gblNhbXBsZXM7XFxuJyArXG4gICAgICAgICAgJ2Zsb2F0IHdlaWdodCA9IDEuMCAtIGFicyhwZXJjZW50KTtcXG4nICtcbiAgICAgICAgICAnY29sb3IgKz0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQgKyB1RGVsdGEgKiBwZXJjZW50KSAqIHdlaWdodDtcXG4nICtcbiAgICAgICAgICAndG90YWwgKz0gd2VpZ2h0O1xcbicgK1xuICAgICAgICAnfVxcbicgK1xuICAgICAgICAnZ2xfRnJhZ0NvbG9yID0gY29sb3IgLyB0b3RhbDtcXG4nICtcbiAgICAgICd9JyxcbiAgICAvKiBlc2xpbnQtZW5hYmxlIG1heC1sZW4gKi9cblxuICAgIC8qKlxuICAgICAqIGJsdXIgdmFsdWUsIGluIHBlcmNlbnRhZ2Ugb2YgaW1hZ2UgZGltZW5zaW9ucy5cbiAgICAgKiBzcGVjaWZpYyB0byBrZWVwIHRoZSBpbWFnZSBibHVyIGNvbnN0YW50IGF0IGRpZmZlcmVudCByZXNvbHV0aW9uc1xuICAgICAqIHJhbmdlIGJld3RlZW4gMCBhbmQgMS5cbiAgICAgKi9cbiAgICBibHVyOiAwLFxuXG4gICAgbWFpblBhcmFtZXRlcjogJ2JsdXInLFxuXG4gICAgYXBwbHlUbzogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgaWYgKG9wdGlvbnMud2ViZ2wpIHtcbiAgICAgICAgLy8gdGhpcyBhc3BlY3RSYXRpbyBpcyB1c2VkIHRvIGdpdmUgdGhlIHNhbWUgYmx1ciB0byB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbFxuICAgICAgICB0aGlzLmFzcGVjdFJhdGlvID0gb3B0aW9ucy5zb3VyY2VXaWR0aCAvIG9wdGlvbnMuc291cmNlSGVpZ2h0O1xuICAgICAgICBvcHRpb25zLnBhc3NlcysrO1xuICAgICAgICB0aGlzLl9zZXR1cEZyYW1lQnVmZmVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmhvcml6b250YWwgPSB0cnVlO1xuICAgICAgICB0aGlzLmFwcGx5VG9XZWJHTChvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fc3dhcFRleHR1cmVzKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9zZXR1cEZyYW1lQnVmZmVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmhvcml6b250YWwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hcHBseVRvV2ViR0wob3B0aW9ucyk7XG4gICAgICAgIHRoaXMuX3N3YXBUZXh0dXJlcyhvcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmFwcGx5VG8yZChvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYXBwbHlUbzJkOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAvLyBwYWludCBjYW52YXNFbCB3aXRoIGN1cnJlbnQgaW1hZ2UgZGF0YS5cbiAgICAgIC8vb3B0aW9ucy5jdHgucHV0SW1hZ2VEYXRhKG9wdGlvbnMuaW1hZ2VEYXRhLCAwLCAwKTtcbiAgICAgIG9wdGlvbnMuaW1hZ2VEYXRhID0gdGhpcy5zaW1wbGVCbHVyKG9wdGlvbnMpO1xuICAgIH0sXG5cbiAgICBzaW1wbGVCbHVyOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB2YXIgcmVzb3VyY2VzID0gb3B0aW9ucy5maWx0ZXJCYWNrZW5kLnJlc291cmNlcywgY2FudmFzMSwgY2FudmFzMixcbiAgICAgICAgICB3aWR0aCA9IG9wdGlvbnMuaW1hZ2VEYXRhLndpZHRoLFxuICAgICAgICAgIGhlaWdodCA9IG9wdGlvbnMuaW1hZ2VEYXRhLmhlaWdodDtcblxuICAgICAgaWYgKCFyZXNvdXJjZXMuYmx1ckxheWVyMSkge1xuICAgICAgICByZXNvdXJjZXMuYmx1ckxheWVyMSA9IGZhYnJpYy51dGlsLmNyZWF0ZUNhbnZhc0VsZW1lbnQoKTtcbiAgICAgICAgcmVzb3VyY2VzLmJsdXJMYXllcjIgPSBmYWJyaWMudXRpbC5jcmVhdGVDYW52YXNFbGVtZW50KCk7XG4gICAgICB9XG4gICAgICBjYW52YXMxID0gcmVzb3VyY2VzLmJsdXJMYXllcjE7XG4gICAgICBjYW52YXMyID0gcmVzb3VyY2VzLmJsdXJMYXllcjI7XG4gICAgICBpZiAoY2FudmFzMS53aWR0aCAhPT0gd2lkdGggfHwgY2FudmFzMS5oZWlnaHQgIT09IGhlaWdodCkge1xuICAgICAgICBjYW52YXMyLndpZHRoID0gY2FudmFzMS53aWR0aCA9IHdpZHRoO1xuICAgICAgICBjYW52YXMyLmhlaWdodCA9IGNhbnZhczEuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgfVxuICAgICAgdmFyIGN0eDEgPSBjYW52YXMxLmdldENvbnRleHQoJzJkJyksXG4gICAgICAgICAgY3R4MiA9IGNhbnZhczIuZ2V0Q29udGV4dCgnMmQnKSxcbiAgICAgICAgICBuU2FtcGxlcyA9IDE1LFxuICAgICAgICAgIHJhbmRvbSwgcGVyY2VudCwgaiwgaSxcbiAgICAgICAgICBibHVyID0gdGhpcy5ibHVyICogMC4wNiAqIDAuNTtcblxuICAgICAgLy8gbG9hZCBmaXJzdCBjYW52YXNcbiAgICAgIGN0eDEucHV0SW1hZ2VEYXRhKG9wdGlvbnMuaW1hZ2VEYXRhLCAwLCAwKTtcbiAgICAgIGN0eDIuY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICBmb3IgKGkgPSAtblNhbXBsZXM7IGkgPD0gblNhbXBsZXM7IGkrKykge1xuICAgICAgICByYW5kb20gPSAoTWF0aC5yYW5kb20oKSAtIDAuNSkgLyA0O1xuICAgICAgICBwZXJjZW50ID0gaSAvIG5TYW1wbGVzO1xuICAgICAgICBqID0gYmx1ciAqIHBlcmNlbnQgKiB3aWR0aCArIHJhbmRvbTtcbiAgICAgICAgY3R4Mi5nbG9iYWxBbHBoYSA9IDEgLSBNYXRoLmFicyhwZXJjZW50KTtcbiAgICAgICAgY3R4Mi5kcmF3SW1hZ2UoY2FudmFzMSwgaiwgcmFuZG9tKTtcbiAgICAgICAgY3R4MS5kcmF3SW1hZ2UoY2FudmFzMiwgMCwgMCk7XG4gICAgICAgIGN0eDIuZ2xvYmFsQWxwaGEgPSAxO1xuICAgICAgICBjdHgyLmNsZWFyUmVjdCgwLCAwLCBjYW52YXMyLndpZHRoLCBjYW52YXMyLmhlaWdodCk7XG4gICAgICB9XG4gICAgICBmb3IgKGkgPSAtblNhbXBsZXM7IGkgPD0gblNhbXBsZXM7IGkrKykge1xuICAgICAgICByYW5kb20gPSAoTWF0aC5yYW5kb20oKSAtIDAuNSkgLyA0O1xuICAgICAgICBwZXJjZW50ID0gaSAvIG5TYW1wbGVzO1xuICAgICAgICBqID0gYmx1ciAqIHBlcmNlbnQgKiBoZWlnaHQgKyByYW5kb207XG4gICAgICAgIGN0eDIuZ2xvYmFsQWxwaGEgPSAxIC0gTWF0aC5hYnMocGVyY2VudCk7XG4gICAgICAgIGN0eDIuZHJhd0ltYWdlKGNhbnZhczEsIHJhbmRvbSwgaik7XG4gICAgICAgIGN0eDEuZHJhd0ltYWdlKGNhbnZhczIsIDAsIDApO1xuICAgICAgICBjdHgyLmdsb2JhbEFscGhhID0gMTtcbiAgICAgICAgY3R4Mi5jbGVhclJlY3QoMCwgMCwgY2FudmFzMi53aWR0aCwgY2FudmFzMi5oZWlnaHQpO1xuICAgICAgfVxuICAgICAgb3B0aW9ucy5jdHguZHJhd0ltYWdlKGNhbnZhczEsIDAsIDApO1xuICAgICAgdmFyIG5ld0ltYWdlRGF0YSA9IG9wdGlvbnMuY3R4LmdldEltYWdlRGF0YSgwLCAwLCBjYW52YXMxLndpZHRoLCBjYW52YXMxLmhlaWdodCk7XG4gICAgICBjdHgxLmdsb2JhbEFscGhhID0gMTtcbiAgICAgIGN0eDEuY2xlYXJSZWN0KDAsIDAsIGNhbnZhczEud2lkdGgsIGNhbnZhczEuaGVpZ2h0KTtcbiAgICAgIHJldHVybiBuZXdJbWFnZURhdGE7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBXZWJHTCB1bmlmb3JtIGxvY2F0aW9ucyBmb3IgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1dlYkdMUmVuZGVyaW5nQ29udGV4dH0gZ2wgVGhlIEdMIGNhbnZhcyBjb250ZXh0IHVzZWQgdG8gY29tcGlsZSB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKiBAcGFyYW0ge1dlYkdMU2hhZGVyUHJvZ3JhbX0gcHJvZ3JhbSBUaGlzIGZpbHRlcidzIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtLlxuICAgICAqL1xuICAgIGdldFVuaWZvcm1Mb2NhdGlvbnM6IGZ1bmN0aW9uKGdsLCBwcm9ncmFtKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBkZWx0YTogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1RGVsdGEnKSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSdzIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1Mb2NhdGlvbnMgQSBtYXAgb2Ygc3RyaW5nIHVuaWZvcm0gbmFtZXMgdG8gV2ViR0xVbmlmb3JtTG9jYXRpb24gb2JqZWN0c1xuICAgICAqL1xuICAgIHNlbmRVbmlmb3JtRGF0YTogZnVuY3Rpb24oZ2wsIHVuaWZvcm1Mb2NhdGlvbnMpIHtcbiAgICAgIHZhciBkZWx0YSA9IHRoaXMuY2hvb3NlUmlnaHREZWx0YSgpO1xuICAgICAgZ2wudW5pZm9ybTJmdih1bmlmb3JtTG9jYXRpb25zLmRlbHRhLCBkZWx0YSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNob29zZSByaWdodCB2YWx1ZSBvZiBpbWFnZSBwZXJjZW50YWdlIHRvIGJsdXIgd2l0aFxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gYSBudW1lcmljIGFycmF5IHdpdGggZGVsdGEgdmFsdWVzXG4gICAgICovXG4gICAgY2hvb3NlUmlnaHREZWx0YTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYmx1clNjYWxlID0gMSwgZGVsdGEgPSBbMCwgMF0sIGJsdXI7XG4gICAgICBpZiAodGhpcy5ob3Jpem9udGFsKSB7XG4gICAgICAgIGlmICh0aGlzLmFzcGVjdFJhdGlvID4gMSkge1xuICAgICAgICAgIC8vIGltYWdlIGlzIHdpZGUsIGkgd2FudCB0byBzaHJpbmsgcmFkaXVzIGhvcml6b250YWxcbiAgICAgICAgICBibHVyU2NhbGUgPSAxIC8gdGhpcy5hc3BlY3RSYXRpbztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLmFzcGVjdFJhdGlvIDwgMSkge1xuICAgICAgICAgIC8vIGltYWdlIGlzIHRhbGwsIGkgd2FudCB0byBzaHJpbmsgcmFkaXVzIHZlcnRpY2FsXG4gICAgICAgICAgYmx1clNjYWxlID0gdGhpcy5hc3BlY3RSYXRpbztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYmx1ciA9IGJsdXJTY2FsZSAqIHRoaXMuYmx1ciAqIDAuMTI7XG4gICAgICBpZiAodGhpcy5ob3Jpem9udGFsKSB7XG4gICAgICAgIGRlbHRhWzBdID0gYmx1cjtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBkZWx0YVsxXSA9IGJsdXI7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVsdGE7XG4gICAgfSxcbiAgfSk7XG5cbiAgLyoqXG4gICAqIERlc2VyaWFsaXplIGEgSlNPTiBkZWZpbml0aW9uIG9mIGEgQmx1ckZpbHRlciBpbnRvIGEgY29uY3JldGUgaW5zdGFuY2UuXG4gICAqL1xuICBmaWx0ZXJzLkJsdXIuZnJvbU9iamVjdCA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXIuZnJvbU9iamVjdDtcblxufSkodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnID8gZXhwb3J0cyA6IHRoaXMpO1xuXG5cbihmdW5jdGlvbihnbG9iYWwpIHtcblxuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIGZhYnJpYyAgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGZpbHRlcnMgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycyxcbiAgICAgIGNyZWF0ZUNsYXNzID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3M7XG5cbiAgLyoqXG4gICAqIEdhbW1hIGZpbHRlciBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLkltYWdlLmZpbHRlcnMuR2FtbWFcbiAgICogQG1lbWJlck9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzXG4gICAqIEBleHRlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkJhc2VGaWx0ZXJcbiAgICogQHNlZSB7QGxpbmsgZmFicmljLkltYWdlLmZpbHRlcnMuR2FtbWEjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICogQHNlZSB7QGxpbmsgaHR0cDovL2ZhYnJpY2pzLmNvbS9pbWFnZS1maWx0ZXJzfEltYWdlRmlsdGVycyBkZW1vfVxuICAgKiBAZXhhbXBsZVxuICAgKiB2YXIgZmlsdGVyID0gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzLkdhbW1hKHtcbiAgICogICBicmlnaHRuZXNzOiAyMDBcbiAgICogfSk7XG4gICAqIG9iamVjdC5maWx0ZXJzLnB1c2goZmlsdGVyKTtcbiAgICogb2JqZWN0LmFwcGx5RmlsdGVycygpO1xuICAgKi9cbiAgZmlsdGVycy5HYW1tYSA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5HYW1tYS5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogRmlsdGVyIHR5cGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogJ0dhbW1hJyxcblxuICAgIGZyYWdtZW50U291cmNlOiAncHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbicgK1xuICAgICAgJ3VuaWZvcm0gc2FtcGxlcjJEIHVUZXh0dXJlO1xcbicgK1xuICAgICAgJ3VuaWZvcm0gdmVjMyB1R2FtbWE7XFxuJyArXG4gICAgICAndmFyeWluZyB2ZWMyIHZUZXhDb29yZDtcXG4nICtcbiAgICAgICd2b2lkIG1haW4oKSB7XFxuJyArXG4gICAgICAgICd2ZWM0IGNvbG9yID0gdGV4dHVyZTJEKHVUZXh0dXJlLCB2VGV4Q29vcmQpO1xcbicgK1xuICAgICAgICAndmVjMyBjb3JyZWN0aW9uID0gKDEuMCAvIHVHYW1tYSk7XFxuJyArXG4gICAgICAgICdjb2xvci5yID0gcG93KGNvbG9yLnIsIGNvcnJlY3Rpb24ucik7XFxuJyArXG4gICAgICAgICdjb2xvci5nID0gcG93KGNvbG9yLmcsIGNvcnJlY3Rpb24uZyk7XFxuJyArXG4gICAgICAgICdjb2xvci5iID0gcG93KGNvbG9yLmIsIGNvcnJlY3Rpb24uYik7XFxuJyArXG4gICAgICAgICdnbF9GcmFnQ29sb3IgPSBjb2xvcjtcXG4nICtcbiAgICAgICAgJ2dsX0ZyYWdDb2xvci5yZ2IgKj0gY29sb3IuYTtcXG4nICtcbiAgICAgICd9JyxcblxuICAgIC8qKlxuICAgICAqIEdhbW1hIGFycmF5IHZhbHVlLCBmcm9tIDAuMDEgdG8gMi4yLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGdhbW1hXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBnYW1tYTogWzEsIDEsIDFdLFxuXG4gICAgLyoqXG4gICAgICogRGVzY3JpYmUgdGhlIHByb3BlcnR5IHRoYXQgaXMgdGhlIGZpbHRlciBwYXJhbWV0ZXJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgbWFpblBhcmFtZXRlcjogJ2dhbW1hJyxcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgICAqL1xuICAgIGluaXRpYWxpemU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuZ2FtbWEgPSBbMSwgMSwgMV07XG4gICAgICBmaWx0ZXJzLkJhc2VGaWx0ZXIucHJvdG90eXBlLmluaXRpYWxpemUuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXBwbHkgdGhlIEdhbW1hIG9wZXJhdGlvbiB0byBhIFVpbnQ4QXJyYXkgcmVwcmVzZW50aW5nIHRoZSBwaXhlbHMgb2YgYW4gaW1hZ2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7SW1hZ2VEYXRhfSBvcHRpb25zLmltYWdlRGF0YSBUaGUgVWludDhBcnJheSB0byBiZSBmaWx0ZXJlZC5cbiAgICAgKi9cbiAgICBhcHBseVRvMmQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHZhciBpbWFnZURhdGEgPSBvcHRpb25zLmltYWdlRGF0YSwgZGF0YSA9IGltYWdlRGF0YS5kYXRhLFxuICAgICAgICAgIGdhbW1hID0gdGhpcy5nYW1tYSwgbGVuID0gZGF0YS5sZW5ndGgsXG4gICAgICAgICAgckludiA9IDEgLyBnYW1tYVswXSwgZ0ludiA9IDEgLyBnYW1tYVsxXSxcbiAgICAgICAgICBiSW52ID0gMSAvIGdhbW1hWzJdLCBpO1xuXG4gICAgICBpZiAoIXRoaXMuclZhbHMpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgIHRoaXMuclZhbHMgPSBuZXcgVWludDhBcnJheSgyNTYpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgdGhpcy5nVmFscyA9IG5ldyBVaW50OEFycmF5KDI1Nik7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICB0aGlzLmJWYWxzID0gbmV3IFVpbnQ4QXJyYXkoMjU2KTtcbiAgICAgIH1cblxuICAgICAgLy8gVGhpcyBpcyBhbiBvcHRpbWl6YXRpb24gLSBwcmUtY29tcHV0ZSBhIGxvb2stdXAgdGFibGUgZm9yIGVhY2ggY29sb3IgY2hhbm5lbFxuICAgICAgLy8gaW5zdGVhZCBvZiBwZXJmb3JtaW5nIHRoZXNlIHBvdyBjYWxscyBmb3IgZWFjaCBwaXhlbCBpbiB0aGUgaW1hZ2UuXG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSAyNTY7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB0aGlzLnJWYWxzW2ldID0gTWF0aC5wb3coaSAvIDI1NSwgckludikgKiAyNTU7XG4gICAgICAgIHRoaXMuZ1ZhbHNbaV0gPSBNYXRoLnBvdyhpIC8gMjU1LCBnSW52KSAqIDI1NTtcbiAgICAgICAgdGhpcy5iVmFsc1tpXSA9IE1hdGgucG93KGkgLyAyNTUsIGJJbnYpICogMjU1O1xuICAgICAgfVxuICAgICAgZm9yIChpID0gMCwgbGVuID0gZGF0YS5sZW5ndGg7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgICAgICBkYXRhW2ldID0gdGhpcy5yVmFsc1tkYXRhW2ldXTtcbiAgICAgICAgZGF0YVtpICsgMV0gPSB0aGlzLmdWYWxzW2RhdGFbaSArIDFdXTtcbiAgICAgICAgZGF0YVtpICsgMl0gPSB0aGlzLmJWYWxzW2RhdGFbaSArIDJdXTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIFdlYkdMIHVuaWZvcm0gbG9jYXRpb25zIGZvciB0aGlzIGZpbHRlcidzIHNoYWRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7V2ViR0xSZW5kZXJpbmdDb250ZXh0fSBnbCBUaGUgR0wgY2FudmFzIGNvbnRleHQgdXNlZCB0byBjb21waWxlIHRoaXMgZmlsdGVyJ3Mgc2hhZGVyLlxuICAgICAqIEBwYXJhbSB7V2ViR0xTaGFkZXJQcm9ncmFtfSBwcm9ncmFtIFRoaXMgZmlsdGVyJ3MgY29tcGlsZWQgc2hhZGVyIHByb2dyYW0uXG4gICAgICovXG4gICAgZ2V0VW5pZm9ybUxvY2F0aW9uczogZnVuY3Rpb24oZ2wsIHByb2dyYW0pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVHYW1tYTogZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1R2FtbWEnKSxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbmQgZGF0YSBmcm9tIHRoaXMgZmlsdGVyIHRvIGl0cyBzaGFkZXIgcHJvZ3JhbSdzIHVuaWZvcm1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IGdsIFRoZSBHTCBjYW52YXMgY29udGV4dCB1c2VkIHRvIGNvbXBpbGUgdGhpcyBmaWx0ZXIncyBzaGFkZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHVuaWZvcm1Mb2NhdGlvbnMgQSBtYXAgb2Ygc3RyaW5nIHVuaWZvcm0gbmFtZXMgdG8gV2ViR0xVbmlmb3JtTG9jYXRpb24gb2JqZWN0c1xuICAgICAqL1xuICAgIHNlbmRVbmlmb3JtRGF0YTogZnVuY3Rpb24oZ2wsIHVuaWZvcm1Mb2NhdGlvbnMpIHtcbiAgICAgIGdsLnVuaWZvcm0zZnYodW5pZm9ybUxvY2F0aW9ucy51R2FtbWEsIHRoaXMuZ2FtbWEpO1xuICAgIH0sXG4gIH0pO1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGZpbHRlciBpbnN0YW5jZSBmcm9tIGFuIG9iamVjdCByZXByZXNlbnRhdGlvblxuICAgKiBAc3RhdGljXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBmcm9tXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtjYWxsYmFja10gdG8gYmUgaW52b2tlZCBhZnRlciBmaWx0ZXIgY3JlYXRpb25cbiAgICogQHJldHVybiB7ZmFicmljLkltYWdlLmZpbHRlcnMuR2FtbWF9IEluc3RhbmNlIG9mIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkdhbW1hXG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZmlsdGVycy5HYW1tYS5mcm9tT2JqZWN0ID0gZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlci5mcm9tT2JqZWN0O1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljICA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLFxuICAgICAgZmlsdGVycyA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLFxuICAgICAgY3JlYXRlQ2xhc3MgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcztcblxuICAvKipcbiAgICogQSBjb250YWluZXIgY2xhc3MgdGhhdCBrbm93cyBob3cgdG8gYXBwbHkgYSBzZXF1ZW5jZSBvZiBmaWx0ZXJzIHRvIGFuIGlucHV0IGltYWdlLlxuICAgKi9cbiAgZmlsdGVycy5Db21wb3NlZCA9IGNyZWF0ZUNsYXNzKGZpbHRlcnMuQmFzZUZpbHRlciwgLyoqIEBsZW5kcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db21wb3NlZC5wcm90b3R5cGUgKi8ge1xuXG4gICAgdHlwZTogJ0NvbXBvc2VkJyxcblxuICAgIC8qKlxuICAgICAqIEEgbm9uIHNwYXJzZSBhcnJheSBvZiBmaWx0ZXJzIHRvIGFwcGx5XG4gICAgICovXG4gICAgc3ViRmlsdGVyczogW10sXG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKi9cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB0aGlzLmNhbGxTdXBlcignaW5pdGlhbGl6ZScsIG9wdGlvbnMpO1xuICAgICAgLy8gY3JlYXRlIGEgbmV3IGFycmF5IGluc3RlYWQgbXV0YXRpbmcgdGhlIHByb3RvdHlwZSB3aXRoIHB1c2hcbiAgICAgIHRoaXMuc3ViRmlsdGVycyA9IHRoaXMuc3ViRmlsdGVycy5zbGljZSgwKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXBwbHkgdGhpcyBjb250YWluZXIncyBmaWx0ZXJzIHRvIHRoZSBpbnB1dCBpbWFnZSBwcm92aWRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9wdGlvbnMucGFzc2VzIFRoZSBudW1iZXIgb2YgZmlsdGVycyByZW1haW5pbmcgdG8gYmUgYXBwbGllZC5cbiAgICAgKi9cbiAgICBhcHBseVRvOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICBvcHRpb25zLnBhc3NlcyArPSB0aGlzLnN1YkZpbHRlcnMubGVuZ3RoIC0gMTtcbiAgICAgIHRoaXMuc3ViRmlsdGVycy5mb3JFYWNoKGZ1bmN0aW9uKGZpbHRlcikge1xuICAgICAgICBmaWx0ZXIuYXBwbHlUbyhvcHRpb25zKTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXJpYWxpemUgdGhpcyBmaWx0ZXIgaW50byBKU09OLlxuICAgICAqXG4gICAgICogQHJldHVybnMge09iamVjdH0gQSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgZmlsdGVyLlxuICAgICAqL1xuICAgIHRvT2JqZWN0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKHRoaXMuY2FsbFN1cGVyKCd0b09iamVjdCcpLCB7XG4gICAgICAgIHN1YkZpbHRlcnM6IHRoaXMuc3ViRmlsdGVycy5tYXAoZnVuY3Rpb24oZmlsdGVyKSB7IHJldHVybiBmaWx0ZXIudG9PYmplY3QoKTsgfSksXG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgaXNOZXV0cmFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICF0aGlzLnN1YkZpbHRlcnMuc29tZShmdW5jdGlvbihmaWx0ZXIpIHsgcmV0dXJuICFmaWx0ZXIuaXNOZXV0cmFsU3RhdGUoKTsgfSk7XG4gICAgfVxuICB9KTtcblxuICAvKipcbiAgICogRGVzZXJpYWxpemUgYSBKU09OIGRlZmluaXRpb24gb2YgYSBDb21wb3NlZEZpbHRlciBpbnRvIGEgY29uY3JldGUgaW5zdGFuY2UuXG4gICAqL1xuICBmYWJyaWMuSW1hZ2UuZmlsdGVycy5Db21wb3NlZC5mcm9tT2JqZWN0ID0gZnVuY3Rpb24ob2JqZWN0LCBjYWxsYmFjaykge1xuICAgIHZhciBmaWx0ZXJzID0gb2JqZWN0LnN1YkZpbHRlcnMgfHwgW10sXG4gICAgICAgIHN1YkZpbHRlcnMgPSBmaWx0ZXJzLm1hcChmdW5jdGlvbihmaWx0ZXIpIHtcbiAgICAgICAgICByZXR1cm4gbmV3IGZhYnJpYy5JbWFnZS5maWx0ZXJzW2ZpbHRlci50eXBlXShmaWx0ZXIpO1xuICAgICAgICB9KSxcbiAgICAgICAgaW5zdGFuY2UgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuQ29tcG9zZWQoeyBzdWJGaWx0ZXJzOiBzdWJGaWx0ZXJzIH0pO1xuICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKGluc3RhbmNlKTtcbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH07XG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljICA9IGdsb2JhbC5mYWJyaWMgfHwgKGdsb2JhbC5mYWJyaWMgPSB7IH0pLFxuICAgICAgZmlsdGVycyA9IGZhYnJpYy5JbWFnZS5maWx0ZXJzLFxuICAgICAgY3JlYXRlQ2xhc3MgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcztcblxuICAvKipcbiAgICogSHVlUm90YXRpb24gZmlsdGVyIGNsYXNzXG4gICAqIEBjbGFzcyBmYWJyaWMuSW1hZ2UuZmlsdGVycy5IdWVSb3RhdGlvblxuICAgKiBAbWVtYmVyT2YgZmFicmljLkltYWdlLmZpbHRlcnNcbiAgICogQGV4dGVuZHMgZmFicmljLkltYWdlLmZpbHRlcnMuQmFzZUZpbHRlclxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuSW1hZ2UuZmlsdGVycy5IdWVSb3RhdGlvbiNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKiBAc2VlIHtAbGluayBodHRwOi8vZmFicmljanMuY29tL2ltYWdlLWZpbHRlcnN8SW1hZ2VGaWx0ZXJzIGRlbW99XG4gICAqIEBleGFtcGxlXG4gICAqIHZhciBmaWx0ZXIgPSBuZXcgZmFicmljLkltYWdlLmZpbHRlcnMuSHVlUm90YXRpb24oe1xuICAgKiAgIHJvdGF0aW9uOiAtMC41XG4gICAqIH0pO1xuICAgKiBvYmplY3QuZmlsdGVycy5wdXNoKGZpbHRlcik7XG4gICAqIG9iamVjdC5hcHBseUZpbHRlcnMoKTtcbiAgICovXG4gIGZpbHRlcnMuSHVlUm90YXRpb24gPSBjcmVhdGVDbGFzcyhmaWx0ZXJzLkNvbG9yTWF0cml4LCAvKiogQGxlbmRzIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkh1ZVJvdGF0aW9uLnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgdHlwZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAnSHVlUm90YXRpb24nLFxuXG4gICAgLyoqXG4gICAgICogSHVlUm90YXRpb24gdmFsdWUsIGZyb20gLTEgdG8gMS5cbiAgICAgKiB0aGUgdW5pdCBpcyByYWRpYW5zXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG15UGFyYW1ldGVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICByb3RhdGlvbjogMCxcblxuICAgIC8qKlxuICAgICAqIERlc2NyaWJlIHRoZSBwcm9wZXJ0eSB0aGF0IGlzIHRoZSBmaWx0ZXIgcGFyYW1ldGVyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG1haW5QYXJhbWV0ZXI6ICdyb3RhdGlvbicsXG5cbiAgICBjYWxjdWxhdGVNYXRyaXg6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHJhZCA9IHRoaXMucm90YXRpb24gKiBNYXRoLlBJLCBjb3MgPSBmYWJyaWMudXRpbC5jb3MocmFkKSwgc2luID0gZmFicmljLnV0aWwuc2luKHJhZCksXG4gICAgICAgICAgYVRoaXJkID0gMSAvIDMsIGFUaGlyZFNxdFNpbiA9IE1hdGguc3FydChhVGhpcmQpICogc2luLCBPbmVNaW51c0NvcyA9IDEgLSBjb3M7XG4gICAgICB0aGlzLm1hdHJpeCA9IFtcbiAgICAgICAgMSwgMCwgMCwgMCwgMCxcbiAgICAgICAgMCwgMSwgMCwgMCwgMCxcbiAgICAgICAgMCwgMCwgMSwgMCwgMCxcbiAgICAgICAgMCwgMCwgMCwgMSwgMFxuICAgICAgXTtcbiAgICAgIHRoaXMubWF0cml4WzBdID0gY29zICsgT25lTWludXNDb3MgLyAzO1xuICAgICAgdGhpcy5tYXRyaXhbMV0gPSBhVGhpcmQgKiBPbmVNaW51c0NvcyAtIGFUaGlyZFNxdFNpbjtcbiAgICAgIHRoaXMubWF0cml4WzJdID0gYVRoaXJkICogT25lTWludXNDb3MgKyBhVGhpcmRTcXRTaW47XG4gICAgICB0aGlzLm1hdHJpeFs1XSA9IGFUaGlyZCAqIE9uZU1pbnVzQ29zICsgYVRoaXJkU3F0U2luO1xuICAgICAgdGhpcy5tYXRyaXhbNl0gPSBjb3MgKyBhVGhpcmQgKiBPbmVNaW51c0NvcztcbiAgICAgIHRoaXMubWF0cml4WzddID0gYVRoaXJkICogT25lTWludXNDb3MgLSBhVGhpcmRTcXRTaW47XG4gICAgICB0aGlzLm1hdHJpeFsxMF0gPSBhVGhpcmQgKiBPbmVNaW51c0NvcyAtIGFUaGlyZFNxdFNpbjtcbiAgICAgIHRoaXMubWF0cml4WzExXSA9IGFUaGlyZCAqIE9uZU1pbnVzQ29zICsgYVRoaXJkU3F0U2luO1xuICAgICAgdGhpcy5tYXRyaXhbMTJdID0gY29zICsgYVRoaXJkICogT25lTWludXNDb3M7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEh1ZVJvdGF0aW9uIGlzTmV1dHJhbFN0YXRlIGltcGxlbWVudGF0aW9uXG4gICAgICogVXNlZCBvbmx5IGluIGltYWdlIGFwcGx5RmlsdGVycyB0byBkaXNjYXJkIGZpbHRlcnMgdGhhdCB3aWxsIG5vdCBoYXZlIGFuIGVmZmVjdFxuICAgICAqIG9uIHRoZSBpbWFnZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICoqL1xuICAgIGlzTmV1dHJhbFN0YXRlOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICB0aGlzLmNhbGN1bGF0ZU1hdHJpeCgpO1xuICAgICAgcmV0dXJuIGZpbHRlcnMuQmFzZUZpbHRlci5wcm90b3R5cGUuaXNOZXV0cmFsU3RhdGUuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXBwbHkgdGhpcyBmaWx0ZXIgdG8gdGhlIGlucHV0IGltYWdlIGRhdGEgcHJvdmlkZWQuXG4gICAgICpcbiAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdG8gdXNlIFdlYkdMIG9yIENhbnZhczJEIGJhc2VkIG9uIHRoZSBvcHRpb25zLndlYmdsIGZsYWcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBvcHRpb25zLnBhc3NlcyBUaGUgbnVtYmVyIG9mIGZpbHRlcnMgcmVtYWluaW5nIHRvIGJlIGV4ZWN1dGVkXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBvcHRpb25zLndlYmdsIFdoZXRoZXIgdG8gdXNlIHdlYmdsIHRvIHJlbmRlciB0aGUgZmlsdGVyLlxuICAgICAqIEBwYXJhbSB7V2ViR0xUZXh0dXJlfSBvcHRpb25zLnNvdXJjZVRleHR1cmUgVGhlIHRleHR1cmUgc2V0dXAgYXMgdGhlIHNvdXJjZSB0byBiZSBmaWx0ZXJlZC5cbiAgICAgKiBAcGFyYW0ge1dlYkdMVGV4dHVyZX0gb3B0aW9ucy50YXJnZXRUZXh0dXJlIFRoZSB0ZXh0dXJlIHdoZXJlIGZpbHRlcmVkIG91dHB1dCBzaG91bGQgYmUgZHJhd24uXG4gICAgICogQHBhcmFtIHtXZWJHTFJlbmRlcmluZ0NvbnRleHR9IG9wdGlvbnMuY29udGV4dCBUaGUgR0wgY29udGV4dCB1c2VkIGZvciByZW5kZXJpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMucHJvZ3JhbUNhY2hlIEEgbWFwIG9mIGNvbXBpbGVkIHNoYWRlciBwcm9ncmFtcywga2V5ZWQgYnkgZmlsdGVyIHR5cGUuXG4gICAgICovXG4gICAgYXBwbHlUbzogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdGhpcy5jYWxjdWxhdGVNYXRyaXgoKTtcbiAgICAgIGZpbHRlcnMuQmFzZUZpbHRlci5wcm90b3R5cGUuYXBwbHlUby5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIH0sXG5cbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmlsdGVyIGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIGZyb21cbiAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NhbGxiYWNrXSB0byBiZSBpbnZva2VkIGFmdGVyIGZpbHRlciBjcmVhdGlvblxuICAgKiBAcmV0dXJuIHtmYWJyaWMuSW1hZ2UuZmlsdGVycy5IdWVSb3RhdGlvbn0gSW5zdGFuY2Ugb2YgZmFicmljLkltYWdlLmZpbHRlcnMuSHVlUm90YXRpb25cbiAgICovXG4gIGZhYnJpYy5JbWFnZS5maWx0ZXJzLkh1ZVJvdGF0aW9uLmZyb21PYmplY3QgPSBmYWJyaWMuSW1hZ2UuZmlsdGVycy5CYXNlRmlsdGVyLmZyb21PYmplY3Q7XG5cbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuXG4oZnVuY3Rpb24oZ2xvYmFsKSB7XG5cbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIHZhciBmYWJyaWMgPSBnbG9iYWwuZmFicmljIHx8IChnbG9iYWwuZmFicmljID0geyB9KSxcbiAgICAgIGNsb25lID0gZmFicmljLnV0aWwub2JqZWN0LmNsb25lO1xuXG4gIGlmIChmYWJyaWMuVGV4dCkge1xuICAgIGZhYnJpYy53YXJuKCdmYWJyaWMuVGV4dCBpcyBhbHJlYWR5IGRlZmluZWQnKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogVGV4dCBjbGFzc1xuICAgKiBAY2xhc3MgZmFicmljLlRleHRcbiAgICogQGV4dGVuZHMgZmFicmljLk9iamVjdFxuICAgKiBAcmV0dXJuIHtmYWJyaWMuVGV4dH0gdGhpc0FyZ1xuICAgKiBAdHV0b3JpYWwge0BsaW5rIGh0dHA6Ly9mYWJyaWNqcy5jb20vZmFicmljLWludHJvLXBhcnQtMiN0ZXh0fVxuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuVGV4dCNpbml0aWFsaXplfSBmb3IgY29uc3RydWN0b3IgZGVmaW5pdGlvblxuICAgKi9cbiAgZmFicmljLlRleHQgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyhmYWJyaWMuT2JqZWN0LCAvKiogQGxlbmRzIGZhYnJpYy5UZXh0LnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBQcm9wZXJ0aWVzIHdoaWNoIHdoZW4gc2V0IGNhdXNlIG9iamVjdCB0byBjaGFuZ2UgZGltZW5zaW9uc1xuICAgICAqIEB0eXBlIEFycmF5XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZGltZW5zaW9uQWZmZWN0aW5nUHJvcHM6IFtcbiAgICAgICdmb250U2l6ZScsXG4gICAgICAnZm9udFdlaWdodCcsXG4gICAgICAnZm9udEZhbWlseScsXG4gICAgICAnZm9udFN0eWxlJyxcbiAgICAgICdsaW5lSGVpZ2h0JyxcbiAgICAgICd0ZXh0JyxcbiAgICAgICdjaGFyU3BhY2luZycsXG4gICAgICAndGV4dEFsaWduJyxcbiAgICAgICdzdHlsZXMnLFxuICAgIF0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZU5ld2xpbmU6IC9cXHI/XFxuLyxcblxuICAgIC8qKlxuICAgICAqIFVzZSB0aGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBmaWx0ZXIgZm9yIHdoaXRlc3BhY2VzIHRoYXQgaXMgbm90IGEgbmV3IGxpbmUuXG4gICAgICogTW9zdGx5IHVzZWQgd2hlbiB0ZXh0IGlzICdqdXN0aWZ5JyBhbGlnbmVkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlU3BhY2VzQW5kVGFiczogL1sgXFx0XFxyXS9nLFxuXG4gICAgLyoqXG4gICAgICogVXNlIHRoaXMgcmVndWxhciBleHByZXNzaW9uIHRvIGZpbHRlciBmb3Igd2hpdGVzcGFjZSB0aGF0IGlzIG5vdCBhIG5ldyBsaW5lLlxuICAgICAqIE1vc3RseSB1c2VkIHdoZW4gdGV4dCBpcyAnanVzdGlmeScgYWxpZ25lZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9yZVNwYWNlQW5kVGFiOiAvWyBcXHRcXHJdLyxcblxuICAgIC8qKlxuICAgICAqIFVzZSB0aGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBmaWx0ZXIgY29uc2VjdXRpdmUgZ3JvdXBzIG9mIG5vbiBzcGFjZXMuXG4gICAgICogTW9zdGx5IHVzZWQgd2hlbiB0ZXh0IGlzICdqdXN0aWZ5JyBhbGlnbmVkLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlV29yZHM6IC9cXFMrL2csXG5cbiAgICAvKipcbiAgICAgKiBUeXBlIG9mIGFuIG9iamVjdFxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgdHlwZTogICAgICAgICAgICAgICAgICd0ZXh0JyxcblxuICAgIC8qKlxuICAgICAqIEZvbnQgc2l6ZSAoaW4gcGl4ZWxzKVxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgZm9udFNpemU6ICAgICAgICAgICAgIDQwLFxuXG4gICAgLyoqXG4gICAgICogRm9udCB3ZWlnaHQgKGUuZy4gYm9sZCwgbm9ybWFsLCA0MDAsIDYwMCwgODAwKVxuICAgICAqIEB0eXBlIHsoTnVtYmVyfFN0cmluZyl9XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBmb250V2VpZ2h0OiAgICAgICAgICAgJ25vcm1hbCcsXG5cbiAgICAvKipcbiAgICAgKiBGb250IGZhbWlseVxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgZm9udEZhbWlseTogICAgICAgICAgICdUaW1lcyBOZXcgUm9tYW4nLFxuXG4gICAgLyoqXG4gICAgICogVGV4dCBkZWNvcmF0aW9uIHVuZGVybGluZS5cbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB1bmRlcmxpbmU6ICAgICAgIGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogVGV4dCBkZWNvcmF0aW9uIG92ZXJsaW5lLlxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIG92ZXJsaW5lOiAgICAgICBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIFRleHQgZGVjb3JhdGlvbiBsaW5ldGhyb3VnaC5cbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBsaW5ldGhyb3VnaDogICAgICAgZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBUZXh0IGFsaWdubWVudC4gUG9zc2libGUgdmFsdWVzOiBcImxlZnRcIiwgXCJjZW50ZXJcIiwgXCJyaWdodFwiLCBcImp1c3RpZnlcIixcbiAgICAgKiBcImp1c3RpZnktbGVmdFwiLCBcImp1c3RpZnktY2VudGVyXCIgb3IgXCJqdXN0aWZ5LXJpZ2h0XCIuXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0ZXh0QWxpZ246ICAgICAgICAgICAgJ2xlZnQnLFxuXG4gICAgLyoqXG4gICAgICogRm9udCBzdHlsZSAuIFBvc3NpYmxlIHZhbHVlczogXCJcIiwgXCJub3JtYWxcIiwgXCJpdGFsaWNcIiBvciBcIm9ibGlxdWVcIi5cbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGZvbnRTdHlsZTogICAgICAgICAgICAnbm9ybWFsJyxcblxuICAgIC8qKlxuICAgICAqIExpbmUgaGVpZ2h0XG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBsaW5lSGVpZ2h0OiAgICAgICAgICAgMS4xNixcblxuICAgIC8qKlxuICAgICAqIFN1cGVyc2NyaXB0IHNjaGVtYSBvYmplY3QgKG1pbmltdW0gb3ZlcmxhcClcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc3VwZXJzY3JpcHQ6IHtcbiAgICAgIHNpemU6ICAgICAgMC42MCwgLy8gZm9udFNpemUgZmFjdG9yXG4gICAgICBiYXNlbGluZTogLTAuMzUgIC8vIGJhc2VsaW5lLXNoaWZ0IGZhY3RvciAodXB3YXJkcylcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU3Vic2NyaXB0IHNjaGVtYSBvYmplY3QgKG1pbmltdW0gb3ZlcmxhcClcbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc3Vic2NyaXB0OiB7XG4gICAgICBzaXplOiAgICAgIDAuNjAsIC8vIGZvbnRTaXplIGZhY3RvclxuICAgICAgYmFzZWxpbmU6ICAwLjExICAvLyBiYXNlbGluZS1zaGlmdCBmYWN0b3IgKGRvd253YXJkcylcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQmFja2dyb3VuZCBjb2xvciBvZiB0ZXh0IGxpbmVzXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0ZXh0QmFja2dyb3VuZENvbG9yOiAgJycsXG5cbiAgICAvKipcbiAgICAgKiBMaXN0IG9mIHByb3BlcnRpZXMgdG8gY29uc2lkZXIgd2hlbiBjaGVja2luZyBpZlxuICAgICAqIHN0YXRlIG9mIGFuIG9iamVjdCBpcyBjaGFuZ2VkICh7QGxpbmsgZmFicmljLk9iamVjdCNoYXNTdGF0ZUNoYW5nZWR9KVxuICAgICAqIGFzIHdlbGwgYXMgZm9yIGhpc3RvcnkgKHVuZG8vcmVkbykgcHVycG9zZXNcbiAgICAgKiBAdHlwZSBBcnJheVxuICAgICAqL1xuICAgIHN0YXRlUHJvcGVydGllczogZmFicmljLk9iamVjdC5wcm90b3R5cGUuc3RhdGVQcm9wZXJ0aWVzLmNvbmNhdCgnZm9udEZhbWlseScsXG4gICAgICAnZm9udFdlaWdodCcsXG4gICAgICAnZm9udFNpemUnLFxuICAgICAgJ3RleHQnLFxuICAgICAgJ3VuZGVybGluZScsXG4gICAgICAnb3ZlcmxpbmUnLFxuICAgICAgJ2xpbmV0aHJvdWdoJyxcbiAgICAgICd0ZXh0QWxpZ24nLFxuICAgICAgJ2ZvbnRTdHlsZScsXG4gICAgICAnbGluZUhlaWdodCcsXG4gICAgICAndGV4dEJhY2tncm91bmRDb2xvcicsXG4gICAgICAnY2hhclNwYWNpbmcnLFxuICAgICAgJ3N0eWxlcycpLFxuXG4gICAgLyoqXG4gICAgICogTGlzdCBvZiBwcm9wZXJ0aWVzIHRvIGNvbnNpZGVyIHdoZW4gY2hlY2tpbmcgaWYgY2FjaGUgbmVlZHMgcmVmcmVzaFxuICAgICAqIEB0eXBlIEFycmF5XG4gICAgICovXG4gICAgY2FjaGVQcm9wZXJ0aWVzOiBmYWJyaWMuT2JqZWN0LnByb3RvdHlwZS5jYWNoZVByb3BlcnRpZXMuY29uY2F0KCdmb250RmFtaWx5JyxcbiAgICAgICdmb250V2VpZ2h0JyxcbiAgICAgICdmb250U2l6ZScsXG4gICAgICAndGV4dCcsXG4gICAgICAndW5kZXJsaW5lJyxcbiAgICAgICdvdmVybGluZScsXG4gICAgICAnbGluZXRocm91Z2gnLFxuICAgICAgJ3RleHRBbGlnbicsXG4gICAgICAnZm9udFN0eWxlJyxcbiAgICAgICdsaW5lSGVpZ2h0JyxcbiAgICAgICd0ZXh0QmFja2dyb3VuZENvbG9yJyxcbiAgICAgICdjaGFyU3BhY2luZycsXG4gICAgICAnc3R5bGVzJyksXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIGRlZmluZWQsIGFuIG9iamVjdCBpcyByZW5kZXJlZCB2aWEgc3Ryb2tlIGFuZCB0aGlzIHByb3BlcnR5IHNwZWNpZmllcyBpdHMgY29sb3IuXG4gICAgICogPGI+QmFja3dhcmRzIGluY29tcGF0aWJpbGl0eSBub3RlOjwvYj4gVGhpcyBwcm9wZXJ0eSB3YXMgbmFtZWQgXCJzdHJva2VTdHlsZVwiIHVudGlsIHYxLjEuNlxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc3Ryb2tlOiAgICAgICAgICAgICAgIG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBTaGFkb3cgb2JqZWN0IHJlcHJlc2VudGluZyBzaGFkb3cgb2YgdGhpcyBzaGFwZS5cbiAgICAgKiA8Yj5CYWNrd2FyZHMgaW5jb21wYXRpYmlsaXR5IG5vdGU6PC9iPiBUaGlzIHByb3BlcnR5IHdhcyBuYW1lZCBcInRleHRTaGFkb3dcIiAoU3RyaW5nKSB1bnRpbCB2MS4yLjExXG4gICAgICogQHR5cGUgZmFicmljLlNoYWRvd1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc2hhZG93OiAgICAgICAgICAgICAgIG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9mb250U2l6ZUZyYWN0aW9uOiAwLjIyMixcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgb2Zmc2V0czoge1xuICAgICAgdW5kZXJsaW5lOiAwLjEwLFxuICAgICAgbGluZXRocm91Z2g6IC0wLjMxNSxcbiAgICAgIG92ZXJsaW5lOiAtMC44OFxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBUZXh0IExpbmUgcHJvcG9ydGlvbiB0byBmb250IFNpemUgKGluIHBpeGVscylcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIF9mb250U2l6ZU11bHQ6ICAgICAgICAgICAgIDEuMTMsXG5cbiAgICAvKipcbiAgICAgKiBhZGRpdGlvbmFsIHNwYWNlIGJldHdlZW4gY2hhcmFjdGVyc1xuICAgICAqIGV4cHJlc3NlZCBpbiB0aG91c2FuZHMgb2YgZW0gdW5pdFxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgY2hhclNwYWNpbmc6ICAgICAgICAgICAgIDAsXG5cbiAgICAvKipcbiAgICAgKiBPYmplY3QgY29udGFpbmluZyBjaGFyYWN0ZXIgc3R5bGVzIC0gdG9wLWxldmVsIHByb3BlcnRpZXMgLT4gbGluZSBudW1iZXJzLFxuICAgICAqIDJuZC1sZXZlbCBwcm9wZXJ0aWVzIC0gY2hhcmF0ZXIgbnVtYmVyc1xuICAgICAqIEB0eXBlIE9iamVjdFxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc3R5bGVzOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogUmVmZXJlbmNlIHRvIGEgY29udGV4dCB0byBtZWFzdXJlIHRleHQgY2hhciBvciBjb3VwbGUgb2YgY2hhcnNcbiAgICAgKiB0aGUgY2FjaGVDb250ZXh0IG9mIHRoZSBjYW52YXMgd2lsbCBiZSB1c2VkIG9yIGEgZnJlc2hseSBjcmVhdGVkIG9uZSBpZiB0aGUgb2JqZWN0IGlzIG5vdCBvbiBjYW52YXNcbiAgICAgKiBvbmNlIGNyZWF0ZWQgaXQgd2lsbCBiZSByZWZlcmVuY2VkIG9uIGZhYnJpYy5fbWVhc3VyaW5nQ29udGV4dCB0byBhdm9pZGUgY3JlYXRpbmcgYSBjYW52YXMgZm9yIGV2ZXJ5XG4gICAgICogdGV4dCBvYmplY3QgY3JlYXRlZC5cbiAgICAgKiBAdHlwZSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgX21lYXN1cmluZ0NvbnRleHQ6IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBCYXNlbGluZSBzaGlmdCwgc3RseWVzIG9ubHksIGtlZXAgYXQgMCBmb3IgdGhlIG1haW4gdGV4dCBvYmplY3RcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgZGVsdGFZOiAwLFxuXG4gICAgLyoqXG4gICAgICogQXJyYXkgb2YgcHJvcGVydGllcyB0aGF0IGRlZmluZSBhIHN0eWxlIHVuaXQgKG9mICdzdHlsZXMnKS5cbiAgICAgKiBAdHlwZSB7QXJyYXl9XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBfc3R5bGVQcm9wZXJ0aWVzOiBbXG4gICAgICAnc3Ryb2tlJyxcbiAgICAgICdzdHJva2VXaWR0aCcsXG4gICAgICAnZmlsbCcsXG4gICAgICAnZm9udEZhbWlseScsXG4gICAgICAnZm9udFNpemUnLFxuICAgICAgJ2ZvbnRXZWlnaHQnLFxuICAgICAgJ2ZvbnRTdHlsZScsXG4gICAgICAndW5kZXJsaW5lJyxcbiAgICAgICdvdmVybGluZScsXG4gICAgICAnbGluZXRocm91Z2gnLFxuICAgICAgJ2RlbHRhWScsXG4gICAgICAndGV4dEJhY2tncm91bmRDb2xvcicsXG4gICAgXSxcblxuICAgIC8qKlxuICAgICAqIGNvbnRhaW5zIGNoYXJhY3RlcnMgYm91bmRpbmcgYm94ZXNcbiAgICAgKi9cbiAgICBfX2NoYXJCb3VuZHM6IFtdLFxuXG4gICAgLyoqXG4gICAgICogdXNlIHRoaXMgc2l6ZSB3aGVuIG1lYXN1cmluZyB0ZXh0LiBUbyBhdm9pZCBJRTExIHJvdW5kaW5nIGVycm9yc1xuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQGRlZmF1bHRcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIENBQ0hFX0ZPTlRfU0laRTogNDAwLFxuXG4gICAgLyoqXG4gICAgICogY29udGFpbnMgdGhlIG1pbiB0ZXh0IHdpZHRoIHRvIGF2b2lkIGdldHRpbmcgMFxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBNSU5fVEVYVF9XSURUSDogMixcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHRleHQgVGV4dCBzdHJpbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHJldHVybiB7ZmFicmljLlRleHR9IHRoaXNBcmdcbiAgICAgKi9cbiAgICBpbml0aWFsaXplOiBmdW5jdGlvbih0ZXh0LCBvcHRpb25zKSB7XG4gICAgICB0aGlzLnN0eWxlcyA9IG9wdGlvbnMgPyAob3B0aW9ucy5zdHlsZXMgfHwgeyB9KSA6IHsgfTtcbiAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICB0aGlzLl9fc2tpcERpbWVuc2lvbiA9IHRydWU7XG4gICAgICB0aGlzLmNhbGxTdXBlcignaW5pdGlhbGl6ZScsIG9wdGlvbnMpO1xuICAgICAgdGhpcy5fX3NraXBEaW1lbnNpb24gPSBmYWxzZTtcbiAgICAgIHRoaXMuaW5pdERpbWVuc2lvbnMoKTtcbiAgICAgIHRoaXMuc2V0Q29vcmRzKCk7XG4gICAgICB0aGlzLnNldHVwU3RhdGUoeyBwcm9wZXJ0eVNldDogJ19kaW1lbnNpb25BZmZlY3RpbmdQcm9wcycgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybiBhIGNvbnRleCBmb3IgbWVhc3VyZW1lbnQgb2YgdGV4dCBzdHJpbmcuXG4gICAgICogaWYgY3JlYXRlZCBpdCBnZXRzIHN0b3JlZCBmb3IgcmV1c2VcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dCBUZXh0IHN0cmluZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc10gT3B0aW9ucyBvYmplY3RcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuVGV4dH0gdGhpc0FyZ1xuICAgICAqL1xuICAgIGdldE1lYXN1cmluZ0NvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gaWYgd2UgZGlkIG5vdCByZXR1cm4gd2UgaGF2ZSB0byBtZWFzdXJlIHNvbWV0aGluZy5cbiAgICAgIGlmICghZmFicmljLl9tZWFzdXJpbmdDb250ZXh0KSB7XG4gICAgICAgIGZhYnJpYy5fbWVhc3VyaW5nQ29udGV4dCA9IHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLmNvbnRleHRDYWNoZSB8fFxuICAgICAgICAgIGZhYnJpYy51dGlsLmNyZWF0ZUNhbnZhc0VsZW1lbnQoKS5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhYnJpYy5fbWVhc3VyaW5nQ29udGV4dDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBEaXZpZGVzIHRleHQgaW50byBsaW5lcyBvZiB0ZXh0IGFuZCBsaW5lcyBvZiBncmFwaGVtZXMuXG4gICAgICovXG4gICAgX3NwbGl0VGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbmV3TGluZXMgPSB0aGlzLl9zcGxpdFRleHRJbnRvTGluZXModGhpcy50ZXh0KTtcbiAgICAgIHRoaXMudGV4dExpbmVzID0gbmV3TGluZXMubGluZXM7XG4gICAgICB0aGlzLl90ZXh0TGluZXMgPSBuZXdMaW5lcy5ncmFwaGVtZUxpbmVzO1xuICAgICAgdGhpcy5fdW53cmFwcGVkVGV4dExpbmVzID0gbmV3TGluZXMuX3Vud3JhcHBlZExpbmVzO1xuICAgICAgdGhpcy5fdGV4dCA9IG5ld0xpbmVzLmdyYXBoZW1lVGV4dDtcbiAgICAgIHJldHVybiBuZXdMaW5lcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBvciB1cGRhdGUgdGV4dCBkaW1lbnNpb25zLlxuICAgICAqIFVwZGF0ZXMgdGhpcy53aWR0aCBhbmQgdGhpcy5oZWlnaHQgd2l0aCB0aGUgcHJvcGVyIHZhbHVlcy5cbiAgICAgKiBEb2VzIG5vdCByZXR1cm4gZGltZW5zaW9ucy5cbiAgICAgKi9cbiAgICBpbml0RGltZW5zaW9uczogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5fX3NraXBEaW1lbnNpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5fc3BsaXRUZXh0KCk7XG4gICAgICB0aGlzLl9jbGVhckNhY2hlKCk7XG4gICAgICB0aGlzLndpZHRoID0gdGhpcy5jYWxjVGV4dFdpZHRoKCkgfHwgdGhpcy5jdXJzb3JXaWR0aCB8fCB0aGlzLk1JTl9URVhUX1dJRFRIO1xuICAgICAgaWYgKHRoaXMudGV4dEFsaWduLmluZGV4T2YoJ2p1c3RpZnknKSAhPT0gLTEpIHtcbiAgICAgICAgLy8gb25jZSB0ZXh0IGlzIG1lYXN1cmVkIHdlIG5lZWQgdG8gbWFrZSBzcGFjZSBmYXR0ZXIgdG8gbWFrZSBqdXN0aWZpZWQgdGV4dC5cbiAgICAgICAgdGhpcy5lbmxhcmdlU3BhY2VzKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmhlaWdodCA9IHRoaXMuY2FsY1RleHRIZWlnaHQoKTtcbiAgICAgIHRoaXMuc2F2ZVN0YXRlKHsgcHJvcGVydHlTZXQ6ICdfZGltZW5zaW9uQWZmZWN0aW5nUHJvcHMnIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBFbmxhcmdlIHNwYWNlIGJveGVzIGFuZCBzaGlmdCB0aGUgb3RoZXJzXG4gICAgICovXG4gICAgZW5sYXJnZVNwYWNlczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZGlmZlNwYWNlLCBjdXJyZW50TGluZVdpZHRoLCBudW1iZXJPZlNwYWNlcywgYWNjdW11bGF0ZWRTcGFjZSwgbGluZSwgY2hhckJvdW5kLCBzcGFjZXM7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5fdGV4dExpbmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmICh0aGlzLnRleHRBbGlnbiAhPT0gJ2p1c3RpZnknICYmIChpID09PSBsZW4gLSAxIHx8IHRoaXMuaXNFbmRPZldyYXBwaW5nKGkpKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGFjY3VtdWxhdGVkU3BhY2UgPSAwO1xuICAgICAgICBsaW5lID0gdGhpcy5fdGV4dExpbmVzW2ldO1xuICAgICAgICBjdXJyZW50TGluZVdpZHRoID0gdGhpcy5nZXRMaW5lV2lkdGgoaSk7XG4gICAgICAgIGlmIChjdXJyZW50TGluZVdpZHRoIDwgdGhpcy53aWR0aCAmJiAoc3BhY2VzID0gdGhpcy50ZXh0TGluZXNbaV0ubWF0Y2godGhpcy5fcmVTcGFjZXNBbmRUYWJzKSkpIHtcbiAgICAgICAgICBudW1iZXJPZlNwYWNlcyA9IHNwYWNlcy5sZW5ndGg7XG4gICAgICAgICAgZGlmZlNwYWNlID0gKHRoaXMud2lkdGggLSBjdXJyZW50TGluZVdpZHRoKSAvIG51bWJlck9mU3BhY2VzO1xuICAgICAgICAgIGZvciAodmFyIGogPSAwLCBqbGVuID0gbGluZS5sZW5ndGg7IGogPD0gamxlbjsgaisrKSB7XG4gICAgICAgICAgICBjaGFyQm91bmQgPSB0aGlzLl9fY2hhckJvdW5kc1tpXVtqXTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9yZVNwYWNlQW5kVGFiLnRlc3QobGluZVtqXSkpIHtcbiAgICAgICAgICAgICAgY2hhckJvdW5kLndpZHRoICs9IGRpZmZTcGFjZTtcbiAgICAgICAgICAgICAgY2hhckJvdW5kLmtlcm5lZFdpZHRoICs9IGRpZmZTcGFjZTtcbiAgICAgICAgICAgICAgY2hhckJvdW5kLmxlZnQgKz0gYWNjdW11bGF0ZWRTcGFjZTtcbiAgICAgICAgICAgICAgYWNjdW11bGF0ZWRTcGFjZSArPSBkaWZmU3BhY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgY2hhckJvdW5kLmxlZnQgKz0gYWNjdW11bGF0ZWRTcGFjZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGV0ZWN0IGlmIHRoZSB0ZXh0IGxpbmUgaXMgZW5kZWQgd2l0aCBhbiBoYXJkIGJyZWFrXG4gICAgICogdGV4dCBhbmQgaXRleHQgZG8gbm90IGhhdmUgd3JhcHBpbmcsIHJldHVybiBmYWxzZVxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgaXNFbmRPZldyYXBwaW5nOiBmdW5jdGlvbihsaW5lSW5kZXgpIHtcbiAgICAgIHJldHVybiBsaW5lSW5kZXggPT09IHRoaXMuX3RleHRMaW5lcy5sZW5ndGggLSAxO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZXRlY3QgaWYgYSBsaW5lIGhhcyBhIGxpbmVicmVhayBhbmQgc28gd2UgbmVlZCB0byBhY2NvdW50IGZvciBpdCB3aGVuIG1vdmluZ1xuICAgICAqIGFuZCBjb3VudGluZyBzdHlsZS5cbiAgICAgKiBJdCByZXR1cm4gYWx3YXlzIGZvciB0ZXh0IGFuZCBJdGV4dC5cbiAgICAgKiBAcmV0dXJuIE51bWJlclxuICAgICAqL1xuICAgIG1pc3NpbmdOZXdsaW5lT2Zmc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gU3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRleHQgb2JqZWN0XG4gICAgICovXG4gICAgdG9TdHJpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICcjPGZhYnJpYy5UZXh0ICgnICsgdGhpcy5jb21wbGV4aXR5KCkgK1xuICAgICAgICAnKTogeyBcInRleHRcIjogXCInICsgdGhpcy50ZXh0ICsgJ1wiLCBcImZvbnRGYW1pbHlcIjogXCInICsgdGhpcy5mb250RmFtaWx5ICsgJ1wiIH0+JztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBkaW1lbnNpb24gYW5kIHRoZSB6b29tIGxldmVsIG5lZWRlZCB0byBjcmVhdGUgYSBjYWNoZSBjYW52YXNcbiAgICAgKiBiaWcgZW5vdWdoIHRvIGhvc3QgdGhlIG9iamVjdCB0byBiZSBjYWNoZWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGltLnggd2lkdGggb2Ygb2JqZWN0IHRvIGJlIGNhY2hlZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkaW0ueSBoZWlnaHQgb2Ygb2JqZWN0IHRvIGJlIGNhY2hlZFxuICAgICAqIEByZXR1cm4ge09iamVjdH0ud2lkdGggd2lkdGggb2YgY2FudmFzXG4gICAgICogQHJldHVybiB7T2JqZWN0fS5oZWlnaHQgaGVpZ2h0IG9mIGNhbnZhc1xuICAgICAqIEByZXR1cm4ge09iamVjdH0uem9vbVggem9vbVggem9vbSB2YWx1ZSB0byB1bnNjYWxlIHRoZSBjYW52YXMgYmVmb3JlIGRyYXdpbmcgY2FjaGVcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9Lnpvb21ZIHpvb21ZIHpvb20gdmFsdWUgdG8gdW5zY2FsZSB0aGUgY2FudmFzIGJlZm9yZSBkcmF3aW5nIGNhY2hlXG4gICAgICovXG4gICAgX2dldENhY2hlQ2FudmFzRGltZW5zaW9uczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZGltcyA9IHRoaXMuY2FsbFN1cGVyKCdfZ2V0Q2FjaGVDYW52YXNEaW1lbnNpb25zJyk7XG4gICAgICB2YXIgZm9udFNpemUgPSB0aGlzLmZvbnRTaXplO1xuICAgICAgZGltcy53aWR0aCArPSBmb250U2l6ZSAqIGRpbXMuem9vbVg7XG4gICAgICBkaW1zLmhlaWdodCArPSBmb250U2l6ZSAqIGRpbXMuem9vbVk7XG4gICAgICByZXR1cm4gZGltcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgX3JlbmRlcjogZnVuY3Rpb24oY3R4KSB7XG4gICAgICB0aGlzLl9zZXRUZXh0U3R5bGVzKGN0eCk7XG4gICAgICB0aGlzLl9yZW5kZXJUZXh0TGluZXNCYWNrZ3JvdW5kKGN0eCk7XG4gICAgICB0aGlzLl9yZW5kZXJUZXh0RGVjb3JhdGlvbihjdHgsICd1bmRlcmxpbmUnKTtcbiAgICAgIHRoaXMuX3JlbmRlclRleHQoY3R4KTtcbiAgICAgIHRoaXMuX3JlbmRlclRleHREZWNvcmF0aW9uKGN0eCwgJ292ZXJsaW5lJyk7XG4gICAgICB0aGlzLl9yZW5kZXJUZXh0RGVjb3JhdGlvbihjdHgsICdsaW5ldGhyb3VnaCcpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyVGV4dDogZnVuY3Rpb24oY3R4KSB7XG4gICAgICBpZiAodGhpcy5wYWludEZpcnN0ID09PSAnc3Ryb2tlJykge1xuICAgICAgICB0aGlzLl9yZW5kZXJUZXh0U3Ryb2tlKGN0eCk7XG4gICAgICAgIHRoaXMuX3JlbmRlclRleHRGaWxsKGN0eCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5fcmVuZGVyVGV4dEZpbGwoY3R4KTtcbiAgICAgICAgdGhpcy5fcmVuZGVyVGV4dFN0cm9rZShjdHgpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGZvbnQgcGFyYW1ldGVyIG9mIHRoZSBjb250ZXh0IHdpdGggdGhlIG9iamVjdCBwcm9wZXJ0aWVzIG9yIHdpdGggY2hhclN0eWxlXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtjaGFyU3R5bGVdIG9iamVjdCB3aXRoIGZvbnQgc3R5bGUgcHJvcGVydGllc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY2hhclN0eWxlLmZvbnRGYW1pbHldIEZvbnQgRmFtaWx5XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtjaGFyU3R5bGUuZm9udFNpemVdIEZvbnQgc2l6ZSBpbiBwaXhlbHMuICggd2l0aG91dCBweCBzdWZmaXggKVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbY2hhclN0eWxlLmZvbnRXZWlnaHRdIEZvbnQgd2VpZ2h0XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtjaGFyU3R5bGUuZm9udFN0eWxlXSBGb250IHN0eWxlIChpdGFsaWN8bm9ybWFsKVxuICAgICAqL1xuICAgIF9zZXRUZXh0U3R5bGVzOiBmdW5jdGlvbihjdHgsIGNoYXJTdHlsZSwgZm9yTWVhc3VyaW5nKSB7XG4gICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ2FscGhhYmV0aWMnO1xuICAgICAgY3R4LmZvbnQgPSB0aGlzLl9nZXRGb250RGVjbGFyYXRpb24oY2hhclN0eWxlLCBmb3JNZWFzdXJpbmcpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjYWxjdWxhdGUgYW5kIHJldHVybiB0aGUgdGV4dCBXaWR0aCBtZWFzdXJpbmcgZWFjaCBsaW5lLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqIEByZXR1cm4ge051bWJlcn0gTWF4aW11bSB3aWR0aCBvZiBmYWJyaWMuVGV4dCBvYmplY3RcbiAgICAgKi9cbiAgICBjYWxjVGV4dFdpZHRoOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBtYXhXaWR0aCA9IHRoaXMuZ2V0TGluZVdpZHRoKDApO1xuXG4gICAgICBmb3IgKHZhciBpID0gMSwgbGVuID0gdGhpcy5fdGV4dExpbmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBjdXJyZW50TGluZVdpZHRoID0gdGhpcy5nZXRMaW5lV2lkdGgoaSk7XG4gICAgICAgIGlmIChjdXJyZW50TGluZVdpZHRoID4gbWF4V2lkdGgpIHtcbiAgICAgICAgICBtYXhXaWR0aCA9IGN1cnJlbnRMaW5lV2lkdGg7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXhXaWR0aDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kIE1ldGhvZCBuYW1lIChcImZpbGxUZXh0XCIgb3IgXCJzdHJva2VUZXh0XCIpXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBsaW5lIFRleHQgdG8gcmVuZGVyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxlZnQgTGVmdCBwb3NpdGlvbiBvZiB0ZXh0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHRvcCBUb3AgcG9zaXRpb24gb2YgdGV4dFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXggSW5kZXggb2YgYSBsaW5lIGluIGEgdGV4dFxuICAgICAqL1xuICAgIF9yZW5kZXJUZXh0TGluZTogZnVuY3Rpb24obWV0aG9kLCBjdHgsIGxpbmUsIGxlZnQsIHRvcCwgbGluZUluZGV4KSB7XG4gICAgICB0aGlzLl9yZW5kZXJDaGFycyhtZXRob2QsIGN0eCwgbGluZSwgbGVmdCwgdG9wLCBsaW5lSW5kZXgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSB0ZXh0IGJhY2tncm91bmQgZm9yIGxpbmVzLCB0YWtpbmcgY2FyZSBvZiBzdHlsZVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXJUZXh0TGluZXNCYWNrZ3JvdW5kOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGlmICghdGhpcy50ZXh0QmFja2dyb3VuZENvbG9yICYmICF0aGlzLnN0eWxlSGFzKCd0ZXh0QmFja2dyb3VuZENvbG9yJykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGxpbmVUb3BPZmZzZXQgPSAwLCBoZWlnaHRPZkxpbmUsXG4gICAgICAgICAgbGluZUxlZnRPZmZzZXQsIG9yaWdpbmFsRmlsbCA9IGN0eC5maWxsU3R5bGUsXG4gICAgICAgICAgbGluZSwgbGFzdENvbG9yLFxuICAgICAgICAgIGxlZnRPZmZzZXQgPSB0aGlzLl9nZXRMZWZ0T2Zmc2V0KCksXG4gICAgICAgICAgdG9wT2Zmc2V0ID0gdGhpcy5fZ2V0VG9wT2Zmc2V0KCksXG4gICAgICAgICAgYm94U3RhcnQgPSAwLCBib3hXaWR0aCA9IDAsIGNoYXJCb3gsIGN1cnJlbnRDb2xvcjtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuX3RleHRMaW5lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBoZWlnaHRPZkxpbmUgPSB0aGlzLmdldEhlaWdodE9mTGluZShpKTtcbiAgICAgICAgaWYgKCF0aGlzLnRleHRCYWNrZ3JvdW5kQ29sb3IgJiYgIXRoaXMuc3R5bGVIYXMoJ3RleHRCYWNrZ3JvdW5kQ29sb3InLCBpKSkge1xuICAgICAgICAgIGxpbmVUb3BPZmZzZXQgKz0gaGVpZ2h0T2ZMaW5lO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGxpbmUgPSB0aGlzLl90ZXh0TGluZXNbaV07XG4gICAgICAgIGxpbmVMZWZ0T2Zmc2V0ID0gdGhpcy5fZ2V0TGluZUxlZnRPZmZzZXQoaSk7XG4gICAgICAgIGJveFdpZHRoID0gMDtcbiAgICAgICAgYm94U3RhcnQgPSAwO1xuICAgICAgICBsYXN0Q29sb3IgPSB0aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGksIDAsICd0ZXh0QmFja2dyb3VuZENvbG9yJyk7XG4gICAgICAgIGZvciAodmFyIGogPSAwLCBqbGVuID0gbGluZS5sZW5ndGg7IGogPCBqbGVuOyBqKyspIHtcbiAgICAgICAgICBjaGFyQm94ID0gdGhpcy5fX2NoYXJCb3VuZHNbaV1bal07XG4gICAgICAgICAgY3VycmVudENvbG9yID0gdGhpcy5nZXRWYWx1ZU9mUHJvcGVydHlBdChpLCBqLCAndGV4dEJhY2tncm91bmRDb2xvcicpO1xuICAgICAgICAgIGlmIChjdXJyZW50Q29sb3IgIT09IGxhc3RDb2xvcikge1xuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGxhc3RDb2xvcjtcbiAgICAgICAgICAgIGxhc3RDb2xvciAmJiBjdHguZmlsbFJlY3QoXG4gICAgICAgICAgICAgIGxlZnRPZmZzZXQgKyBsaW5lTGVmdE9mZnNldCArIGJveFN0YXJ0LFxuICAgICAgICAgICAgICB0b3BPZmZzZXQgKyBsaW5lVG9wT2Zmc2V0LFxuICAgICAgICAgICAgICBib3hXaWR0aCxcbiAgICAgICAgICAgICAgaGVpZ2h0T2ZMaW5lIC8gdGhpcy5saW5lSGVpZ2h0XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYm94U3RhcnQgPSBjaGFyQm94LmxlZnQ7XG4gICAgICAgICAgICBib3hXaWR0aCA9IGNoYXJCb3gud2lkdGg7XG4gICAgICAgICAgICBsYXN0Q29sb3IgPSBjdXJyZW50Q29sb3I7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYm94V2lkdGggKz0gY2hhckJveC5rZXJuZWRXaWR0aDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnRDb2xvcikge1xuICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBjdXJyZW50Q29sb3I7XG4gICAgICAgICAgY3R4LmZpbGxSZWN0KFxuICAgICAgICAgICAgbGVmdE9mZnNldCArIGxpbmVMZWZ0T2Zmc2V0ICsgYm94U3RhcnQsXG4gICAgICAgICAgICB0b3BPZmZzZXQgKyBsaW5lVG9wT2Zmc2V0LFxuICAgICAgICAgICAgYm94V2lkdGgsXG4gICAgICAgICAgICBoZWlnaHRPZkxpbmUgLyB0aGlzLmxpbmVIZWlnaHRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGxpbmVUb3BPZmZzZXQgKz0gaGVpZ2h0T2ZMaW5lO1xuICAgICAgfVxuICAgICAgY3R4LmZpbGxTdHlsZSA9IG9yaWdpbmFsRmlsbDtcbiAgICAgIC8vIGlmIHRoZXJlIGlzIHRleHQgYmFja2dyb3VuZCBjb2xvciBub1xuICAgICAgLy8gb3RoZXIgc2hhZG93cyBzaG91bGQgYmUgY2FzdGVkXG4gICAgICB0aGlzLl9yZW1vdmVTaGFkb3coY3R4KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGVjbCBzdHlsZSBkZWNsYXJhdGlvbiBmb3IgY2FjaGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGVjbC5mb250RmFtaWx5IGZvbnRGYW1pbHlcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGVjbC5mb250U3R5bGUgZm9udFN0eWxlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRlY2wuZm9udFdlaWdodCBmb250V2VpZ2h0XG4gICAgICogQHJldHVybiB7T2JqZWN0fSByZWZlcmVuY2UgdG8gY2FjaGVcbiAgICAgKi9cbiAgICBnZXRGb250Q2FjaGU6IGZ1bmN0aW9uKGRlY2wpIHtcbiAgICAgIHZhciBmb250RmFtaWx5ID0gZGVjbC5mb250RmFtaWx5LnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAoIWZhYnJpYy5jaGFyV2lkdGhzQ2FjaGVbZm9udEZhbWlseV0pIHtcbiAgICAgICAgZmFicmljLmNoYXJXaWR0aHNDYWNoZVtmb250RmFtaWx5XSA9IHsgfTtcbiAgICAgIH1cbiAgICAgIHZhciBjYWNoZSA9IGZhYnJpYy5jaGFyV2lkdGhzQ2FjaGVbZm9udEZhbWlseV0sXG4gICAgICAgICAgY2FjaGVQcm9wID0gZGVjbC5mb250U3R5bGUudG9Mb3dlckNhc2UoKSArICdfJyArIChkZWNsLmZvbnRXZWlnaHQgKyAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmICghY2FjaGVbY2FjaGVQcm9wXSkge1xuICAgICAgICBjYWNoZVtjYWNoZVByb3BdID0geyB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNhY2hlW2NhY2hlUHJvcF07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGFwcGx5IGFsbCB0aGUgY2hhcmFjdGVyIHN0eWxlIHRvIGNhbnZhcyBmb3IgcmVuZGVyaW5nXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gX2NoYXJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYXJJbmRleFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbZGVjbF1cbiAgICAgKi9cbiAgICBfYXBwbHlDaGFyU3R5bGVzOiBmdW5jdGlvbihtZXRob2QsIGN0eCwgbGluZUluZGV4LCBjaGFySW5kZXgsIHN0eWxlRGVjbGFyYXRpb24pIHtcblxuICAgICAgdGhpcy5fc2V0RmlsbFN0eWxlcyhjdHgsIHN0eWxlRGVjbGFyYXRpb24pO1xuICAgICAgdGhpcy5fc2V0U3Ryb2tlU3R5bGVzKGN0eCwgc3R5bGVEZWNsYXJhdGlvbik7XG5cbiAgICAgIGN0eC5mb250ID0gdGhpcy5fZ2V0Rm9udERlY2xhcmF0aW9uKHN0eWxlRGVjbGFyYXRpb24pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBtZWFzdXJlIGFuZCByZXR1cm4gdGhlIHdpZHRoIG9mIGEgc2luZ2xlIGNoYXJhY3Rlci5cbiAgICAgKiBwb3NzaWJseSBvdmVycmlkZGVuIHRvIGFjY29tbW9kYXRlIGRpZmZlcmVudCBtZWFzdXJlIGxvZ2ljIG9yXG4gICAgICogdG8gaG9vayBzb21lIGV4dGVybmFsIGxpYiBmb3IgY2hhcmFjdGVyIG1lYXN1cmVtZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gX2NoYXIsIGNoYXIgdG8gYmUgbWVhc3VyZWRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gY2hhclN0eWxlIHN0eWxlIG9mIGNoYXIgdG8gYmUgbWVhc3VyZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW3ByZXZpb3VzQ2hhcl0gcHJldmlvdXMgY2hhclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcHJldkNoYXJTdHlsZV0gc3R5bGUgb2YgcHJldmlvdXMgY2hhclxuICAgICAqL1xuICAgIF9tZWFzdXJlQ2hhcjogZnVuY3Rpb24oX2NoYXIsIGNoYXJTdHlsZSwgcHJldmlvdXNDaGFyLCBwcmV2Q2hhclN0eWxlKSB7XG4gICAgICAvLyBmaXJzdCBpIHRyeSB0byByZXR1cm4gZnJvbSBjYWNoZVxuICAgICAgdmFyIGZvbnRDYWNoZSA9IHRoaXMuZ2V0Rm9udENhY2hlKGNoYXJTdHlsZSksIGZvbnREZWNsYXJhdGlvbiA9IHRoaXMuX2dldEZvbnREZWNsYXJhdGlvbihjaGFyU3R5bGUpLFxuICAgICAgICAgIHByZXZpb3VzRm9udERlY2xhcmF0aW9uID0gdGhpcy5fZ2V0Rm9udERlY2xhcmF0aW9uKHByZXZDaGFyU3R5bGUpLCBjb3VwbGUgPSBwcmV2aW91c0NoYXIgKyBfY2hhcixcbiAgICAgICAgICBzdHlsZXNBcmVFcXVhbCA9IGZvbnREZWNsYXJhdGlvbiA9PT0gcHJldmlvdXNGb250RGVjbGFyYXRpb24sIHdpZHRoLCBjb3VwbGVXaWR0aCwgcHJldmlvdXNXaWR0aCxcbiAgICAgICAgICBmb250TXVsdGlwbGllciA9IGNoYXJTdHlsZS5mb250U2l6ZSAvIHRoaXMuQ0FDSEVfRk9OVF9TSVpFLCBrZXJuZWRXaWR0aDtcblxuICAgICAgaWYgKHByZXZpb3VzQ2hhciAmJiBmb250Q2FjaGVbcHJldmlvdXNDaGFyXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHByZXZpb3VzV2lkdGggPSBmb250Q2FjaGVbcHJldmlvdXNDaGFyXTtcbiAgICAgIH1cbiAgICAgIGlmIChmb250Q2FjaGVbX2NoYXJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAga2VybmVkV2lkdGggPSB3aWR0aCA9IGZvbnRDYWNoZVtfY2hhcl07XG4gICAgICB9XG4gICAgICBpZiAoc3R5bGVzQXJlRXF1YWwgJiYgZm9udENhY2hlW2NvdXBsZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb3VwbGVXaWR0aCA9IGZvbnRDYWNoZVtjb3VwbGVdO1xuICAgICAgICBrZXJuZWRXaWR0aCA9IGNvdXBsZVdpZHRoIC0gcHJldmlvdXNXaWR0aDtcbiAgICAgIH1cbiAgICAgIGlmICh3aWR0aCA9PT0gdW5kZWZpbmVkIHx8IHByZXZpb3VzV2lkdGggPT09IHVuZGVmaW5lZCB8fCBjb3VwbGVXaWR0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciBjdHggPSB0aGlzLmdldE1lYXN1cmluZ0NvbnRleHQoKTtcbiAgICAgICAgLy8gc2VuZCBhIFRSVUUgdG8gc3BlY2lmeSBtZWFzdXJpbmcgZm9udCBzaXplIENBQ0hFX0ZPTlRfU0laRVxuICAgICAgICB0aGlzLl9zZXRUZXh0U3R5bGVzKGN0eCwgY2hhclN0eWxlLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGlmICh3aWR0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGtlcm5lZFdpZHRoID0gd2lkdGggPSBjdHgubWVhc3VyZVRleHQoX2NoYXIpLndpZHRoO1xuICAgICAgICBmb250Q2FjaGVbX2NoYXJdID0gd2lkdGg7XG4gICAgICB9XG4gICAgICBpZiAocHJldmlvdXNXaWR0aCA9PT0gdW5kZWZpbmVkICYmIHN0eWxlc0FyZUVxdWFsICYmIHByZXZpb3VzQ2hhcikge1xuICAgICAgICBwcmV2aW91c1dpZHRoID0gY3R4Lm1lYXN1cmVUZXh0KHByZXZpb3VzQ2hhcikud2lkdGg7XG4gICAgICAgIGZvbnRDYWNoZVtwcmV2aW91c0NoYXJdID0gcHJldmlvdXNXaWR0aDtcbiAgICAgIH1cbiAgICAgIGlmIChzdHlsZXNBcmVFcXVhbCAmJiBjb3VwbGVXaWR0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIHdlIGNhbiBtZWFzdXJlIHRoZSBrZXJuaW5nIGNvdXBsZSBhbmQgc3VidHJhY3QgdGhlIHdpZHRoIG9mIHRoZSBwcmV2aW91cyBjaGFyYWN0ZXJcbiAgICAgICAgY291cGxlV2lkdGggPSBjdHgubWVhc3VyZVRleHQoY291cGxlKS53aWR0aDtcbiAgICAgICAgZm9udENhY2hlW2NvdXBsZV0gPSBjb3VwbGVXaWR0aDtcbiAgICAgICAga2VybmVkV2lkdGggPSBjb3VwbGVXaWR0aCAtIHByZXZpb3VzV2lkdGg7XG4gICAgICB9XG4gICAgICByZXR1cm4geyB3aWR0aDogd2lkdGggKiBmb250TXVsdGlwbGllciwga2VybmVkV2lkdGg6IGtlcm5lZFdpZHRoICogZm9udE11bHRpcGxpZXIgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgaGVpZ2h0IG9mIGNoYXJhY3RlciBhdCBnaXZlbiBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lIHRoZSBsaW5lIGluZGV4IG51bWJlclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBfY2hhciB0aGUgY2hhcmFjdGVyIGluZGV4IG51bWJlclxuICAgICAqIEByZXR1cm4ge051bWJlcn0gZm9udFNpemUgb2YgdGhlIGNoYXJhY3RlclxuICAgICAqL1xuICAgIGdldEhlaWdodE9mQ2hhcjogZnVuY3Rpb24obGluZSwgX2NoYXIpIHtcbiAgICAgIHJldHVybiB0aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGxpbmUsIF9jaGFyLCAnZm9udFNpemUnKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogbWVhc3VyZSBhIHRleHQgbGluZSBtZWFzdXJpbmcgYWxsIGNoYXJhY3RlcnMuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleCBsaW5lIG51bWJlclxuICAgICAqIEByZXR1cm4ge051bWJlcn0gTGluZSB3aWR0aFxuICAgICAqL1xuICAgIG1lYXN1cmVMaW5lOiBmdW5jdGlvbihsaW5lSW5kZXgpIHtcbiAgICAgIHZhciBsaW5lSW5mbyA9IHRoaXMuX21lYXN1cmVMaW5lKGxpbmVJbmRleCk7XG4gICAgICBpZiAodGhpcy5jaGFyU3BhY2luZyAhPT0gMCkge1xuICAgICAgICBsaW5lSW5mby53aWR0aCAtPSB0aGlzLl9nZXRXaWR0aE9mQ2hhclNwYWNpbmcoKTtcbiAgICAgIH1cbiAgICAgIGlmIChsaW5lSW5mby53aWR0aCA8IDApIHtcbiAgICAgICAgbGluZUluZm8ud2lkdGggPSAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxpbmVJbmZvO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBtZWFzdXJlIGV2ZXJ5IGdyYXBoZW1lIG9mIGEgbGluZSwgcG9wdWxhdGluZyBfX2NoYXJCb3VuZHNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBvYmplY3Qud2lkdGggdG90YWwgd2lkdGggb2YgY2hhcmFjdGVyc1xuICAgICAqIEByZXR1cm4ge09iamVjdH0gb2JqZWN0LndpZHRoT2ZTcGFjZXMgbGVuZ3RoIG9mIGNoYXJzIHRoYXQgbWF0Y2ggdGhpcy5fcmVTcGFjZXNBbmRUYWJzXG4gICAgICovXG4gICAgX21lYXN1cmVMaW5lOiBmdW5jdGlvbihsaW5lSW5kZXgpIHtcbiAgICAgIHZhciB3aWR0aCA9IDAsIGksIGdyYXBoZW1lLCBsaW5lID0gdGhpcy5fdGV4dExpbmVzW2xpbmVJbmRleF0sIHByZXZHcmFwaGVtZSxcbiAgICAgICAgICBncmFwaGVtZUluZm8sIG51bU9mU3BhY2VzID0gMCwgbGluZUJvdW5kcyA9IG5ldyBBcnJheShsaW5lLmxlbmd0aCk7XG5cbiAgICAgIHRoaXMuX19jaGFyQm91bmRzW2xpbmVJbmRleF0gPSBsaW5lQm91bmRzO1xuICAgICAgZm9yIChpID0gMDsgaSA8IGxpbmUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZ3JhcGhlbWUgPSBsaW5lW2ldO1xuICAgICAgICBncmFwaGVtZUluZm8gPSB0aGlzLl9nZXRHcmFwaGVtZUJveChncmFwaGVtZSwgbGluZUluZGV4LCBpLCBwcmV2R3JhcGhlbWUpO1xuICAgICAgICBsaW5lQm91bmRzW2ldID0gZ3JhcGhlbWVJbmZvO1xuICAgICAgICB3aWR0aCArPSBncmFwaGVtZUluZm8ua2VybmVkV2lkdGg7XG4gICAgICAgIHByZXZHcmFwaGVtZSA9IGdyYXBoZW1lO1xuICAgICAgfVxuICAgICAgLy8gdGhpcyBsYXRlc3QgYm91bmQgYm94IHJlcHJlc2VudCB0aGUgbGFzdCBjaGFyYWN0ZXIgb2YgdGhlIGxpbmVcbiAgICAgIC8vIHRvIHNpbXBsaWZ5IGN1cnNvciBoYW5kbGluZyBpbiBpbnRlcmFjdGl2ZSBtb2RlLlxuICAgICAgbGluZUJvdW5kc1tpXSA9IHtcbiAgICAgICAgbGVmdDogZ3JhcGhlbWVJbmZvID8gZ3JhcGhlbWVJbmZvLmxlZnQgKyBncmFwaGVtZUluZm8ud2lkdGggOiAwLFxuICAgICAgICB3aWR0aDogMCxcbiAgICAgICAga2VybmVkV2lkdGg6IDAsXG4gICAgICAgIGhlaWdodDogdGhpcy5mb250U2l6ZVxuICAgICAgfTtcbiAgICAgIHJldHVybiB7IHdpZHRoOiB3aWR0aCwgbnVtT2ZTcGFjZXM6IG51bU9mU3BhY2VzIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIE1lYXN1cmUgYW5kIHJldHVybiB0aGUgaW5mbyBvZiBhIHNpbmdsZSBncmFwaGVtZS5cbiAgICAgKiBuZWVkcyB0aGUgdGhlIGluZm8gb2YgcHJldmlvdXMgZ3JhcGhlbWVzIGFscmVhZHkgZmlsbGVkXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZ3JhcGhlbWUgdG8gYmUgbWVhc3VyZWRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4IGluZGV4IG9mIHRoZSBsaW5lIHdoZXJlIHRoZSBjaGFyIGlzXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYXJJbmRleCBwb3NpdGlvbiBpbiB0aGUgbGluZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbcHJldkdyYXBoZW1lXSBjaGFyYWN0ZXIgcHJlY2VkaW5nIHRoZSBvbmUgdG8gYmUgbWVhc3VyZWRcbiAgICAgKi9cbiAgICBfZ2V0R3JhcGhlbWVCb3g6IGZ1bmN0aW9uKGdyYXBoZW1lLCBsaW5lSW5kZXgsIGNoYXJJbmRleCwgcHJldkdyYXBoZW1lLCBza2lwTGVmdCkge1xuICAgICAgdmFyIHN0eWxlID0gdGhpcy5nZXRDb21wbGV0ZVN0eWxlRGVjbGFyYXRpb24obGluZUluZGV4LCBjaGFySW5kZXgpLFxuICAgICAgICAgIHByZXZTdHlsZSA9IHByZXZHcmFwaGVtZSA/IHRoaXMuZ2V0Q29tcGxldGVTdHlsZURlY2xhcmF0aW9uKGxpbmVJbmRleCwgY2hhckluZGV4IC0gMSkgOiB7IH0sXG4gICAgICAgICAgaW5mbyA9IHRoaXMuX21lYXN1cmVDaGFyKGdyYXBoZW1lLCBzdHlsZSwgcHJldkdyYXBoZW1lLCBwcmV2U3R5bGUpLFxuICAgICAgICAgIGtlcm5lZFdpZHRoID0gaW5mby5rZXJuZWRXaWR0aCxcbiAgICAgICAgICB3aWR0aCA9IGluZm8ud2lkdGgsIGNoYXJTcGFjaW5nO1xuXG4gICAgICBpZiAodGhpcy5jaGFyU3BhY2luZyAhPT0gMCkge1xuICAgICAgICBjaGFyU3BhY2luZyA9IHRoaXMuX2dldFdpZHRoT2ZDaGFyU3BhY2luZygpO1xuICAgICAgICB3aWR0aCArPSBjaGFyU3BhY2luZztcbiAgICAgICAga2VybmVkV2lkdGggKz0gY2hhclNwYWNpbmc7XG4gICAgICB9XG5cbiAgICAgIHZhciBib3ggPSB7XG4gICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgbGVmdDogMCxcbiAgICAgICAgaGVpZ2h0OiBzdHlsZS5mb250U2l6ZSxcbiAgICAgICAga2VybmVkV2lkdGg6IGtlcm5lZFdpZHRoLFxuICAgICAgICBkZWx0YVk6IHN0eWxlLmRlbHRhWSxcbiAgICAgIH07XG4gICAgICBpZiAoY2hhckluZGV4ID4gMCAmJiAhc2tpcExlZnQpIHtcbiAgICAgICAgdmFyIHByZXZpb3VzQm94ID0gdGhpcy5fX2NoYXJCb3VuZHNbbGluZUluZGV4XVtjaGFySW5kZXggLSAxXTtcbiAgICAgICAgYm94LmxlZnQgPSBwcmV2aW91c0JveC5sZWZ0ICsgcHJldmlvdXNCb3gud2lkdGggKyBpbmZvLmtlcm5lZFdpZHRoIC0gaW5mby53aWR0aDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBib3g7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBoZWlnaHQgb2YgbGluZSBhdCAnbGluZUluZGV4J1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXggaW5kZXggb2YgbGluZSB0byBjYWxjdWxhdGVcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAgICovXG4gICAgZ2V0SGVpZ2h0T2ZMaW5lOiBmdW5jdGlvbihsaW5lSW5kZXgpIHtcbiAgICAgIGlmICh0aGlzLl9fbGluZUhlaWdodHNbbGluZUluZGV4XSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fX2xpbmVIZWlnaHRzW2xpbmVJbmRleF07XG4gICAgICB9XG5cbiAgICAgIHZhciBsaW5lID0gdGhpcy5fdGV4dExpbmVzW2xpbmVJbmRleF0sXG4gICAgICAgICAgLy8gY2hhciAwIGlzIG1lYXN1cmVkIGJlZm9yZSB0aGUgbGluZSBjeWNsZSBiZWNhdXNlIGl0IG5uZWRzIHRvIGNoYXJcbiAgICAgICAgICAvLyBlbXB0eWxpbmVzXG4gICAgICAgICAgbWF4SGVpZ2h0ID0gdGhpcy5nZXRIZWlnaHRPZkNoYXIobGluZUluZGV4LCAwKTtcbiAgICAgIGZvciAodmFyIGkgPSAxLCBsZW4gPSBsaW5lLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIG1heEhlaWdodCA9IE1hdGgubWF4KHRoaXMuZ2V0SGVpZ2h0T2ZDaGFyKGxpbmVJbmRleCwgaSksIG1heEhlaWdodCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLl9fbGluZUhlaWdodHNbbGluZUluZGV4XSA9IG1heEhlaWdodCAqIHRoaXMubGluZUhlaWdodCAqIHRoaXMuX2ZvbnRTaXplTXVsdDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRleHQgYm94IGhlaWdodFxuICAgICAqL1xuICAgIGNhbGNUZXh0SGVpZ2h0OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBsaW5lSGVpZ2h0LCBoZWlnaHQgPSAwO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuX3RleHRMaW5lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBsaW5lSGVpZ2h0ID0gdGhpcy5nZXRIZWlnaHRPZkxpbmUoaSk7XG4gICAgICAgIGhlaWdodCArPSAoaSA9PT0gbGVuIC0gMSA/IGxpbmVIZWlnaHQgLyB0aGlzLmxpbmVIZWlnaHQgOiBsaW5lSGVpZ2h0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoZWlnaHQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBMZWZ0IG9mZnNldFxuICAgICAqL1xuICAgIF9nZXRMZWZ0T2Zmc2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAtdGhpcy53aWR0aCAvIDI7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBUb3Agb2Zmc2V0XG4gICAgICovXG4gICAgX2dldFRvcE9mZnNldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gLXRoaXMuaGVpZ2h0IC8gMjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGZpbGxlciBmYWJyaWMuUGF0dGVybiBvciBmYWJyaWMuR3JhZGllbnRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9mZnNldC5vZmZzZXRYIG9mZnNldCBmb3IgdGV4dCByZW5kZXJpbmdcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9mZnNldC5vZmZzZXRZIG9mZnNldCBmb3IgdGV4dCByZW5kZXJpbmdcbiAgICAgKi9cbiAgICBfYXBwbHlQYXR0ZXJuR3JhZGllbnRUcmFuc2Zvcm06IGZ1bmN0aW9uKGN0eCwgZmlsbGVyKSB7XG4gICAgICBpZiAoIWZpbGxlciB8fCAhZmlsbGVyLnRvTGl2ZSkge1xuICAgICAgICByZXR1cm4geyBvZmZzZXRYOiAwLCBvZmZzZXRZOiAwIH07XG4gICAgICB9XG4gICAgICB2YXIgb2Zmc2V0WCA9IC10aGlzLndpZHRoIC8gMiArIGZpbGxlci5vZmZzZXRYIHx8IDAsXG4gICAgICAgICAgb2Zmc2V0WSA9IC10aGlzLmhlaWdodCAvIDIgKyBmaWxsZXIub2Zmc2V0WSB8fCAwO1xuXG4gICAgICBjdHgudHJhbnNmb3JtKDEsIDAsIDAsIDEsIG9mZnNldFgsIG9mZnNldFkpO1xuICAgICAgcmV0dXJuIHsgb2Zmc2V0WDogb2Zmc2V0WCwgb2Zmc2V0WTogb2Zmc2V0WSB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kIE1ldGhvZCBuYW1lIChcImZpbGxUZXh0XCIgb3IgXCJzdHJva2VUZXh0XCIpXG4gICAgICovXG4gICAgX3JlbmRlclRleHRDb21tb246IGZ1bmN0aW9uKGN0eCwgbWV0aG9kKSB7XG4gICAgICBjdHguc2F2ZSgpO1xuICAgICAgdmFyIGxpbmVIZWlnaHRzID0gMCwgbGVmdCA9IHRoaXMuX2dldExlZnRPZmZzZXQoKSwgdG9wID0gdGhpcy5fZ2V0VG9wT2Zmc2V0KCksXG4gICAgICAgICAgb2Zmc2V0cyA9IHRoaXMuX2FwcGx5UGF0dGVybkdyYWRpZW50VHJhbnNmb3JtKGN0eCwgbWV0aG9kID09PSAnZmlsbFRleHQnID8gdGhpcy5maWxsIDogdGhpcy5zdHJva2UpO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMuX3RleHRMaW5lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgaGVpZ2h0T2ZMaW5lID0gdGhpcy5nZXRIZWlnaHRPZkxpbmUoaSksXG4gICAgICAgICAgICBtYXhIZWlnaHQgPSBoZWlnaHRPZkxpbmUgLyB0aGlzLmxpbmVIZWlnaHQsXG4gICAgICAgICAgICBsZWZ0T2Zmc2V0ID0gdGhpcy5fZ2V0TGluZUxlZnRPZmZzZXQoaSk7XG4gICAgICAgIHRoaXMuX3JlbmRlclRleHRMaW5lKFxuICAgICAgICAgIG1ldGhvZCxcbiAgICAgICAgICBjdHgsXG4gICAgICAgICAgdGhpcy5fdGV4dExpbmVzW2ldLFxuICAgICAgICAgIGxlZnQgKyBsZWZ0T2Zmc2V0IC0gb2Zmc2V0cy5vZmZzZXRYLFxuICAgICAgICAgIHRvcCArIGxpbmVIZWlnaHRzICsgbWF4SGVpZ2h0IC0gb2Zmc2V0cy5vZmZzZXRZLFxuICAgICAgICAgIGlcbiAgICAgICAgKTtcbiAgICAgICAgbGluZUhlaWdodHMgKz0gaGVpZ2h0T2ZMaW5lO1xuICAgICAgfVxuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgX3JlbmRlclRleHRGaWxsOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGlmICghdGhpcy5maWxsICYmICF0aGlzLnN0eWxlSGFzKCdmaWxsJykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9yZW5kZXJUZXh0Q29tbW9uKGN0eCwgJ2ZpbGxUZXh0Jyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqL1xuICAgIF9yZW5kZXJUZXh0U3Ryb2tlOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIGlmICgoIXRoaXMuc3Ryb2tlIHx8IHRoaXMuc3Ryb2tlV2lkdGggPT09IDApICYmIHRoaXMuaXNFbXB0eVN0eWxlcygpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuc2hhZG93ICYmICF0aGlzLnNoYWRvdy5hZmZlY3RTdHJva2UpIHtcbiAgICAgICAgdGhpcy5fcmVtb3ZlU2hhZG93KGN0eCk7XG4gICAgICB9XG5cbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICB0aGlzLl9zZXRMaW5lRGFzaChjdHgsIHRoaXMuc3Ryb2tlRGFzaEFycmF5KTtcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgIHRoaXMuX3JlbmRlclRleHRDb21tb24oY3R4LCAnc3Ryb2tlVGV4dCcpO1xuICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBsaW5lIENvbnRlbnQgb2YgdGhlIGxpbmVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGVmdFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0b3BcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYXJPZmZzZXRcbiAgICAgKi9cbiAgICBfcmVuZGVyQ2hhcnM6IGZ1bmN0aW9uKG1ldGhvZCwgY3R4LCBsaW5lLCBsZWZ0LCB0b3AsIGxpbmVJbmRleCkge1xuICAgICAgLy8gc2V0IHByb3BlciBsaW5lIG9mZnNldFxuICAgICAgdmFyIGxpbmVIZWlnaHQgPSB0aGlzLmdldEhlaWdodE9mTGluZShsaW5lSW5kZXgpLFxuICAgICAgICAgIGlzSnVzdGlmeSA9IHRoaXMudGV4dEFsaWduLmluZGV4T2YoJ2p1c3RpZnknKSAhPT0gLTEsXG4gICAgICAgICAgYWN0dWFsU3R5bGUsXG4gICAgICAgICAgbmV4dFN0eWxlLFxuICAgICAgICAgIGNoYXJzVG9SZW5kZXIgPSAnJyxcbiAgICAgICAgICBjaGFyQm94LFxuICAgICAgICAgIGJveFdpZHRoID0gMCxcbiAgICAgICAgICB0aW1lVG9SZW5kZXIsXG4gICAgICAgICAgc2hvcnRDdXQgPSAhaXNKdXN0aWZ5ICYmIHRoaXMuY2hhclNwYWNpbmcgPT09IDAgJiYgdGhpcy5pc0VtcHR5U3R5bGVzKGxpbmVJbmRleCk7XG5cbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICB0b3AgLT0gbGluZUhlaWdodCAqIHRoaXMuX2ZvbnRTaXplRnJhY3Rpb24gLyB0aGlzLmxpbmVIZWlnaHQ7XG4gICAgICBpZiAoc2hvcnRDdXQpIHtcbiAgICAgICAgLy8gcmVuZGVyIGFsbCB0aGUgbGluZSBpbiBvbmUgcGFzcyB3aXRob3V0IGNoZWNraW5nXG4gICAgICAgIHRoaXMuX3JlbmRlckNoYXIobWV0aG9kLCBjdHgsIGxpbmVJbmRleCwgMCwgdGhpcy50ZXh0TGluZXNbbGluZUluZGV4XSwgbGVmdCwgdG9wLCBsaW5lSGVpZ2h0KTtcbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGxpbmUubGVuZ3RoIC0gMTsgaSA8PSBsZW47IGkrKykge1xuICAgICAgICB0aW1lVG9SZW5kZXIgPSBpID09PSBsZW4gfHwgdGhpcy5jaGFyU3BhY2luZztcbiAgICAgICAgY2hhcnNUb1JlbmRlciArPSBsaW5lW2ldO1xuICAgICAgICBjaGFyQm94ID0gdGhpcy5fX2NoYXJCb3VuZHNbbGluZUluZGV4XVtpXTtcbiAgICAgICAgaWYgKGJveFdpZHRoID09PSAwKSB7XG4gICAgICAgICAgbGVmdCArPSBjaGFyQm94Lmtlcm5lZFdpZHRoIC0gY2hhckJveC53aWR0aDtcbiAgICAgICAgICBib3hXaWR0aCArPSBjaGFyQm94LndpZHRoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGJveFdpZHRoICs9IGNoYXJCb3gua2VybmVkV2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzSnVzdGlmeSAmJiAhdGltZVRvUmVuZGVyKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX3JlU3BhY2VBbmRUYWIudGVzdChsaW5lW2ldKSkge1xuICAgICAgICAgICAgdGltZVRvUmVuZGVyID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aW1lVG9SZW5kZXIpIHtcbiAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGNoYXJTcGFjaW5nLCB3ZSByZW5kZXIgY2hhciBieSBjaGFyXG4gICAgICAgICAgYWN0dWFsU3R5bGUgPSBhY3R1YWxTdHlsZSB8fCB0aGlzLmdldENvbXBsZXRlU3R5bGVEZWNsYXJhdGlvbihsaW5lSW5kZXgsIGkpO1xuICAgICAgICAgIG5leHRTdHlsZSA9IHRoaXMuZ2V0Q29tcGxldGVTdHlsZURlY2xhcmF0aW9uKGxpbmVJbmRleCwgaSArIDEpO1xuICAgICAgICAgIHRpbWVUb1JlbmRlciA9IHRoaXMuX2hhc1N0eWxlQ2hhbmdlZChhY3R1YWxTdHlsZSwgbmV4dFN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGltZVRvUmVuZGVyKSB7XG4gICAgICAgICAgdGhpcy5fcmVuZGVyQ2hhcihtZXRob2QsIGN0eCwgbGluZUluZGV4LCBpLCBjaGFyc1RvUmVuZGVyLCBsZWZ0LCB0b3AsIGxpbmVIZWlnaHQpO1xuICAgICAgICAgIGNoYXJzVG9SZW5kZXIgPSAnJztcbiAgICAgICAgICBhY3R1YWxTdHlsZSA9IG5leHRTdHlsZTtcbiAgICAgICAgICBsZWZ0ICs9IGJveFdpZHRoO1xuICAgICAgICAgIGJveFdpZHRoID0gMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWV0aG9kXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCBDb250ZXh0IHRvIHJlbmRlciBvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY2hhckluZGV4XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IF9jaGFyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxlZnQgTGVmdCBjb29yZGluYXRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHRvcCBUb3AgY29vcmRpbmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSGVpZ2h0IEhlaWdodCBvZiB0aGUgbGluZVxuICAgICAqL1xuICAgIF9yZW5kZXJDaGFyOiBmdW5jdGlvbihtZXRob2QsIGN0eCwgbGluZUluZGV4LCBjaGFySW5kZXgsIF9jaGFyLCBsZWZ0LCB0b3ApIHtcbiAgICAgIHZhciBkZWNsID0gdGhpcy5fZ2V0U3R5bGVEZWNsYXJhdGlvbihsaW5lSW5kZXgsIGNoYXJJbmRleCksXG4gICAgICAgICAgZnVsbERlY2wgPSB0aGlzLmdldENvbXBsZXRlU3R5bGVEZWNsYXJhdGlvbihsaW5lSW5kZXgsIGNoYXJJbmRleCksXG4gICAgICAgICAgc2hvdWxkRmlsbCA9IG1ldGhvZCA9PT0gJ2ZpbGxUZXh0JyAmJiBmdWxsRGVjbC5maWxsLFxuICAgICAgICAgIHNob3VsZFN0cm9rZSA9IG1ldGhvZCA9PT0gJ3N0cm9rZVRleHQnICYmIGZ1bGxEZWNsLnN0cm9rZSAmJiBmdWxsRGVjbC5zdHJva2VXaWR0aDtcblxuICAgICAgaWYgKCFzaG91bGRTdHJva2UgJiYgIXNob3VsZEZpbGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGVjbCAmJiBjdHguc2F2ZSgpO1xuXG4gICAgICB0aGlzLl9hcHBseUNoYXJTdHlsZXMobWV0aG9kLCBjdHgsIGxpbmVJbmRleCwgY2hhckluZGV4LCBmdWxsRGVjbCk7XG5cbiAgICAgIGlmIChkZWNsICYmIGRlY2wudGV4dEJhY2tncm91bmRDb2xvcikge1xuICAgICAgICB0aGlzLl9yZW1vdmVTaGFkb3coY3R4KTtcbiAgICAgIH1cbiAgICAgIGlmIChkZWNsICYmIGRlY2wuZGVsdGFZKSB7XG4gICAgICAgIHRvcCArPSBkZWNsLmRlbHRhWTtcbiAgICAgIH1cblxuICAgICAgc2hvdWxkRmlsbCAmJiBjdHguZmlsbFRleHQoX2NoYXIsIGxlZnQsIHRvcCk7XG4gICAgICBzaG91bGRTdHJva2UgJiYgY3R4LnN0cm9rZVRleHQoX2NoYXIsIGxlZnQsIHRvcCk7XG4gICAgICBkZWNsICYmIGN0eC5yZXN0b3JlKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFR1cm5zIHRoZSBjaGFyYWN0ZXIgaW50byBhICdzdXBlcmlvciBmaWd1cmUnIChpLmUuICdzdXBlcnNjcmlwdCcpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0IHNlbGVjdGlvbiBzdGFydFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBlbmQgc2VsZWN0aW9uIGVuZFxuICAgICAqIEByZXR1cm5zIHtmYWJyaWMuVGV4dH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXRTdXBlcnNjcmlwdDogZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3NldFNjcmlwdChzdGFydCwgZW5kLCB0aGlzLnN1cGVyc2NyaXB0KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogVHVybnMgdGhlIGNoYXJhY3RlciBpbnRvIGFuICdpbmZlcmlvciBmaWd1cmUnIChpLmUuICdzdWJzY3JpcHQnKVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydCBzZWxlY3Rpb24gc3RhcnRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZW5kIHNlbGVjdGlvbiBlbmRcbiAgICAgKiBAcmV0dXJucyB7ZmFicmljLlRleHR9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2V0U3Vic2NyaXB0OiBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2V0U2NyaXB0KHN0YXJ0LCBlbmQsIHRoaXMuc3Vic2NyaXB0KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyAnc2NoZW1hJyBhdCBnaXZlbiBwb3NpdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0IHNlbGVjdGlvbiBzdGFydFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBlbmQgc2VsZWN0aW9uIGVuZFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzY2hlbWFcbiAgICAgKiBAcmV0dXJucyB7ZmFicmljLlRleHR9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgX3NldFNjcmlwdDogZnVuY3Rpb24oc3RhcnQsIGVuZCwgc2NoZW1hKSB7XG4gICAgICB2YXIgbG9jID0gdGhpcy5nZXQyREN1cnNvckxvY2F0aW9uKHN0YXJ0LCB0cnVlKSxcbiAgICAgICAgICBmb250U2l6ZSA9IHRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQobG9jLmxpbmVJbmRleCwgbG9jLmNoYXJJbmRleCwgJ2ZvbnRTaXplJyksXG4gICAgICAgICAgZHkgPSB0aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGxvYy5saW5lSW5kZXgsIGxvYy5jaGFySW5kZXgsICdkZWx0YVknKSxcbiAgICAgICAgICBzdHlsZSA9IHsgZm9udFNpemU6IGZvbnRTaXplICogc2NoZW1hLnNpemUsIGRlbHRhWTogZHkgKyBmb250U2l6ZSAqIHNjaGVtYS5iYXNlbGluZSB9O1xuICAgICAgdGhpcy5zZXRTZWxlY3Rpb25TdHlsZXMoc3R5bGUsIHN0YXJ0LCBlbmQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByZXZTdHlsZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0aGlzU3R5bGVcbiAgICAgKi9cbiAgICBfaGFzU3R5bGVDaGFuZ2VkOiBmdW5jdGlvbihwcmV2U3R5bGUsIHRoaXNTdHlsZSkge1xuICAgICAgcmV0dXJuIHByZXZTdHlsZS5maWxsICE9PSB0aGlzU3R5bGUuZmlsbCB8fFxuICAgICAgICAgICAgICBwcmV2U3R5bGUuc3Ryb2tlICE9PSB0aGlzU3R5bGUuc3Ryb2tlIHx8XG4gICAgICAgICAgICAgIHByZXZTdHlsZS5zdHJva2VXaWR0aCAhPT0gdGhpc1N0eWxlLnN0cm9rZVdpZHRoIHx8XG4gICAgICAgICAgICAgIHByZXZTdHlsZS5mb250U2l6ZSAhPT0gdGhpc1N0eWxlLmZvbnRTaXplIHx8XG4gICAgICAgICAgICAgIHByZXZTdHlsZS5mb250RmFtaWx5ICE9PSB0aGlzU3R5bGUuZm9udEZhbWlseSB8fFxuICAgICAgICAgICAgICBwcmV2U3R5bGUuZm9udFdlaWdodCAhPT0gdGhpc1N0eWxlLmZvbnRXZWlnaHQgfHxcbiAgICAgICAgICAgICAgcHJldlN0eWxlLmZvbnRTdHlsZSAhPT0gdGhpc1N0eWxlLmZvbnRTdHlsZSB8fFxuICAgICAgICAgICAgICBwcmV2U3R5bGUuZGVsdGFZICE9PSB0aGlzU3R5bGUuZGVsdGFZO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcmV2U3R5bGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdGhpc1N0eWxlXG4gICAgICovXG4gICAgX2hhc1N0eWxlQ2hhbmdlZEZvclN2ZzogZnVuY3Rpb24ocHJldlN0eWxlLCB0aGlzU3R5bGUpIHtcbiAgICAgIHJldHVybiB0aGlzLl9oYXNTdHlsZUNoYW5nZWQocHJldlN0eWxlLCB0aGlzU3R5bGUpIHx8XG4gICAgICAgIHByZXZTdHlsZS5vdmVybGluZSAhPT0gdGhpc1N0eWxlLm92ZXJsaW5lIHx8XG4gICAgICAgIHByZXZTdHlsZS51bmRlcmxpbmUgIT09IHRoaXNTdHlsZS51bmRlcmxpbmUgfHxcbiAgICAgICAgcHJldlN0eWxlLmxpbmV0aHJvdWdoICE9PSB0aGlzU3R5bGUubGluZXRocm91Z2g7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleCBpbmRleCB0ZXh0IGxpbmVcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IExpbmUgbGVmdCBvZmZzZXRcbiAgICAgKi9cbiAgICBfZ2V0TGluZUxlZnRPZmZzZXQ6IGZ1bmN0aW9uKGxpbmVJbmRleCkge1xuICAgICAgdmFyIGxpbmVXaWR0aCA9IHRoaXMuZ2V0TGluZVdpZHRoKGxpbmVJbmRleCk7XG4gICAgICBpZiAodGhpcy50ZXh0QWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgIHJldHVybiAodGhpcy53aWR0aCAtIGxpbmVXaWR0aCkgLyAyO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMudGV4dEFsaWduID09PSAncmlnaHQnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpZHRoIC0gbGluZVdpZHRoO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMudGV4dEFsaWduID09PSAnanVzdGlmeS1jZW50ZXInICYmIHRoaXMuaXNFbmRPZldyYXBwaW5nKGxpbmVJbmRleCkpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLndpZHRoIC0gbGluZVdpZHRoKSAvIDI7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy50ZXh0QWxpZ24gPT09ICdqdXN0aWZ5LXJpZ2h0JyAmJiB0aGlzLmlzRW5kT2ZXcmFwcGluZyhsaW5lSW5kZXgpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpZHRoIC0gbGluZVdpZHRoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2NsZWFyQ2FjaGU6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5fX2xpbmVXaWR0aHMgPSBbXTtcbiAgICAgIHRoaXMuX19saW5lSGVpZ2h0cyA9IFtdO1xuICAgICAgdGhpcy5fX2NoYXJCb3VuZHMgPSBbXTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2hvdWxkQ2xlYXJEaW1lbnNpb25DYWNoZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2hvdWxkQ2xlYXIgPSB0aGlzLl9mb3JjZUNsZWFyQ2FjaGU7XG4gICAgICBzaG91bGRDbGVhciB8fCAoc2hvdWxkQ2xlYXIgPSB0aGlzLmhhc1N0YXRlQ2hhbmdlZCgnX2RpbWVuc2lvbkFmZmVjdGluZ1Byb3BzJykpO1xuICAgICAgaWYgKHNob3VsZENsZWFyKSB7XG4gICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB0aGlzLl9mb3JjZUNsZWFyQ2FjaGUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzaG91bGRDbGVhcjtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogTWVhc3VyZSBhIHNpbmdsZSBsaW5lIGdpdmVuIGl0cyBpbmRleC4gVXNlZCB0byBjYWxjdWxhdGUgdGhlIGluaXRpYWxcbiAgICAgKiB0ZXh0IGJvdW5kaW5nIGJveC4gVGhlIHZhbHVlcyBhcmUgY2FsY3VsYXRlZCBhbmQgc3RvcmVkIGluIF9fbGluZVdpZHRocyBjYWNoZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXggbGluZSBudW1iZXJcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IExpbmUgd2lkdGhcbiAgICAgKi9cbiAgICBnZXRMaW5lV2lkdGg6IGZ1bmN0aW9uKGxpbmVJbmRleCkge1xuICAgICAgaWYgKHRoaXMuX19saW5lV2lkdGhzW2xpbmVJbmRleF0pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX19saW5lV2lkdGhzW2xpbmVJbmRleF07XG4gICAgICB9XG5cbiAgICAgIHZhciB3aWR0aCwgbGluZSA9IHRoaXMuX3RleHRMaW5lc1tsaW5lSW5kZXhdLCBsaW5lSW5mbztcblxuICAgICAgaWYgKGxpbmUgPT09ICcnKSB7XG4gICAgICAgIHdpZHRoID0gMDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBsaW5lSW5mbyA9IHRoaXMubWVhc3VyZUxpbmUobGluZUluZGV4KTtcbiAgICAgICAgd2lkdGggPSBsaW5lSW5mby53aWR0aDtcbiAgICAgIH1cbiAgICAgIHRoaXMuX19saW5lV2lkdGhzW2xpbmVJbmRleF0gPSB3aWR0aDtcbiAgICAgIHJldHVybiB3aWR0aDtcbiAgICB9LFxuXG4gICAgX2dldFdpZHRoT2ZDaGFyU3BhY2luZzogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5jaGFyU3BhY2luZyAhPT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mb250U2l6ZSAqIHRoaXMuY2hhclNwYWNpbmcgLyAxMDAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIDA7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgdmFsdWUgb2YgcHJvcGVydHkgYXQgZ2l2ZW4gY2hhcmFjdGVyIHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleCB0aGUgbGluZSBudW1iZXJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY2hhckluZGV4IHRoZSBjaGFyYXRlciBudW1iZXJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydHkgdGhlIHByb3BlcnR5IG5hbWVcbiAgICAgKiBAcmV0dXJucyB0aGUgdmFsdWUgb2YgJ3Byb3BlcnR5J1xuICAgICAqL1xuICAgIGdldFZhbHVlT2ZQcm9wZXJ0eUF0OiBmdW5jdGlvbihsaW5lSW5kZXgsIGNoYXJJbmRleCwgcHJvcGVydHkpIHtcbiAgICAgIHZhciBjaGFyU3R5bGUgPSB0aGlzLl9nZXRTdHlsZURlY2xhcmF0aW9uKGxpbmVJbmRleCwgY2hhckluZGV4KTtcbiAgICAgIGlmIChjaGFyU3R5bGUgJiYgdHlwZW9mIGNoYXJTdHlsZVtwcm9wZXJ0eV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBjaGFyU3R5bGVbcHJvcGVydHldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXNbcHJvcGVydHldO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICBfcmVuZGVyVGV4dERlY29yYXRpb246IGZ1bmN0aW9uKGN0eCwgdHlwZSkge1xuICAgICAgaWYgKCF0aGlzW3R5cGVdICYmICF0aGlzLnN0eWxlSGFzKHR5cGUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBoZWlnaHRPZkxpbmUsIHNpemUsIF9zaXplLFxuICAgICAgICAgIGxpbmVMZWZ0T2Zmc2V0LCBkeSwgX2R5LFxuICAgICAgICAgIGxpbmUsIGxhc3REZWNvcmF0aW9uLFxuICAgICAgICAgIGxlZnRPZmZzZXQgPSB0aGlzLl9nZXRMZWZ0T2Zmc2V0KCksXG4gICAgICAgICAgdG9wT2Zmc2V0ID0gdGhpcy5fZ2V0VG9wT2Zmc2V0KCksIHRvcCxcbiAgICAgICAgICBib3hTdGFydCwgYm94V2lkdGgsIGNoYXJCb3gsIGN1cnJlbnREZWNvcmF0aW9uLFxuICAgICAgICAgIG1heEhlaWdodCwgY3VycmVudEZpbGwsIGxhc3RGaWxsLFxuICAgICAgICAgIGNoYXJTcGFjaW5nID0gdGhpcy5fZ2V0V2lkdGhPZkNoYXJTcGFjaW5nKCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLl90ZXh0TGluZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaGVpZ2h0T2ZMaW5lID0gdGhpcy5nZXRIZWlnaHRPZkxpbmUoaSk7XG4gICAgICAgIGlmICghdGhpc1t0eXBlXSAmJiAhdGhpcy5zdHlsZUhhcyh0eXBlLCBpKSkge1xuICAgICAgICAgIHRvcE9mZnNldCArPSBoZWlnaHRPZkxpbmU7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgbGluZSA9IHRoaXMuX3RleHRMaW5lc1tpXTtcbiAgICAgICAgbWF4SGVpZ2h0ID0gaGVpZ2h0T2ZMaW5lIC8gdGhpcy5saW5lSGVpZ2h0O1xuICAgICAgICBsaW5lTGVmdE9mZnNldCA9IHRoaXMuX2dldExpbmVMZWZ0T2Zmc2V0KGkpO1xuICAgICAgICBib3hTdGFydCA9IDA7XG4gICAgICAgIGJveFdpZHRoID0gMDtcbiAgICAgICAgbGFzdERlY29yYXRpb24gPSB0aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGksIDAsIHR5cGUpO1xuICAgICAgICBsYXN0RmlsbCA9IHRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQoaSwgMCwgJ2ZpbGwnKTtcbiAgICAgICAgdG9wID0gdG9wT2Zmc2V0ICsgbWF4SGVpZ2h0ICogKDEgLSB0aGlzLl9mb250U2l6ZUZyYWN0aW9uKTtcbiAgICAgICAgc2l6ZSA9IHRoaXMuZ2V0SGVpZ2h0T2ZDaGFyKGksIDApO1xuICAgICAgICBkeSA9IHRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQoaSwgMCwgJ2RlbHRhWScpO1xuICAgICAgICBmb3IgKHZhciBqID0gMCwgamxlbiA9IGxpbmUubGVuZ3RoOyBqIDwgamxlbjsgaisrKSB7XG4gICAgICAgICAgY2hhckJveCA9IHRoaXMuX19jaGFyQm91bmRzW2ldW2pdO1xuICAgICAgICAgIGN1cnJlbnREZWNvcmF0aW9uID0gdGhpcy5nZXRWYWx1ZU9mUHJvcGVydHlBdChpLCBqLCB0eXBlKTtcbiAgICAgICAgICBjdXJyZW50RmlsbCA9IHRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQoaSwgaiwgJ2ZpbGwnKTtcbiAgICAgICAgICBfc2l6ZSA9IHRoaXMuZ2V0SGVpZ2h0T2ZDaGFyKGksIGopO1xuICAgICAgICAgIF9keSA9IHRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQoaSwgaiwgJ2RlbHRhWScpO1xuICAgICAgICAgIGlmICgoY3VycmVudERlY29yYXRpb24gIT09IGxhc3REZWNvcmF0aW9uIHx8IGN1cnJlbnRGaWxsICE9PSBsYXN0RmlsbCB8fCBfc2l6ZSAhPT0gc2l6ZSB8fCBfZHkgIT09IGR5KSAmJlxuICAgICAgICAgICAgICBib3hXaWR0aCA+IDApIHtcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBsYXN0RmlsbDtcbiAgICAgICAgICAgIGxhc3REZWNvcmF0aW9uICYmIGxhc3RGaWxsICYmIGN0eC5maWxsUmVjdChcbiAgICAgICAgICAgICAgbGVmdE9mZnNldCArIGxpbmVMZWZ0T2Zmc2V0ICsgYm94U3RhcnQsXG4gICAgICAgICAgICAgIHRvcCArIHRoaXMub2Zmc2V0c1t0eXBlXSAqIHNpemUgKyBkeSxcbiAgICAgICAgICAgICAgYm94V2lkdGgsXG4gICAgICAgICAgICAgIHRoaXMuZm9udFNpemUgLyAxNVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJveFN0YXJ0ID0gY2hhckJveC5sZWZ0O1xuICAgICAgICAgICAgYm94V2lkdGggPSBjaGFyQm94LndpZHRoO1xuICAgICAgICAgICAgbGFzdERlY29yYXRpb24gPSBjdXJyZW50RGVjb3JhdGlvbjtcbiAgICAgICAgICAgIGxhc3RGaWxsID0gY3VycmVudEZpbGw7XG4gICAgICAgICAgICBzaXplID0gX3NpemU7XG4gICAgICAgICAgICBkeSA9IF9keTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBib3hXaWR0aCArPSBjaGFyQm94Lmtlcm5lZFdpZHRoO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjdHguZmlsbFN0eWxlID0gY3VycmVudEZpbGw7XG4gICAgICAgIGN1cnJlbnREZWNvcmF0aW9uICYmIGN1cnJlbnRGaWxsICYmIGN0eC5maWxsUmVjdChcbiAgICAgICAgICBsZWZ0T2Zmc2V0ICsgbGluZUxlZnRPZmZzZXQgKyBib3hTdGFydCxcbiAgICAgICAgICB0b3AgKyB0aGlzLm9mZnNldHNbdHlwZV0gKiBzaXplICsgZHksXG4gICAgICAgICAgYm94V2lkdGggLSBjaGFyU3BhY2luZyxcbiAgICAgICAgICB0aGlzLmZvbnRTaXplIC8gMTVcbiAgICAgICAgKTtcbiAgICAgICAgdG9wT2Zmc2V0ICs9IGhlaWdodE9mTGluZTtcbiAgICAgIH1cbiAgICAgIC8vIGlmIHRoZXJlIGlzIHRleHQgYmFja2dyb3VuZCBjb2xvciBub1xuICAgICAgLy8gb3RoZXIgc2hhZG93cyBzaG91bGQgYmUgY2FzdGVkXG4gICAgICB0aGlzLl9yZW1vdmVTaGFkb3coY3R4KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIGZvbnQgZGVjbGFyYXRpb24gc3RyaW5nIGZvciBjYW52YXMgY29udGV4dFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3R5bGVPYmplY3RdIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IGZvbnQgZGVjbGFyYXRpb24gZm9ybWF0dGVkIGZvciBjYW52YXMgY29udGV4dC5cbiAgICAgKi9cbiAgICBfZ2V0Rm9udERlY2xhcmF0aW9uOiBmdW5jdGlvbihzdHlsZU9iamVjdCwgZm9yTWVhc3VyaW5nKSB7XG4gICAgICB2YXIgc3R5bGUgPSBzdHlsZU9iamVjdCB8fCB0aGlzLCBmYW1pbHkgPSB0aGlzLmZvbnRGYW1pbHksXG4gICAgICAgICAgZm9udElzR2VuZXJpYyA9IGZhYnJpYy5UZXh0LmdlbmVyaWNGb250cy5pbmRleE9mKGZhbWlseS50b0xvd2VyQ2FzZSgpKSA+IC0xO1xuICAgICAgdmFyIGZvbnRGYW1pbHkgPSBmYW1pbHkgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgZmFtaWx5LmluZGV4T2YoJ1xcJycpID4gLTEgfHwgZmFtaWx5LmluZGV4T2YoJywnKSA+IC0xIHx8XG4gICAgICBmYW1pbHkuaW5kZXhPZignXCInKSA+IC0xIHx8IGZvbnRJc0dlbmVyaWNcbiAgICAgICAgPyBzdHlsZS5mb250RmFtaWx5IDogJ1wiJyArIHN0eWxlLmZvbnRGYW1pbHkgKyAnXCInO1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgLy8gbm9kZS1jYW52YXMgbmVlZHMgXCJ3ZWlnaHQgc3R5bGVcIiwgd2hpbGUgYnJvd3NlcnMgbmVlZCBcInN0eWxlIHdlaWdodFwiXG4gICAgICAgIC8vIHZlcmlmeSBpZiB0aGlzIGNhbiBiZSBmaXhlZCBpbiBKU0RPTVxuICAgICAgICAoZmFicmljLmlzTGlrZWx5Tm9kZSA/IHN0eWxlLmZvbnRXZWlnaHQgOiBzdHlsZS5mb250U3R5bGUpLFxuICAgICAgICAoZmFicmljLmlzTGlrZWx5Tm9kZSA/IHN0eWxlLmZvbnRTdHlsZSA6IHN0eWxlLmZvbnRXZWlnaHQpLFxuICAgICAgICBmb3JNZWFzdXJpbmcgPyB0aGlzLkNBQ0hFX0ZPTlRfU0laRSArICdweCcgOiBzdHlsZS5mb250U2l6ZSArICdweCcsXG4gICAgICAgIGZvbnRGYW1pbHlcbiAgICAgIF0uam9pbignICcpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRleHQgaW5zdGFuY2Ugb24gYSBzcGVjaWZpZWQgY29udGV4dFxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICByZW5kZXI6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgLy8gZG8gbm90IHJlbmRlciBpZiBvYmplY3QgaXMgbm90IHZpc2libGVcbiAgICAgIGlmICghdGhpcy52aXNpYmxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5za2lwT2Zmc2NyZWVuICYmICF0aGlzLmdyb3VwICYmICF0aGlzLmlzT25TY3JlZW4oKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fc2hvdWxkQ2xlYXJEaW1lbnNpb25DYWNoZSgpKSB7XG4gICAgICAgIHRoaXMuaW5pdERpbWVuc2lvbnMoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdyZW5kZXInLCBjdHgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB0ZXh0IGFzIGFuIGFycmF5IG9mIGxpbmVzLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0ZXh0IHRleHQgdG8gc3BsaXRcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IExpbmVzIGluIHRoZSB0ZXh0XG4gICAgICovXG4gICAgX3NwbGl0VGV4dEludG9MaW5lczogZnVuY3Rpb24odGV4dCkge1xuICAgICAgdmFyIGxpbmVzID0gdGV4dC5zcGxpdCh0aGlzLl9yZU5ld2xpbmUpLFxuICAgICAgICAgIG5ld0xpbmVzID0gbmV3IEFycmF5KGxpbmVzLmxlbmd0aCksXG4gICAgICAgICAgbmV3TGluZSA9IFsnXFxuJ10sXG4gICAgICAgICAgbmV3VGV4dCA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBuZXdMaW5lc1tpXSA9IGZhYnJpYy51dGlsLnN0cmluZy5ncmFwaGVtZVNwbGl0KGxpbmVzW2ldKTtcbiAgICAgICAgbmV3VGV4dCA9IG5ld1RleHQuY29uY2F0KG5ld0xpbmVzW2ldLCBuZXdMaW5lKTtcbiAgICAgIH1cbiAgICAgIG5ld1RleHQucG9wKCk7XG4gICAgICByZXR1cm4geyBfdW53cmFwcGVkTGluZXM6IG5ld0xpbmVzLCBsaW5lczogbGluZXMsIGdyYXBoZW1lVGV4dDogbmV3VGV4dCwgZ3JhcGhlbWVMaW5lczogbmV3TGluZXMgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcHJvcGVydGllc1RvSW5jbHVkZV0gQW55IHByb3BlcnRpZXMgdGhhdCB5b3UgbWlnaHQgd2FudCB0byBhZGRpdGlvbmFsbHkgaW5jbHVkZSBpbiB0aGUgb3V0cHV0XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBPYmplY3QgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKi9cbiAgICB0b09iamVjdDogZnVuY3Rpb24ocHJvcGVydGllc1RvSW5jbHVkZSkge1xuICAgICAgdmFyIGFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gW1xuICAgICAgICAndGV4dCcsXG4gICAgICAgICdmb250U2l6ZScsXG4gICAgICAgICdmb250V2VpZ2h0JyxcbiAgICAgICAgJ2ZvbnRGYW1pbHknLFxuICAgICAgICAnZm9udFN0eWxlJyxcbiAgICAgICAgJ2xpbmVIZWlnaHQnLFxuICAgICAgICAndW5kZXJsaW5lJyxcbiAgICAgICAgJ292ZXJsaW5lJyxcbiAgICAgICAgJ2xpbmV0aHJvdWdoJyxcbiAgICAgICAgJ3RleHRBbGlnbicsXG4gICAgICAgICd0ZXh0QmFja2dyb3VuZENvbG9yJyxcbiAgICAgICAgJ2NoYXJTcGFjaW5nJyxcbiAgICAgIF0uY29uY2F0KHByb3BlcnRpZXNUb0luY2x1ZGUpO1xuICAgICAgdmFyIG9iaiA9IHRoaXMuY2FsbFN1cGVyKCd0b09iamVjdCcsIGFkZGl0aW9uYWxQcm9wZXJ0aWVzKTtcbiAgICAgIG9iai5zdHlsZXMgPSBjbG9uZSh0aGlzLnN0eWxlcywgdHJ1ZSk7XG4gICAgICByZXR1cm4gb2JqO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHByb3BlcnR5IHRvIGEgZ2l2ZW4gdmFsdWUuIFdoZW4gY2hhbmdpbmcgcG9zaXRpb24vZGltZW5zaW9uIC1yZWxhdGVkIHByb3BlcnRpZXMgKGxlZnQsIHRvcCwgc2NhbGUsIGFuZ2xlLCBldGMuKSBgc2V0YCBkb2VzIG5vdCB1cGRhdGUgcG9zaXRpb24gb2Ygb2JqZWN0J3MgYm9yZGVycy9jb250cm9scy4gSWYgeW91IG5lZWQgdG8gdXBkYXRlIHRob3NlLCBjYWxsIGBzZXRDb29yZHMoKWAuXG4gICAgICogQHBhcmFtIHtTdHJpbmd8T2JqZWN0fSBrZXkgUHJvcGVydHkgbmFtZSBvciBvYmplY3QgKGlmIG9iamVjdCwgaXRlcmF0ZSBvdmVyIHRoZSBvYmplY3QgcHJvcGVydGllcylcbiAgICAgKiBAcGFyYW0ge09iamVjdHxGdW5jdGlvbn0gdmFsdWUgUHJvcGVydHkgdmFsdWUgKGlmIGZ1bmN0aW9uLCB0aGUgdmFsdWUgaXMgcGFzc2VkIGludG8gaXQgYW5kIGl0cyByZXR1cm4gdmFsdWUgaXMgdXNlZCBhcyBhIG5ldyBvbmUpXG4gICAgICogQHJldHVybiB7ZmFicmljLk9iamVjdH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdzZXQnLCBrZXksIHZhbHVlKTtcbiAgICAgIHZhciBuZWVkc0RpbXMgPSBmYWxzZTtcbiAgICAgIGlmICh0eXBlb2Yga2V5ID09PSAnb2JqZWN0Jykge1xuICAgICAgICBmb3IgKHZhciBfa2V5IGluIGtleSkge1xuICAgICAgICAgIG5lZWRzRGltcyA9IG5lZWRzRGltcyB8fCB0aGlzLl9kaW1lbnNpb25BZmZlY3RpbmdQcm9wcy5pbmRleE9mKF9rZXkpICE9PSAtMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIG5lZWRzRGltcyA9IHRoaXMuX2RpbWVuc2lvbkFmZmVjdGluZ1Byb3BzLmluZGV4T2Yoa2V5KSAhPT0gLTE7XG4gICAgICB9XG4gICAgICBpZiAobmVlZHNEaW1zKSB7XG4gICAgICAgIHRoaXMuaW5pdERpbWVuc2lvbnMoKTtcbiAgICAgICAgdGhpcy5zZXRDb29yZHMoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNvbXBsZXhpdHkgb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IGNvbXBsZXhpdHlcbiAgICAgKi9cbiAgICBjb21wbGV4aXR5OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgfSk7XG5cbiAgLyogX0ZST01fU1ZHX1NUQVJUXyAqL1xuICAvKipcbiAgICogTGlzdCBvZiBhdHRyaWJ1dGUgbmFtZXMgdG8gYWNjb3VudCBmb3Igd2hlbiBwYXJzaW5nIFNWRyBlbGVtZW50ICh1c2VkIGJ5IHtAbGluayBmYWJyaWMuVGV4dC5mcm9tRWxlbWVudH0pXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5UZXh0XG4gICAqIEBzZWU6IGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy90ZXh0Lmh0bWwjVGV4dEVsZW1lbnRcbiAgICovXG4gIGZhYnJpYy5UZXh0LkFUVFJJQlVURV9OQU1FUyA9IGZhYnJpYy5TSEFSRURfQVRUUklCVVRFUy5jb25jYXQoXG4gICAgJ3ggeSBkeCBkeSBmb250LWZhbWlseSBmb250LXN0eWxlIGZvbnQtd2VpZ2h0IGZvbnQtc2l6ZSBsZXR0ZXItc3BhY2luZyB0ZXh0LWRlY29yYXRpb24gdGV4dC1hbmNob3InLnNwbGl0KCcgJykpO1xuXG4gIC8qKlxuICAgKiBEZWZhdWx0IFNWRyBmb250IHNpemVcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLlRleHRcbiAgICovXG4gIGZhYnJpYy5UZXh0LkRFRkFVTFRfU1ZHX0ZPTlRfU0laRSA9IDE2O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGZhYnJpYy5UZXh0IGluc3RhbmNlIGZyb20gYW4gU1ZHIGVsZW1lbnQgKDxiPm5vdCB5ZXQgaW1wbGVtZW50ZWQ8L2I+KVxuICAgKiBAc3RhdGljXG4gICAqIEBtZW1iZXJPZiBmYWJyaWMuVGV4dFxuICAgKiBAcGFyYW0ge1NWR0VsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0byBwYXJzZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayBjYWxsYmFjayBmdW5jdGlvbiBpbnZva2VkIGFmdGVyIHBhcnNpbmdcbiAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSBPcHRpb25zIG9iamVjdFxuICAgKi9cbiAgZmFicmljLlRleHQuZnJvbUVsZW1lbnQgPSBmdW5jdGlvbihlbGVtZW50LCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuICAgIH1cblxuICAgIHZhciBwYXJzZWRBdHRyaWJ1dGVzID0gZmFicmljLnBhcnNlQXR0cmlidXRlcyhlbGVtZW50LCBmYWJyaWMuVGV4dC5BVFRSSUJVVEVfTkFNRVMpLFxuICAgICAgICBwYXJzZWRBbmNob3IgPSBwYXJzZWRBdHRyaWJ1dGVzLnRleHRBbmNob3IgfHwgJ2xlZnQnO1xuICAgIG9wdGlvbnMgPSBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKChvcHRpb25zID8gY2xvbmUob3B0aW9ucykgOiB7IH0pLCBwYXJzZWRBdHRyaWJ1dGVzKTtcblxuICAgIG9wdGlvbnMudG9wID0gb3B0aW9ucy50b3AgfHwgMDtcbiAgICBvcHRpb25zLmxlZnQgPSBvcHRpb25zLmxlZnQgfHwgMDtcbiAgICBpZiAocGFyc2VkQXR0cmlidXRlcy50ZXh0RGVjb3JhdGlvbikge1xuICAgICAgdmFyIHRleHREZWNvcmF0aW9uID0gcGFyc2VkQXR0cmlidXRlcy50ZXh0RGVjb3JhdGlvbjtcbiAgICAgIGlmICh0ZXh0RGVjb3JhdGlvbi5pbmRleE9mKCd1bmRlcmxpbmUnKSAhPT0gLTEpIHtcbiAgICAgICAgb3B0aW9ucy51bmRlcmxpbmUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHRleHREZWNvcmF0aW9uLmluZGV4T2YoJ292ZXJsaW5lJykgIT09IC0xKSB7XG4gICAgICAgIG9wdGlvbnMub3ZlcmxpbmUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHRleHREZWNvcmF0aW9uLmluZGV4T2YoJ2xpbmUtdGhyb3VnaCcpICE9PSAtMSkge1xuICAgICAgICBvcHRpb25zLmxpbmV0aHJvdWdoID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZSBvcHRpb25zLnRleHREZWNvcmF0aW9uO1xuICAgIH1cbiAgICBpZiAoJ2R4JyBpbiBwYXJzZWRBdHRyaWJ1dGVzKSB7XG4gICAgICBvcHRpb25zLmxlZnQgKz0gcGFyc2VkQXR0cmlidXRlcy5keDtcbiAgICB9XG4gICAgaWYgKCdkeScgaW4gcGFyc2VkQXR0cmlidXRlcykge1xuICAgICAgb3B0aW9ucy50b3AgKz0gcGFyc2VkQXR0cmlidXRlcy5keTtcbiAgICB9XG4gICAgaWYgKCEoJ2ZvbnRTaXplJyBpbiBvcHRpb25zKSkge1xuICAgICAgb3B0aW9ucy5mb250U2l6ZSA9IGZhYnJpYy5UZXh0LkRFRkFVTFRfU1ZHX0ZPTlRfU0laRTtcbiAgICB9XG5cbiAgICB2YXIgdGV4dENvbnRlbnQgPSAnJztcblxuICAgIC8vIFRoZSBYTUwgaXMgbm90IHByb3Blcmx5IHBhcnNlZCBpbiBJRTkgc28gYSB3b3JrYXJvdW5kIHRvIGdldFxuICAgIC8vIHRleHRDb250ZW50IGlzIHRocm91Z2ggZmlyc3RDaGlsZC5kYXRhLiBBbm90aGVyIHdvcmthcm91bmQgd291bGQgYmVcbiAgICAvLyB0byBjb252ZXJ0IFhNTCBsb2FkZWQgZnJvbSBhIGZpbGUgdG8gYmUgY29udmVydGVkIHVzaW5nIERPTVBhcnNlciAoc2FtZSB3YXkgbG9hZFNWR0Zyb21TdHJpbmcoKSBkb2VzKVxuICAgIGlmICghKCd0ZXh0Q29udGVudCcgaW4gZWxlbWVudCkpIHtcbiAgICAgIGlmICgnZmlyc3RDaGlsZCcgaW4gZWxlbWVudCAmJiBlbGVtZW50LmZpcnN0Q2hpbGQgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKCdkYXRhJyBpbiBlbGVtZW50LmZpcnN0Q2hpbGQgJiYgZWxlbWVudC5maXJzdENoaWxkLmRhdGEgIT09IG51bGwpIHtcbiAgICAgICAgICB0ZXh0Q29udGVudCA9IGVsZW1lbnQuZmlyc3RDaGlsZC5kYXRhO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGV4dENvbnRlbnQgPSBlbGVtZW50LnRleHRDb250ZW50O1xuICAgIH1cblxuICAgIHRleHRDb250ZW50ID0gdGV4dENvbnRlbnQucmVwbGFjZSgvXlxccyt8XFxzKyR8XFxuKy9nLCAnJykucmVwbGFjZSgvXFxzKy9nLCAnICcpO1xuICAgIHZhciBvcmlnaW5hbFN0cm9rZVdpZHRoID0gb3B0aW9ucy5zdHJva2VXaWR0aDtcbiAgICBvcHRpb25zLnN0cm9rZVdpZHRoID0gMDtcblxuICAgIHZhciB0ZXh0ID0gbmV3IGZhYnJpYy5UZXh0KHRleHRDb250ZW50LCBvcHRpb25zKSxcbiAgICAgICAgdGV4dEhlaWdodFNjYWxlRmFjdG9yID0gdGV4dC5nZXRTY2FsZWRIZWlnaHQoKSAvIHRleHQuaGVpZ2h0LFxuICAgICAgICBsaW5lSGVpZ2h0RGlmZiA9ICh0ZXh0LmhlaWdodCArIHRleHQuc3Ryb2tlV2lkdGgpICogdGV4dC5saW5lSGVpZ2h0IC0gdGV4dC5oZWlnaHQsXG4gICAgICAgIHNjYWxlZERpZmYgPSBsaW5lSGVpZ2h0RGlmZiAqIHRleHRIZWlnaHRTY2FsZUZhY3RvcixcbiAgICAgICAgdGV4dEhlaWdodCA9IHRleHQuZ2V0U2NhbGVkSGVpZ2h0KCkgKyBzY2FsZWREaWZmLFxuICAgICAgICBvZmZYID0gMDtcbiAgICAvKlxuICAgICAgQWRqdXN0IHBvc2l0aW9uaW5nOlxuICAgICAgICB4L3kgYXR0cmlidXRlcyBpbiBTVkcgY29ycmVzcG9uZCB0byB0aGUgYm90dG9tLWxlZnQgY29ybmVyIG9mIHRleHQgYm91bmRpbmcgYm94XG4gICAgICAgIGZhYnJpYyBvdXRwdXQgYnkgZGVmYXVsdCBhdCB0b3AsIGxlZnQuXG4gICAgKi9cbiAgICBpZiAocGFyc2VkQW5jaG9yID09PSAnY2VudGVyJykge1xuICAgICAgb2ZmWCA9IHRleHQuZ2V0U2NhbGVkV2lkdGgoKSAvIDI7XG4gICAgfVxuICAgIGlmIChwYXJzZWRBbmNob3IgPT09ICdyaWdodCcpIHtcbiAgICAgIG9mZlggPSB0ZXh0LmdldFNjYWxlZFdpZHRoKCk7XG4gICAgfVxuICAgIHRleHQuc2V0KHtcbiAgICAgIGxlZnQ6IHRleHQubGVmdCAtIG9mZlgsXG4gICAgICB0b3A6IHRleHQudG9wIC0gKHRleHRIZWlnaHQgLSB0ZXh0LmZvbnRTaXplICogKDAuMDcgKyB0ZXh0Ll9mb250U2l6ZUZyYWN0aW9uKSkgLyB0ZXh0LmxpbmVIZWlnaHQsXG4gICAgICBzdHJva2VXaWR0aDogdHlwZW9mIG9yaWdpbmFsU3Ryb2tlV2lkdGggIT09ICd1bmRlZmluZWQnID8gb3JpZ2luYWxTdHJva2VXaWR0aCA6IDEsXG4gICAgfSk7XG4gICAgY2FsbGJhY2sodGV4dCk7XG4gIH07XG4gIC8qIF9GUk9NX1NWR19FTkRfICovXG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmFicmljLlRleHQgaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLlRleHRcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIGZyb21cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBDYWxsYmFjayB0byBpbnZva2Ugd2hlbiBhbiBmYWJyaWMuVGV4dCBpbnN0YW5jZSBpcyBjcmVhdGVkXG4gICAqL1xuICBmYWJyaWMuVGV4dC5mcm9tT2JqZWN0ID0gZnVuY3Rpb24ob2JqZWN0LCBjYWxsYmFjaykge1xuICAgIHJldHVybiBmYWJyaWMuT2JqZWN0Ll9mcm9tT2JqZWN0KCdUZXh0Jywgb2JqZWN0LCBjYWxsYmFjaywgJ3RleHQnKTtcbiAgfTtcblxuICBmYWJyaWMuVGV4dC5nZW5lcmljRm9udHMgPSBbJ3NhbnMtc2VyaWYnLCAnc2VyaWYnLCAnY3Vyc2l2ZScsICdmYW50YXN5JywgJ21vbm9zcGFjZSddO1xuXG4gIGZhYnJpYy51dGlsLmNyZWF0ZUFjY2Vzc29ycyAmJiBmYWJyaWMudXRpbC5jcmVhdGVBY2Nlc3NvcnMoZmFicmljLlRleHQpO1xuXG59KSh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgPyBleHBvcnRzIDogdGhpcyk7XG5cblxuKGZ1bmN0aW9uKCkge1xuICBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5UZXh0LnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuVGV4dC5wcm90b3R5cGUgKi8ge1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBvYmplY3QgaGFzIG5vIHN0eWxpbmcgb3Igbm8gc3R5bGluZyBpbiBhIGxpbmVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4ICwgbGluZUluZGV4IGlzIG9uIHdyYXBwZWQgbGluZXMuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBpc0VtcHR5U3R5bGVzOiBmdW5jdGlvbihsaW5lSW5kZXgpIHtcbiAgICAgIGlmICghdGhpcy5zdHlsZXMpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxpbmVJbmRleCAhPT0gJ3VuZGVmaW5lZCcgJiYgIXRoaXMuc3R5bGVzW2xpbmVJbmRleF0pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgb2JqID0gdHlwZW9mIGxpbmVJbmRleCA9PT0gJ3VuZGVmaW5lZCcgPyB0aGlzLnN0eWxlcyA6IHsgbGluZTogdGhpcy5zdHlsZXNbbGluZUluZGV4XSB9O1xuICAgICAgZm9yICh2YXIgcDEgaW4gb2JqKSB7XG4gICAgICAgIGZvciAodmFyIHAyIGluIG9ialtwMV0pIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgICAgICBmb3IgKHZhciBwMyBpbiBvYmpbcDFdW3AyXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBvYmplY3QgaGFzIGEgc3R5bGUgcHJvcGVydHkgb3IgaGFzIGl0IGluYSBzcGVjaWZpZWQgbGluZVxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBkZXRlY3QgaWYgYSB0ZXh0IHdpbGwgdXNlIGEgcGFydGljdWxhciBwcm9wZXJ0eSBvciBub3QuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5IHRvIGNoZWNrIGZvclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXggdG8gY2hlY2sgdGhlIHN0eWxlIG9uXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBzdHlsZUhhczogZnVuY3Rpb24ocHJvcGVydHksIGxpbmVJbmRleCkge1xuICAgICAgaWYgKCF0aGlzLnN0eWxlcyB8fCAhcHJvcGVydHkgfHwgcHJvcGVydHkgPT09ICcnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbGluZUluZGV4ICE9PSAndW5kZWZpbmVkJyAmJiAhdGhpcy5zdHlsZXNbbGluZUluZGV4XSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgb2JqID0gdHlwZW9mIGxpbmVJbmRleCA9PT0gJ3VuZGVmaW5lZCcgPyB0aGlzLnN0eWxlcyA6IHsgMDogdGhpcy5zdHlsZXNbbGluZUluZGV4XSB9O1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICBmb3IgKHZhciBwMSBpbiBvYmopIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgIGZvciAodmFyIHAyIGluIG9ialtwMV0pIHtcbiAgICAgICAgICBpZiAodHlwZW9mIG9ialtwMV1bcDJdW3Byb3BlcnR5XSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBjaGFyYWN0ZXJzIGluIGEgdGV4dCBoYXZlIGEgdmFsdWUgZm9yIGEgcHJvcGVydHlcbiAgICAgKiB3aG9zZSB2YWx1ZSBtYXRjaGVzIHRoZSB0ZXh0Ym94J3MgdmFsdWUgZm9yIHRoYXQgcHJvcGVydHkuICBJZiBzbyxcbiAgICAgKiB0aGUgY2hhcmFjdGVyLWxldmVsIHByb3BlcnR5IGlzIGRlbGV0ZWQuICBJZiB0aGUgY2hhcmFjdGVyXG4gICAgICogaGFzIG5vIG90aGVyIHByb3BlcnRpZXMsIHRoZW4gaXQgaXMgYWxzbyBkZWxldGVkLiAgRmluYWxseSxcbiAgICAgKiBpZiB0aGUgbGluZSBjb250YWluaW5nIHRoYXQgY2hhcmFjdGVyIGhhcyBubyBvdGhlciBjaGFyYWN0ZXJzXG4gICAgICogdGhlbiBpdCBhbHNvIGlzIGRlbGV0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydHkgVGhlIHByb3BlcnR5IHRvIGNvbXBhcmUgYmV0d2VlbiBjaGFyYWN0ZXJzIGFuZCB0ZXh0LlxuICAgICAqL1xuICAgIGNsZWFuU3R5bGU6IGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgICBpZiAoIXRoaXMuc3R5bGVzIHx8ICFwcm9wZXJ0eSB8fCBwcm9wZXJ0eSA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIG9iaiA9IHRoaXMuc3R5bGVzLCBzdHlsZXNDb3VudCA9IDAsIGxldHRlckNvdW50LCBzdHlsZVByb3BlcnR5VmFsdWUsXG4gICAgICAgICAgYWxsU3R5bGVPYmplY3RQcm9wZXJ0aWVzTWF0Y2ggPSB0cnVlLCBncmFwaGVtZUNvdW50ID0gMCwgc3R5bGVPYmplY3Q7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIGZvciAodmFyIHAxIGluIG9iaikge1xuICAgICAgICBsZXR0ZXJDb3VudCA9IDA7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICBmb3IgKHZhciBwMiBpbiBvYmpbcDFdKSB7XG4gICAgICAgICAgdmFyIHN0eWxlT2JqZWN0ID0gb2JqW3AxXVtwMl0sXG4gICAgICAgICAgICAgIHN0eWxlUHJvcGVydHlIYXNCZWVuU2V0ID0gc3R5bGVPYmplY3QuaGFzT3duUHJvcGVydHkocHJvcGVydHkpO1xuXG4gICAgICAgICAgc3R5bGVzQ291bnQrKztcblxuICAgICAgICAgIGlmIChzdHlsZVByb3BlcnR5SGFzQmVlblNldCkge1xuICAgICAgICAgICAgaWYgKCFzdHlsZVByb3BlcnR5VmFsdWUpIHtcbiAgICAgICAgICAgICAgc3R5bGVQcm9wZXJ0eVZhbHVlID0gc3R5bGVPYmplY3RbcHJvcGVydHldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3R5bGVPYmplY3RbcHJvcGVydHldICE9PSBzdHlsZVByb3BlcnR5VmFsdWUpIHtcbiAgICAgICAgICAgICAgYWxsU3R5bGVPYmplY3RQcm9wZXJ0aWVzTWF0Y2ggPSBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHN0eWxlT2JqZWN0W3Byb3BlcnR5XSA9PT0gdGhpc1twcm9wZXJ0eV0pIHtcbiAgICAgICAgICAgICAgZGVsZXRlIHN0eWxlT2JqZWN0W3Byb3BlcnR5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhbGxTdHlsZU9iamVjdFByb3BlcnRpZXNNYXRjaCA9IGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhzdHlsZU9iamVjdCkubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICBsZXR0ZXJDb3VudCsrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlbGV0ZSBvYmpbcDFdW3AyXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGV0dGVyQ291bnQgPT09IDApIHtcbiAgICAgICAgICBkZWxldGUgb2JqW3AxXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gaWYgZXZlcnkgZ3JhcGhlbWUgaGFzIHRoZSBzYW1lIHN0eWxlIHNldCB0aGVuXG4gICAgICAvLyBkZWxldGUgdGhvc2Ugc3R5bGVzIGFuZCBzZXQgaXQgb24gdGhlIHBhcmVudFxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl90ZXh0TGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZ3JhcGhlbWVDb3VudCArPSB0aGlzLl90ZXh0TGluZXNbaV0ubGVuZ3RoO1xuICAgICAgfVxuICAgICAgaWYgKGFsbFN0eWxlT2JqZWN0UHJvcGVydGllc01hdGNoICYmIHN0eWxlc0NvdW50ID09PSBncmFwaGVtZUNvdW50KSB7XG4gICAgICAgIHRoaXNbcHJvcGVydHldID0gc3R5bGVQcm9wZXJ0eVZhbHVlO1xuICAgICAgICB0aGlzLnJlbW92ZVN0eWxlKHByb3BlcnR5KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGEgc3R5bGUgcHJvcGVydHkgb3IgcHJvcGVydGllcyBmcm9tIGFsbCBpbmRpdmlkdWFsIGNoYXJhY3RlciBzdHlsZXNcbiAgICAgKiBpbiBhIHRleHQgb2JqZWN0LiAgRGVsZXRlcyB0aGUgY2hhcmFjdGVyIHN0eWxlIG9iamVjdCBpZiBpdCBjb250YWlucyBubyBvdGhlciBzdHlsZVxuICAgICAqIHByb3BzLiAgRGVsZXRlcyBhIGxpbmUgc3R5bGUgb2JqZWN0IGlmIGl0IGNvbnRhaW5zIG5vIG90aGVyIGNoYXJhY3RlciBzdHlsZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcHMgVGhlIHByb3BlcnR5IHRvIHJlbW92ZSBmcm9tIGNoYXJhY3RlciBzdHlsZXMuXG4gICAgICovXG4gICAgcmVtb3ZlU3R5bGU6IGZ1bmN0aW9uKHByb3BlcnR5KSB7XG4gICAgICBpZiAoIXRoaXMuc3R5bGVzIHx8ICFwcm9wZXJ0eSB8fCBwcm9wZXJ0eSA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIG9iaiA9IHRoaXMuc3R5bGVzLCBsaW5lLCBsaW5lTnVtLCBjaGFyTnVtO1xuICAgICAgZm9yIChsaW5lTnVtIGluIG9iaikge1xuICAgICAgICBsaW5lID0gb2JqW2xpbmVOdW1dO1xuICAgICAgICBmb3IgKGNoYXJOdW0gaW4gbGluZSkge1xuICAgICAgICAgIGRlbGV0ZSBsaW5lW2NoYXJOdW1dW3Byb3BlcnR5XTtcbiAgICAgICAgICBpZiAoT2JqZWN0LmtleXMobGluZVtjaGFyTnVtXSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBkZWxldGUgbGluZVtjaGFyTnVtXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGxpbmUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGRlbGV0ZSBvYmpbbGluZU51bV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZXh0ZW5kU3R5bGVzOiBmdW5jdGlvbihpbmRleCwgc3R5bGVzKSB7XG4gICAgICB2YXIgbG9jID0gdGhpcy5nZXQyREN1cnNvckxvY2F0aW9uKGluZGV4KTtcblxuICAgICAgaWYgKCF0aGlzLl9nZXRMaW5lU3R5bGUobG9jLmxpbmVJbmRleCkpIHtcbiAgICAgICAgdGhpcy5fc2V0TGluZVN0eWxlKGxvYy5saW5lSW5kZXgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuX2dldFN0eWxlRGVjbGFyYXRpb24obG9jLmxpbmVJbmRleCwgbG9jLmNoYXJJbmRleCkpIHtcbiAgICAgICAgdGhpcy5fc2V0U3R5bGVEZWNsYXJhdGlvbihsb2MubGluZUluZGV4LCBsb2MuY2hhckluZGV4LCB7fSk7XG4gICAgICB9XG5cbiAgICAgIGZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQodGhpcy5fZ2V0U3R5bGVEZWNsYXJhdGlvbihsb2MubGluZUluZGV4LCBsb2MuY2hhckluZGV4KSwgc3R5bGVzKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyAyZCByZXByZXNlbnRhdGlvbiAobGluZUluZGV4IGFuZCBjaGFySW5kZXgpIG9mIGN1cnNvciAob3Igc2VsZWN0aW9uIHN0YXJ0KVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc2VsZWN0aW9uU3RhcnRdIE9wdGlvbmFsIGluZGV4LiBXaGVuIG5vdCBnaXZlbiwgY3VycmVudCBzZWxlY3Rpb25TdGFydCBpcyB1c2VkLlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3NraXBXcmFwcGluZ10gY29uc2lkZXIgdGhlIGxvY2F0aW9uIGZvciB1bndyYXBwZWQgbGluZXMuIHVzZWZ1bGwgdG8gbWFuYWdlIHN0eWxlcy5cbiAgICAgKi9cbiAgICBnZXQyREN1cnNvckxvY2F0aW9uOiBmdW5jdGlvbihzZWxlY3Rpb25TdGFydCwgc2tpcFdyYXBwaW5nKSB7XG4gICAgICBpZiAodHlwZW9mIHNlbGVjdGlvblN0YXJ0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzZWxlY3Rpb25TdGFydCA9IHRoaXMuc2VsZWN0aW9uU3RhcnQ7XG4gICAgICB9XG4gICAgICB2YXIgbGluZXMgPSBza2lwV3JhcHBpbmcgPyB0aGlzLl91bndyYXBwZWRUZXh0TGluZXMgOiB0aGlzLl90ZXh0TGluZXMsXG4gICAgICAgICAgbGVuID0gbGluZXMubGVuZ3RoO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAoc2VsZWN0aW9uU3RhcnQgPD0gbGluZXNbaV0ubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxpbmVJbmRleDogaSxcbiAgICAgICAgICAgIGNoYXJJbmRleDogc2VsZWN0aW9uU3RhcnRcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHNlbGVjdGlvblN0YXJ0IC09IGxpbmVzW2ldLmxlbmd0aCArIHRoaXMubWlzc2luZ05ld2xpbmVPZmZzZXQoaSk7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsaW5lSW5kZXg6IGkgLSAxLFxuICAgICAgICBjaGFySW5kZXg6IGxpbmVzW2kgLSAxXS5sZW5ndGggPCBzZWxlY3Rpb25TdGFydCA/IGxpbmVzW2kgLSAxXS5sZW5ndGggOiBzZWxlY3Rpb25TdGFydFxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2V0cyBzdHlsZSBvZiBhIGN1cnJlbnQgc2VsZWN0aW9uL2N1cnNvciAoYXQgdGhlIHN0YXJ0IHBvc2l0aW9uKVxuICAgICAqIGlmIHN0YXJ0SW5kZXggb3IgZW5kSW5kZXggYXJlIG5vdCBwcm92aWRlZCwgc2xlY3Rpb25TdGFydCBvciBzZWxlY3Rpb25FbmQgd2lsbCBiZSB1c2VkLlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbc3RhcnRJbmRleF0gU3RhcnQgaW5kZXggdG8gZ2V0IHN0eWxlcyBhdFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbZW5kSW5kZXhdIEVuZCBpbmRleCB0byBnZXQgc3R5bGVzIGF0LCBpZiBub3Qgc3BlY2lmaWVkIHNlbGVjdGlvbkVuZCBvciBzdGFydEluZGV4ICsgMVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW2NvbXBsZXRlXSBnZXQgZnVsbCBzdHlsZSBvciBub3RcbiAgICAgKiBAcmV0dXJuIHtBcnJheX0gc3R5bGVzIGFuIGFycmF5IHdpdGggb25lLCB6ZXJvIG9yIG1vcmUgU3R5bGUgb2JqZWN0c1xuICAgICAqL1xuICAgIGdldFNlbGVjdGlvblN0eWxlczogZnVuY3Rpb24oc3RhcnRJbmRleCwgZW5kSW5kZXgsIGNvbXBsZXRlKSB7XG4gICAgICBpZiAodHlwZW9mIHN0YXJ0SW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHN0YXJ0SW5kZXggPSB0aGlzLnNlbGVjdGlvblN0YXJ0IHx8IDA7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGVuZEluZGV4ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBlbmRJbmRleCA9IHRoaXMuc2VsZWN0aW9uRW5kIHx8IHN0YXJ0SW5kZXg7XG4gICAgICB9XG4gICAgICB2YXIgc3R5bGVzID0gW107XG4gICAgICBmb3IgKHZhciBpID0gc3RhcnRJbmRleDsgaSA8IGVuZEluZGV4OyBpKyspIHtcbiAgICAgICAgc3R5bGVzLnB1c2godGhpcy5nZXRTdHlsZUF0UG9zaXRpb24oaSwgY29tcGxldGUpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHlsZXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEdldHMgc3R5bGUgb2YgYSBjdXJyZW50IHNlbGVjdGlvbi9jdXJzb3IgcG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcG9zaXRpb24gIHRvIGdldCBzdHlsZXMgYXRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtjb21wbGV0ZV0gZnVsbCBzdHlsZSBpZiB0cnVlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBzdHlsZSBTdHlsZSBvYmplY3QgYXQgYSBzcGVjaWZpZWQgaW5kZXhcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGdldFN0eWxlQXRQb3NpdGlvbjogZnVuY3Rpb24ocG9zaXRpb24sIGNvbXBsZXRlKSB7XG4gICAgICB2YXIgbG9jID0gdGhpcy5nZXQyREN1cnNvckxvY2F0aW9uKHBvc2l0aW9uKSxcbiAgICAgICAgICBzdHlsZSA9IGNvbXBsZXRlID8gdGhpcy5nZXRDb21wbGV0ZVN0eWxlRGVjbGFyYXRpb24obG9jLmxpbmVJbmRleCwgbG9jLmNoYXJJbmRleCkgOlxuICAgICAgICAgICAgdGhpcy5fZ2V0U3R5bGVEZWNsYXJhdGlvbihsb2MubGluZUluZGV4LCBsb2MuY2hhckluZGV4KTtcbiAgICAgIHJldHVybiBzdHlsZSB8fCB7fTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2V0cyBzdHlsZSBvZiBhIGN1cnJlbnQgc2VsZWN0aW9uLCBpZiBubyBzZWxlY3Rpb24gZXhpc3QsIGRvIG5vdCBzZXQgYW55dGhpbmcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdHlsZXNdIFN0eWxlcyBvYmplY3RcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3N0YXJ0SW5kZXhdIFN0YXJ0IGluZGV4IHRvIGdldCBzdHlsZXMgYXRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW2VuZEluZGV4XSBFbmQgaW5kZXggdG8gZ2V0IHN0eWxlcyBhdCwgaWYgbm90IHNwZWNpZmllZCBzZWxlY3Rpb25FbmQgb3Igc3RhcnRJbmRleCArIDFcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuSVRleHR9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgc2V0U2VsZWN0aW9uU3R5bGVzOiBmdW5jdGlvbihzdHlsZXMsIHN0YXJ0SW5kZXgsIGVuZEluZGV4KSB7XG4gICAgICBpZiAodHlwZW9mIHN0YXJ0SW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHN0YXJ0SW5kZXggPSB0aGlzLnNlbGVjdGlvblN0YXJ0IHx8IDA7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGVuZEluZGV4ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBlbmRJbmRleCA9IHRoaXMuc2VsZWN0aW9uRW5kIHx8IHN0YXJ0SW5kZXg7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gc3RhcnRJbmRleDsgaSA8IGVuZEluZGV4OyBpKyspIHtcbiAgICAgICAgdGhpcy5fZXh0ZW5kU3R5bGVzKGksIHN0eWxlcyk7XG4gICAgICB9XG4gICAgICAvKiBub3QgaW5jbHVkZWQgaW4gX2V4dGVuZFN0eWxlcyB0byBhdm9pZCBjbGVhcmluZyBjYWNoZSBtb3JlIHRoYW4gb25jZSAqL1xuICAgICAgdGhpcy5fZm9yY2VDbGVhckNhY2hlID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBnZXQgdGhlIHJlZmVyZW5jZSwgbm90IGEgY2xvbmUsIG9mIHRoZSBzdHlsZSBvYmplY3QgZm9yIGEgZ2l2ZW4gY2hhcmFjdGVyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjaGFySW5kZXhcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IHN0eWxlIG9iamVjdFxuICAgICAqL1xuICAgIF9nZXRTdHlsZURlY2xhcmF0aW9uOiBmdW5jdGlvbihsaW5lSW5kZXgsIGNoYXJJbmRleCkge1xuICAgICAgdmFyIGxpbmVTdHlsZSA9IHRoaXMuc3R5bGVzICYmIHRoaXMuc3R5bGVzW2xpbmVJbmRleF07XG4gICAgICBpZiAoIWxpbmVTdHlsZSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsaW5lU3R5bGVbY2hhckluZGV4XTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmV0dXJuIGEgbmV3IG9iamVjdCB0aGF0IGNvbnRhaW5zIGFsbCB0aGUgc3R5bGUgcHJvcGVydHkgZm9yIGEgY2hhcmFjdGVyXG4gICAgICogdGhlIG9iamVjdCByZXR1cm5lZCBpcyBuZXdseSBjcmVhdGVkXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleCBvZiB0aGUgbGluZSB3aGVyZSB0aGUgY2hhcmFjdGVyIGlzXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYXJJbmRleCBwb3NpdGlvbiBvZiB0aGUgY2hhcmFjdGVyIG9uIHRoZSBsaW5lXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBzdHlsZSBvYmplY3RcbiAgICAgKi9cbiAgICBnZXRDb21wbGV0ZVN0eWxlRGVjbGFyYXRpb246IGZ1bmN0aW9uKGxpbmVJbmRleCwgY2hhckluZGV4KSB7XG4gICAgICB2YXIgc3R5bGUgPSB0aGlzLl9nZXRTdHlsZURlY2xhcmF0aW9uKGxpbmVJbmRleCwgY2hhckluZGV4KSB8fCB7IH0sXG4gICAgICAgICAgc3R5bGVPYmplY3QgPSB7IH0sIHByb3A7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3N0eWxlUHJvcGVydGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBwcm9wID0gdGhpcy5fc3R5bGVQcm9wZXJ0aWVzW2ldO1xuICAgICAgICBzdHlsZU9iamVjdFtwcm9wXSA9IHR5cGVvZiBzdHlsZVtwcm9wXSA9PT0gJ3VuZGVmaW5lZCcgPyB0aGlzW3Byb3BdIDogc3R5bGVbcHJvcF07XG4gICAgICB9XG4gICAgICByZXR1cm4gc3R5bGVPYmplY3Q7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY2hhckluZGV4XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0eWxlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0U3R5bGVEZWNsYXJhdGlvbjogZnVuY3Rpb24obGluZUluZGV4LCBjaGFySW5kZXgsIHN0eWxlKSB7XG4gICAgICB0aGlzLnN0eWxlc1tsaW5lSW5kZXhdW2NoYXJJbmRleF0gPSBzdHlsZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYXJJbmRleFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2RlbGV0ZVN0eWxlRGVjbGFyYXRpb246IGZ1bmN0aW9uKGxpbmVJbmRleCwgY2hhckluZGV4KSB7XG4gICAgICBkZWxldGUgdGhpcy5zdHlsZXNbbGluZUluZGV4XVtjaGFySW5kZXhdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4XG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gaWYgdGhlIGxpbmUgZXhpc3RzIG9yIG5vdFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2dldExpbmVTdHlsZTogZnVuY3Rpb24obGluZUluZGV4KSB7XG4gICAgICByZXR1cm4gISF0aGlzLnN0eWxlc1tsaW5lSW5kZXhdO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGxpbmUgc3R5bGUgdG8gYW4gZW1wdHkgb2JqZWN0IHNvIHRoYXQgaXMgaW5pdGlhbGl6ZWRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0TGluZVN0eWxlOiBmdW5jdGlvbihsaW5lSW5kZXgpIHtcbiAgICAgIHRoaXMuc3R5bGVzW2xpbmVJbmRleF0gPSB7fTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2RlbGV0ZUxpbmVTdHlsZTogZnVuY3Rpb24obGluZUluZGV4KSB7XG4gICAgICBkZWxldGUgdGhpcy5zdHlsZXNbbGluZUluZGV4XTtcbiAgICB9XG4gIH0pO1xufSkoKTtcblxuXG4oZnVuY3Rpb24oKSB7XG5cbiAgZnVuY3Rpb24gcGFyc2VEZWNvcmF0aW9uKG9iamVjdCkge1xuICAgIGlmIChvYmplY3QudGV4dERlY29yYXRpb24pIHtcbiAgICAgIG9iamVjdC50ZXh0RGVjb3JhdGlvbi5pbmRleE9mKCd1bmRlcmxpbmUnKSA+IC0xICYmIChvYmplY3QudW5kZXJsaW5lID0gdHJ1ZSk7XG4gICAgICBvYmplY3QudGV4dERlY29yYXRpb24uaW5kZXhPZignbGluZS10aHJvdWdoJykgPiAtMSAmJiAob2JqZWN0LmxpbmV0aHJvdWdoID0gdHJ1ZSk7XG4gICAgICBvYmplY3QudGV4dERlY29yYXRpb24uaW5kZXhPZignb3ZlcmxpbmUnKSA+IC0xICYmIChvYmplY3Qub3ZlcmxpbmUgPSB0cnVlKTtcbiAgICAgIGRlbGV0ZSBvYmplY3QudGV4dERlY29yYXRpb247XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIElUZXh0IGNsYXNzIChpbnRyb2R1Y2VkIGluIDxiPnYxLjQ8L2I+KSBFdmVudHMgYXJlIGFsc28gZmlyZWQgd2l0aCBcInRleHQ6XCJcbiAgICogcHJlZml4IHdoZW4gb2JzZXJ2aW5nIGNhbnZhcy5cbiAgICogQGNsYXNzIGZhYnJpYy5JVGV4dFxuICAgKiBAZXh0ZW5kcyBmYWJyaWMuVGV4dFxuICAgKiBAbWl4ZXMgZmFicmljLk9ic2VydmFibGVcbiAgICpcbiAgICogQGZpcmVzIGNoYW5nZWRcbiAgICogQGZpcmVzIHNlbGVjdGlvbjpjaGFuZ2VkXG4gICAqIEBmaXJlcyBlZGl0aW5nOmVudGVyZWRcbiAgICogQGZpcmVzIGVkaXRpbmc6ZXhpdGVkXG4gICAqXG4gICAqIEByZXR1cm4ge2ZhYnJpYy5JVGV4dH0gdGhpc0FyZ1xuICAgKiBAc2VlIHtAbGluayBmYWJyaWMuSVRleHQjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICpcbiAgICogPHA+U3VwcG9ydGVkIGtleSBjb21iaW5hdGlvbnM6PC9wPlxuICAgKiA8cHJlPlxuICAgKiAgIE1vdmUgY3Vyc29yOiAgICAgICAgICAgICAgICAgICAgbGVmdCwgcmlnaHQsIHVwLCBkb3duXG4gICAqICAgU2VsZWN0IGNoYXJhY3RlcjogICAgICAgICAgICAgICBzaGlmdCArIGxlZnQsIHNoaWZ0ICsgcmlnaHRcbiAgICogICBTZWxlY3QgdGV4dCB2ZXJ0aWNhbGx5OiAgICAgICAgIHNoaWZ0ICsgdXAsIHNoaWZ0ICsgZG93blxuICAgKiAgIE1vdmUgY3Vyc29yIGJ5IHdvcmQ6ICAgICAgICAgICAgYWx0ICsgbGVmdCwgYWx0ICsgcmlnaHRcbiAgICogICBTZWxlY3Qgd29yZHM6ICAgICAgICAgICAgICAgICAgIHNoaWZ0ICsgYWx0ICsgbGVmdCwgc2hpZnQgKyBhbHQgKyByaWdodFxuICAgKiAgIE1vdmUgY3Vyc29yIHRvIGxpbmUgc3RhcnQvZW5kOiAgY21kICsgbGVmdCwgY21kICsgcmlnaHQgb3IgaG9tZSwgZW5kXG4gICAqICAgU2VsZWN0IHRpbGwgc3RhcnQvZW5kIG9mIGxpbmU6ICBjbWQgKyBzaGlmdCArIGxlZnQsIGNtZCArIHNoaWZ0ICsgcmlnaHQgb3Igc2hpZnQgKyBob21lLCBzaGlmdCArIGVuZFxuICAgKiAgIEp1bXAgdG8gc3RhcnQvZW5kIG9mIHRleHQ6ICAgICAgY21kICsgdXAsIGNtZCArIGRvd25cbiAgICogICBTZWxlY3QgdGlsbCBzdGFydC9lbmQgb2YgdGV4dDogIGNtZCArIHNoaWZ0ICsgdXAsIGNtZCArIHNoaWZ0ICsgZG93biBvciBzaGlmdCArIHBnVXAsIHNoaWZ0ICsgcGdEb3duXG4gICAqICAgRGVsZXRlIGNoYXJhY3RlcjogICAgICAgICAgICAgICBiYWNrc3BhY2VcbiAgICogICBEZWxldGUgd29yZDogICAgICAgICAgICAgICAgICAgIGFsdCArIGJhY2tzcGFjZVxuICAgKiAgIERlbGV0ZSBsaW5lOiAgICAgICAgICAgICAgICAgICAgY21kICsgYmFja3NwYWNlXG4gICAqICAgRm9yd2FyZCBkZWxldGU6ICAgICAgICAgICAgICAgICBkZWxldGVcbiAgICogICBDb3B5IHRleHQ6ICAgICAgICAgICAgICAgICAgICAgIGN0cmwvY21kICsgY1xuICAgKiAgIFBhc3RlIHRleHQ6ICAgICAgICAgICAgICAgICAgICAgY3RybC9jbWQgKyB2XG4gICAqICAgQ3V0IHRleHQ6ICAgICAgICAgICAgICAgICAgICAgICBjdHJsL2NtZCArIHhcbiAgICogICBTZWxlY3QgZW50aXJlIHRleHQ6ICAgICAgICAgICAgIGN0cmwvY21kICsgYVxuICAgKiAgIFF1aXQgZWRpdGluZyAgICAgICAgICAgICAgICAgICAgdGFiIG9yIGVzY1xuICAgKiA8L3ByZT5cbiAgICpcbiAgICogPHA+U3VwcG9ydGVkIG1vdXNlL3RvdWNoIGNvbWJpbmF0aW9uPC9wPlxuICAgKiA8cHJlPlxuICAgKiAgIFBvc2l0aW9uIGN1cnNvcjogICAgICAgICAgICAgICAgY2xpY2svdG91Y2hcbiAgICogICBDcmVhdGUgc2VsZWN0aW9uOiAgICAgICAgICAgICAgIGNsaWNrL3RvdWNoICYgZHJhZ1xuICAgKiAgIENyZWF0ZSBzZWxlY3Rpb246ICAgICAgICAgICAgICAgY2xpY2sgJiBzaGlmdCArIGNsaWNrXG4gICAqICAgU2VsZWN0IHdvcmQ6ICAgICAgICAgICAgICAgICAgICBkb3VibGUgY2xpY2tcbiAgICogICBTZWxlY3QgbGluZTogICAgICAgICAgICAgICAgICAgIHRyaXBsZSBjbGlja1xuICAgKiA8L3ByZT5cbiAgICovXG4gIGZhYnJpYy5JVGV4dCA9IGZhYnJpYy51dGlsLmNyZWF0ZUNsYXNzKGZhYnJpYy5UZXh0LCBmYWJyaWMuT2JzZXJ2YWJsZSwgLyoqIEBsZW5kcyBmYWJyaWMuSVRleHQucHJvdG90eXBlICovIHtcblxuICAgIC8qKlxuICAgICAqIFR5cGUgb2YgYW4gb2JqZWN0XG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICB0eXBlOiAnaS10ZXh0JyxcblxuICAgIC8qKlxuICAgICAqIEluZGV4IHdoZXJlIHRleHQgc2VsZWN0aW9uIHN0YXJ0cyAob3Igd2hlcmUgY3Vyc29yIGlzIHdoZW4gdGhlcmUgaXMgbm8gc2VsZWN0aW9uKVxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc2VsZWN0aW9uU3RhcnQ6IDAsXG5cbiAgICAvKipcbiAgICAgKiBJbmRleCB3aGVyZSB0ZXh0IHNlbGVjdGlvbiBlbmRzXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBzZWxlY3Rpb25FbmQ6IDAsXG5cbiAgICAvKipcbiAgICAgKiBDb2xvciBvZiB0ZXh0IHNlbGVjdGlvblxuICAgICAqIEB0eXBlIFN0cmluZ1xuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgc2VsZWN0aW9uQ29sb3I6ICdyZ2JhKDE3LDExOSwyNTUsMC4zKScsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0ZXh0IGlzIGluIGVkaXRpbmcgbW9kZVxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGlzRWRpdGluZzogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciBhIHRleHQgY2FuIGJlIGVkaXRlZFxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGVkaXRhYmxlOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogQm9yZGVyIGNvbG9yIG9mIHRleHQgb2JqZWN0IHdoaWxlIGl0J3MgaW4gZWRpdGluZyBtb2RlXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBlZGl0aW5nQm9yZGVyQ29sb3I6ICdyZ2JhKDEwMiwxNTMsMjU1LDAuMjUpJyxcblxuICAgIC8qKlxuICAgICAqIFdpZHRoIG9mIGN1cnNvciAoaW4gcHgpXG4gICAgICogQHR5cGUgTnVtYmVyXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjdXJzb3JXaWR0aDogMixcblxuICAgIC8qKlxuICAgICAqIENvbG9yIG9mIGRlZmF1bHQgY3Vyc29yICh3aGVuIG5vdCBvdmVyd3JpdHRlbiBieSBjaGFyYWN0ZXIgc3R5bGUpXG4gICAgICogQHR5cGUgU3RyaW5nXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjdXJzb3JDb2xvcjogJyMzMzMnLFxuXG4gICAgLyoqXG4gICAgICogRGVsYXkgYmV0d2VlbiBjdXJzb3IgYmxpbmsgKGluIG1zKVxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgY3Vyc29yRGVsYXk6IDEwMDAsXG5cbiAgICAvKipcbiAgICAgKiBEdXJhdGlvbiBvZiBjdXJzb3IgZmFkZWluIChpbiBtcylcbiAgICAgKiBAdHlwZSBOdW1iZXJcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIGN1cnNvckR1cmF0aW9uOiA2MDAsXG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciBpbnRlcm5hbCB0ZXh0IGNoYXIgd2lkdGhzIGNhbiBiZSBjYWNoZWRcbiAgICAgKiBAdHlwZSBCb29sZWFuXG4gICAgICogQGRlZmF1bHRcbiAgICAgKi9cbiAgICBjYWNoaW5nOiB0cnVlLFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVTcGFjZTogL1xcc3xcXG4vLFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY3VycmVudEN1cnNvck9wYWNpdHk6IDAsXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZWxlY3Rpb25EaXJlY3Rpb246IG51bGwsXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9hYm9ydEN1cnNvckFuaW1hdGlvbjogZmFsc2UsXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9fd2lkdGhPZlNwYWNlOiBbXSxcblxuICAgIC8qKlxuICAgICAqIEhlbHBzIGRldGVybWluaW5nIHdoZW4gdGhlIHRleHQgaXMgaW4gY29tcG9zaXRpb24sIHNvIHRoYXQgdGhlIGN1cnNvclxuICAgICAqIHJlbmRlcmluZyBpcyBhbHRlcmVkLlxuICAgICAqL1xuICAgIGluQ29tcG9zaXRpb25Nb2RlOiBmYWxzZSxcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHRleHQgVGV4dCBzdHJpbmdcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnNdIE9wdGlvbnMgb2JqZWN0XG4gICAgICogQHJldHVybiB7ZmFicmljLklUZXh0fSB0aGlzQXJnXG4gICAgICovXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24odGV4dCwgb3B0aW9ucykge1xuICAgICAgdGhpcy5jYWxsU3VwZXIoJ2luaXRpYWxpemUnLCB0ZXh0LCBvcHRpb25zKTtcbiAgICAgIHRoaXMuaW5pdEJlaGF2aW9yKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldHMgc2VsZWN0aW9uIHN0YXJ0IChsZWZ0IGJvdW5kYXJ5IG9mIGEgc2VsZWN0aW9uKVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleCBJbmRleCB0byBzZXQgc2VsZWN0aW9uIHN0YXJ0IHRvXG4gICAgICovXG4gICAgc2V0U2VsZWN0aW9uU3RhcnQ6IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICBpbmRleCA9IE1hdGgubWF4KGluZGV4LCAwKTtcbiAgICAgIHRoaXMuX3VwZGF0ZUFuZEZpcmUoJ3NlbGVjdGlvblN0YXJ0JywgaW5kZXgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHNlbGVjdGlvbiBlbmQgKHJpZ2h0IGJvdW5kYXJ5IG9mIGEgc2VsZWN0aW9uKVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBpbmRleCBJbmRleCB0byBzZXQgc2VsZWN0aW9uIGVuZCB0b1xuICAgICAqL1xuICAgIHNldFNlbGVjdGlvbkVuZDogZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgIGluZGV4ID0gTWF0aC5taW4oaW5kZXgsIHRoaXMudGV4dC5sZW5ndGgpO1xuICAgICAgdGhpcy5fdXBkYXRlQW5kRmlyZSgnc2VsZWN0aW9uRW5kJywgaW5kZXgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eSAnc2VsZWN0aW9uU3RhcnQnIG9yICdzZWxlY3Rpb25FbmQnXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4IG5ldyBwb3NpdGlvbiBvZiBwcm9wZXJ0eVxuICAgICAqL1xuICAgIF91cGRhdGVBbmRGaXJlOiBmdW5jdGlvbihwcm9wZXJ0eSwgaW5kZXgpIHtcbiAgICAgIGlmICh0aGlzW3Byb3BlcnR5XSAhPT0gaW5kZXgpIHtcbiAgICAgICAgdGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZWQoKTtcbiAgICAgICAgdGhpc1twcm9wZXJ0eV0gPSBpbmRleDtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3VwZGF0ZVRleHRhcmVhKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZpcmVzIHRoZSBldmVuIG9mIHNlbGVjdGlvbiBjaGFuZ2VkXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZmlyZVNlbGVjdGlvbkNoYW5nZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5maXJlKCdzZWxlY3Rpb246Y2hhbmdlZCcpO1xuICAgICAgdGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMuZmlyZSgndGV4dDpzZWxlY3Rpb246Y2hhbmdlZCcsIHsgdGFyZ2V0OiB0aGlzIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplIHRleHQgZGltZW5zaW9ucy4gUmVuZGVyIGFsbCB0ZXh0IG9uIGdpdmVuIGNvbnRleHRcbiAgICAgKiBvciBvbiBhIG9mZnNjcmVlbiBjYW52YXMgdG8gZ2V0IHRoZSB0ZXh0IHdpZHRoIHdpdGggbWVhc3VyZVRleHQuXG4gICAgICogVXBkYXRlcyB0aGlzLndpZHRoIGFuZCB0aGlzLmhlaWdodCB3aXRoIHRoZSBwcm9wZXIgdmFsdWVzLlxuICAgICAqIERvZXMgbm90IHJldHVybiBkaW1lbnNpb25zLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgaW5pdERpbWVuc2lvbnM6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5pc0VkaXRpbmcgJiYgdGhpcy5pbml0RGVsYXllZEN1cnNvcigpO1xuICAgICAgdGhpcy5jbGVhckNvbnRleHRUb3AoKTtcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdpbml0RGltZW5zaW9ucycpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggQ29udGV4dCB0byByZW5kZXIgb25cbiAgICAgKi9cbiAgICByZW5kZXI6IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgdGhpcy5jbGVhckNvbnRleHRUb3AoKTtcbiAgICAgIHRoaXMuY2FsbFN1cGVyKCdyZW5kZXInLCBjdHgpO1xuICAgICAgLy8gY2xlYXIgdGhlIGN1cnNvck9mZnNldENhY2hlLCBzbyB3ZSBlbnN1cmUgdG8gY2FsY3VsYXRlIG9uY2UgcGVyIHJlbmRlckN1cnNvclxuICAgICAgLy8gdGhlIGNvcnJlY3QgcG9zaXRpb24gYnV0IG5vdCBhdCBldmVyeSBjdXJzb3IgYW5pbWF0aW9uLlxuICAgICAgdGhpcy5jdXJzb3JPZmZzZXRDYWNoZSA9IHsgfTtcbiAgICAgIHRoaXMucmVuZGVyQ3Vyc29yT3JTZWxlY3Rpb24oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IENvbnRleHQgdG8gcmVuZGVyIG9uXG4gICAgICovXG4gICAgX3JlbmRlcjogZnVuY3Rpb24oY3R4KSB7XG4gICAgICB0aGlzLmNhbGxTdXBlcignX3JlbmRlcicsIGN0eCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFByZXBhcmUgYW5kIGNsZWFuIHRoZSBjb250ZXh0VG9wXG4gICAgICovXG4gICAgY2xlYXJDb250ZXh0VG9wOiBmdW5jdGlvbihza2lwUmVzdG9yZSkge1xuICAgICAgaWYgKCF0aGlzLmlzRWRpdGluZyB8fCAhdGhpcy5jYW52YXMgfHwgIXRoaXMuY2FudmFzLmNvbnRleHRUb3ApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGN0eCA9IHRoaXMuY2FudmFzLmNvbnRleHRUb3AsIHYgPSB0aGlzLmNhbnZhcy52aWV3cG9ydFRyYW5zZm9ybTtcbiAgICAgIGN0eC5zYXZlKCk7XG4gICAgICBjdHgudHJhbnNmb3JtKHZbMF0sIHZbMV0sIHZbMl0sIHZbM10sIHZbNF0sIHZbNV0pO1xuICAgICAgdGhpcy50cmFuc2Zvcm0oY3R4KTtcbiAgICAgIHRoaXMudHJhbnNmb3JtTWF0cml4ICYmIGN0eC50cmFuc2Zvcm0uYXBwbHkoY3R4LCB0aGlzLnRyYW5zZm9ybU1hdHJpeCk7XG4gICAgICB0aGlzLl9jbGVhclRleHRBcmVhKGN0eCk7XG4gICAgICBza2lwUmVzdG9yZSB8fCBjdHgucmVzdG9yZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGN1cnNvciBvciBzZWxlY3Rpb24gKGRlcGVuZGluZyBvbiB3aGF0IGV4aXN0cylcbiAgICAgKiBpdCBkb2VzIG9uIHRoZSBjb250ZXh0VG9wLiBJZiBjb250ZXh0VG9wIGlzIG5vdCBhdmFpbGFibGUsIGRvIG5vdGhpbmcuXG4gICAgICovXG4gICAgcmVuZGVyQ3Vyc29yT3JTZWxlY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCF0aGlzLmlzRWRpdGluZyB8fCAhdGhpcy5jYW52YXMgfHwgIXRoaXMuY2FudmFzLmNvbnRleHRUb3ApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGJvdW5kYXJpZXMgPSB0aGlzLl9nZXRDdXJzb3JCb3VuZGFyaWVzKCksXG4gICAgICAgICAgY3R4ID0gdGhpcy5jYW52YXMuY29udGV4dFRvcDtcbiAgICAgIHRoaXMuY2xlYXJDb250ZXh0VG9wKHRydWUpO1xuICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uU3RhcnQgPT09IHRoaXMuc2VsZWN0aW9uRW5kKSB7XG4gICAgICAgIHRoaXMucmVuZGVyQ3Vyc29yKGJvdW5kYXJpZXMsIGN0eCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5yZW5kZXJTZWxlY3Rpb24oYm91bmRhcmllcywgY3R4KTtcbiAgICAgIH1cbiAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgfSxcblxuICAgIF9jbGVhclRleHRBcmVhOiBmdW5jdGlvbihjdHgpIHtcbiAgICAgIC8vIHdlIGFkZCA0IHBpeGVsLCB0byBiZSBzdXJlIHRvIGRvIG5vdCBsZWF2ZSBhbnkgcGl4ZWwgb3V0XG4gICAgICB2YXIgd2lkdGggPSB0aGlzLndpZHRoICsgNCwgaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKyA0O1xuICAgICAgY3R4LmNsZWFyUmVjdCgtd2lkdGggLyAyLCAtaGVpZ2h0IC8gMiwgd2lkdGgsIGhlaWdodCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY3Vyc29yIGJvdW5kYXJpZXMgKGxlZnQsIHRvcCwgbGVmdE9mZnNldCwgdG9wT2Zmc2V0KVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gY2hhcnMgQXJyYXkgb2YgY2hhcmFjdGVyc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBlT2ZCb3VuZGFyaWVzXG4gICAgICovXG4gICAgX2dldEN1cnNvckJvdW5kYXJpZXM6IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG5cbiAgICAgIC8vIGxlZnQvdG9wIGFyZSBsZWZ0L3RvcCBvZiBlbnRpcmUgdGV4dCBib3hcbiAgICAgIC8vIGxlZnRPZmZzZXQvdG9wT2Zmc2V0IGFyZSBvZmZzZXQgZnJvbSB0aGF0IGxlZnQvdG9wIHBvaW50IG9mIGEgdGV4dCBib3hcblxuICAgICAgaWYgKHR5cGVvZiBwb3NpdGlvbiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcG9zaXRpb24gPSB0aGlzLnNlbGVjdGlvblN0YXJ0O1xuICAgICAgfVxuXG4gICAgICB2YXIgbGVmdCA9IHRoaXMuX2dldExlZnRPZmZzZXQoKSxcbiAgICAgICAgICB0b3AgPSB0aGlzLl9nZXRUb3BPZmZzZXQoKSxcbiAgICAgICAgICBvZmZzZXRzID0gdGhpcy5fZ2V0Q3Vyc29yQm91bmRhcmllc09mZnNldHMocG9zaXRpb24pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBsZWZ0OiBsZWZ0LFxuICAgICAgICB0b3A6IHRvcCxcbiAgICAgICAgbGVmdE9mZnNldDogb2Zmc2V0cy5sZWZ0LFxuICAgICAgICB0b3BPZmZzZXQ6IG9mZnNldHMudG9wXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRDdXJzb3JCb3VuZGFyaWVzT2Zmc2V0czogZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgIGlmICh0aGlzLmN1cnNvck9mZnNldENhY2hlICYmICd0b3AnIGluIHRoaXMuY3Vyc29yT2Zmc2V0Q2FjaGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3Vyc29yT2Zmc2V0Q2FjaGU7XG4gICAgICB9XG4gICAgICB2YXIgbGluZUxlZnRPZmZzZXQsXG4gICAgICAgICAgbGluZUluZGV4LFxuICAgICAgICAgIGNoYXJJbmRleCxcbiAgICAgICAgICB0b3BPZmZzZXQgPSAwLFxuICAgICAgICAgIGxlZnRPZmZzZXQgPSAwLFxuICAgICAgICAgIGJvdW5kYXJpZXMsXG4gICAgICAgICAgY3Vyc29yUG9zaXRpb24gPSB0aGlzLmdldDJEQ3Vyc29yTG9jYXRpb24ocG9zaXRpb24pO1xuICAgICAgY2hhckluZGV4ID0gY3Vyc29yUG9zaXRpb24uY2hhckluZGV4O1xuICAgICAgbGluZUluZGV4ID0gY3Vyc29yUG9zaXRpb24ubGluZUluZGV4O1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lSW5kZXg7IGkrKykge1xuICAgICAgICB0b3BPZmZzZXQgKz0gdGhpcy5nZXRIZWlnaHRPZkxpbmUoaSk7XG4gICAgICB9XG4gICAgICBsaW5lTGVmdE9mZnNldCA9IHRoaXMuX2dldExpbmVMZWZ0T2Zmc2V0KGxpbmVJbmRleCk7XG4gICAgICB2YXIgYm91bmQgPSB0aGlzLl9fY2hhckJvdW5kc1tsaW5lSW5kZXhdW2NoYXJJbmRleF07XG4gICAgICBib3VuZCAmJiAobGVmdE9mZnNldCA9IGJvdW5kLmxlZnQpO1xuICAgICAgaWYgKHRoaXMuY2hhclNwYWNpbmcgIT09IDAgJiYgY2hhckluZGV4ID09PSB0aGlzLl90ZXh0TGluZXNbbGluZUluZGV4XS5sZW5ndGgpIHtcbiAgICAgICAgbGVmdE9mZnNldCAtPSB0aGlzLl9nZXRXaWR0aE9mQ2hhclNwYWNpbmcoKTtcbiAgICAgIH1cbiAgICAgIGJvdW5kYXJpZXMgPSB7XG4gICAgICAgIHRvcDogdG9wT2Zmc2V0LFxuICAgICAgICBsZWZ0OiBsaW5lTGVmdE9mZnNldCArIChsZWZ0T2Zmc2V0ID4gMCA/IGxlZnRPZmZzZXQgOiAwKSxcbiAgICAgIH07XG4gICAgICB0aGlzLmN1cnNvck9mZnNldENhY2hlID0gYm91bmRhcmllcztcbiAgICAgIHJldHVybiB0aGlzLmN1cnNvck9mZnNldENhY2hlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGN1cnNvclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBib3VuZGFyaWVzXG4gICAgICogQHBhcmFtIHtDYW52YXNSZW5kZXJpbmdDb250ZXh0MkR9IGN0eCB0cmFuc2Zvcm1lZCBjb250ZXh0IHRvIGRyYXcgb25cbiAgICAgKi9cbiAgICByZW5kZXJDdXJzb3I6IGZ1bmN0aW9uKGJvdW5kYXJpZXMsIGN0eCkge1xuICAgICAgdmFyIGN1cnNvckxvY2F0aW9uID0gdGhpcy5nZXQyREN1cnNvckxvY2F0aW9uKCksXG4gICAgICAgICAgbGluZUluZGV4ID0gY3Vyc29yTG9jYXRpb24ubGluZUluZGV4LFxuICAgICAgICAgIGNoYXJJbmRleCA9IGN1cnNvckxvY2F0aW9uLmNoYXJJbmRleCA+IDAgPyBjdXJzb3JMb2NhdGlvbi5jaGFySW5kZXggLSAxIDogMCxcbiAgICAgICAgICBjaGFySGVpZ2h0ID0gdGhpcy5nZXRWYWx1ZU9mUHJvcGVydHlBdChsaW5lSW5kZXgsIGNoYXJJbmRleCwgJ2ZvbnRTaXplJyksXG4gICAgICAgICAgbXVsdGlwbGllciA9IHRoaXMuc2NhbGVYICogdGhpcy5jYW52YXMuZ2V0Wm9vbSgpLFxuICAgICAgICAgIGN1cnNvcldpZHRoID0gdGhpcy5jdXJzb3JXaWR0aCAvIG11bHRpcGxpZXIsXG4gICAgICAgICAgdG9wT2Zmc2V0ID0gYm91bmRhcmllcy50b3BPZmZzZXQsXG4gICAgICAgICAgZHkgPSB0aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGxpbmVJbmRleCwgY2hhckluZGV4LCAnZGVsdGFZJyk7XG5cbiAgICAgIHRvcE9mZnNldCArPSAoMSAtIHRoaXMuX2ZvbnRTaXplRnJhY3Rpb24pICogdGhpcy5nZXRIZWlnaHRPZkxpbmUobGluZUluZGV4KSAvIHRoaXMubGluZUhlaWdodFxuICAgICAgICAtIGNoYXJIZWlnaHQgKiAoMSAtIHRoaXMuX2ZvbnRTaXplRnJhY3Rpb24pO1xuXG4gICAgICBpZiAodGhpcy5pbkNvbXBvc2l0aW9uTW9kZSkge1xuICAgICAgICB0aGlzLnJlbmRlclNlbGVjdGlvbihib3VuZGFyaWVzLCBjdHgpO1xuICAgICAgfVxuXG4gICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5nZXRWYWx1ZU9mUHJvcGVydHlBdChsaW5lSW5kZXgsIGNoYXJJbmRleCwgJ2ZpbGwnKTtcbiAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IHRoaXMuX19pc01vdXNlZG93biA/IDEgOiB0aGlzLl9jdXJyZW50Q3Vyc29yT3BhY2l0eTtcbiAgICAgIGN0eC5maWxsUmVjdChcbiAgICAgICAgYm91bmRhcmllcy5sZWZ0ICsgYm91bmRhcmllcy5sZWZ0T2Zmc2V0IC0gY3Vyc29yV2lkdGggLyAyLFxuICAgICAgICB0b3BPZmZzZXQgKyBib3VuZGFyaWVzLnRvcCArIGR5LFxuICAgICAgICBjdXJzb3JXaWR0aCxcbiAgICAgICAgY2hhckhlaWdodCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGV4dCBzZWxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gYm91bmRhcmllcyBPYmplY3Qgd2l0aCBsZWZ0L3RvcC9sZWZ0T2Zmc2V0L3RvcE9mZnNldFxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHggdHJhbnNmb3JtZWQgY29udGV4dCB0byBkcmF3IG9uXG4gICAgICovXG4gICAgcmVuZGVyU2VsZWN0aW9uOiBmdW5jdGlvbihib3VuZGFyaWVzLCBjdHgpIHtcblxuICAgICAgdmFyIHNlbGVjdGlvblN0YXJ0ID0gdGhpcy5pbkNvbXBvc2l0aW9uTW9kZSA/IHRoaXMuaGlkZGVuVGV4dGFyZWEuc2VsZWN0aW9uU3RhcnQgOiB0aGlzLnNlbGVjdGlvblN0YXJ0LFxuICAgICAgICAgIHNlbGVjdGlvbkVuZCA9IHRoaXMuaW5Db21wb3NpdGlvbk1vZGUgPyB0aGlzLmhpZGRlblRleHRhcmVhLnNlbGVjdGlvbkVuZCA6IHRoaXMuc2VsZWN0aW9uRW5kLFxuICAgICAgICAgIGlzSnVzdGlmeSA9IHRoaXMudGV4dEFsaWduLmluZGV4T2YoJ2p1c3RpZnknKSAhPT0gLTEsXG4gICAgICAgICAgc3RhcnQgPSB0aGlzLmdldDJEQ3Vyc29yTG9jYXRpb24oc2VsZWN0aW9uU3RhcnQpLFxuICAgICAgICAgIGVuZCA9IHRoaXMuZ2V0MkRDdXJzb3JMb2NhdGlvbihzZWxlY3Rpb25FbmQpLFxuICAgICAgICAgIHN0YXJ0TGluZSA9IHN0YXJ0LmxpbmVJbmRleCxcbiAgICAgICAgICBlbmRMaW5lID0gZW5kLmxpbmVJbmRleCxcbiAgICAgICAgICBzdGFydENoYXIgPSBzdGFydC5jaGFySW5kZXggPCAwID8gMCA6IHN0YXJ0LmNoYXJJbmRleCxcbiAgICAgICAgICBlbmRDaGFyID0gZW5kLmNoYXJJbmRleCA8IDAgPyAwIDogZW5kLmNoYXJJbmRleDtcblxuICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0TGluZTsgaSA8PSBlbmRMaW5lOyBpKyspIHtcbiAgICAgICAgdmFyIGxpbmVPZmZzZXQgPSB0aGlzLl9nZXRMaW5lTGVmdE9mZnNldChpKSB8fCAwLFxuICAgICAgICAgICAgbGluZUhlaWdodCA9IHRoaXMuZ2V0SGVpZ2h0T2ZMaW5lKGkpLFxuICAgICAgICAgICAgcmVhbExpbmVIZWlnaHQgPSAwLCBib3hTdGFydCA9IDAsIGJveEVuZCA9IDA7XG5cbiAgICAgICAgaWYgKGkgPT09IHN0YXJ0TGluZSkge1xuICAgICAgICAgIGJveFN0YXJ0ID0gdGhpcy5fX2NoYXJCb3VuZHNbc3RhcnRMaW5lXVtzdGFydENoYXJdLmxlZnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGkgPj0gc3RhcnRMaW5lICYmIGkgPCBlbmRMaW5lKSB7XG4gICAgICAgICAgYm94RW5kID0gaXNKdXN0aWZ5ICYmICF0aGlzLmlzRW5kT2ZXcmFwcGluZyhpKSA/IHRoaXMud2lkdGggOiB0aGlzLmdldExpbmVXaWR0aChpKSB8fCA1OyAvLyBXVEYgaXMgdGhpcyA1P1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGkgPT09IGVuZExpbmUpIHtcbiAgICAgICAgICBpZiAoZW5kQ2hhciA9PT0gMCkge1xuICAgICAgICAgICAgYm94RW5kID0gdGhpcy5fX2NoYXJCb3VuZHNbZW5kTGluZV1bZW5kQ2hhcl0ubGVmdDtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgY2hhclNwYWNpbmcgPSB0aGlzLl9nZXRXaWR0aE9mQ2hhclNwYWNpbmcoKTtcbiAgICAgICAgICAgIGJveEVuZCA9IHRoaXMuX19jaGFyQm91bmRzW2VuZExpbmVdW2VuZENoYXIgLSAxXS5sZWZ0XG4gICAgICAgICAgICAgICsgdGhpcy5fX2NoYXJCb3VuZHNbZW5kTGluZV1bZW5kQ2hhciAtIDFdLndpZHRoIC0gY2hhclNwYWNpbmc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlYWxMaW5lSGVpZ2h0ID0gbGluZUhlaWdodDtcbiAgICAgICAgaWYgKHRoaXMubGluZUhlaWdodCA8IDEgfHwgKGkgPT09IGVuZExpbmUgJiYgdGhpcy5saW5lSGVpZ2h0ID4gMSkpIHtcbiAgICAgICAgICBsaW5lSGVpZ2h0IC89IHRoaXMubGluZUhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5pbkNvbXBvc2l0aW9uTW9kZSkge1xuICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbXBvc2l0aW9uQ29sb3IgfHwgJ2JsYWNrJztcbiAgICAgICAgICBjdHguZmlsbFJlY3QoXG4gICAgICAgICAgICBib3VuZGFyaWVzLmxlZnQgKyBsaW5lT2Zmc2V0ICsgYm94U3RhcnQsXG4gICAgICAgICAgICBib3VuZGFyaWVzLnRvcCArIGJvdW5kYXJpZXMudG9wT2Zmc2V0ICsgbGluZUhlaWdodCxcbiAgICAgICAgICAgIGJveEVuZCAtIGJveFN0YXJ0LFxuICAgICAgICAgICAgMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuc2VsZWN0aW9uQ29sb3I7XG4gICAgICAgICAgY3R4LmZpbGxSZWN0KFxuICAgICAgICAgICAgYm91bmRhcmllcy5sZWZ0ICsgbGluZU9mZnNldCArIGJveFN0YXJ0LFxuICAgICAgICAgICAgYm91bmRhcmllcy50b3AgKyBib3VuZGFyaWVzLnRvcE9mZnNldCxcbiAgICAgICAgICAgIGJveEVuZCAtIGJveFN0YXJ0LFxuICAgICAgICAgICAgbGluZUhlaWdodCk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGJvdW5kYXJpZXMudG9wT2Zmc2V0ICs9IHJlYWxMaW5lSGVpZ2h0O1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIaWdoIGxldmVsIGZ1bmN0aW9uIHRvIGtub3cgdGhlIGhlaWdodCBvZiB0aGUgY3Vyc29yLlxuICAgICAqIHRoZSBjdXJyZW50Q2hhciBpcyB0aGUgb25lIHRoYXQgcHJlY2VkZXMgdGhlIGN1cnNvclxuICAgICAqIFJldHVybnMgZm9udFNpemUgb2YgY2hhciBhdCB0aGUgY3VycmVudCBjdXJzb3JcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IENoYXJhY3RlciBmb250IHNpemVcbiAgICAgKi9cbiAgICBnZXRDdXJyZW50Q2hhckZvbnRTaXplOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjcCA9IHRoaXMuX2dldEN1cnJlbnRDaGFySW5kZXgoKTtcbiAgICAgIHJldHVybiB0aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGNwLmwsIGNwLmMsICdmb250U2l6ZScpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBIaWdoIGxldmVsIGZ1bmN0aW9uIHRvIGtub3cgdGhlIGNvbG9yIG9mIHRoZSBjdXJzb3IuXG4gICAgICogdGhlIGN1cnJlbnRDaGFyIGlzIHRoZSBvbmUgdGhhdCBwcmVjZWRlcyB0aGUgY3Vyc29yXG4gICAgICogUmV0dXJucyBjb2xvciAoZmlsbCkgb2YgY2hhciBhdCB0aGUgY3VycmVudCBjdXJzb3JcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IENoYXJhY3RlciBjb2xvciAoZmlsbClcbiAgICAgKi9cbiAgICBnZXRDdXJyZW50Q2hhckNvbG9yOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjcCA9IHRoaXMuX2dldEN1cnJlbnRDaGFySW5kZXgoKTtcbiAgICAgIHJldHVybiB0aGlzLmdldFZhbHVlT2ZQcm9wZXJ0eUF0KGNwLmwsIGNwLmMsICdmaWxsJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnNvciBwb3NpdGlvbiBmb3IgdGhlIGdldEN1cnJlbnQuLiBmdW5jdGlvbnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRDdXJyZW50Q2hhckluZGV4OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjdXJzb3JQb3NpdGlvbiA9IHRoaXMuZ2V0MkRDdXJzb3JMb2NhdGlvbih0aGlzLnNlbGVjdGlvblN0YXJ0LCB0cnVlKSxcbiAgICAgICAgICBjaGFySW5kZXggPSBjdXJzb3JQb3NpdGlvbi5jaGFySW5kZXggPiAwID8gY3Vyc29yUG9zaXRpb24uY2hhckluZGV4IC0gMSA6IDA7XG4gICAgICByZXR1cm4geyBsOiBjdXJzb3JQb3NpdGlvbi5saW5lSW5kZXgsIGM6IGNoYXJJbmRleCB9O1xuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmFicmljLklUZXh0IGluc3RhbmNlIGZyb20gYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uXG4gICAqIEBzdGF0aWNcbiAgICogQG1lbWJlck9mIGZhYnJpYy5JVGV4dFxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IE9iamVjdCB0byBjcmVhdGUgYW4gaW5zdGFuY2UgZnJvbVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbY2FsbGJhY2tdIGludm9rZWQgd2l0aCBuZXcgaW5zdGFuY2UgYXMgYXJndW1lbnRcbiAgICovXG4gIGZhYnJpYy5JVGV4dC5mcm9tT2JqZWN0ID0gZnVuY3Rpb24ob2JqZWN0LCBjYWxsYmFjaykge1xuICAgIHBhcnNlRGVjb3JhdGlvbihvYmplY3QpO1xuICAgIGlmIChvYmplY3Quc3R5bGVzKSB7XG4gICAgICBmb3IgKHZhciBpIGluIG9iamVjdC5zdHlsZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaiBpbiBvYmplY3Quc3R5bGVzW2ldKSB7XG4gICAgICAgICAgcGFyc2VEZWNvcmF0aW9uKG9iamVjdC5zdHlsZXNbaV1bal0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZhYnJpYy5PYmplY3QuX2Zyb21PYmplY3QoJ0lUZXh0Jywgb2JqZWN0LCBjYWxsYmFjaywgJ3RleHQnKTtcbiAgfTtcbn0pKCk7XG5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIHZhciBjbG9uZSA9IGZhYnJpYy51dGlsLm9iamVjdC5jbG9uZTtcblxuICBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5JVGV4dC5wcm90b3R5cGUsIC8qKiBAbGVuZHMgZmFicmljLklUZXh0LnByb3RvdHlwZSAqLyB7XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbGwgdGhlIGludGVyYWN0aXZlIGJlaGF2aW9yIG9mIElUZXh0XG4gICAgICovXG4gICAgaW5pdEJlaGF2aW9yOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuaW5pdEFkZGVkSGFuZGxlcigpO1xuICAgICAgdGhpcy5pbml0UmVtb3ZlZEhhbmRsZXIoKTtcbiAgICAgIHRoaXMuaW5pdEN1cnNvclNlbGVjdGlvbkhhbmRsZXJzKCk7XG4gICAgICB0aGlzLmluaXREb3VibGVDbGlja1NpbXVsYXRpb24oKTtcbiAgICAgIHRoaXMubW91c2VNb3ZlSGFuZGxlciA9IHRoaXMubW91c2VNb3ZlSGFuZGxlci5iaW5kKHRoaXMpO1xuICAgIH0sXG5cbiAgICBvbkRlc2VsZWN0OiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuaXNFZGl0aW5nICYmIHRoaXMuZXhpdEVkaXRpbmcoKTtcbiAgICAgIHRoaXMuc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgXCJhZGRlZFwiIGV2ZW50IGhhbmRsZXJcbiAgICAgKi9cbiAgICBpbml0QWRkZWRIYW5kbGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICB0aGlzLm9uKCdhZGRlZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY2FudmFzID0gX3RoaXMuY2FudmFzO1xuICAgICAgICBpZiAoY2FudmFzKSB7XG4gICAgICAgICAgaWYgKCFjYW52YXMuX2hhc0lUZXh0SGFuZGxlcnMpIHtcbiAgICAgICAgICAgIGNhbnZhcy5faGFzSVRleHRIYW5kbGVycyA9IHRydWU7XG4gICAgICAgICAgICBfdGhpcy5faW5pdENhbnZhc0hhbmRsZXJzKGNhbnZhcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhbnZhcy5faVRleHRJbnN0YW5jZXMgPSBjYW52YXMuX2lUZXh0SW5zdGFuY2VzIHx8IFtdO1xuICAgICAgICAgIGNhbnZhcy5faVRleHRJbnN0YW5jZXMucHVzaChfdGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBpbml0UmVtb3ZlZEhhbmRsZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHRoaXMub24oJ3JlbW92ZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGNhbnZhcyA9IF90aGlzLmNhbnZhcztcbiAgICAgICAgaWYgKGNhbnZhcykge1xuICAgICAgICAgIGNhbnZhcy5faVRleHRJbnN0YW5jZXMgPSBjYW52YXMuX2lUZXh0SW5zdGFuY2VzIHx8IFtdO1xuICAgICAgICAgIGZhYnJpYy51dGlsLnJlbW92ZUZyb21BcnJheShjYW52YXMuX2lUZXh0SW5zdGFuY2VzLCBfdGhpcyk7XG4gICAgICAgICAgaWYgKGNhbnZhcy5faVRleHRJbnN0YW5jZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjYW52YXMuX2hhc0lUZXh0SGFuZGxlcnMgPSBmYWxzZTtcbiAgICAgICAgICAgIF90aGlzLl9yZW1vdmVDYW52YXNIYW5kbGVycyhjYW52YXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlZ2lzdGVyIGNhbnZhcyBldmVudCB0byBtYW5hZ2UgZXhpdGluZyBvbiBvdGhlciBpbnN0YW5jZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9pbml0Q2FudmFzSGFuZGxlcnM6IGZ1bmN0aW9uKGNhbnZhcykge1xuICAgICAgY2FudmFzLl9tb3VzZVVwSVRleHRIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChjYW52YXMuX2lUZXh0SW5zdGFuY2VzKSB7XG4gICAgICAgICAgY2FudmFzLl9pVGV4dEluc3RhbmNlcy5mb3JFYWNoKGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgb2JqLl9faXNNb3VzZWRvd24gPSBmYWxzZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNhbnZhcy5vbignbW91c2U6dXAnLCBjYW52YXMuX21vdXNlVXBJVGV4dEhhbmRsZXIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiByZW1vdmUgY2FudmFzIGV2ZW50IHRvIG1hbmFnZSBleGl0aW5nIG9uIG90aGVyIGluc3RhbmNlc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3JlbW92ZUNhbnZhc0hhbmRsZXJzOiBmdW5jdGlvbihjYW52YXMpIHtcbiAgICAgIGNhbnZhcy5vZmYoJ21vdXNlOnVwJywgY2FudmFzLl9tb3VzZVVwSVRleHRIYW5kbGVyKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdGljazogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLl9jdXJyZW50VGlja1N0YXRlID0gdGhpcy5fYW5pbWF0ZUN1cnNvcih0aGlzLCAxLCB0aGlzLmN1cnNvckR1cmF0aW9uLCAnX29uVGlja0NvbXBsZXRlJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2FuaW1hdGVDdXJzb3I6IGZ1bmN0aW9uKG9iaiwgdGFyZ2V0T3BhY2l0eSwgZHVyYXRpb24sIGNvbXBsZXRlTWV0aG9kKSB7XG5cbiAgICAgIHZhciB0aWNrU3RhdGU7XG5cbiAgICAgIHRpY2tTdGF0ZSA9IHtcbiAgICAgICAgaXNBYm9ydGVkOiBmYWxzZSxcbiAgICAgICAgYWJvcnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHRoaXMuaXNBYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIG9iai5hbmltYXRlKCdfY3VycmVudEN1cnNvck9wYWNpdHknLCB0YXJnZXRPcGFjaXR5LCB7XG4gICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcbiAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKCF0aWNrU3RhdGUuaXNBYm9ydGVkKSB7XG4gICAgICAgICAgICBvYmpbY29tcGxldGVNZXRob2RdKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgLy8gd2UgZG8gbm90IHdhbnQgdG8gYW5pbWF0ZSBhIHNlbGVjdGlvbiwgb25seSBjdXJzb3JcbiAgICAgICAgICBpZiAob2JqLmNhbnZhcyAmJiBvYmouc2VsZWN0aW9uU3RhcnQgPT09IG9iai5zZWxlY3Rpb25FbmQpIHtcbiAgICAgICAgICAgIG9iai5yZW5kZXJDdXJzb3JPclNlbGVjdGlvbigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYWJvcnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiB0aWNrU3RhdGUuaXNBYm9ydGVkO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aWNrU3RhdGU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX29uVGlja0NvbXBsZXRlOiBmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMuX2N1cnNvclRpbWVvdXQxKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9jdXJzb3JUaW1lb3V0MSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9jdXJzb3JUaW1lb3V0MSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIF90aGlzLl9jdXJyZW50VGlja0NvbXBsZXRlU3RhdGUgPSBfdGhpcy5fYW5pbWF0ZUN1cnNvcihfdGhpcywgMCwgdGhpcy5jdXJzb3JEdXJhdGlvbiAvIDIsICdfdGljaycpO1xuICAgICAgfSwgMTAwKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgZGVsYXllZCBjdXJzb3JcbiAgICAgKi9cbiAgICBpbml0RGVsYXllZEN1cnNvcjogZnVuY3Rpb24ocmVzdGFydCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcyxcbiAgICAgICAgICBkZWxheSA9IHJlc3RhcnQgPyAwIDogdGhpcy5jdXJzb3JEZWxheTtcblxuICAgICAgdGhpcy5hYm9ydEN1cnNvckFuaW1hdGlvbigpO1xuICAgICAgdGhpcy5fY3VycmVudEN1cnNvck9wYWNpdHkgPSAxO1xuICAgICAgdGhpcy5fY3Vyc29yVGltZW91dDIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBfdGhpcy5fdGljaygpO1xuICAgICAgfSwgZGVsYXkpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBBYm9ydHMgY3Vyc29yIGFuaW1hdGlvbiBhbmQgY2xlYXJzIGFsbCB0aW1lb3V0c1xuICAgICAqL1xuICAgIGFib3J0Q3Vyc29yQW5pbWF0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzaG91bGRDbGVhciA9IHRoaXMuX2N1cnJlbnRUaWNrU3RhdGUgfHwgdGhpcy5fY3VycmVudFRpY2tDb21wbGV0ZVN0YXRlLFxuICAgICAgICAgIGNhbnZhcyA9IHRoaXMuY2FudmFzO1xuICAgICAgdGhpcy5fY3VycmVudFRpY2tTdGF0ZSAmJiB0aGlzLl9jdXJyZW50VGlja1N0YXRlLmFib3J0KCk7XG4gICAgICB0aGlzLl9jdXJyZW50VGlja0NvbXBsZXRlU3RhdGUgJiYgdGhpcy5fY3VycmVudFRpY2tDb21wbGV0ZVN0YXRlLmFib3J0KCk7XG5cbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9jdXJzb3JUaW1lb3V0MSk7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5fY3Vyc29yVGltZW91dDIpO1xuXG4gICAgICB0aGlzLl9jdXJyZW50Q3Vyc29yT3BhY2l0eSA9IDA7XG4gICAgICAvLyB0byBjbGVhciBqdXN0IGl0ZXh0IGFyZWEgd2UgbmVlZCB0byB0cmFuc2Zvcm0gdGhlIGNvbnRleHRcbiAgICAgIC8vIGl0IG1heSBub3QgYmUgd29ydGggaXRcbiAgICAgIGlmIChzaG91bGRDbGVhciAmJiBjYW52YXMpIHtcbiAgICAgICAgY2FudmFzLmNsZWFyQ29udGV4dChjYW52YXMuY29udGV4dFRvcCB8fCBjYW52YXMuY29udGV4dENvbnRhaW5lcik7XG4gICAgICB9XG5cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VsZWN0cyBlbnRpcmUgdGV4dFxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5JVGV4dH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZWxlY3RBbGw6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5zZWxlY3Rpb25TdGFydCA9IDA7XG4gICAgICB0aGlzLnNlbGVjdGlvbkVuZCA9IHRoaXMuX3RleHQubGVuZ3RoO1xuICAgICAgdGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZWQoKTtcbiAgICAgIHRoaXMuX3VwZGF0ZVRleHRhcmVhKCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBzZWxlY3RlZCB0ZXh0XG4gICAgICogQHJldHVybiB7U3RyaW5nfVxuICAgICAqL1xuICAgIGdldFNlbGVjdGVkVGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdGV4dC5zbGljZSh0aGlzLnNlbGVjdGlvblN0YXJ0LCB0aGlzLnNlbGVjdGlvbkVuZCkuam9pbignJyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEZpbmQgbmV3IHNlbGVjdGlvbiBpbmRleCByZXByZXNlbnRpbmcgc3RhcnQgb2YgY3VycmVudCB3b3JkIGFjY29yZGluZyB0byBjdXJyZW50IHNlbGVjdGlvbiBpbmRleFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydEZyb20gQ3VycmVudCBzZWxlY3Rpb24gaW5kZXhcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IE5ldyBzZWxlY3Rpb24gaW5kZXhcbiAgICAgKi9cbiAgICBmaW5kV29yZEJvdW5kYXJ5TGVmdDogZnVuY3Rpb24oc3RhcnRGcm9tKSB7XG4gICAgICB2YXIgb2Zmc2V0ID0gMCwgaW5kZXggPSBzdGFydEZyb20gLSAxO1xuXG4gICAgICAvLyByZW1vdmUgc3BhY2UgYmVmb3JlIGN1cnNvciBmaXJzdFxuICAgICAgaWYgKHRoaXMuX3JlU3BhY2UudGVzdCh0aGlzLl90ZXh0W2luZGV4XSkpIHtcbiAgICAgICAgd2hpbGUgKHRoaXMuX3JlU3BhY2UudGVzdCh0aGlzLl90ZXh0W2luZGV4XSkpIHtcbiAgICAgICAgICBvZmZzZXQrKztcbiAgICAgICAgICBpbmRleC0tO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB3aGlsZSAoL1xcUy8udGVzdCh0aGlzLl90ZXh0W2luZGV4XSkgJiYgaW5kZXggPiAtMSkge1xuICAgICAgICBvZmZzZXQrKztcbiAgICAgICAgaW5kZXgtLTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0YXJ0RnJvbSAtIG9mZnNldDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRmluZCBuZXcgc2VsZWN0aW9uIGluZGV4IHJlcHJlc2VudGluZyBlbmQgb2YgY3VycmVudCB3b3JkIGFjY29yZGluZyB0byBjdXJyZW50IHNlbGVjdGlvbiBpbmRleFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydEZyb20gQ3VycmVudCBzZWxlY3Rpb24gaW5kZXhcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IE5ldyBzZWxlY3Rpb24gaW5kZXhcbiAgICAgKi9cbiAgICBmaW5kV29yZEJvdW5kYXJ5UmlnaHQ6IGZ1bmN0aW9uKHN0YXJ0RnJvbSkge1xuICAgICAgdmFyIG9mZnNldCA9IDAsIGluZGV4ID0gc3RhcnRGcm9tO1xuXG4gICAgICAvLyByZW1vdmUgc3BhY2UgYWZ0ZXIgY3Vyc29yIGZpcnN0XG4gICAgICBpZiAodGhpcy5fcmVTcGFjZS50ZXN0KHRoaXMuX3RleHRbaW5kZXhdKSkge1xuICAgICAgICB3aGlsZSAodGhpcy5fcmVTcGFjZS50ZXN0KHRoaXMuX3RleHRbaW5kZXhdKSkge1xuICAgICAgICAgIG9mZnNldCsrO1xuICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdoaWxlICgvXFxTLy50ZXN0KHRoaXMuX3RleHRbaW5kZXhdKSAmJiBpbmRleCA8IHRoaXMuX3RleHQubGVuZ3RoKSB7XG4gICAgICAgIG9mZnNldCsrO1xuICAgICAgICBpbmRleCsrO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RhcnRGcm9tICsgb2Zmc2V0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGaW5kIG5ldyBzZWxlY3Rpb24gaW5kZXggcmVwcmVzZW50aW5nIHN0YXJ0IG9mIGN1cnJlbnQgbGluZSBhY2NvcmRpbmcgdG8gY3VycmVudCBzZWxlY3Rpb24gaW5kZXhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc3RhcnRGcm9tIEN1cnJlbnQgc2VsZWN0aW9uIGluZGV4XG4gICAgICogQHJldHVybiB7TnVtYmVyfSBOZXcgc2VsZWN0aW9uIGluZGV4XG4gICAgICovXG4gICAgZmluZExpbmVCb3VuZGFyeUxlZnQ6IGZ1bmN0aW9uKHN0YXJ0RnJvbSkge1xuICAgICAgdmFyIG9mZnNldCA9IDAsIGluZGV4ID0gc3RhcnRGcm9tIC0gMTtcblxuICAgICAgd2hpbGUgKCEvXFxuLy50ZXN0KHRoaXMuX3RleHRbaW5kZXhdKSAmJiBpbmRleCA+IC0xKSB7XG4gICAgICAgIG9mZnNldCsrO1xuICAgICAgICBpbmRleC0tO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RhcnRGcm9tIC0gb2Zmc2V0O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBGaW5kIG5ldyBzZWxlY3Rpb24gaW5kZXggcmVwcmVzZW50aW5nIGVuZCBvZiBjdXJyZW50IGxpbmUgYWNjb3JkaW5nIHRvIGN1cnJlbnQgc2VsZWN0aW9uIGluZGV4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0RnJvbSBDdXJyZW50IHNlbGVjdGlvbiBpbmRleFxuICAgICAqIEByZXR1cm4ge051bWJlcn0gTmV3IHNlbGVjdGlvbiBpbmRleFxuICAgICAqL1xuICAgIGZpbmRMaW5lQm91bmRhcnlSaWdodDogZnVuY3Rpb24oc3RhcnRGcm9tKSB7XG4gICAgICB2YXIgb2Zmc2V0ID0gMCwgaW5kZXggPSBzdGFydEZyb207XG5cbiAgICAgIHdoaWxlICghL1xcbi8udGVzdCh0aGlzLl90ZXh0W2luZGV4XSkgJiYgaW5kZXggPCB0aGlzLl90ZXh0Lmxlbmd0aCkge1xuICAgICAgICBvZmZzZXQrKztcbiAgICAgICAgaW5kZXgrKztcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0YXJ0RnJvbSArIG9mZnNldDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRmluZHMgaW5kZXggY29ycmVzcG9uZGluZyB0byBiZWdpbm5pbmcgb3IgZW5kIG9mIGEgd29yZFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzZWxlY3Rpb25TdGFydCBJbmRleCBvZiBhIGNoYXJhY3RlclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkaXJlY3Rpb24gMSBvciAtMVxuICAgICAqIEByZXR1cm4ge051bWJlcn0gSW5kZXggb2YgdGhlIGJlZ2lubmluZyBvciBlbmQgb2YgYSB3b3JkXG4gICAgICovXG4gICAgc2VhcmNoV29yZEJvdW5kYXJ5OiBmdW5jdGlvbihzZWxlY3Rpb25TdGFydCwgZGlyZWN0aW9uKSB7XG4gICAgICB2YXIgdGV4dCA9IHRoaXMuX3RleHQsXG4gICAgICAgICAgaW5kZXggICAgID0gdGhpcy5fcmVTcGFjZS50ZXN0KHRleHRbc2VsZWN0aW9uU3RhcnRdKSA/IHNlbGVjdGlvblN0YXJ0IC0gMSA6IHNlbGVjdGlvblN0YXJ0LFxuICAgICAgICAgIF9jaGFyICAgICA9IHRleHRbaW5kZXhdLFxuICAgICAgICAgIC8vIHdyb25nXG4gICAgICAgICAgcmVOb25Xb3JkID0gZmFicmljLnJlTm9uV29yZDtcblxuICAgICAgd2hpbGUgKCFyZU5vbldvcmQudGVzdChfY2hhcikgJiYgaW5kZXggPiAwICYmIGluZGV4IDwgdGV4dC5sZW5ndGgpIHtcbiAgICAgICAgaW5kZXggKz0gZGlyZWN0aW9uO1xuICAgICAgICBfY2hhciA9IHRleHRbaW5kZXhdO1xuICAgICAgfVxuICAgICAgaWYgKHJlTm9uV29yZC50ZXN0KF9jaGFyKSkge1xuICAgICAgICBpbmRleCArPSBkaXJlY3Rpb24gPT09IDEgPyAwIDogMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbmRleDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogU2VsZWN0cyBhIHdvcmQgYmFzZWQgb24gdGhlIGluZGV4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHNlbGVjdGlvblN0YXJ0IEluZGV4IG9mIGEgY2hhcmFjdGVyXG4gICAgICovXG4gICAgc2VsZWN0V29yZDogZnVuY3Rpb24oc2VsZWN0aW9uU3RhcnQpIHtcbiAgICAgIHNlbGVjdGlvblN0YXJ0ID0gc2VsZWN0aW9uU3RhcnQgfHwgdGhpcy5zZWxlY3Rpb25TdGFydDtcbiAgICAgIHZhciBuZXdTZWxlY3Rpb25TdGFydCA9IHRoaXMuc2VhcmNoV29yZEJvdW5kYXJ5KHNlbGVjdGlvblN0YXJ0LCAtMSksIC8qIHNlYXJjaCBiYWNrd2FyZHMgKi9cbiAgICAgICAgICBuZXdTZWxlY3Rpb25FbmQgPSB0aGlzLnNlYXJjaFdvcmRCb3VuZGFyeShzZWxlY3Rpb25TdGFydCwgMSk7IC8qIHNlYXJjaCBmb3J3YXJkICovXG5cbiAgICAgIHRoaXMuc2VsZWN0aW9uU3RhcnQgPSBuZXdTZWxlY3Rpb25TdGFydDtcbiAgICAgIHRoaXMuc2VsZWN0aW9uRW5kID0gbmV3U2VsZWN0aW9uRW5kO1xuICAgICAgdGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZWQoKTtcbiAgICAgIHRoaXMuX3VwZGF0ZVRleHRhcmVhKCk7XG4gICAgICB0aGlzLnJlbmRlckN1cnNvck9yU2VsZWN0aW9uKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNlbGVjdHMgYSBsaW5lIGJhc2VkIG9uIHRoZSBpbmRleFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBzZWxlY3Rpb25TdGFydCBJbmRleCBvZiBhIGNoYXJhY3RlclxuICAgICAqIEByZXR1cm4ge2ZhYnJpYy5JVGV4dH0gdGhpc0FyZ1xuICAgICAqIEBjaGFpbmFibGVcbiAgICAgKi9cbiAgICBzZWxlY3RMaW5lOiBmdW5jdGlvbihzZWxlY3Rpb25TdGFydCkge1xuICAgICAgc2VsZWN0aW9uU3RhcnQgPSBzZWxlY3Rpb25TdGFydCB8fCB0aGlzLnNlbGVjdGlvblN0YXJ0O1xuICAgICAgdmFyIG5ld1NlbGVjdGlvblN0YXJ0ID0gdGhpcy5maW5kTGluZUJvdW5kYXJ5TGVmdChzZWxlY3Rpb25TdGFydCksXG4gICAgICAgICAgbmV3U2VsZWN0aW9uRW5kID0gdGhpcy5maW5kTGluZUJvdW5kYXJ5UmlnaHQoc2VsZWN0aW9uU3RhcnQpO1xuXG4gICAgICB0aGlzLnNlbGVjdGlvblN0YXJ0ID0gbmV3U2VsZWN0aW9uU3RhcnQ7XG4gICAgICB0aGlzLnNlbGVjdGlvbkVuZCA9IG5ld1NlbGVjdGlvbkVuZDtcbiAgICAgIHRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VkKCk7XG4gICAgICB0aGlzLl91cGRhdGVUZXh0YXJlYSgpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEVudGVycyBlZGl0aW5nIHN0YXRlXG4gICAgICogQHJldHVybiB7ZmFicmljLklUZXh0fSB0aGlzQXJnXG4gICAgICogQGNoYWluYWJsZVxuICAgICAqL1xuICAgIGVudGVyRWRpdGluZzogZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKHRoaXMuaXNFZGl0aW5nIHx8ICF0aGlzLmVkaXRhYmxlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgICAgIHRoaXMuY2FudmFzLmNhbGNPZmZzZXQoKTtcbiAgICAgICAgdGhpcy5leGl0RWRpdGluZ09uT3RoZXJzKHRoaXMuY2FudmFzKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5pc0VkaXRpbmcgPSB0cnVlO1xuXG4gICAgICB0aGlzLmluaXRIaWRkZW5UZXh0YXJlYShlKTtcbiAgICAgIHRoaXMuaGlkZGVuVGV4dGFyZWEuZm9jdXMoKTtcbiAgICAgIHRoaXMuaGlkZGVuVGV4dGFyZWEudmFsdWUgPSB0aGlzLnRleHQ7XG4gICAgICB0aGlzLl91cGRhdGVUZXh0YXJlYSgpO1xuICAgICAgdGhpcy5fc2F2ZUVkaXRpbmdQcm9wcygpO1xuICAgICAgdGhpcy5fc2V0RWRpdGluZ1Byb3BzKCk7XG4gICAgICB0aGlzLl90ZXh0QmVmb3JlRWRpdCA9IHRoaXMudGV4dDtcblxuICAgICAgdGhpcy5fdGljaygpO1xuICAgICAgdGhpcy5maXJlKCdlZGl0aW5nOmVudGVyZWQnKTtcbiAgICAgIHRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VkKCk7XG4gICAgICBpZiAoIXRoaXMuY2FudmFzKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgdGhpcy5jYW52YXMuZmlyZSgndGV4dDplZGl0aW5nOmVudGVyZWQnLCB7IHRhcmdldDogdGhpcyB9KTtcbiAgICAgIHRoaXMuaW5pdE1vdXNlTW92ZUhhbmRsZXIoKTtcbiAgICAgIHRoaXMuY2FudmFzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICBleGl0RWRpdGluZ09uT3RoZXJzOiBmdW5jdGlvbihjYW52YXMpIHtcbiAgICAgIGlmIChjYW52YXMuX2lUZXh0SW5zdGFuY2VzKSB7XG4gICAgICAgIGNhbnZhcy5faVRleHRJbnN0YW5jZXMuZm9yRWFjaChmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICBvYmouc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICBpZiAob2JqLmlzRWRpdGluZykge1xuICAgICAgICAgICAgb2JqLmV4aXRFZGl0aW5nKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgXCJtb3VzZW1vdmVcIiBldmVudCBoYW5kbGVyXG4gICAgICovXG4gICAgaW5pdE1vdXNlTW92ZUhhbmRsZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5jYW52YXMub24oJ21vdXNlOm1vdmUnLCB0aGlzLm1vdXNlTW92ZUhhbmRsZXIpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIG1vdXNlTW92ZUhhbmRsZXI6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIGlmICghdGhpcy5fX2lzTW91c2Vkb3duIHx8ICF0aGlzLmlzRWRpdGluZykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBuZXdTZWxlY3Rpb25TdGFydCA9IHRoaXMuZ2V0U2VsZWN0aW9uU3RhcnRGcm9tUG9pbnRlcihvcHRpb25zLmUpLFxuICAgICAgICAgIGN1cnJlbnRTdGFydCA9IHRoaXMuc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgICAgY3VycmVudEVuZCA9IHRoaXMuc2VsZWN0aW9uRW5kO1xuICAgICAgaWYgKFxuICAgICAgICAobmV3U2VsZWN0aW9uU3RhcnQgIT09IHRoaXMuX19zZWxlY3Rpb25TdGFydE9uTW91c2VEb3duIHx8IGN1cnJlbnRTdGFydCA9PT0gY3VycmVudEVuZClcbiAgICAgICAgJiZcbiAgICAgICAgKGN1cnJlbnRTdGFydCA9PT0gbmV3U2VsZWN0aW9uU3RhcnQgfHwgY3VycmVudEVuZCA9PT0gbmV3U2VsZWN0aW9uU3RhcnQpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKG5ld1NlbGVjdGlvblN0YXJ0ID4gdGhpcy5fX3NlbGVjdGlvblN0YXJ0T25Nb3VzZURvd24pIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25TdGFydCA9IHRoaXMuX19zZWxlY3Rpb25TdGFydE9uTW91c2VEb3duO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbkVuZCA9IG5ld1NlbGVjdGlvblN0YXJ0O1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uU3RhcnQgPSBuZXdTZWxlY3Rpb25TdGFydDtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25FbmQgPSB0aGlzLl9fc2VsZWN0aW9uU3RhcnRPbk1vdXNlRG93bjtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnNlbGVjdGlvblN0YXJ0ICE9PSBjdXJyZW50U3RhcnQgfHwgdGhpcy5zZWxlY3Rpb25FbmQgIT09IGN1cnJlbnRFbmQpIHtcbiAgICAgICAgdGhpcy5yZXN0YXJ0Q3Vyc29ySWZOZWVkZWQoKTtcbiAgICAgICAgdGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZWQoKTtcbiAgICAgICAgdGhpcy5fdXBkYXRlVGV4dGFyZWEoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJDdXJzb3JPclNlbGVjdGlvbigpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXRFZGl0aW5nUHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5ob3ZlckN1cnNvciA9ICd0ZXh0JztcblxuICAgICAgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgICAgIHRoaXMuY2FudmFzLmRlZmF1bHRDdXJzb3IgPSB0aGlzLmNhbnZhcy5tb3ZlQ3Vyc29yID0gJ3RleHQnO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmJvcmRlckNvbG9yID0gdGhpcy5lZGl0aW5nQm9yZGVyQ29sb3I7XG4gICAgICB0aGlzLmhhc0NvbnRyb2xzID0gdGhpcy5zZWxlY3RhYmxlID0gZmFsc2U7XG4gICAgICB0aGlzLmxvY2tNb3ZlbWVudFggPSB0aGlzLmxvY2tNb3ZlbWVudFkgPSB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjb252ZXJ0IGZyb20gdGV4dGFyZWEgdG8gZ3JhcGhlbWUgaW5kZXhlc1xuICAgICAqL1xuICAgIGZyb21TdHJpbmdUb0dyYXBoZW1lU2VsZWN0aW9uOiBmdW5jdGlvbihzdGFydCwgZW5kLCB0ZXh0KSB7XG4gICAgICB2YXIgc21hbGxlclRleHRTdGFydCA9IHRleHQuc2xpY2UoMCwgc3RhcnQpLFxuICAgICAgICAgIGdyYXBoZW1lU3RhcnQgPSBmYWJyaWMudXRpbC5zdHJpbmcuZ3JhcGhlbWVTcGxpdChzbWFsbGVyVGV4dFN0YXJ0KS5sZW5ndGg7XG4gICAgICBpZiAoc3RhcnQgPT09IGVuZCkge1xuICAgICAgICByZXR1cm4geyBzZWxlY3Rpb25TdGFydDogZ3JhcGhlbWVTdGFydCwgc2VsZWN0aW9uRW5kOiBncmFwaGVtZVN0YXJ0IH07XG4gICAgICB9XG4gICAgICB2YXIgc21hbGxlclRleHRFbmQgPSB0ZXh0LnNsaWNlKHN0YXJ0LCBlbmQpLFxuICAgICAgICAgIGdyYXBoZW1lRW5kID0gZmFicmljLnV0aWwuc3RyaW5nLmdyYXBoZW1lU3BsaXQoc21hbGxlclRleHRFbmQpLmxlbmd0aDtcbiAgICAgIHJldHVybiB7IHNlbGVjdGlvblN0YXJ0OiBncmFwaGVtZVN0YXJ0LCBzZWxlY3Rpb25FbmQ6IGdyYXBoZW1lU3RhcnQgKyBncmFwaGVtZUVuZCB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBjb252ZXJ0IGZyb20gZmFicmljIHRvIHRleHRhcmVhIHZhbHVlc1xuICAgICAqL1xuICAgIGZyb21HcmFwaGVtZVRvU3RyaW5nU2VsZWN0aW9uOiBmdW5jdGlvbihzdGFydCwgZW5kLCBfdGV4dCkge1xuICAgICAgdmFyIHNtYWxsZXJUZXh0U3RhcnQgPSBfdGV4dC5zbGljZSgwLCBzdGFydCksXG4gICAgICAgICAgZ3JhcGhlbWVTdGFydCA9IHNtYWxsZXJUZXh0U3RhcnQuam9pbignJykubGVuZ3RoO1xuICAgICAgaWYgKHN0YXJ0ID09PSBlbmQpIHtcbiAgICAgICAgcmV0dXJuIHsgc2VsZWN0aW9uU3RhcnQ6IGdyYXBoZW1lU3RhcnQsIHNlbGVjdGlvbkVuZDogZ3JhcGhlbWVTdGFydCB9O1xuICAgICAgfVxuICAgICAgdmFyIHNtYWxsZXJUZXh0RW5kID0gX3RleHQuc2xpY2Uoc3RhcnQsIGVuZCksXG4gICAgICAgICAgZ3JhcGhlbWVFbmQgPSBzbWFsbGVyVGV4dEVuZC5qb2luKCcnKS5sZW5ndGg7XG4gICAgICByZXR1cm4geyBzZWxlY3Rpb25TdGFydDogZ3JhcGhlbWVTdGFydCwgc2VsZWN0aW9uRW5kOiBncmFwaGVtZVN0YXJ0ICsgZ3JhcGhlbWVFbmQgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfdXBkYXRlVGV4dGFyZWE6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5jdXJzb3JPZmZzZXRDYWNoZSA9IHsgfTtcbiAgICAgIGlmICghdGhpcy5oaWRkZW5UZXh0YXJlYSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuaW5Db21wb3NpdGlvbk1vZGUpIHtcbiAgICAgICAgdmFyIG5ld1NlbGVjdGlvbiA9IHRoaXMuZnJvbUdyYXBoZW1lVG9TdHJpbmdTZWxlY3Rpb24odGhpcy5zZWxlY3Rpb25TdGFydCwgdGhpcy5zZWxlY3Rpb25FbmQsIHRoaXMuX3RleHQpO1xuICAgICAgICB0aGlzLmhpZGRlblRleHRhcmVhLnNlbGVjdGlvblN0YXJ0ID0gbmV3U2VsZWN0aW9uLnNlbGVjdGlvblN0YXJ0O1xuICAgICAgICB0aGlzLmhpZGRlblRleHRhcmVhLnNlbGVjdGlvbkVuZCA9IG5ld1NlbGVjdGlvbi5zZWxlY3Rpb25FbmQ7XG4gICAgICB9XG4gICAgICB0aGlzLnVwZGF0ZVRleHRhcmVhUG9zaXRpb24oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB1cGRhdGVGcm9tVGV4dEFyZWE6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCF0aGlzLmhpZGRlblRleHRhcmVhKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuY3Vyc29yT2Zmc2V0Q2FjaGUgPSB7IH07XG4gICAgICB0aGlzLnRleHQgPSB0aGlzLmhpZGRlblRleHRhcmVhLnZhbHVlO1xuICAgICAgaWYgKHRoaXMuX3Nob3VsZENsZWFyRGltZW5zaW9uQ2FjaGUoKSkge1xuICAgICAgICB0aGlzLmluaXREaW1lbnNpb25zKCk7XG4gICAgICAgIHRoaXMuc2V0Q29vcmRzKCk7XG4gICAgICB9XG4gICAgICB2YXIgbmV3U2VsZWN0aW9uID0gdGhpcy5mcm9tU3RyaW5nVG9HcmFwaGVtZVNlbGVjdGlvbihcbiAgICAgICAgdGhpcy5oaWRkZW5UZXh0YXJlYS5zZWxlY3Rpb25TdGFydCwgdGhpcy5oaWRkZW5UZXh0YXJlYS5zZWxlY3Rpb25FbmQsIHRoaXMuaGlkZGVuVGV4dGFyZWEudmFsdWUpO1xuICAgICAgdGhpcy5zZWxlY3Rpb25FbmQgPSB0aGlzLnNlbGVjdGlvblN0YXJ0ID0gbmV3U2VsZWN0aW9uLnNlbGVjdGlvbkVuZDtcbiAgICAgIGlmICghdGhpcy5pbkNvbXBvc2l0aW9uTW9kZSkge1xuICAgICAgICB0aGlzLnNlbGVjdGlvblN0YXJ0ID0gbmV3U2VsZWN0aW9uLnNlbGVjdGlvblN0YXJ0O1xuICAgICAgfVxuICAgICAgdGhpcy51cGRhdGVUZXh0YXJlYVBvc2l0aW9uKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdXBkYXRlVGV4dGFyZWFQb3NpdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5zZWxlY3Rpb25TdGFydCA9PT0gdGhpcy5zZWxlY3Rpb25FbmQpIHtcbiAgICAgICAgdmFyIHN0eWxlID0gdGhpcy5fY2FsY1RleHRhcmVhUG9zaXRpb24oKTtcbiAgICAgICAgdGhpcy5oaWRkZW5UZXh0YXJlYS5zdHlsZS5sZWZ0ID0gc3R5bGUubGVmdDtcbiAgICAgICAgdGhpcy5oaWRkZW5UZXh0YXJlYS5zdHlsZS50b3AgPSBzdHlsZS50b3A7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBzdHlsZSBjb250YWlucyBzdHlsZSBmb3IgaGlkZGVuVGV4dGFyZWFcbiAgICAgKi9cbiAgICBfY2FsY1RleHRhcmVhUG9zaXRpb246IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCF0aGlzLmNhbnZhcykge1xuICAgICAgICByZXR1cm4geyB4OiAxLCB5OiAxIH07XG4gICAgICB9XG4gICAgICB2YXIgZGVzaXJlZFBvc2l0aW9uID0gdGhpcy5pbkNvbXBvc2l0aW9uTW9kZSA/IHRoaXMuY29tcG9zaXRpb25TdGFydCA6IHRoaXMuc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgICAgYm91bmRhcmllcyA9IHRoaXMuX2dldEN1cnNvckJvdW5kYXJpZXMoZGVzaXJlZFBvc2l0aW9uKSxcbiAgICAgICAgICBjdXJzb3JMb2NhdGlvbiA9IHRoaXMuZ2V0MkRDdXJzb3JMb2NhdGlvbihkZXNpcmVkUG9zaXRpb24pLFxuICAgICAgICAgIGxpbmVJbmRleCA9IGN1cnNvckxvY2F0aW9uLmxpbmVJbmRleCxcbiAgICAgICAgICBjaGFySW5kZXggPSBjdXJzb3JMb2NhdGlvbi5jaGFySW5kZXgsXG4gICAgICAgICAgY2hhckhlaWdodCA9IHRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQobGluZUluZGV4LCBjaGFySW5kZXgsICdmb250U2l6ZScpICogdGhpcy5saW5lSGVpZ2h0LFxuICAgICAgICAgIGxlZnRPZmZzZXQgPSBib3VuZGFyaWVzLmxlZnRPZmZzZXQsXG4gICAgICAgICAgbSA9IHRoaXMuY2FsY1RyYW5zZm9ybU1hdHJpeCgpLFxuICAgICAgICAgIHAgPSB7XG4gICAgICAgICAgICB4OiBib3VuZGFyaWVzLmxlZnQgKyBsZWZ0T2Zmc2V0LFxuICAgICAgICAgICAgeTogYm91bmRhcmllcy50b3AgKyBib3VuZGFyaWVzLnRvcE9mZnNldCArIGNoYXJIZWlnaHRcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJldGluYVNjYWxpbmcgPSB0aGlzLmNhbnZhcy5nZXRSZXRpbmFTY2FsaW5nKCksXG4gICAgICAgICAgdXBwZXJDYW52YXMgPSB0aGlzLmNhbnZhcy51cHBlckNhbnZhc0VsLFxuICAgICAgICAgIHVwcGVyQ2FudmFzV2lkdGggPSB1cHBlckNhbnZhcy53aWR0aCAvIHJldGluYVNjYWxpbmcsXG4gICAgICAgICAgdXBwZXJDYW52YXNIZWlnaHQgPSB1cHBlckNhbnZhcy5oZWlnaHQgLyByZXRpbmFTY2FsaW5nLFxuICAgICAgICAgIG1heFdpZHRoID0gdXBwZXJDYW52YXNXaWR0aCAtIGNoYXJIZWlnaHQsXG4gICAgICAgICAgbWF4SGVpZ2h0ID0gdXBwZXJDYW52YXNIZWlnaHQgLSBjaGFySGVpZ2h0LFxuICAgICAgICAgIHNjYWxlWCA9IHVwcGVyQ2FudmFzLmNsaWVudFdpZHRoIC8gdXBwZXJDYW52YXNXaWR0aCxcbiAgICAgICAgICBzY2FsZVkgPSB1cHBlckNhbnZhcy5jbGllbnRIZWlnaHQgLyB1cHBlckNhbnZhc0hlaWdodDtcblxuICAgICAgcCA9IGZhYnJpYy51dGlsLnRyYW5zZm9ybVBvaW50KHAsIG0pO1xuICAgICAgcCA9IGZhYnJpYy51dGlsLnRyYW5zZm9ybVBvaW50KHAsIHRoaXMuY2FudmFzLnZpZXdwb3J0VHJhbnNmb3JtKTtcbiAgICAgIHAueCAqPSBzY2FsZVg7XG4gICAgICBwLnkgKj0gc2NhbGVZO1xuICAgICAgaWYgKHAueCA8IDApIHtcbiAgICAgICAgcC54ID0gMDtcbiAgICAgIH1cbiAgICAgIGlmIChwLnggPiBtYXhXaWR0aCkge1xuICAgICAgICBwLnggPSBtYXhXaWR0aDtcbiAgICAgIH1cbiAgICAgIGlmIChwLnkgPCAwKSB7XG4gICAgICAgIHAueSA9IDA7XG4gICAgICB9XG4gICAgICBpZiAocC55ID4gbWF4SGVpZ2h0KSB7XG4gICAgICAgIHAueSA9IG1heEhlaWdodDtcbiAgICAgIH1cblxuICAgICAgLy8gYWRkIGNhbnZhcyBvZmZzZXQgb24gZG9jdW1lbnRcbiAgICAgIHAueCArPSB0aGlzLmNhbnZhcy5fb2Zmc2V0LmxlZnQ7XG4gICAgICBwLnkgKz0gdGhpcy5jYW52YXMuX29mZnNldC50b3A7XG5cbiAgICAgIHJldHVybiB7IGxlZnQ6IHAueCArICdweCcsIHRvcDogcC55ICsgJ3B4JywgZm9udFNpemU6IGNoYXJIZWlnaHQgKyAncHgnLCBjaGFySGVpZ2h0OiBjaGFySGVpZ2h0IH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3NhdmVFZGl0aW5nUHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5fc2F2ZWRQcm9wcyA9IHtcbiAgICAgICAgaGFzQ29udHJvbHM6IHRoaXMuaGFzQ29udHJvbHMsXG4gICAgICAgIGJvcmRlckNvbG9yOiB0aGlzLmJvcmRlckNvbG9yLFxuICAgICAgICBsb2NrTW92ZW1lbnRYOiB0aGlzLmxvY2tNb3ZlbWVudFgsXG4gICAgICAgIGxvY2tNb3ZlbWVudFk6IHRoaXMubG9ja01vdmVtZW50WSxcbiAgICAgICAgaG92ZXJDdXJzb3I6IHRoaXMuaG92ZXJDdXJzb3IsXG4gICAgICAgIHNlbGVjdGFibGU6IHRoaXMuc2VsZWN0YWJsZSxcbiAgICAgICAgZGVmYXVsdEN1cnNvcjogdGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMuZGVmYXVsdEN1cnNvcixcbiAgICAgICAgbW92ZUN1cnNvcjogdGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMubW92ZUN1cnNvclxuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVzdG9yZUVkaXRpbmdQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIXRoaXMuX3NhdmVkUHJvcHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmhvdmVyQ3Vyc29yID0gdGhpcy5fc2F2ZWRQcm9wcy5ob3ZlckN1cnNvcjtcbiAgICAgIHRoaXMuaGFzQ29udHJvbHMgPSB0aGlzLl9zYXZlZFByb3BzLmhhc0NvbnRyb2xzO1xuICAgICAgdGhpcy5ib3JkZXJDb2xvciA9IHRoaXMuX3NhdmVkUHJvcHMuYm9yZGVyQ29sb3I7XG4gICAgICB0aGlzLnNlbGVjdGFibGUgPSB0aGlzLl9zYXZlZFByb3BzLnNlbGVjdGFibGU7XG4gICAgICB0aGlzLmxvY2tNb3ZlbWVudFggPSB0aGlzLl9zYXZlZFByb3BzLmxvY2tNb3ZlbWVudFg7XG4gICAgICB0aGlzLmxvY2tNb3ZlbWVudFkgPSB0aGlzLl9zYXZlZFByb3BzLmxvY2tNb3ZlbWVudFk7XG5cbiAgICAgIGlmICh0aGlzLmNhbnZhcykge1xuICAgICAgICB0aGlzLmNhbnZhcy5kZWZhdWx0Q3Vyc29yID0gdGhpcy5fc2F2ZWRQcm9wcy5kZWZhdWx0Q3Vyc29yO1xuICAgICAgICB0aGlzLmNhbnZhcy5tb3ZlQ3Vyc29yID0gdGhpcy5fc2F2ZWRQcm9wcy5tb3ZlQ3Vyc29yO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBFeGl0cyBmcm9tIGVkaXRpbmcgc3RhdGVcbiAgICAgKiBAcmV0dXJuIHtmYWJyaWMuSVRleHR9IHRoaXNBcmdcbiAgICAgKiBAY2hhaW5hYmxlXG4gICAgICovXG4gICAgZXhpdEVkaXRpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGlzVGV4dENoYW5nZWQgPSAodGhpcy5fdGV4dEJlZm9yZUVkaXQgIT09IHRoaXMudGV4dCk7XG4gICAgICB0aGlzLnNlbGVjdGVkID0gZmFsc2U7XG4gICAgICB0aGlzLmlzRWRpdGluZyA9IGZhbHNlO1xuXG4gICAgICB0aGlzLnNlbGVjdGlvbkVuZCA9IHRoaXMuc2VsZWN0aW9uU3RhcnQ7XG5cbiAgICAgIGlmICh0aGlzLmhpZGRlblRleHRhcmVhKSB7XG4gICAgICAgIHRoaXMuaGlkZGVuVGV4dGFyZWEuYmx1ciAmJiB0aGlzLmhpZGRlblRleHRhcmVhLmJsdXIoKTtcbiAgICAgICAgdGhpcy5jYW52YXMgJiYgdGhpcy5oaWRkZW5UZXh0YXJlYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuaGlkZGVuVGV4dGFyZWEpO1xuICAgICAgICB0aGlzLmhpZGRlblRleHRhcmVhID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5hYm9ydEN1cnNvckFuaW1hdGlvbigpO1xuICAgICAgdGhpcy5fcmVzdG9yZUVkaXRpbmdQcm9wcygpO1xuICAgICAgdGhpcy5fY3VycmVudEN1cnNvck9wYWNpdHkgPSAwO1xuICAgICAgaWYgKHRoaXMuX3Nob3VsZENsZWFyRGltZW5zaW9uQ2FjaGUoKSkge1xuICAgICAgICB0aGlzLmluaXREaW1lbnNpb25zKCk7XG4gICAgICAgIHRoaXMuc2V0Q29vcmRzKCk7XG4gICAgICB9XG4gICAgICB0aGlzLmZpcmUoJ2VkaXRpbmc6ZXhpdGVkJyk7XG4gICAgICBpc1RleHRDaGFuZ2VkICYmIHRoaXMuZmlyZSgnbW9kaWZpZWQnKTtcbiAgICAgIGlmICh0aGlzLmNhbnZhcykge1xuICAgICAgICB0aGlzLmNhbnZhcy5vZmYoJ21vdXNlOm1vdmUnLCB0aGlzLm1vdXNlTW92ZUhhbmRsZXIpO1xuICAgICAgICB0aGlzLmNhbnZhcy5maXJlKCd0ZXh0OmVkaXRpbmc6ZXhpdGVkJywgeyB0YXJnZXQ6IHRoaXMgfSk7XG4gICAgICAgIGlzVGV4dENoYW5nZWQgJiYgdGhpcy5jYW52YXMuZmlyZSgnb2JqZWN0Om1vZGlmaWVkJywgeyB0YXJnZXQ6IHRoaXMgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfcmVtb3ZlRXh0cmFuZW91c1N0eWxlczogZnVuY3Rpb24oKSB7XG4gICAgICBmb3IgKHZhciBwcm9wIGluIHRoaXMuc3R5bGVzKSB7XG4gICAgICAgIGlmICghdGhpcy5fdGV4dExpbmVzW3Byb3BdKSB7XG4gICAgICAgICAgZGVsZXRlIHRoaXMuc3R5bGVzW3Byb3BdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHJlbW92ZSBhbmQgcmVmbG93IGEgc3R5bGUgYmxvY2sgZnJvbSBzdGFydCB0byBlbmQuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0IGxpbmVhciBzdGFydCBwb3NpdGlvbiBmb3IgcmVtb3ZhbCAoaW5jbHVkZWQgaW4gcmVtb3ZhbClcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gZW5kIGxpbmVhciBlbmQgcG9zaXRpb24gZm9yIHJlbW92YWwgKCBleGNsdWRlZCBmcm9tIHJlbW92YWwgKVxuICAgICAqL1xuICAgIHJlbW92ZVN0eWxlRnJvbVRvOiBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgY3Vyc29yU3RhcnQgPSB0aGlzLmdldDJEQ3Vyc29yTG9jYXRpb24oc3RhcnQsIHRydWUpLFxuICAgICAgICAgIGN1cnNvckVuZCA9IHRoaXMuZ2V0MkRDdXJzb3JMb2NhdGlvbihlbmQsIHRydWUpLFxuICAgICAgICAgIGxpbmVTdGFydCA9IGN1cnNvclN0YXJ0LmxpbmVJbmRleCxcbiAgICAgICAgICBjaGFyU3RhcnQgPSBjdXJzb3JTdGFydC5jaGFySW5kZXgsXG4gICAgICAgICAgbGluZUVuZCA9IGN1cnNvckVuZC5saW5lSW5kZXgsXG4gICAgICAgICAgY2hhckVuZCA9IGN1cnNvckVuZC5jaGFySW5kZXgsXG4gICAgICAgICAgaSwgc3R5bGVPYmo7XG4gICAgICBpZiAobGluZVN0YXJ0ICE9PSBsaW5lRW5kKSB7XG4gICAgICAgIC8vIHN0ZXAxIHJlbW92ZSB0aGUgdHJhaWxpbmcgb2YgbGluZVN0YXJ0XG4gICAgICAgIGlmICh0aGlzLnN0eWxlc1tsaW5lU3RhcnRdKSB7XG4gICAgICAgICAgZm9yIChpID0gY2hhclN0YXJ0OyBpIDwgdGhpcy5fdW53cmFwcGVkVGV4dExpbmVzW2xpbmVTdGFydF0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnN0eWxlc1tsaW5lU3RhcnRdW2ldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBzdGVwMiBtb3ZlIHRoZSB0cmFpbGluZyBvZiBsaW5lRW5kIHRvIGxpbmVTdGFydCBpZiBuZWVkZWRcbiAgICAgICAgaWYgKHRoaXMuc3R5bGVzW2xpbmVFbmRdKSB7XG4gICAgICAgICAgZm9yIChpID0gY2hhckVuZDsgaSA8IHRoaXMuX3Vud3JhcHBlZFRleHRMaW5lc1tsaW5lRW5kXS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgc3R5bGVPYmogPSB0aGlzLnN0eWxlc1tsaW5lRW5kXVtpXTtcbiAgICAgICAgICAgIGlmIChzdHlsZU9iaikge1xuICAgICAgICAgICAgICB0aGlzLnN0eWxlc1tsaW5lU3RhcnRdIHx8ICh0aGlzLnN0eWxlc1tsaW5lU3RhcnRdID0geyB9KTtcbiAgICAgICAgICAgICAgdGhpcy5zdHlsZXNbbGluZVN0YXJ0XVtjaGFyU3RhcnQgKyBpIC0gY2hhckVuZF0gPSBzdHlsZU9iajtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3RlcDMgZGV0ZWN0cyBsaW5lcyB3aWxsIGJlIGNvbXBsZXRlbHkgcmVtb3ZlZC5cbiAgICAgICAgZm9yIChpID0gbGluZVN0YXJ0ICsgMTsgaSA8PSBsaW5lRW5kOyBpKyspIHtcbiAgICAgICAgICBkZWxldGUgdGhpcy5zdHlsZXNbaV07XG4gICAgICAgIH1cbiAgICAgICAgLy8gc3RlcDQgc2hpZnQgcmVtYWluaW5nIGxpbmVzLlxuICAgICAgICB0aGlzLnNoaWZ0TGluZVN0eWxlcyhsaW5lRW5kLCBsaW5lU3RhcnQgLSBsaW5lRW5kKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyByZW1vdmUgYW5kIHNoaWZ0IGxlZnQgb24gdGhlIHNhbWUgbGluZVxuICAgICAgICBpZiAodGhpcy5zdHlsZXNbbGluZVN0YXJ0XSkge1xuICAgICAgICAgIHN0eWxlT2JqID0gdGhpcy5zdHlsZXNbbGluZVN0YXJ0XTtcbiAgICAgICAgICB2YXIgZGlmZiA9IGNoYXJFbmQgLSBjaGFyU3RhcnQsIG51bWVyaWNDaGFyLCBfY2hhcjtcbiAgICAgICAgICBmb3IgKGkgPSBjaGFyU3RhcnQ7IGkgPCBjaGFyRW5kOyBpKyspIHtcbiAgICAgICAgICAgIGRlbGV0ZSBzdHlsZU9ialtpXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yIChfY2hhciBpbiB0aGlzLnN0eWxlc1tsaW5lU3RhcnRdKSB7XG4gICAgICAgICAgICBudW1lcmljQ2hhciA9IHBhcnNlSW50KF9jaGFyLCAxMCk7XG4gICAgICAgICAgICBpZiAobnVtZXJpY0NoYXIgPj0gY2hhckVuZCkge1xuICAgICAgICAgICAgICBzdHlsZU9ialtudW1lcmljQ2hhciAtIGRpZmZdID0gc3R5bGVPYmpbX2NoYXJdO1xuICAgICAgICAgICAgICBkZWxldGUgc3R5bGVPYmpbX2NoYXJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBTaGlmdHMgbGluZSBzdHlsZXMgdXAgb3IgZG93blxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXggSW5kZXggb2YgYSBsaW5lXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldCBDYW4gYW55IG51bWJlcj9cbiAgICAgKi9cbiAgICBzaGlmdExpbmVTdHlsZXM6IGZ1bmN0aW9uKGxpbmVJbmRleCwgb2Zmc2V0KSB7XG4gICAgICAvLyBzaGlmdCBhbGwgbGluZSBzdHlsZXMgYnkgb2Zmc2V0IHVwd2FyZCBvciBkb3dud2FyZFxuICAgICAgLy8gZG8gbm90IGNsb25lIGRlZXAuIHdlIG5lZWQgbmV3IGFycmF5LCBub3QgbmV3IHN0eWxlIG9iamVjdHNcbiAgICAgIHZhciBjbG9uZWRTdHlsZXMgPSBjbG9uZSh0aGlzLnN0eWxlcyk7XG4gICAgICBmb3IgKHZhciBsaW5lIGluIHRoaXMuc3R5bGVzKSB7XG4gICAgICAgIHZhciBudW1lcmljTGluZSA9IHBhcnNlSW50KGxpbmUsIDEwKTtcbiAgICAgICAgaWYgKG51bWVyaWNMaW5lID4gbGluZUluZGV4KSB7XG4gICAgICAgICAgdGhpcy5zdHlsZXNbbnVtZXJpY0xpbmUgKyBvZmZzZXRdID0gY2xvbmVkU3R5bGVzW251bWVyaWNMaW5lXTtcbiAgICAgICAgICBpZiAoIWNsb25lZFN0eWxlc1tudW1lcmljTGluZSAtIG9mZnNldF0pIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnN0eWxlc1tudW1lcmljTGluZV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHJlc3RhcnRDdXJzb3JJZk5lZWRlZDogZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIXRoaXMuX2N1cnJlbnRUaWNrU3RhdGUgfHwgdGhpcy5fY3VycmVudFRpY2tTdGF0ZS5pc0Fib3J0ZWRcbiAgICAgICAgfHwgIXRoaXMuX2N1cnJlbnRUaWNrQ29tcGxldGVTdGF0ZSB8fCB0aGlzLl9jdXJyZW50VGlja0NvbXBsZXRlU3RhdGUuaXNBYm9ydGVkXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5pbml0RGVsYXllZEN1cnNvcigpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIG5ldyBzdHlsZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4IEluZGV4IG9mIGEgbGluZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjaGFySW5kZXggSW5kZXggb2YgYSBjaGFyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHF0eSBudW1iZXIgb2YgbGluZXMgdG8gYWRkXG4gICAgICogQHBhcmFtIHtBcnJheX0gY29waWVkU3R5bGUgQXJyYXkgb2Ygb2JqZWN0cyBzdHlsZXNcbiAgICAgKi9cbiAgICBpbnNlcnROZXdsaW5lU3R5bGVPYmplY3Q6IGZ1bmN0aW9uKGxpbmVJbmRleCwgY2hhckluZGV4LCBxdHksIGNvcGllZFN0eWxlKSB7XG4gICAgICB2YXIgY3VycmVudENoYXJTdHlsZSxcbiAgICAgICAgICBuZXdMaW5lU3R5bGVzID0ge30sXG4gICAgICAgICAgc29tZXRoaW5nQWRkZWQgPSBmYWxzZTtcblxuICAgICAgcXR5IHx8IChxdHkgPSAxKTtcbiAgICAgIHRoaXMuc2hpZnRMaW5lU3R5bGVzKGxpbmVJbmRleCwgcXR5KTtcbiAgICAgIGlmICh0aGlzLnN0eWxlc1tsaW5lSW5kZXhdKSB7XG4gICAgICAgIGN1cnJlbnRDaGFyU3R5bGUgPSB0aGlzLnN0eWxlc1tsaW5lSW5kZXhdW2NoYXJJbmRleCA9PT0gMCA/IGNoYXJJbmRleCA6IGNoYXJJbmRleCAtIDFdO1xuICAgICAgfVxuXG4gICAgICAvLyB3ZSBjbG9uZSBzdHlsZXMgb2YgYWxsIGNoYXJzXG4gICAgICAvLyBhZnRlciBjdXJzb3Igb250byB0aGUgY3VycmVudCBsaW5lXG4gICAgICBmb3IgKHZhciBpbmRleCBpbiB0aGlzLnN0eWxlc1tsaW5lSW5kZXhdKSB7XG4gICAgICAgIHZhciBudW1JbmRleCA9IHBhcnNlSW50KGluZGV4LCAxMCk7XG4gICAgICAgIGlmIChudW1JbmRleCA+PSBjaGFySW5kZXgpIHtcbiAgICAgICAgICBzb21ldGhpbmdBZGRlZCA9IHRydWU7XG4gICAgICAgICAgbmV3TGluZVN0eWxlc1tudW1JbmRleCAtIGNoYXJJbmRleF0gPSB0aGlzLnN0eWxlc1tsaW5lSW5kZXhdW2luZGV4XTtcbiAgICAgICAgICAvLyByZW1vdmUgbGluZXMgZnJvbSB0aGUgcHJldmlvdXMgbGluZSBzaW5jZSB0aGV5J3JlIG9uIGEgbmV3IGxpbmUgbm93XG4gICAgICAgICAgZGVsZXRlIHRoaXMuc3R5bGVzW2xpbmVJbmRleF1baW5kZXhdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc29tZXRoaW5nQWRkZWQpIHtcbiAgICAgICAgdGhpcy5zdHlsZXNbbGluZUluZGV4ICsgcXR5XSA9IG5ld0xpbmVTdHlsZXM7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuc3R5bGVzW2xpbmVJbmRleCArIHF0eV07XG4gICAgICB9XG4gICAgICAvLyBmb3IgdGhlIG90aGVyIGxpbmVzXG4gICAgICAvLyB3ZSBjbG9uZSBjdXJyZW50IGNoYXIgc3R5bGUgb250byB0aGUgbmV4dCAob3RoZXJ3aXNlIGVtcHR5KSBsaW5lXG4gICAgICB3aGlsZSAocXR5ID4gMSkge1xuICAgICAgICBxdHktLTtcbiAgICAgICAgaWYgKGNvcGllZFN0eWxlICYmIGNvcGllZFN0eWxlW3F0eV0pIHtcbiAgICAgICAgICB0aGlzLnN0eWxlc1tsaW5lSW5kZXggKyBxdHldID0geyAwOiBjbG9uZShjb3BpZWRTdHlsZVtxdHldKSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGN1cnJlbnRDaGFyU3R5bGUpIHtcbiAgICAgICAgICB0aGlzLnN0eWxlc1tsaW5lSW5kZXggKyBxdHldID0geyAwOiBjbG9uZShjdXJyZW50Q2hhclN0eWxlKSB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLnN0eWxlc1tsaW5lSW5kZXggKyBxdHldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLl9mb3JjZUNsZWFyQ2FjaGUgPSB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIHN0eWxlIG9iamVjdCBmb3IgYSBnaXZlbiBsaW5lL2NoYXIgaW5kZXhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4IEluZGV4IG9mIGEgbGluZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBjaGFySW5kZXggSW5kZXggb2YgYSBjaGFyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHF1YW50aXR5IG51bWJlciBTdHlsZSBvYmplY3QgdG8gaW5zZXJ0LCBpZiBnaXZlblxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGNvcGllZFN0eWxlIGFycmF5IG9mIHN0eWxlIG9iamVjdHNcbiAgICAgKi9cbiAgICBpbnNlcnRDaGFyU3R5bGVPYmplY3Q6IGZ1bmN0aW9uKGxpbmVJbmRleCwgY2hhckluZGV4LCBxdWFudGl0eSwgY29waWVkU3R5bGUpIHtcbiAgICAgIGlmICghdGhpcy5zdHlsZXMpIHtcbiAgICAgICAgdGhpcy5zdHlsZXMgPSB7fTtcbiAgICAgIH1cbiAgICAgIHZhciBjdXJyZW50TGluZVN0eWxlcyAgICAgICA9IHRoaXMuc3R5bGVzW2xpbmVJbmRleF0sXG4gICAgICAgICAgY3VycmVudExpbmVTdHlsZXNDbG9uZWQgPSBjdXJyZW50TGluZVN0eWxlcyA/IGNsb25lKGN1cnJlbnRMaW5lU3R5bGVzKSA6IHt9O1xuXG4gICAgICBxdWFudGl0eSB8fCAocXVhbnRpdHkgPSAxKTtcbiAgICAgIC8vIHNoaWZ0IGFsbCBjaGFyIHN0eWxlcyBieSBxdWFudGl0eSBmb3J3YXJkXG4gICAgICAvLyAwLDEsMiwzIC0+IChjaGFySW5kZXg9MikgLT4gMCwxLDMsNCAtPiAoaW5zZXJ0IDIpIC0+IDAsMSwyLDMsNFxuICAgICAgZm9yICh2YXIgaW5kZXggaW4gY3VycmVudExpbmVTdHlsZXNDbG9uZWQpIHtcbiAgICAgICAgdmFyIG51bWVyaWNJbmRleCA9IHBhcnNlSW50KGluZGV4LCAxMCk7XG4gICAgICAgIGlmIChudW1lcmljSW5kZXggPj0gY2hhckluZGV4KSB7XG4gICAgICAgICAgY3VycmVudExpbmVTdHlsZXNbbnVtZXJpY0luZGV4ICsgcXVhbnRpdHldID0gY3VycmVudExpbmVTdHlsZXNDbG9uZWRbbnVtZXJpY0luZGV4XTtcbiAgICAgICAgICAvLyBvbmx5IGRlbGV0ZSB0aGUgc3R5bGUgaWYgdGhlcmUgd2FzIG5vdGhpbmcgbW92ZWQgdGhlcmVcbiAgICAgICAgICBpZiAoIWN1cnJlbnRMaW5lU3R5bGVzQ2xvbmVkW251bWVyaWNJbmRleCAtIHF1YW50aXR5XSkge1xuICAgICAgICAgICAgZGVsZXRlIGN1cnJlbnRMaW5lU3R5bGVzW251bWVyaWNJbmRleF07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aGlzLl9mb3JjZUNsZWFyQ2FjaGUgPSB0cnVlO1xuICAgICAgaWYgKGNvcGllZFN0eWxlKSB7XG4gICAgICAgIHdoaWxlIChxdWFudGl0eS0tKSB7XG4gICAgICAgICAgaWYgKCFPYmplY3Qua2V5cyhjb3BpZWRTdHlsZVtxdWFudGl0eV0pLmxlbmd0aCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghdGhpcy5zdHlsZXNbbGluZUluZGV4XSkge1xuICAgICAgICAgICAgdGhpcy5zdHlsZXNbbGluZUluZGV4XSA9IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnN0eWxlc1tsaW5lSW5kZXhdW2NoYXJJbmRleCArIHF1YW50aXR5XSA9IGNsb25lKGNvcGllZFN0eWxlW3F1YW50aXR5XSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFjdXJyZW50TGluZVN0eWxlcykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgbmV3U3R5bGUgPSBjdXJyZW50TGluZVN0eWxlc1tjaGFySW5kZXggPyBjaGFySW5kZXggLSAxIDogMV07XG4gICAgICB3aGlsZSAobmV3U3R5bGUgJiYgcXVhbnRpdHktLSkge1xuICAgICAgICB0aGlzLnN0eWxlc1tsaW5lSW5kZXhdW2NoYXJJbmRleCArIHF1YW50aXR5XSA9IGNsb25lKG5ld1N0eWxlKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogSW5zZXJ0cyBzdHlsZSBvYmplY3QocylcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBpbnNlcnRlZFRleHQgQ2hhcmFjdGVycyBhdCB0aGUgbG9jYXRpb24gd2hlcmUgc3R5bGUgaXMgaW5zZXJ0ZWRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gc3RhcnQgY3Vyc29yIGluZGV4IGZvciBpbnNlcnRpbmcgc3R5bGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbY29waWVkU3R5bGVdIGFycmF5IG9mIHN0eWxlIG9iamVjdHMgdG8gaW5zZXJ0LlxuICAgICAqL1xuICAgIGluc2VydE5ld1N0eWxlQmxvY2s6IGZ1bmN0aW9uKGluc2VydGVkVGV4dCwgc3RhcnQsIGNvcGllZFN0eWxlKSB7XG4gICAgICB2YXIgY3Vyc29yTG9jID0gdGhpcy5nZXQyREN1cnNvckxvY2F0aW9uKHN0YXJ0LCB0cnVlKSxcbiAgICAgICAgICBhZGRlZExpbmVzID0gWzBdLCBsaW5lc0xlbmd0aCA9IDA7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluc2VydGVkVGV4dC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaW5zZXJ0ZWRUZXh0W2ldID09PSAnXFxuJykge1xuICAgICAgICAgIGxpbmVzTGVuZ3RoKys7XG4gICAgICAgICAgYWRkZWRMaW5lc1tsaW5lc0xlbmd0aF0gPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGFkZGVkTGluZXNbbGluZXNMZW5ndGhdKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChhZGRlZExpbmVzWzBdID4gMCkge1xuICAgICAgICB0aGlzLmluc2VydENoYXJTdHlsZU9iamVjdChjdXJzb3JMb2MubGluZUluZGV4LCBjdXJzb3JMb2MuY2hhckluZGV4LCBhZGRlZExpbmVzWzBdLCBjb3BpZWRTdHlsZSk7XG4gICAgICAgIGNvcGllZFN0eWxlID0gY29waWVkU3R5bGUgJiYgY29waWVkU3R5bGUuc2xpY2UoYWRkZWRMaW5lc1swXSArIDEpO1xuICAgICAgfVxuICAgICAgbGluZXNMZW5ndGggJiYgdGhpcy5pbnNlcnROZXdsaW5lU3R5bGVPYmplY3QoXG4gICAgICAgIGN1cnNvckxvYy5saW5lSW5kZXgsIGN1cnNvckxvYy5jaGFySW5kZXggKyBhZGRlZExpbmVzWzBdLCBsaW5lc0xlbmd0aCk7XG4gICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxpbmVzTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGFkZGVkTGluZXNbaV0gPiAwKSB7XG4gICAgICAgICAgdGhpcy5pbnNlcnRDaGFyU3R5bGVPYmplY3QoY3Vyc29yTG9jLmxpbmVJbmRleCArIGksIDAsIGFkZGVkTGluZXNbaV0sIGNvcGllZFN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb3BpZWRTdHlsZSkge1xuICAgICAgICAgIHRoaXMuc3R5bGVzW2N1cnNvckxvYy5saW5lSW5kZXggKyBpXVswXSA9IGNvcGllZFN0eWxlWzBdO1xuICAgICAgICB9XG4gICAgICAgIGNvcGllZFN0eWxlID0gY29waWVkU3R5bGUgJiYgY29waWVkU3R5bGUuc2xpY2UoYWRkZWRMaW5lc1tpXSArIDEpO1xuICAgICAgfVxuICAgICAgLy8gd2UgdXNlIGkgb3V0c2lkZSB0aGUgbG9vcCB0byBnZXQgaXQgbGlrZSBsaW5lc0xlbmd0aFxuICAgICAgaWYgKGFkZGVkTGluZXNbaV0gPiAwKSB7XG4gICAgICAgIHRoaXMuaW5zZXJ0Q2hhclN0eWxlT2JqZWN0KGN1cnNvckxvYy5saW5lSW5kZXggKyBpLCAwLCBhZGRlZExpbmVzW2ldLCBjb3BpZWRTdHlsZSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgc2VsZWN0aW9uU3RhcnQgYW5kIHNlbGVjdGlvbkVuZCBhY2NvcmRpbmcgdG8gdGhlIG5ldyBwb3NpdGlvbiBvZiBjdXJzb3JcbiAgICAgKiBtaW1pYyB0aGUga2V5IC0gbW91c2UgbmF2aWdhdGlvbiB3aGVuIHNoaWZ0IGlzIHByZXNzZWQuXG4gICAgICovXG4gICAgc2V0U2VsZWN0aW9uU3RhcnRFbmRXaXRoU2hpZnQ6IGZ1bmN0aW9uKHN0YXJ0LCBlbmQsIG5ld1NlbGVjdGlvbikge1xuICAgICAgaWYgKG5ld1NlbGVjdGlvbiA8PSBzdGFydCkge1xuICAgICAgICBpZiAoZW5kID09PSBzdGFydCkge1xuICAgICAgICAgIHRoaXMuX3NlbGVjdGlvbkRpcmVjdGlvbiA9ICdsZWZ0JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9zZWxlY3Rpb25EaXJlY3Rpb24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICB0aGlzLl9zZWxlY3Rpb25EaXJlY3Rpb24gPSAnbGVmdCc7XG4gICAgICAgICAgdGhpcy5zZWxlY3Rpb25FbmQgPSBzdGFydDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNlbGVjdGlvblN0YXJ0ID0gbmV3U2VsZWN0aW9uO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAobmV3U2VsZWN0aW9uID4gc3RhcnQgJiYgbmV3U2VsZWN0aW9uIDwgZW5kKSB7XG4gICAgICAgIGlmICh0aGlzLl9zZWxlY3Rpb25EaXJlY3Rpb24gPT09ICdyaWdodCcpIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdGlvbkVuZCA9IG5ld1NlbGVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB0aGlzLnNlbGVjdGlvblN0YXJ0ID0gbmV3U2VsZWN0aW9uO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gbmV3U2VsZWN0aW9uIGlzID4gc2VsZWN0aW9uIHN0YXJ0IGFuZCBlbmRcbiAgICAgICAgaWYgKGVuZCA9PT0gc3RhcnQpIHtcbiAgICAgICAgICB0aGlzLl9zZWxlY3Rpb25EaXJlY3Rpb24gPSAncmlnaHQnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX3NlbGVjdGlvbkRpcmVjdGlvbiA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgdGhpcy5fc2VsZWN0aW9uRGlyZWN0aW9uID0gJ3JpZ2h0JztcbiAgICAgICAgICB0aGlzLnNlbGVjdGlvblN0YXJ0ID0gZW5kO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uRW5kID0gbmV3U2VsZWN0aW9uO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBzZXRTZWxlY3Rpb25JbkJvdW5kYXJpZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGxlbmd0aCA9IHRoaXMudGV4dC5sZW5ndGg7XG4gICAgICBpZiAodGhpcy5zZWxlY3Rpb25TdGFydCA+IGxlbmd0aCkge1xuICAgICAgICB0aGlzLnNlbGVjdGlvblN0YXJ0ID0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodGhpcy5zZWxlY3Rpb25TdGFydCA8IDApIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25TdGFydCA9IDA7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5zZWxlY3Rpb25FbmQgPiBsZW5ndGgpIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25FbmQgPSBsZW5ndGg7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh0aGlzLnNlbGVjdGlvbkVuZCA8IDApIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25FbmQgPSAwO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59KSgpO1xuXG5cbmZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQoZmFicmljLklUZXh0LnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuSVRleHQucHJvdG90eXBlICovIHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIFwiZGJjbGlja1wiIGV2ZW50IGhhbmRsZXJcbiAgICovXG4gIGluaXREb3VibGVDbGlja1NpbXVsYXRpb246IGZ1bmN0aW9uKCkge1xuXG4gICAgLy8gZm9yIGRvdWJsZSBjbGlja1xuICAgIHRoaXMuX19sYXN0Q2xpY2tUaW1lID0gK25ldyBEYXRlKCk7XG5cbiAgICAvLyBmb3IgdHJpcGxlIGNsaWNrXG4gICAgdGhpcy5fX2xhc3RMYXN0Q2xpY2tUaW1lID0gK25ldyBEYXRlKCk7XG5cbiAgICB0aGlzLl9fbGFzdFBvaW50ZXIgPSB7IH07XG5cbiAgICB0aGlzLm9uKCdtb3VzZWRvd24nLCB0aGlzLm9uTW91c2VEb3duKTtcbiAgfSxcblxuICAvKipcbiAgICogRGVmYXVsdCBldmVudCBoYW5kbGVyIHRvIHNpbXVsYXRlIHRyaXBsZSBjbGlja1xuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgb25Nb3VzZURvd246IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuY2FudmFzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX19uZXdDbGlja1RpbWUgPSArbmV3IERhdGUoKTtcbiAgICB2YXIgbmV3UG9pbnRlciA9IG9wdGlvbnMucG9pbnRlcjtcbiAgICBpZiAodGhpcy5pc1RyaXBsZUNsaWNrKG5ld1BvaW50ZXIpKSB7XG4gICAgICB0aGlzLmZpcmUoJ3RyaXBsZWNsaWNrJywgb3B0aW9ucyk7XG4gICAgICB0aGlzLl9zdG9wRXZlbnQob3B0aW9ucy5lKTtcbiAgICB9XG4gICAgdGhpcy5fX2xhc3RMYXN0Q2xpY2tUaW1lID0gdGhpcy5fX2xhc3RDbGlja1RpbWU7XG4gICAgdGhpcy5fX2xhc3RDbGlja1RpbWUgPSB0aGlzLl9fbmV3Q2xpY2tUaW1lO1xuICAgIHRoaXMuX19sYXN0UG9pbnRlciA9IG5ld1BvaW50ZXI7XG4gICAgdGhpcy5fX2xhc3RJc0VkaXRpbmcgPSB0aGlzLmlzRWRpdGluZztcbiAgICB0aGlzLl9fbGFzdFNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZDtcbiAgfSxcblxuICBpc1RyaXBsZUNsaWNrOiBmdW5jdGlvbihuZXdQb2ludGVyKSB7XG4gICAgcmV0dXJuIHRoaXMuX19uZXdDbGlja1RpbWUgLSB0aGlzLl9fbGFzdENsaWNrVGltZSA8IDUwMCAmJlxuICAgICAgICB0aGlzLl9fbGFzdENsaWNrVGltZSAtIHRoaXMuX19sYXN0TGFzdENsaWNrVGltZSA8IDUwMCAmJlxuICAgICAgICB0aGlzLl9fbGFzdFBvaW50ZXIueCA9PT0gbmV3UG9pbnRlci54ICYmXG4gICAgICAgIHRoaXMuX19sYXN0UG9pbnRlci55ID09PSBuZXdQb2ludGVyLnk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc3RvcEV2ZW50OiBmdW5jdGlvbihlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCAmJiBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24gJiYgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfSxcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgZXZlbnQgaGFuZGxlcnMgcmVsYXRlZCB0byBjdXJzb3Igb3Igc2VsZWN0aW9uXG4gICAqL1xuICBpbml0Q3Vyc29yU2VsZWN0aW9uSGFuZGxlcnM6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5pdE1vdXNlZG93bkhhbmRsZXIoKTtcbiAgICB0aGlzLmluaXRNb3VzZXVwSGFuZGxlcigpO1xuICAgIHRoaXMuaW5pdENsaWNrcygpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IGhhbmRsZXIgZm9yIGRvdWJsZSBjbGljaywgc2VsZWN0IGEgd29yZFxuICAgKi9cbiAgZG91YmxlQ2xpY2tIYW5kbGVyOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLmlzRWRpdGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNlbGVjdFdvcmQodGhpcy5nZXRTZWxlY3Rpb25TdGFydEZyb21Qb2ludGVyKG9wdGlvbnMuZSkpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IGhhbmRsZXIgZm9yIHRyaXBsZSBjbGljaywgc2VsZWN0IGEgbGluZVxuICAgKi9cbiAgdHJpcGxlQ2xpY2tIYW5kbGVyOiBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgaWYgKCF0aGlzLmlzRWRpdGluZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnNlbGVjdExpbmUodGhpcy5nZXRTZWxlY3Rpb25TdGFydEZyb21Qb2ludGVyKG9wdGlvbnMuZSkpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBkb3VibGUgYW5kIHRyaXBsZSBjbGljayBldmVudCBoYW5kbGVyc1xuICAgKi9cbiAgaW5pdENsaWNrczogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5vbignbW91c2VkYmxjbGljaycsIHRoaXMuZG91YmxlQ2xpY2tIYW5kbGVyKTtcbiAgICB0aGlzLm9uKCd0cmlwbGVjbGljaycsIHRoaXMudHJpcGxlQ2xpY2tIYW5kbGVyKTtcbiAgfSxcblxuICAvKipcbiAgICogRGVmYXVsdCBldmVudCBoYW5kbGVyIGZvciB0aGUgYmFzaWMgZnVuY3Rpb25hbGl0aWVzIG5lZWRlZCBvbiBfbW91c2VEb3duXG4gICAqIGNhbiBiZSBvdmVycmlkZGVuIHRvIGRvIHNvbWV0aGluZyBkaWZmZXJlbnQuXG4gICAqIFNjb3BlIG9mIHRoaXMgaW1wbGVtZW50YXRpb24gaXM6IGZpbmQgdGhlIGNsaWNrIHBvc2l0aW9uLCBzZXQgc2VsZWN0aW9uU3RhcnRcbiAgICogZmluZCBzZWxlY3Rpb25FbmQsIGluaXRpYWxpemUgdGhlIGRyYXdpbmcgb2YgZWl0aGVyIGN1cnNvciBvciBzZWxlY3Rpb24gYXJlYVxuICAgKi9cbiAgX21vdXNlRG93bkhhbmRsZXI6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuY2FudmFzIHx8ICF0aGlzLmVkaXRhYmxlIHx8IChvcHRpb25zLmUuYnV0dG9uICYmIG9wdGlvbnMuZS5idXR0b24gIT09IDEpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fX2lzTW91c2Vkb3duID0gdHJ1ZTtcblxuICAgIGlmICh0aGlzLnNlbGVjdGVkKSB7XG4gICAgICB0aGlzLnNldEN1cnNvckJ5Q2xpY2sob3B0aW9ucy5lKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc0VkaXRpbmcpIHtcbiAgICAgIHRoaXMuX19zZWxlY3Rpb25TdGFydE9uTW91c2VEb3duID0gdGhpcy5zZWxlY3Rpb25TdGFydDtcbiAgICAgIGlmICh0aGlzLnNlbGVjdGlvblN0YXJ0ID09PSB0aGlzLnNlbGVjdGlvbkVuZCkge1xuICAgICAgICB0aGlzLmFib3J0Q3Vyc29yQW5pbWF0aW9uKCk7XG4gICAgICB9XG4gICAgICB0aGlzLnJlbmRlckN1cnNvck9yU2VsZWN0aW9uKCk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IGV2ZW50IGhhbmRsZXIgZm9yIHRoZSBiYXNpYyBmdW5jdGlvbmFsaXRpZXMgbmVlZGVkIG9uIG1vdXNlZG93bjpiZWZvcmVcbiAgICogY2FuIGJlIG92ZXJyaWRkZW4gdG8gZG8gc29tZXRoaW5nIGRpZmZlcmVudC5cbiAgICogU2NvcGUgb2YgdGhpcyBpbXBsZW1lbnRhdGlvbiBpczogdmVyaWZ5IHRoZSBvYmplY3QgaXMgYWxyZWFkeSBzZWxlY3RlZCB3aGVuIG1vdXNpbmcgZG93blxuICAgKi9cbiAgX21vdXNlRG93bkhhbmRsZXJCZWZvcmU6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICBpZiAoIXRoaXMuY2FudmFzIHx8ICF0aGlzLmVkaXRhYmxlIHx8IChvcHRpb25zLmUuYnV0dG9uICYmIG9wdGlvbnMuZS5idXR0b24gIT09IDEpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIHdlIHdhbnQgdG8gYXZvaWQgdGhhdCBhbiBvYmplY3QgdGhhdCB3YXMgc2VsZWN0ZWQgYW5kIHRoZW4gYmVjb21lcyB1bnNlbGVjdGFibGUsXG4gICAgLy8gbWF5IHRyaWdnZXIgZWRpdGluZyBtb2RlIGluIHNvbWUgd2F5LlxuICAgIHRoaXMuc2VsZWN0ZWQgPSB0aGlzID09PSB0aGlzLmNhbnZhcy5fYWN0aXZlT2JqZWN0O1xuICB9LFxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyBcIm1vdXNlZG93blwiIGV2ZW50IGhhbmRsZXJcbiAgICovXG4gIGluaXRNb3VzZWRvd25IYW5kbGVyOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLm9uKCdtb3VzZWRvd24nLCB0aGlzLl9tb3VzZURvd25IYW5kbGVyKTtcbiAgICB0aGlzLm9uKCdtb3VzZWRvd246YmVmb3JlJywgdGhpcy5fbW91c2VEb3duSGFuZGxlckJlZm9yZSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIFwibW91c2V1cFwiIGV2ZW50IGhhbmRsZXJcbiAgICovXG4gIGluaXRNb3VzZXVwSGFuZGxlcjogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5vbignbW91c2V1cCcsIHRoaXMubW91c2VVcEhhbmRsZXIpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBzdGFuZGFyZCBoYW5kZXIgZm9yIG1vdXNlIHVwLCBvdmVycmlkYWJsZVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgbW91c2VVcEhhbmRsZXI6IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICB0aGlzLl9faXNNb3VzZWRvd24gPSBmYWxzZTtcbiAgICBpZiAoIXRoaXMuZWRpdGFibGUgfHwgdGhpcy5ncm91cCB8fFxuICAgICAgKG9wdGlvbnMudHJhbnNmb3JtICYmIG9wdGlvbnMudHJhbnNmb3JtLmFjdGlvblBlcmZvcm1lZCkgfHxcbiAgICAgIChvcHRpb25zLmUuYnV0dG9uICYmIG9wdGlvbnMuZS5idXR0b24gIT09IDEpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY2FudmFzKSB7XG4gICAgICB2YXIgY3VycmVudEFjdGl2ZSA9IHRoaXMuY2FudmFzLl9hY3RpdmVPYmplY3Q7XG4gICAgICBpZiAoY3VycmVudEFjdGl2ZSAmJiBjdXJyZW50QWN0aXZlICE9PSB0aGlzKSB7XG4gICAgICAgIC8vIGF2b2lkIHJ1bm5pbmcgdGhpcyBsb2dpYyB3aGVuIHRoZXJlIGlzIGFuIGFjdGl2ZSBvYmplY3RcbiAgICAgICAgLy8gdGhpcyBiZWNhdXNlIGlzIHBvc3NpYmxlIHdpdGggc2hpZnQgY2xpY2sgYW5kIGZhc3QgY2xpY2tzLFxuICAgICAgICAvLyB0byByYXBpZGx5IGRlc2VsZWN0IGFuZCByZXNlbGVjdCB0aGlzIG9iamVjdCBhbmQgdHJpZ2dlciBhbiBlbnRlckVkaXRcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLl9fbGFzdFNlbGVjdGVkICYmICF0aGlzLl9fY29ybmVyKSB7XG4gICAgICB0aGlzLnNlbGVjdGVkID0gZmFsc2U7XG4gICAgICB0aGlzLl9fbGFzdFNlbGVjdGVkID0gZmFsc2U7XG4gICAgICB0aGlzLmVudGVyRWRpdGluZyhvcHRpb25zLmUpO1xuICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uU3RhcnQgPT09IHRoaXMuc2VsZWN0aW9uRW5kKSB7XG4gICAgICAgIHRoaXMuaW5pdERlbGF5ZWRDdXJzb3IodHJ1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5yZW5kZXJDdXJzb3JPclNlbGVjdGlvbigpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWQgPSB0cnVlO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQ2hhbmdlcyBjdXJzb3IgbG9jYXRpb24gaW4gYSB0ZXh0IGRlcGVuZGluZyBvbiBwYXNzZWQgcG9pbnRlciAoeC95KSBvYmplY3RcbiAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICovXG4gIHNldEN1cnNvckJ5Q2xpY2s6IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgbmV3U2VsZWN0aW9uID0gdGhpcy5nZXRTZWxlY3Rpb25TdGFydEZyb21Qb2ludGVyKGUpLFxuICAgICAgICBzdGFydCA9IHRoaXMuc2VsZWN0aW9uU3RhcnQsIGVuZCA9IHRoaXMuc2VsZWN0aW9uRW5kO1xuICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICB0aGlzLnNldFNlbGVjdGlvblN0YXJ0RW5kV2l0aFNoaWZ0KHN0YXJ0LCBlbmQsIG5ld1NlbGVjdGlvbik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zZWxlY3Rpb25TdGFydCA9IG5ld1NlbGVjdGlvbjtcbiAgICAgIHRoaXMuc2VsZWN0aW9uRW5kID0gbmV3U2VsZWN0aW9uO1xuICAgIH1cbiAgICBpZiAodGhpcy5pc0VkaXRpbmcpIHtcbiAgICAgIHRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VkKCk7XG4gICAgICB0aGlzLl91cGRhdGVUZXh0YXJlYSgpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyBpbmRleCBvZiBhIGNoYXJhY3RlciBjb3JyZXNwb25kaW5nIHRvIHdoZXJlIGFuIG9iamVjdCB3YXMgY2xpY2tlZFxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IEluZGV4IG9mIGEgY2hhcmFjdGVyXG4gICAqL1xuICBnZXRTZWxlY3Rpb25TdGFydEZyb21Qb2ludGVyOiBmdW5jdGlvbihlKSB7XG4gICAgdmFyIG1vdXNlT2Zmc2V0ID0gdGhpcy5nZXRMb2NhbFBvaW50ZXIoZSksXG4gICAgICAgIHByZXZXaWR0aCA9IDAsXG4gICAgICAgIHdpZHRoID0gMCxcbiAgICAgICAgaGVpZ2h0ID0gMCxcbiAgICAgICAgY2hhckluZGV4ID0gMCxcbiAgICAgICAgbGluZUluZGV4ID0gMCxcbiAgICAgICAgbGluZUxlZnRPZmZzZXQsXG4gICAgICAgIGxpbmU7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5fdGV4dExpbmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAoaGVpZ2h0IDw9IG1vdXNlT2Zmc2V0LnkpIHtcbiAgICAgICAgaGVpZ2h0ICs9IHRoaXMuZ2V0SGVpZ2h0T2ZMaW5lKGkpICogdGhpcy5zY2FsZVk7XG4gICAgICAgIGxpbmVJbmRleCA9IGk7XG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgIGNoYXJJbmRleCArPSB0aGlzLl90ZXh0TGluZXNbaSAtIDFdLmxlbmd0aCArIHRoaXMubWlzc2luZ05ld2xpbmVPZmZzZXQoaSAtIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGxpbmVMZWZ0T2Zmc2V0ID0gdGhpcy5fZ2V0TGluZUxlZnRPZmZzZXQobGluZUluZGV4KTtcbiAgICB3aWR0aCA9IGxpbmVMZWZ0T2Zmc2V0ICogdGhpcy5zY2FsZVg7XG4gICAgbGluZSA9IHRoaXMuX3RleHRMaW5lc1tsaW5lSW5kZXhdO1xuICAgIGZvciAodmFyIGogPSAwLCBqbGVuID0gbGluZS5sZW5ndGg7IGogPCBqbGVuOyBqKyspIHtcbiAgICAgIHByZXZXaWR0aCA9IHdpZHRoO1xuICAgICAgLy8gaSByZW1vdmVkIHNvbWV0aGluZyBhYm91dCBmbGlwWCBoZXJlLCBjaGVjay5cbiAgICAgIHdpZHRoICs9IHRoaXMuX19jaGFyQm91bmRzW2xpbmVJbmRleF1bal0ua2VybmVkV2lkdGggKiB0aGlzLnNjYWxlWDtcbiAgICAgIGlmICh3aWR0aCA8PSBtb3VzZU9mZnNldC54KSB7XG4gICAgICAgIGNoYXJJbmRleCsrO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fZ2V0TmV3U2VsZWN0aW9uU3RhcnRGcm9tT2Zmc2V0KG1vdXNlT2Zmc2V0LCBwcmV2V2lkdGgsIHdpZHRoLCBjaGFySW5kZXgsIGpsZW4pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2dldE5ld1NlbGVjdGlvblN0YXJ0RnJvbU9mZnNldDogZnVuY3Rpb24obW91c2VPZmZzZXQsIHByZXZXaWR0aCwgd2lkdGgsIGluZGV4LCBqbGVuKSB7XG4gICAgLy8gd2UgbmVlZCBNYXRoLmFicyBiZWNhdXNlIHdoZW4gd2lkdGggaXMgYWZ0ZXIgdGhlIGxhc3QgY2hhciwgdGhlIG9mZnNldCBpcyBnaXZlbiBhcyAxLCB3aGlsZSBpcyAwXG4gICAgdmFyIGRpc3RhbmNlQnR3TGFzdENoYXJBbmRDdXJzb3IgPSBtb3VzZU9mZnNldC54IC0gcHJldldpZHRoLFxuICAgICAgICBkaXN0YW5jZUJ0d05leHRDaGFyQW5kQ3Vyc29yID0gd2lkdGggLSBtb3VzZU9mZnNldC54LFxuICAgICAgICBvZmZzZXQgPSBkaXN0YW5jZUJ0d05leHRDaGFyQW5kQ3Vyc29yID4gZGlzdGFuY2VCdHdMYXN0Q2hhckFuZEN1cnNvciB8fFxuICAgICAgICAgIGRpc3RhbmNlQnR3TmV4dENoYXJBbmRDdXJzb3IgPCAwID8gMCA6IDEsXG4gICAgICAgIG5ld1NlbGVjdGlvblN0YXJ0ID0gaW5kZXggKyBvZmZzZXQ7XG4gICAgLy8gaWYgb2JqZWN0IGlzIGhvcml6b250YWxseSBmbGlwcGVkLCBtaXJyb3IgY3Vyc29yIGxvY2F0aW9uIGZyb20gdGhlIGVuZFxuICAgIGlmICh0aGlzLmZsaXBYKSB7XG4gICAgICBuZXdTZWxlY3Rpb25TdGFydCA9IGpsZW4gLSBuZXdTZWxlY3Rpb25TdGFydDtcbiAgICB9XG5cbiAgICBpZiAobmV3U2VsZWN0aW9uU3RhcnQgPiB0aGlzLl90ZXh0Lmxlbmd0aCkge1xuICAgICAgbmV3U2VsZWN0aW9uU3RhcnQgPSB0aGlzLl90ZXh0Lmxlbmd0aDtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3U2VsZWN0aW9uU3RhcnQ7XG4gIH1cbn0pO1xuXG5cbmZhYnJpYy51dGlsLm9iamVjdC5leHRlbmQoZmFicmljLklUZXh0LnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuSVRleHQucHJvdG90eXBlICovIHtcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgaGlkZGVuIHRleHRhcmVhIChuZWVkZWQgdG8gYnJpbmcgdXAga2V5Ym9hcmQgaW4gaU9TKVxuICAgKi9cbiAgaW5pdEhpZGRlblRleHRhcmVhOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmhpZGRlblRleHRhcmVhID0gZmFicmljLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJyk7XG4gICAgdGhpcy5oaWRkZW5UZXh0YXJlYS5zZXRBdHRyaWJ1dGUoJ2F1dG9jYXBpdGFsaXplJywgJ29mZicpO1xuICAgIHRoaXMuaGlkZGVuVGV4dGFyZWEuc2V0QXR0cmlidXRlKCdhdXRvY29ycmVjdCcsICdvZmYnKTtcbiAgICB0aGlzLmhpZGRlblRleHRhcmVhLnNldEF0dHJpYnV0ZSgnYXV0b2NvbXBsZXRlJywgJ29mZicpO1xuICAgIHRoaXMuaGlkZGVuVGV4dGFyZWEuc2V0QXR0cmlidXRlKCdzcGVsbGNoZWNrJywgJ2ZhbHNlJyk7XG4gICAgdGhpcy5oaWRkZW5UZXh0YXJlYS5zZXRBdHRyaWJ1dGUoJ2RhdGEtZmFicmljLWhpZGRlbnRleHRhcmVhJywgJycpO1xuICAgIHRoaXMuaGlkZGVuVGV4dGFyZWEuc2V0QXR0cmlidXRlKCd3cmFwJywgJ29mZicpO1xuICAgIHZhciBzdHlsZSA9IHRoaXMuX2NhbGNUZXh0YXJlYVBvc2l0aW9uKCk7XG4gICAgLy8gbGluZS1oZWlnaHQ6IDFweDsgd2FzIHJlbW92ZWQgZnJvbSB0aGUgc3R5bGUgdG8gZml4IHRoaXM6XG4gICAgLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9ODcwOTY2XG4gICAgdGhpcy5oaWRkZW5UZXh0YXJlYS5zdHlsZS5jc3NUZXh0ID0gJ3Bvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAnICsgc3R5bGUudG9wICtcbiAgICAnOyBsZWZ0OiAnICsgc3R5bGUubGVmdCArICc7IHotaW5kZXg6IC05OTk7IG9wYWNpdHk6IDA7IHdpZHRoOiAxcHg7IGhlaWdodDogMXB4OyBmb250LXNpemU6IDFweDsnICtcbiAgICAnIHBhZGRpbmfvvbB0b3A6ICcgKyBzdHlsZS5mb250U2l6ZSArICc7JztcbiAgICBmYWJyaWMuZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmhpZGRlblRleHRhcmVhKTtcblxuICAgIGZhYnJpYy51dGlsLmFkZExpc3RlbmVyKHRoaXMuaGlkZGVuVGV4dGFyZWEsICdrZXlkb3duJywgdGhpcy5vbktleURvd24uYmluZCh0aGlzKSk7XG4gICAgZmFicmljLnV0aWwuYWRkTGlzdGVuZXIodGhpcy5oaWRkZW5UZXh0YXJlYSwgJ2tleXVwJywgdGhpcy5vbktleVVwLmJpbmQodGhpcykpO1xuICAgIGZhYnJpYy51dGlsLmFkZExpc3RlbmVyKHRoaXMuaGlkZGVuVGV4dGFyZWEsICdpbnB1dCcsIHRoaXMub25JbnB1dC5iaW5kKHRoaXMpKTtcbiAgICBmYWJyaWMudXRpbC5hZGRMaXN0ZW5lcih0aGlzLmhpZGRlblRleHRhcmVhLCAnY29weScsIHRoaXMuY29weS5iaW5kKHRoaXMpKTtcbiAgICBmYWJyaWMudXRpbC5hZGRMaXN0ZW5lcih0aGlzLmhpZGRlblRleHRhcmVhLCAnY3V0JywgdGhpcy5jb3B5LmJpbmQodGhpcykpO1xuICAgIGZhYnJpYy51dGlsLmFkZExpc3RlbmVyKHRoaXMuaGlkZGVuVGV4dGFyZWEsICdwYXN0ZScsIHRoaXMucGFzdGUuYmluZCh0aGlzKSk7XG4gICAgZmFicmljLnV0aWwuYWRkTGlzdGVuZXIodGhpcy5oaWRkZW5UZXh0YXJlYSwgJ2NvbXBvc2l0aW9uc3RhcnQnLCB0aGlzLm9uQ29tcG9zaXRpb25TdGFydC5iaW5kKHRoaXMpKTtcbiAgICBmYWJyaWMudXRpbC5hZGRMaXN0ZW5lcih0aGlzLmhpZGRlblRleHRhcmVhLCAnY29tcG9zaXRpb251cGRhdGUnLCB0aGlzLm9uQ29tcG9zaXRpb25VcGRhdGUuYmluZCh0aGlzKSk7XG4gICAgZmFicmljLnV0aWwuYWRkTGlzdGVuZXIodGhpcy5oaWRkZW5UZXh0YXJlYSwgJ2NvbXBvc2l0aW9uZW5kJywgdGhpcy5vbkNvbXBvc2l0aW9uRW5kLmJpbmQodGhpcykpO1xuXG4gICAgaWYgKCF0aGlzLl9jbGlja0hhbmRsZXJJbml0aWFsaXplZCAmJiB0aGlzLmNhbnZhcykge1xuICAgICAgZmFicmljLnV0aWwuYWRkTGlzdGVuZXIodGhpcy5jYW52YXMudXBwZXJDYW52YXNFbCwgJ2NsaWNrJywgdGhpcy5vbkNsaWNrLmJpbmQodGhpcykpO1xuICAgICAgdGhpcy5fY2xpY2tIYW5kbGVySW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogRm9yIGZ1bmN0aW9uYWxpdGllcyBvbiBrZXlEb3duXG4gICAqIE1hcCBhIHNwZWNpYWwga2V5IHRvIGEgZnVuY3Rpb24gb2YgdGhlIGluc3RhbmNlL3Byb3RvdHlwZVxuICAgKiBJZiB5b3UgbmVlZCBkaWZmZXJlbnQgYmVoYXZpb3VyIGZvciBFU0Mgb3IgVEFCIG9yIGFycm93cywgeW91IGhhdmUgdG8gY2hhbmdlXG4gICAqIHRoaXMgbWFwIHNldHRpbmcgdGhlIG5hbWUgb2YgYSBmdW5jdGlvbiB0aGF0IHlvdSBidWlsZCBvbiB0aGUgZmFicmljLkl0ZXh0IG9yXG4gICAqIHlvdXIgcHJvdG90eXBlLlxuICAgKiB0aGUgbWFwIGNoYW5nZSB3aWxsIGFmZmVjdCBhbGwgSW5zdGFuY2VzIHVubGVzcyB5b3UgbmVlZCBmb3Igb25seSBzb21lIHRleHQgSW5zdGFuY2VzXG4gICAqIGluIHRoYXQgY2FzZSB5b3UgaGF2ZSB0byBjbG9uZSB0aGlzIG9iamVjdCBhbmQgYXNzaWduIHlvdXIgSW5zdGFuY2UuXG4gICAqIHRoaXMua2V5c01hcCA9IGZhYnJpYy51dGlsLm9iamVjdC5jbG9uZSh0aGlzLmtleXNNYXApO1xuICAgKiBUaGUgZnVuY3Rpb24gbXVzdCBiZSBpbiBmYWJyaWMuSXRleHQucHJvdG90eXBlLm15RnVuY3Rpb24gQW5kIHdpbGwgcmVjZWl2ZSBldmVudCBhcyBhcmdzWzBdXG4gICAqL1xuICBrZXlzTWFwOiB7XG4gICAgOTogICdleGl0RWRpdGluZycsXG4gICAgMjc6ICdleGl0RWRpdGluZycsXG4gICAgMzM6ICdtb3ZlQ3Vyc29yVXAnLFxuICAgIDM0OiAnbW92ZUN1cnNvckRvd24nLFxuICAgIDM1OiAnbW92ZUN1cnNvclJpZ2h0JyxcbiAgICAzNjogJ21vdmVDdXJzb3JMZWZ0JyxcbiAgICAzNzogJ21vdmVDdXJzb3JMZWZ0JyxcbiAgICAzODogJ21vdmVDdXJzb3JVcCcsXG4gICAgMzk6ICdtb3ZlQ3Vyc29yUmlnaHQnLFxuICAgIDQwOiAnbW92ZUN1cnNvckRvd24nLFxuICB9LFxuXG4gIC8qKlxuICAgKiBGb3IgZnVuY3Rpb25hbGl0aWVzIG9uIGtleVVwICsgY3RybCB8fCBjbWRcbiAgICovXG4gIGN0cmxLZXlzTWFwVXA6IHtcbiAgICA2NzogJ2NvcHknLFxuICAgIDg4OiAnY3V0J1xuICB9LFxuXG4gIC8qKlxuICAgKiBGb3IgZnVuY3Rpb25hbGl0aWVzIG9uIGtleURvd24gKyBjdHJsIHx8IGNtZFxuICAgKi9cbiAgY3RybEtleXNNYXBEb3duOiB7XG4gICAgNjU6ICdzZWxlY3RBbGwnXG4gIH0sXG5cbiAgb25DbGljazogZnVuY3Rpb24oKSB7XG4gICAgLy8gTm8gbmVlZCB0byB0cmlnZ2VyIGNsaWNrIGV2ZW50IGhlcmUsIGZvY3VzIGlzIGVub3VnaCB0byBoYXZlIHRoZSBrZXlib2FyZCBhcHBlYXIgb24gQW5kcm9pZFxuICAgIHRoaXMuaGlkZGVuVGV4dGFyZWEgJiYgdGhpcy5oaWRkZW5UZXh0YXJlYS5mb2N1cygpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGtleXVwIGV2ZW50XG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICBvbktleURvd246IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoIXRoaXMuaXNFZGl0aW5nIHx8IHRoaXMuaW5Db21wb3NpdGlvbk1vZGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGUua2V5Q29kZSBpbiB0aGlzLmtleXNNYXApIHtcbiAgICAgIHRoaXNbdGhpcy5rZXlzTWFwW2Uua2V5Q29kZV1dKGUpO1xuICAgIH1cbiAgICBlbHNlIGlmICgoZS5rZXlDb2RlIGluIHRoaXMuY3RybEtleXNNYXBEb3duKSAmJiAoZS5jdHJsS2V5IHx8IGUubWV0YUtleSkpIHtcbiAgICAgIHRoaXNbdGhpcy5jdHJsS2V5c01hcERvd25bZS5rZXlDb2RlXV0oZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoZS5rZXlDb2RlID49IDMzICYmIGUua2V5Q29kZSA8PSA0MCkge1xuICAgICAgLy8gaWYgaSBwcmVzcyBhbiBhcnJvdyBrZXkganVzdCB1cGRhdGUgc2VsZWN0aW9uXG4gICAgICB0aGlzLmNsZWFyQ29udGV4dFRvcCgpO1xuICAgICAgdGhpcy5yZW5kZXJDdXJzb3JPclNlbGVjdGlvbigpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLnJlcXVlc3RSZW5kZXJBbGwoKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEhhbmRsZXMga2V5dXAgZXZlbnRcbiAgICogV2UgaGFuZGxlIEtleVVwIGJlY2F1c2UgaWUxMSBhbmQgZWRnZSBoYXZlIGRpZmZpY3VsdGllcyBjb3B5L3Bhc3RpbmdcbiAgICogaWYgYSBjb3B5L2N1dCBldmVudCBmaXJlZCwga2V5dXAgaXMgZGlzbWlzc2VkXG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICBvbktleVVwOiBmdW5jdGlvbihlKSB7XG4gICAgaWYgKCF0aGlzLmlzRWRpdGluZyB8fCB0aGlzLl9jb3B5RG9uZSB8fCB0aGlzLmluQ29tcG9zaXRpb25Nb2RlKSB7XG4gICAgICB0aGlzLl9jb3B5RG9uZSA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoKGUua2V5Q29kZSBpbiB0aGlzLmN0cmxLZXlzTWFwVXApICYmIChlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSkge1xuICAgICAgdGhpc1t0aGlzLmN0cmxLZXlzTWFwVXBbZS5rZXlDb2RlXV0oZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgb25JbnB1dCBldmVudFxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAgb25JbnB1dDogZnVuY3Rpb24oZSkge1xuICAgIHZhciBmcm9tUGFzdGUgPSB0aGlzLmZyb21QYXN0ZTtcbiAgICB0aGlzLmZyb21QYXN0ZSA9IGZhbHNlO1xuICAgIGUgJiYgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAoIXRoaXMuaXNFZGl0aW5nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGRlY2lzaW9ucyBhYm91dCBzdHlsZSBjaGFuZ2VzLlxuICAgIHZhciBuZXh0VGV4dCA9IHRoaXMuX3NwbGl0VGV4dEludG9MaW5lcyh0aGlzLmhpZGRlblRleHRhcmVhLnZhbHVlKS5ncmFwaGVtZVRleHQsXG4gICAgICAgIGNoYXJDb3VudCA9IHRoaXMuX3RleHQubGVuZ3RoLFxuICAgICAgICBuZXh0Q2hhckNvdW50ID0gbmV4dFRleHQubGVuZ3RoLFxuICAgICAgICByZW1vdmVkVGV4dCwgaW5zZXJ0ZWRUZXh0LFxuICAgICAgICBjaGFyRGlmZiA9IG5leHRDaGFyQ291bnQgLSBjaGFyQ291bnQ7XG4gICAgaWYgKHRoaXMuaGlkZGVuVGV4dGFyZWEudmFsdWUgPT09ICcnKSB7XG4gICAgICB0aGlzLnN0eWxlcyA9IHsgfTtcbiAgICAgIHRoaXMudXBkYXRlRnJvbVRleHRBcmVhKCk7XG4gICAgICB0aGlzLmZpcmUoJ2NoYW5nZWQnKTtcbiAgICAgIGlmICh0aGlzLmNhbnZhcykge1xuICAgICAgICB0aGlzLmNhbnZhcy5maXJlKCd0ZXh0OmNoYW5nZWQnLCB7IHRhcmdldDogdGhpcyB9KTtcbiAgICAgICAgdGhpcy5jYW52YXMucmVxdWVzdFJlbmRlckFsbCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB0ZXh0YXJlYVNlbGVjdGlvbiA9IHRoaXMuZnJvbVN0cmluZ1RvR3JhcGhlbWVTZWxlY3Rpb24oXG4gICAgICB0aGlzLmhpZGRlblRleHRhcmVhLnNlbGVjdGlvblN0YXJ0LFxuICAgICAgdGhpcy5oaWRkZW5UZXh0YXJlYS5zZWxlY3Rpb25FbmQsXG4gICAgICB0aGlzLmhpZGRlblRleHRhcmVhLnZhbHVlXG4gICAgKTtcbiAgICB2YXIgYmFja0RlbGV0ZSA9IHRoaXMuc2VsZWN0aW9uU3RhcnQgPiB0ZXh0YXJlYVNlbGVjdGlvbi5zZWxlY3Rpb25TdGFydDtcblxuICAgIGlmICh0aGlzLnNlbGVjdGlvblN0YXJ0ICE9PSB0aGlzLnNlbGVjdGlvbkVuZCkge1xuICAgICAgcmVtb3ZlZFRleHQgPSB0aGlzLl90ZXh0LnNsaWNlKHRoaXMuc2VsZWN0aW9uU3RhcnQsIHRoaXMuc2VsZWN0aW9uRW5kKTtcbiAgICAgIGNoYXJEaWZmICs9IHRoaXMuc2VsZWN0aW9uRW5kIC0gdGhpcy5zZWxlY3Rpb25TdGFydDtcbiAgICB9XG4gICAgZWxzZSBpZiAobmV4dENoYXJDb3VudCA8IGNoYXJDb3VudCkge1xuICAgICAgaWYgKGJhY2tEZWxldGUpIHtcbiAgICAgICAgcmVtb3ZlZFRleHQgPSB0aGlzLl90ZXh0LnNsaWNlKHRoaXMuc2VsZWN0aW9uRW5kICsgY2hhckRpZmYsIHRoaXMuc2VsZWN0aW9uRW5kKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZW1vdmVkVGV4dCA9IHRoaXMuX3RleHQuc2xpY2UodGhpcy5zZWxlY3Rpb25TdGFydCwgdGhpcy5zZWxlY3Rpb25TdGFydCAtIGNoYXJEaWZmKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaW5zZXJ0ZWRUZXh0ID0gbmV4dFRleHQuc2xpY2UodGV4dGFyZWFTZWxlY3Rpb24uc2VsZWN0aW9uRW5kIC0gY2hhckRpZmYsIHRleHRhcmVhU2VsZWN0aW9uLnNlbGVjdGlvbkVuZCk7XG4gICAgaWYgKHJlbW92ZWRUZXh0ICYmIHJlbW92ZWRUZXh0Lmxlbmd0aCkge1xuICAgICAgaWYgKHRoaXMuc2VsZWN0aW9uU3RhcnQgIT09IHRoaXMuc2VsZWN0aW9uRW5kKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlU3R5bGVGcm9tVG8odGhpcy5zZWxlY3Rpb25TdGFydCwgdGhpcy5zZWxlY3Rpb25FbmQpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoYmFja0RlbGV0ZSkge1xuICAgICAgICAvLyBkZXRlY3QgZGlmZmVyZW5jaWVzIGJldHdlZW4gZm9yd2FyZERlbGV0ZSBhbmQgYmFja0RlbGV0ZVxuICAgICAgICB0aGlzLnJlbW92ZVN0eWxlRnJvbVRvKHRoaXMuc2VsZWN0aW9uRW5kIC0gcmVtb3ZlZFRleHQubGVuZ3RoLCB0aGlzLnNlbGVjdGlvbkVuZCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgdGhpcy5yZW1vdmVTdHlsZUZyb21Ubyh0aGlzLnNlbGVjdGlvbkVuZCwgdGhpcy5zZWxlY3Rpb25FbmQgKyByZW1vdmVkVGV4dC5sZW5ndGgpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaW5zZXJ0ZWRUZXh0Lmxlbmd0aCkge1xuICAgICAgaWYgKGZyb21QYXN0ZSAmJiBpbnNlcnRlZFRleHQuam9pbignJykgPT09IGZhYnJpYy5jb3BpZWRUZXh0ICYmICFmYWJyaWMuZGlzYWJsZVN0eWxlQ29weVBhc3RlKSB7XG4gICAgICAgIHRoaXMuaW5zZXJ0TmV3U3R5bGVCbG9jayhpbnNlcnRlZFRleHQsIHRoaXMuc2VsZWN0aW9uU3RhcnQsIGZhYnJpYy5jb3BpZWRUZXh0U3R5bGUpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuaW5zZXJ0TmV3U3R5bGVCbG9jayhpbnNlcnRlZFRleHQsIHRoaXMuc2VsZWN0aW9uU3RhcnQpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnVwZGF0ZUZyb21UZXh0QXJlYSgpO1xuICAgIHRoaXMuZmlyZSgnY2hhbmdlZCcpO1xuICAgIGlmICh0aGlzLmNhbnZhcykge1xuICAgICAgdGhpcy5jYW52YXMuZmlyZSgndGV4dDpjaGFuZ2VkJywgeyB0YXJnZXQ6IHRoaXMgfSk7XG4gICAgICB0aGlzLmNhbnZhcy5yZXF1ZXN0UmVuZGVyQWxsKCk7XG4gICAgfVxuICB9LFxuICAvKipcbiAgICogQ29tcG9zaXRpb24gc3RhcnRcbiAgICovXG4gIG9uQ29tcG9zaXRpb25TdGFydDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pbkNvbXBvc2l0aW9uTW9kZSA9IHRydWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENvbXBvc2l0aW9uIGVuZFxuICAgKi9cbiAgb25Db21wb3NpdGlvbkVuZDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pbkNvbXBvc2l0aW9uTW9kZSA9IGZhbHNlO1xuICB9LFxuXG4gIC8vIC8qKlxuICAvLyAgKiBDb21wb3NpdGlvbiB1cGRhdGVcbiAgLy8gICovXG4gIG9uQ29tcG9zaXRpb25VcGRhdGU6IGZ1bmN0aW9uKGUpIHtcbiAgICB0aGlzLmNvbXBvc2l0aW9uU3RhcnQgPSBlLnRhcmdldC5zZWxlY3Rpb25TdGFydDtcbiAgICB0aGlzLmNvbXBvc2l0aW9uRW5kID0gZS50YXJnZXQuc2VsZWN0aW9uRW5kO1xuICAgIHRoaXMudXBkYXRlVGV4dGFyZWFQb3NpdGlvbigpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDb3BpZXMgc2VsZWN0ZWQgdGV4dFxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAgY29weTogZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuc2VsZWN0aW9uU3RhcnQgPT09IHRoaXMuc2VsZWN0aW9uRW5kKSB7XG4gICAgICAvL2RvIG5vdCBjdXQtY29weSBpZiBubyBzZWxlY3Rpb25cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmYWJyaWMuY29waWVkVGV4dCA9IHRoaXMuZ2V0U2VsZWN0ZWRUZXh0KCk7XG4gICAgaWYgKCFmYWJyaWMuZGlzYWJsZVN0eWxlQ29weVBhc3RlKSB7XG4gICAgICBmYWJyaWMuY29waWVkVGV4dFN0eWxlID0gdGhpcy5nZXRTZWxlY3Rpb25TdHlsZXModGhpcy5zZWxlY3Rpb25TdGFydCwgdGhpcy5zZWxlY3Rpb25FbmQsIHRydWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGZhYnJpYy5jb3BpZWRUZXh0U3R5bGUgPSBudWxsO1xuICAgIH1cbiAgICB0aGlzLl9jb3B5RG9uZSA9IHRydWU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFBhc3RlcyB0ZXh0XG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICBwYXN0ZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5mcm9tUGFzdGUgPSB0cnVlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKiBAcmV0dXJuIHtPYmplY3R9IENsaXBib2FyZCBkYXRhIG9iamVjdFxuICAgKi9cbiAgX2dldENsaXBib2FyZERhdGE6IGZ1bmN0aW9uKGUpIHtcbiAgICByZXR1cm4gKGUgJiYgZS5jbGlwYm9hcmREYXRhKSB8fCBmYWJyaWMud2luZG93LmNsaXBib2FyZERhdGE7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEZpbmRzIHRoZSB3aWR0aCBpbiBwaXhlbHMgYmVmb3JlIHRoZSBjdXJzb3Igb24gdGhlIHNhbWUgbGluZVxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBjaGFySW5kZXhcbiAgICogQHJldHVybiB7TnVtYmVyfSB3aWR0aEJlZm9yZUN1cnNvciB3aWR0aCBiZWZvcmUgY3Vyc29yXG4gICAqL1xuICBfZ2V0V2lkdGhCZWZvcmVDdXJzb3I6IGZ1bmN0aW9uKGxpbmVJbmRleCwgY2hhckluZGV4KSB7XG4gICAgdmFyIHdpZHRoQmVmb3JlQ3Vyc29yID0gdGhpcy5fZ2V0TGluZUxlZnRPZmZzZXQobGluZUluZGV4KSwgYm91bmQ7XG5cbiAgICBpZiAoY2hhckluZGV4ID4gMCkge1xuICAgICAgYm91bmQgPSB0aGlzLl9fY2hhckJvdW5kc1tsaW5lSW5kZXhdW2NoYXJJbmRleCAtIDFdO1xuICAgICAgd2lkdGhCZWZvcmVDdXJzb3IgKz0gYm91bmQubGVmdCArIGJvdW5kLndpZHRoO1xuICAgIH1cbiAgICByZXR1cm4gd2lkdGhCZWZvcmVDdXJzb3I7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldHMgc3RhcnQgb2Zmc2V0IG9mIGEgc2VsZWN0aW9uXG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNSaWdodFxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAqL1xuICBnZXREb3duQ3Vyc29yT2Zmc2V0OiBmdW5jdGlvbihlLCBpc1JpZ2h0KSB7XG4gICAgdmFyIHNlbGVjdGlvblByb3AgPSB0aGlzLl9nZXRTZWxlY3Rpb25Gb3JPZmZzZXQoZSwgaXNSaWdodCksXG4gICAgICAgIGN1cnNvckxvY2F0aW9uID0gdGhpcy5nZXQyREN1cnNvckxvY2F0aW9uKHNlbGVjdGlvblByb3ApLFxuICAgICAgICBsaW5lSW5kZXggPSBjdXJzb3JMb2NhdGlvbi5saW5lSW5kZXg7XG4gICAgLy8gaWYgb24gbGFzdCBsaW5lLCBkb3duIGN1cnNvciBnb2VzIHRvIGVuZCBvZiBsaW5lXG4gICAgaWYgKGxpbmVJbmRleCA9PT0gdGhpcy5fdGV4dExpbmVzLmxlbmd0aCAtIDEgfHwgZS5tZXRhS2V5IHx8IGUua2V5Q29kZSA9PT0gMzQpIHtcbiAgICAgIC8vIG1vdmUgdG8gdGhlIGVuZCBvZiBhIHRleHRcbiAgICAgIHJldHVybiB0aGlzLl90ZXh0Lmxlbmd0aCAtIHNlbGVjdGlvblByb3A7XG4gICAgfVxuICAgIHZhciBjaGFySW5kZXggPSBjdXJzb3JMb2NhdGlvbi5jaGFySW5kZXgsXG4gICAgICAgIHdpZHRoQmVmb3JlQ3Vyc29yID0gdGhpcy5fZ2V0V2lkdGhCZWZvcmVDdXJzb3IobGluZUluZGV4LCBjaGFySW5kZXgpLFxuICAgICAgICBpbmRleE9uT3RoZXJMaW5lID0gdGhpcy5fZ2V0SW5kZXhPbkxpbmUobGluZUluZGV4ICsgMSwgd2lkdGhCZWZvcmVDdXJzb3IpLFxuICAgICAgICB0ZXh0QWZ0ZXJDdXJzb3IgPSB0aGlzLl90ZXh0TGluZXNbbGluZUluZGV4XS5zbGljZShjaGFySW5kZXgpO1xuICAgIHJldHVybiB0ZXh0QWZ0ZXJDdXJzb3IubGVuZ3RoICsgaW5kZXhPbk90aGVyTGluZSArIDEgKyB0aGlzLm1pc3NpbmdOZXdsaW5lT2Zmc2V0KGxpbmVJbmRleCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIHByaXZhdGVcbiAgICogSGVscHMgZmluZGluZyBpZiB0aGUgb2Zmc2V0IHNob3VsZCBiZSBjb3VudGVkIGZyb20gU3RhcnQgb3IgRW5kXG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNSaWdodFxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAqL1xuICBfZ2V0U2VsZWN0aW9uRm9yT2Zmc2V0OiBmdW5jdGlvbihlLCBpc1JpZ2h0KSB7XG4gICAgaWYgKGUuc2hpZnRLZXkgJiYgdGhpcy5zZWxlY3Rpb25TdGFydCAhPT0gdGhpcy5zZWxlY3Rpb25FbmQgJiYgaXNSaWdodCkge1xuICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0aW9uRW5kO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnNlbGVjdGlvblN0YXJ0O1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICogQHBhcmFtIHtCb29sZWFufSBpc1JpZ2h0XG4gICAqIEByZXR1cm4ge051bWJlcn1cbiAgICovXG4gIGdldFVwQ3Vyc29yT2Zmc2V0OiBmdW5jdGlvbihlLCBpc1JpZ2h0KSB7XG4gICAgdmFyIHNlbGVjdGlvblByb3AgPSB0aGlzLl9nZXRTZWxlY3Rpb25Gb3JPZmZzZXQoZSwgaXNSaWdodCksXG4gICAgICAgIGN1cnNvckxvY2F0aW9uID0gdGhpcy5nZXQyREN1cnNvckxvY2F0aW9uKHNlbGVjdGlvblByb3ApLFxuICAgICAgICBsaW5lSW5kZXggPSBjdXJzb3JMb2NhdGlvbi5saW5lSW5kZXg7XG4gICAgaWYgKGxpbmVJbmRleCA9PT0gMCB8fCBlLm1ldGFLZXkgfHwgZS5rZXlDb2RlID09PSAzMykge1xuICAgICAgLy8gaWYgb24gZmlyc3QgbGluZSwgdXAgY3Vyc29yIGdvZXMgdG8gc3RhcnQgb2YgbGluZVxuICAgICAgcmV0dXJuIC1zZWxlY3Rpb25Qcm9wO1xuICAgIH1cbiAgICB2YXIgY2hhckluZGV4ID0gY3Vyc29yTG9jYXRpb24uY2hhckluZGV4LFxuICAgICAgICB3aWR0aEJlZm9yZUN1cnNvciA9IHRoaXMuX2dldFdpZHRoQmVmb3JlQ3Vyc29yKGxpbmVJbmRleCwgY2hhckluZGV4KSxcbiAgICAgICAgaW5kZXhPbk90aGVyTGluZSA9IHRoaXMuX2dldEluZGV4T25MaW5lKGxpbmVJbmRleCAtIDEsIHdpZHRoQmVmb3JlQ3Vyc29yKSxcbiAgICAgICAgdGV4dEJlZm9yZUN1cnNvciA9IHRoaXMuX3RleHRMaW5lc1tsaW5lSW5kZXhdLnNsaWNlKDAsIGNoYXJJbmRleCksXG4gICAgICAgIG1pc3NpbmdOZXdsaW5lT2Zmc2V0ID0gdGhpcy5taXNzaW5nTmV3bGluZU9mZnNldChsaW5lSW5kZXggLSAxKTtcbiAgICAvLyByZXR1cm4gYSBuZWdhdGl2ZSBvZmZzZXRcbiAgICByZXR1cm4gLXRoaXMuX3RleHRMaW5lc1tsaW5lSW5kZXggLSAxXS5sZW5ndGhcbiAgICAgKyBpbmRleE9uT3RoZXJMaW5lIC0gdGV4dEJlZm9yZUN1cnNvci5sZW5ndGggKyAoMSAtIG1pc3NpbmdOZXdsaW5lT2Zmc2V0KTtcbiAgfSxcblxuICAvKipcbiAgICogZm9yIGEgZ2l2ZW4gd2lkdGggaXQgZm91bmRzIHRoZSBtYXRjaGluZyBjaGFyYWN0ZXIuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZ2V0SW5kZXhPbkxpbmU6IGZ1bmN0aW9uKGxpbmVJbmRleCwgd2lkdGgpIHtcblxuICAgIHZhciBsaW5lID0gdGhpcy5fdGV4dExpbmVzW2xpbmVJbmRleF0sXG4gICAgICAgIGxpbmVMZWZ0T2Zmc2V0ID0gdGhpcy5fZ2V0TGluZUxlZnRPZmZzZXQobGluZUluZGV4KSxcbiAgICAgICAgd2lkdGhPZkNoYXJzT25MaW5lID0gbGluZUxlZnRPZmZzZXQsXG4gICAgICAgIGluZGV4T25MaW5lID0gMCwgY2hhcldpZHRoLCBmb3VuZE1hdGNoO1xuXG4gICAgZm9yICh2YXIgaiA9IDAsIGpsZW4gPSBsaW5lLmxlbmd0aDsgaiA8IGpsZW47IGorKykge1xuICAgICAgY2hhcldpZHRoID0gdGhpcy5fX2NoYXJCb3VuZHNbbGluZUluZGV4XVtqXS53aWR0aDtcbiAgICAgIHdpZHRoT2ZDaGFyc09uTGluZSArPSBjaGFyV2lkdGg7XG4gICAgICBpZiAod2lkdGhPZkNoYXJzT25MaW5lID4gd2lkdGgpIHtcbiAgICAgICAgZm91bmRNYXRjaCA9IHRydWU7XG4gICAgICAgIHZhciBsZWZ0RWRnZSA9IHdpZHRoT2ZDaGFyc09uTGluZSAtIGNoYXJXaWR0aCxcbiAgICAgICAgICAgIHJpZ2h0RWRnZSA9IHdpZHRoT2ZDaGFyc09uTGluZSxcbiAgICAgICAgICAgIG9mZnNldEZyb21MZWZ0RWRnZSA9IE1hdGguYWJzKGxlZnRFZGdlIC0gd2lkdGgpLFxuICAgICAgICAgICAgb2Zmc2V0RnJvbVJpZ2h0RWRnZSA9IE1hdGguYWJzKHJpZ2h0RWRnZSAtIHdpZHRoKTtcblxuICAgICAgICBpbmRleE9uTGluZSA9IG9mZnNldEZyb21SaWdodEVkZ2UgPCBvZmZzZXRGcm9tTGVmdEVkZ2UgPyBqIDogKGogLSAxKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gcmVhY2hlZCBlbmRcbiAgICBpZiAoIWZvdW5kTWF0Y2gpIHtcbiAgICAgIGluZGV4T25MaW5lID0gbGluZS5sZW5ndGggLSAxO1xuICAgIH1cblxuICAgIHJldHVybiBpbmRleE9uTGluZTtcbiAgfSxcblxuXG4gIC8qKlxuICAgKiBNb3ZlcyBjdXJzb3IgZG93blxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAgbW92ZUN1cnNvckRvd246IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAodGhpcy5zZWxlY3Rpb25TdGFydCA+PSB0aGlzLl90ZXh0Lmxlbmd0aCAmJiB0aGlzLnNlbGVjdGlvbkVuZCA+PSB0aGlzLl90ZXh0Lmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9tb3ZlQ3Vyc29yVXBPckRvd24oJ0Rvd24nLCBlKTtcbiAgfSxcblxuICAvKipcbiAgICogTW92ZXMgY3Vyc29yIHVwXG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICBtb3ZlQ3Vyc29yVXA6IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAodGhpcy5zZWxlY3Rpb25TdGFydCA9PT0gMCAmJiB0aGlzLnNlbGVjdGlvbkVuZCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9tb3ZlQ3Vyc29yVXBPckRvd24oJ1VwJywgZSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vdmVzIGN1cnNvciB1cCBvciBkb3duLCBmaXJlcyB0aGUgZXZlbnRzXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBkaXJlY3Rpb24gJ1VwJyBvciAnRG93bidcbiAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICovXG4gIF9tb3ZlQ3Vyc29yVXBPckRvd246IGZ1bmN0aW9uKGRpcmVjdGlvbiwgZSkge1xuICAgIC8vIGdldFVwQ3Vyc29yT2Zmc2V0XG4gICAgLy8gZ2V0RG93bkN1cnNvck9mZnNldFxuICAgIHZhciBhY3Rpb24gPSAnZ2V0JyArIGRpcmVjdGlvbiArICdDdXJzb3JPZmZzZXQnLFxuICAgICAgICBvZmZzZXQgPSB0aGlzW2FjdGlvbl0oZSwgdGhpcy5fc2VsZWN0aW9uRGlyZWN0aW9uID09PSAncmlnaHQnKTtcbiAgICBpZiAoZS5zaGlmdEtleSkge1xuICAgICAgdGhpcy5tb3ZlQ3Vyc29yV2l0aFNoaWZ0KG9mZnNldCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5tb3ZlQ3Vyc29yV2l0aG91dFNoaWZ0KG9mZnNldCk7XG4gICAgfVxuICAgIGlmIChvZmZzZXQgIT09IDApIHtcbiAgICAgIHRoaXMuc2V0U2VsZWN0aW9uSW5Cb3VuZGFyaWVzKCk7XG4gICAgICB0aGlzLmFib3J0Q3Vyc29yQW5pbWF0aW9uKCk7XG4gICAgICB0aGlzLl9jdXJyZW50Q3Vyc29yT3BhY2l0eSA9IDE7XG4gICAgICB0aGlzLmluaXREZWxheWVkQ3Vyc29yKCk7XG4gICAgICB0aGlzLl9maXJlU2VsZWN0aW9uQ2hhbmdlZCgpO1xuICAgICAgdGhpcy5fdXBkYXRlVGV4dGFyZWEoKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vdmVzIGN1cnNvciB3aXRoIHNoaWZ0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBvZmZzZXRcbiAgICovXG4gIG1vdmVDdXJzb3JXaXRoU2hpZnQ6IGZ1bmN0aW9uKG9mZnNldCkge1xuICAgIHZhciBuZXdTZWxlY3Rpb24gPSB0aGlzLl9zZWxlY3Rpb25EaXJlY3Rpb24gPT09ICdsZWZ0J1xuICAgICAgPyB0aGlzLnNlbGVjdGlvblN0YXJ0ICsgb2Zmc2V0XG4gICAgICA6IHRoaXMuc2VsZWN0aW9uRW5kICsgb2Zmc2V0O1xuICAgIHRoaXMuc2V0U2VsZWN0aW9uU3RhcnRFbmRXaXRoU2hpZnQodGhpcy5zZWxlY3Rpb25TdGFydCwgdGhpcy5zZWxlY3Rpb25FbmQsIG5ld1NlbGVjdGlvbik7XG4gICAgcmV0dXJuIG9mZnNldCAhPT0gMDtcbiAgfSxcblxuICAvKipcbiAgICogTW92ZXMgY3Vyc29yIHVwIHdpdGhvdXQgc2hpZnRcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG9mZnNldFxuICAgKi9cbiAgbW92ZUN1cnNvcldpdGhvdXRTaGlmdDogZnVuY3Rpb24ob2Zmc2V0KSB7XG4gICAgaWYgKG9mZnNldCA8IDApIHtcbiAgICAgIHRoaXMuc2VsZWN0aW9uU3RhcnQgKz0gb2Zmc2V0O1xuICAgICAgdGhpcy5zZWxlY3Rpb25FbmQgPSB0aGlzLnNlbGVjdGlvblN0YXJ0O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuc2VsZWN0aW9uRW5kICs9IG9mZnNldDtcbiAgICAgIHRoaXMuc2VsZWN0aW9uU3RhcnQgPSB0aGlzLnNlbGVjdGlvbkVuZDtcbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldCAhPT0gMDtcbiAgfSxcblxuICAvKipcbiAgICogTW92ZXMgY3Vyc29yIGxlZnRcbiAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICovXG4gIG1vdmVDdXJzb3JMZWZ0OiBmdW5jdGlvbihlKSB7XG4gICAgaWYgKHRoaXMuc2VsZWN0aW9uU3RhcnQgPT09IDAgJiYgdGhpcy5zZWxlY3Rpb25FbmQgPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fbW92ZUN1cnNvckxlZnRPclJpZ2h0KCdMZWZ0JywgZSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IHRydWUgaWYgYSBjaGFuZ2UgaGFwcGVuZWRcbiAgICovXG4gIF9tb3ZlOiBmdW5jdGlvbihlLCBwcm9wLCBkaXJlY3Rpb24pIHtcbiAgICB2YXIgbmV3VmFsdWU7XG4gICAgaWYgKGUuYWx0S2V5KSB7XG4gICAgICBuZXdWYWx1ZSA9IHRoaXNbJ2ZpbmRXb3JkQm91bmRhcnknICsgZGlyZWN0aW9uXSh0aGlzW3Byb3BdKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZS5tZXRhS2V5IHx8IGUua2V5Q29kZSA9PT0gMzUgfHwgIGUua2V5Q29kZSA9PT0gMzYgKSB7XG4gICAgICBuZXdWYWx1ZSA9IHRoaXNbJ2ZpbmRMaW5lQm91bmRhcnknICsgZGlyZWN0aW9uXSh0aGlzW3Byb3BdKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzW3Byb3BdICs9IGRpcmVjdGlvbiA9PT0gJ0xlZnQnID8gLTEgOiAxO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgbmV3VmFsdWUgIT09IHVuZGVmaW5lZCAmJiB0aGlzW3Byb3BdICE9PSBuZXdWYWx1ZSkge1xuICAgICAgdGhpc1twcm9wXSA9IG5ld1ZhbHVlO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX21vdmVMZWZ0OiBmdW5jdGlvbihlLCBwcm9wKSB7XG4gICAgcmV0dXJuIHRoaXMuX21vdmUoZSwgcHJvcCwgJ0xlZnQnKTtcbiAgfSxcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9tb3ZlUmlnaHQ6IGZ1bmN0aW9uKGUsIHByb3ApIHtcbiAgICByZXR1cm4gdGhpcy5fbW92ZShlLCBwcm9wLCAnUmlnaHQnKTtcbiAgfSxcblxuICAvKipcbiAgICogTW92ZXMgY3Vyc29yIGxlZnQgd2l0aG91dCBrZWVwaW5nIHNlbGVjdGlvblxuICAgKiBAcGFyYW0ge0V2ZW50fSBlXG4gICAqL1xuICBtb3ZlQ3Vyc29yTGVmdFdpdGhvdXRTaGlmdDogZnVuY3Rpb24oZSkge1xuICAgIHZhciBjaGFuZ2UgPSB0cnVlO1xuICAgIHRoaXMuX3NlbGVjdGlvbkRpcmVjdGlvbiA9ICdsZWZ0JztcblxuICAgIC8vIG9ubHkgbW92ZSBjdXJzb3Igd2hlbiB0aGVyZSBpcyBubyBzZWxlY3Rpb24sXG4gICAgLy8gb3RoZXJ3aXNlIHdlIGRpc2NhcmQgaXQsIGFuZCBsZWF2ZSBjdXJzb3Igb24gc2FtZSBwbGFjZVxuICAgIGlmICh0aGlzLnNlbGVjdGlvbkVuZCA9PT0gdGhpcy5zZWxlY3Rpb25TdGFydCAmJiB0aGlzLnNlbGVjdGlvblN0YXJ0ICE9PSAwKSB7XG4gICAgICBjaGFuZ2UgPSB0aGlzLl9tb3ZlTGVmdChlLCAnc2VsZWN0aW9uU3RhcnQnKTtcblxuICAgIH1cbiAgICB0aGlzLnNlbGVjdGlvbkVuZCA9IHRoaXMuc2VsZWN0aW9uU3RhcnQ7XG4gICAgcmV0dXJuIGNoYW5nZTtcbiAgfSxcblxuICAvKipcbiAgICogTW92ZXMgY3Vyc29yIGxlZnQgd2hpbGUga2VlcGluZyBzZWxlY3Rpb25cbiAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgKi9cbiAgbW92ZUN1cnNvckxlZnRXaXRoU2hpZnQ6IGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAodGhpcy5fc2VsZWN0aW9uRGlyZWN0aW9uID09PSAncmlnaHQnICYmIHRoaXMuc2VsZWN0aW9uU3RhcnQgIT09IHRoaXMuc2VsZWN0aW9uRW5kKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbW92ZUxlZnQoZSwgJ3NlbGVjdGlvbkVuZCcpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLnNlbGVjdGlvblN0YXJ0ICE9PSAwKXtcbiAgICAgIHRoaXMuX3NlbGVjdGlvbkRpcmVjdGlvbiA9ICdsZWZ0JztcbiAgICAgIHJldHVybiB0aGlzLl9tb3ZlTGVmdChlLCAnc2VsZWN0aW9uU3RhcnQnKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vdmVzIGN1cnNvciByaWdodFxuICAgKiBAcGFyYW0ge0V2ZW50fSBlIEV2ZW50IG9iamVjdFxuICAgKi9cbiAgbW92ZUN1cnNvclJpZ2h0OiBmdW5jdGlvbihlKSB7XG4gICAgaWYgKHRoaXMuc2VsZWN0aW9uU3RhcnQgPj0gdGhpcy5fdGV4dC5sZW5ndGggJiYgdGhpcy5zZWxlY3Rpb25FbmQgPj0gdGhpcy5fdGV4dC5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fbW92ZUN1cnNvckxlZnRPclJpZ2h0KCdSaWdodCcsIGUpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBNb3ZlcyBjdXJzb3IgcmlnaHQgb3IgTGVmdCwgZmlyZXMgZXZlbnRcbiAgICogQHBhcmFtIHtTdHJpbmd9IGRpcmVjdGlvbiAnTGVmdCcsICdSaWdodCdcbiAgICogQHBhcmFtIHtFdmVudH0gZSBFdmVudCBvYmplY3RcbiAgICovXG4gIF9tb3ZlQ3Vyc29yTGVmdE9yUmlnaHQ6IGZ1bmN0aW9uKGRpcmVjdGlvbiwgZSkge1xuICAgIHZhciBhY3Rpb25OYW1lID0gJ21vdmVDdXJzb3InICsgZGlyZWN0aW9uICsgJ1dpdGgnO1xuICAgIHRoaXMuX2N1cnJlbnRDdXJzb3JPcGFjaXR5ID0gMTtcblxuICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICBhY3Rpb25OYW1lICs9ICdTaGlmdCc7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgYWN0aW9uTmFtZSArPSAnb3V0U2hpZnQnO1xuICAgIH1cbiAgICBpZiAodGhpc1thY3Rpb25OYW1lXShlKSkge1xuICAgICAgdGhpcy5hYm9ydEN1cnNvckFuaW1hdGlvbigpO1xuICAgICAgdGhpcy5pbml0RGVsYXllZEN1cnNvcigpO1xuICAgICAgdGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZWQoKTtcbiAgICAgIHRoaXMuX3VwZGF0ZVRleHRhcmVhKCk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBNb3ZlcyBjdXJzb3IgcmlnaHQgd2hpbGUga2VlcGluZyBzZWxlY3Rpb25cbiAgICogQHBhcmFtIHtFdmVudH0gZVxuICAgKi9cbiAgbW92ZUN1cnNvclJpZ2h0V2l0aFNoaWZ0OiBmdW5jdGlvbihlKSB7XG4gICAgaWYgKHRoaXMuX3NlbGVjdGlvbkRpcmVjdGlvbiA9PT0gJ2xlZnQnICYmIHRoaXMuc2VsZWN0aW9uU3RhcnQgIT09IHRoaXMuc2VsZWN0aW9uRW5kKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbW92ZVJpZ2h0KGUsICdzZWxlY3Rpb25TdGFydCcpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0aGlzLnNlbGVjdGlvbkVuZCAhPT0gdGhpcy5fdGV4dC5sZW5ndGgpIHtcbiAgICAgIHRoaXMuX3NlbGVjdGlvbkRpcmVjdGlvbiA9ICdyaWdodCc7XG4gICAgICByZXR1cm4gdGhpcy5fbW92ZVJpZ2h0KGUsICdzZWxlY3Rpb25FbmQnKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIE1vdmVzIGN1cnNvciByaWdodCB3aXRob3V0IGtlZXBpbmcgc2VsZWN0aW9uXG4gICAqIEBwYXJhbSB7RXZlbnR9IGUgRXZlbnQgb2JqZWN0XG4gICAqL1xuICBtb3ZlQ3Vyc29yUmlnaHRXaXRob3V0U2hpZnQ6IGZ1bmN0aW9uKGUpIHtcbiAgICB2YXIgY2hhbmdlZCA9IHRydWU7XG4gICAgdGhpcy5fc2VsZWN0aW9uRGlyZWN0aW9uID0gJ3JpZ2h0JztcblxuICAgIGlmICh0aGlzLnNlbGVjdGlvblN0YXJ0ID09PSB0aGlzLnNlbGVjdGlvbkVuZCkge1xuICAgICAgY2hhbmdlZCA9IHRoaXMuX21vdmVSaWdodChlLCAnc2VsZWN0aW9uU3RhcnQnKTtcbiAgICAgIHRoaXMuc2VsZWN0aW9uRW5kID0gdGhpcy5zZWxlY3Rpb25TdGFydDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLnNlbGVjdGlvblN0YXJ0ID0gdGhpcy5zZWxlY3Rpb25FbmQ7XG4gICAgfVxuICAgIHJldHVybiBjaGFuZ2VkO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGNoYXJhY3RlcnMgZnJvbSBzdGFydC9lbmRcbiAgICogc3RhcnQvZW5kIGFyIHBlciBncmFwaGVtZSBwb3NpdGlvbiBpbiBfdGV4dCBhcnJheS5cbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHN0YXJ0XG4gICAqIEBwYXJhbSB7TnVtYmVyfSBlbmQgZGVmYXVsdCB0byBzdGFydCArIDFcbiAgICovXG4gIHJlbW92ZUNoYXJzOiBmdW5jdGlvbihzdGFydCwgZW5kKSB7XG4gICAgaWYgKHR5cGVvZiBlbmQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBlbmQgPSBzdGFydCArIDE7XG4gICAgfVxuICAgIHRoaXMucmVtb3ZlU3R5bGVGcm9tVG8oc3RhcnQsIGVuZCk7XG4gICAgdGhpcy5fdGV4dC5zcGxpY2Uoc3RhcnQsIGVuZCAtIHN0YXJ0KTtcbiAgICB0aGlzLnRleHQgPSB0aGlzLl90ZXh0LmpvaW4oJycpO1xuICAgIHRoaXMuc2V0KCdkaXJ0eScsIHRydWUpO1xuICAgIGlmICh0aGlzLl9zaG91bGRDbGVhckRpbWVuc2lvbkNhY2hlKCkpIHtcbiAgICAgIHRoaXMuaW5pdERpbWVuc2lvbnMoKTtcbiAgICAgIHRoaXMuc2V0Q29vcmRzKCk7XG4gICAgfVxuICAgIHRoaXMuX3JlbW92ZUV4dHJhbmVvdXNTdHlsZXMoKTtcbiAgfSxcblxuICAvKipcbiAgICogaW5zZXJ0IGNoYXJhY3RlcnMgYXQgc3RhcnQgcG9zaXRpb24sIGJlZm9yZSBzdGFydCBwb3NpdGlvbi5cbiAgICogc3RhcnQgIGVxdWFsIDEgaXQgbWVhbnMgdGhlIHRleHQgZ2V0IGluc2VydGVkIGJldHdlZW4gYWN0dWFsIGdyYXBoZW1lIDAgYW5kIDFcbiAgICogaWYgc3R5bGUgYXJyYXkgaXMgcHJvdmlkZWQsIGl0IG11c3QgYmUgYXMgdGhlIHNhbWUgbGVuZ3RoIG9mIHRleHQgaW4gZ3JhcGhlbWVzXG4gICAqIGlmIGVuZCBpcyBwcm92aWRlZCBhbmQgaXMgYmlnZ2VyIHRoYW4gc3RhcnQsIG9sZCB0ZXh0IGlzIHJlcGxhY2VkLlxuICAgKiBzdGFydC9lbmQgYXIgcGVyIGdyYXBoZW1lIHBvc2l0aW9uIGluIF90ZXh0IGFycmF5LlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dCB0ZXh0IHRvIGluc2VydFxuICAgKiBAcGFyYW0ge0FycmF5fSBzdHlsZSBhcnJheSBvZiBzdHlsZSBvYmplY3RzXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydFxuICAgKiBAcGFyYW0ge051bWJlcn0gZW5kIGRlZmF1bHQgdG8gc3RhcnQgKyAxXG4gICAqL1xuICBpbnNlcnRDaGFyczogZnVuY3Rpb24odGV4dCwgc3R5bGUsIHN0YXJ0LCBlbmQpIHtcbiAgICBpZiAodHlwZW9mIGVuZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGVuZCA9IHN0YXJ0O1xuICAgIH1cbiAgICBpZiAoZW5kID4gc3RhcnQpIHtcbiAgICAgIHRoaXMucmVtb3ZlU3R5bGVGcm9tVG8oc3RhcnQsIGVuZCk7XG4gICAgfVxuICAgIHZhciBncmFwaGVtZXMgPSBmYWJyaWMudXRpbC5zdHJpbmcuZ3JhcGhlbWVTcGxpdCh0ZXh0KTtcbiAgICB0aGlzLmluc2VydE5ld1N0eWxlQmxvY2soZ3JhcGhlbWVzLCBzdGFydCwgc3R5bGUpO1xuICAgIHRoaXMuX3RleHQgPSBbXS5jb25jYXQodGhpcy5fdGV4dC5zbGljZSgwLCBzdGFydCksIGdyYXBoZW1lcywgdGhpcy5fdGV4dC5zbGljZShlbmQpKTtcbiAgICB0aGlzLnRleHQgPSB0aGlzLl90ZXh0LmpvaW4oJycpO1xuICAgIHRoaXMuc2V0KCdkaXJ0eScsIHRydWUpO1xuICAgIGlmICh0aGlzLl9zaG91bGRDbGVhckRpbWVuc2lvbkNhY2hlKCkpIHtcbiAgICAgIHRoaXMuaW5pdERpbWVuc2lvbnMoKTtcbiAgICAgIHRoaXMuc2V0Q29vcmRzKCk7XG4gICAgfVxuICAgIHRoaXMuX3JlbW92ZUV4dHJhbmVvdXNTdHlsZXMoKTtcbiAgfSxcblxufSk7XG5cblxuLyogX1RPX1NWR19TVEFSVF8gKi9cbihmdW5jdGlvbigpIHtcbiAgdmFyIHRvRml4ZWQgPSBmYWJyaWMudXRpbC50b0ZpeGVkLFxuICAgICAgbXVsdGlwbGVTcGFjZXNSZWdleCA9IC8gICsvZztcblxuICBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKGZhYnJpYy5UZXh0LnByb3RvdHlwZSwgLyoqIEBsZW5kcyBmYWJyaWMuVGV4dC5wcm90b3R5cGUgKi8ge1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBTVkcgcmVwcmVzZW50YXRpb24gb2YgYW4gaW5zdGFuY2VcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcmV2aXZlcl0gTWV0aG9kIGZvciBmdXJ0aGVyIHBhcnNpbmcgb2Ygc3ZnIHJlcHJlc2VudGF0aW9uLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gc3ZnIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICovXG4gICAgX3RvU1ZHOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvZmZzZXRzID0gdGhpcy5fZ2V0U1ZHTGVmdFRvcE9mZnNldHMoKSxcbiAgICAgICAgICB0ZXh0QW5kQmcgPSB0aGlzLl9nZXRTVkdUZXh0QW5kQmcob2Zmc2V0cy50ZXh0VG9wLCBvZmZzZXRzLnRleHRMZWZ0KTtcbiAgICAgIHJldHVybiB0aGlzLl93cmFwU1ZHVGV4dEFuZEJnKHRleHRBbmRCZyk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3ZnIHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Jldml2ZXJdIE1ldGhvZCBmb3IgZnVydGhlciBwYXJzaW5nIG9mIHN2ZyByZXByZXNlbnRhdGlvbi5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHN2ZyByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvU1ZHOiBmdW5jdGlvbihyZXZpdmVyKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY3JlYXRlQmFzZVNWR01hcmt1cChcbiAgICAgICAgdGhpcy5fdG9TVkcoKSxcbiAgICAgICAgeyByZXZpdmVyOiByZXZpdmVyLCBub1N0eWxlOiB0cnVlLCB3aXRoU2hhZG93OiB0cnVlIH1cbiAgICAgICk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2dldFNWR0xlZnRUb3BPZmZzZXRzOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRleHRMZWZ0OiAtdGhpcy53aWR0aCAvIDIsXG4gICAgICAgIHRleHRUb3A6IC10aGlzLmhlaWdodCAvIDIsXG4gICAgICAgIGxpbmVUb3A6IHRoaXMuZ2V0SGVpZ2h0T2ZMaW5lKDApXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF93cmFwU1ZHVGV4dEFuZEJnOiBmdW5jdGlvbih0ZXh0QW5kQmcpIHtcbiAgICAgIHZhciBub1NoYWRvdyA9IHRydWUsXG4gICAgICAgICAgdGV4dERlY29yYXRpb24gPSB0aGlzLmdldFN2Z1RleHREZWNvcmF0aW9uKHRoaXMpO1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgdGV4dEFuZEJnLnRleHRCZ1JlY3RzLmpvaW4oJycpLFxuICAgICAgICAnXFx0XFx0PHRleHQgeG1sOnNwYWNlPVwicHJlc2VydmVcIiAnLFxuICAgICAgICAodGhpcy5mb250RmFtaWx5ID8gJ2ZvbnQtZmFtaWx5PVwiJyArIHRoaXMuZm9udEZhbWlseS5yZXBsYWNlKC9cIi9nLCAnXFwnJykgKyAnXCIgJyA6ICcnKSxcbiAgICAgICAgKHRoaXMuZm9udFNpemUgPyAnZm9udC1zaXplPVwiJyArIHRoaXMuZm9udFNpemUgKyAnXCIgJyA6ICcnKSxcbiAgICAgICAgKHRoaXMuZm9udFN0eWxlID8gJ2ZvbnQtc3R5bGU9XCInICsgdGhpcy5mb250U3R5bGUgKyAnXCIgJyA6ICcnKSxcbiAgICAgICAgKHRoaXMuZm9udFdlaWdodCA/ICdmb250LXdlaWdodD1cIicgKyB0aGlzLmZvbnRXZWlnaHQgKyAnXCIgJyA6ICcnKSxcbiAgICAgICAgKHRleHREZWNvcmF0aW9uID8gJ3RleHQtZGVjb3JhdGlvbj1cIicgKyB0ZXh0RGVjb3JhdGlvbiArICdcIiAnIDogJycpLFxuICAgICAgICAnc3R5bGU9XCInLCB0aGlzLmdldFN2Z1N0eWxlcyhub1NoYWRvdyksICdcIicsIHRoaXMuYWRkUGFpbnRPcmRlcigpLCAnID4nLFxuICAgICAgICB0ZXh0QW5kQmcudGV4dFNwYW5zLmpvaW4oJycpLFxuICAgICAgICAnPC90ZXh0PlxcbidcbiAgICAgIF07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHRleHRUb3BPZmZzZXQgVGV4dCB0b3Agb2Zmc2V0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHRleHRMZWZ0T2Zmc2V0IFRleHQgbGVmdCBvZmZzZXRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAgICovXG4gICAgX2dldFNWR1RleHRBbmRCZzogZnVuY3Rpb24odGV4dFRvcE9mZnNldCwgdGV4dExlZnRPZmZzZXQpIHtcbiAgICAgIHZhciB0ZXh0U3BhbnMgPSBbXSxcbiAgICAgICAgICB0ZXh0QmdSZWN0cyA9IFtdLFxuICAgICAgICAgIGhlaWdodCA9IHRleHRUb3BPZmZzZXQsIGxpbmVPZmZzZXQ7XG4gICAgICAvLyBib3VuZGluZy1ib3ggYmFja2dyb3VuZFxuICAgICAgdGhpcy5fc2V0U1ZHQmcodGV4dEJnUmVjdHMpO1xuXG4gICAgICAvLyB0ZXh0IGFuZCB0ZXh0LWJhY2tncm91bmRcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLl90ZXh0TGluZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgbGluZU9mZnNldCA9IHRoaXMuX2dldExpbmVMZWZ0T2Zmc2V0KGkpO1xuICAgICAgICBpZiAodGhpcy50ZXh0QmFja2dyb3VuZENvbG9yIHx8IHRoaXMuc3R5bGVIYXMoJ3RleHRCYWNrZ3JvdW5kQ29sb3InLCBpKSkge1xuICAgICAgICAgIHRoaXMuX3NldFNWR1RleHRMaW5lQmcodGV4dEJnUmVjdHMsIGksIHRleHRMZWZ0T2Zmc2V0ICsgbGluZU9mZnNldCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zZXRTVkdUZXh0TGluZVRleHQodGV4dFNwYW5zLCBpLCB0ZXh0TGVmdE9mZnNldCArIGxpbmVPZmZzZXQsIGhlaWdodCk7XG4gICAgICAgIGhlaWdodCArPSB0aGlzLmdldEhlaWdodE9mTGluZShpKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGV4dFNwYW5zOiB0ZXh0U3BhbnMsXG4gICAgICAgIHRleHRCZ1JlY3RzOiB0ZXh0QmdSZWN0c1xuICAgICAgfTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfY3JlYXRlVGV4dENoYXJTcGFuOiBmdW5jdGlvbihfY2hhciwgc3R5bGVEZWNsLCBsZWZ0LCB0b3ApIHtcbiAgICAgIHZhciBzaG91bGRVc2VXaGl0ZXNwYWNlID0gX2NoYXIgIT09IF9jaGFyLnRyaW0oKSB8fCBfY2hhci5tYXRjaChtdWx0aXBsZVNwYWNlc1JlZ2V4KSxcbiAgICAgICAgICBzdHlsZVByb3BzID0gdGhpcy5nZXRTdmdTcGFuU3R5bGVzKHN0eWxlRGVjbCwgc2hvdWxkVXNlV2hpdGVzcGFjZSksXG4gICAgICAgICAgZmlsbFN0eWxlcyA9IHN0eWxlUHJvcHMgPyAnc3R5bGU9XCInICsgc3R5bGVQcm9wcyArICdcIicgOiAnJyxcbiAgICAgICAgICBkeSA9IHN0eWxlRGVjbC5kZWx0YVksIGR5U3BhbiA9ICcnLFxuICAgICAgICAgIE5VTV9GUkFDVElPTl9ESUdJVFMgPSBmYWJyaWMuT2JqZWN0Lk5VTV9GUkFDVElPTl9ESUdJVFM7XG4gICAgICBpZiAoZHkpIHtcbiAgICAgICAgZHlTcGFuID0gJyBkeT1cIicgKyB0b0ZpeGVkKGR5LCBOVU1fRlJBQ1RJT05fRElHSVRTKSArICdcIiAnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFtcbiAgICAgICAgJzx0c3BhbiB4PVwiJywgdG9GaXhlZChsZWZ0LCBOVU1fRlJBQ1RJT05fRElHSVRTKSwgJ1wiIHk9XCInLFxuICAgICAgICB0b0ZpeGVkKHRvcCwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksICdcIiAnLCBkeVNwYW4sXG4gICAgICAgIGZpbGxTdHlsZXMsICc+JyxcbiAgICAgICAgZmFicmljLnV0aWwuc3RyaW5nLmVzY2FwZVhtbChfY2hhciksXG4gICAgICAgICc8L3RzcGFuPidcbiAgICAgIF0uam9pbignJyk7XG4gICAgfSxcblxuICAgIF9zZXRTVkdUZXh0TGluZVRleHQ6IGZ1bmN0aW9uKHRleHRTcGFucywgbGluZUluZGV4LCB0ZXh0TGVmdE9mZnNldCwgdGV4dFRvcE9mZnNldCkge1xuICAgICAgLy8gc2V0IHByb3BlciBsaW5lIG9mZnNldFxuICAgICAgdmFyIGxpbmVIZWlnaHQgPSB0aGlzLmdldEhlaWdodE9mTGluZShsaW5lSW5kZXgpLFxuICAgICAgICAgIGlzSnVzdGlmeSA9IHRoaXMudGV4dEFsaWduLmluZGV4T2YoJ2p1c3RpZnknKSAhPT0gLTEsXG4gICAgICAgICAgYWN0dWFsU3R5bGUsXG4gICAgICAgICAgbmV4dFN0eWxlLFxuICAgICAgICAgIGNoYXJzVG9SZW5kZXIgPSAnJyxcbiAgICAgICAgICBjaGFyQm94LCBzdHlsZSxcbiAgICAgICAgICBib3hXaWR0aCA9IDAsXG4gICAgICAgICAgbGluZSA9IHRoaXMuX3RleHRMaW5lc1tsaW5lSW5kZXhdLFxuICAgICAgICAgIHRpbWVUb1JlbmRlcjtcblxuICAgICAgdGV4dFRvcE9mZnNldCArPSBsaW5lSGVpZ2h0ICogKDEgLSB0aGlzLl9mb250U2l6ZUZyYWN0aW9uKSAvIHRoaXMubGluZUhlaWdodDtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBsaW5lLmxlbmd0aCAtIDE7IGkgPD0gbGVuOyBpKyspIHtcbiAgICAgICAgdGltZVRvUmVuZGVyID0gaSA9PT0gbGVuIHx8IHRoaXMuY2hhclNwYWNpbmc7XG4gICAgICAgIGNoYXJzVG9SZW5kZXIgKz0gbGluZVtpXTtcbiAgICAgICAgY2hhckJveCA9IHRoaXMuX19jaGFyQm91bmRzW2xpbmVJbmRleF1baV07XG4gICAgICAgIGlmIChib3hXaWR0aCA9PT0gMCkge1xuICAgICAgICAgIHRleHRMZWZ0T2Zmc2V0ICs9IGNoYXJCb3gua2VybmVkV2lkdGggLSBjaGFyQm94LndpZHRoO1xuICAgICAgICAgIGJveFdpZHRoICs9IGNoYXJCb3gud2lkdGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgYm94V2lkdGggKz0gY2hhckJveC5rZXJuZWRXaWR0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNKdXN0aWZ5ICYmICF0aW1lVG9SZW5kZXIpIHtcbiAgICAgICAgICBpZiAodGhpcy5fcmVTcGFjZUFuZFRhYi50ZXN0KGxpbmVbaV0pKSB7XG4gICAgICAgICAgICB0aW1lVG9SZW5kZXIgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRpbWVUb1JlbmRlcikge1xuICAgICAgICAgIC8vIGlmIHdlIGhhdmUgY2hhclNwYWNpbmcsIHdlIHJlbmRlciBjaGFyIGJ5IGNoYXJcbiAgICAgICAgICBhY3R1YWxTdHlsZSA9IGFjdHVhbFN0eWxlIHx8IHRoaXMuZ2V0Q29tcGxldGVTdHlsZURlY2xhcmF0aW9uKGxpbmVJbmRleCwgaSk7XG4gICAgICAgICAgbmV4dFN0eWxlID0gdGhpcy5nZXRDb21wbGV0ZVN0eWxlRGVjbGFyYXRpb24obGluZUluZGV4LCBpICsgMSk7XG4gICAgICAgICAgdGltZVRvUmVuZGVyID0gdGhpcy5faGFzU3R5bGVDaGFuZ2VkRm9yU3ZnKGFjdHVhbFN0eWxlLCBuZXh0U3R5bGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aW1lVG9SZW5kZXIpIHtcbiAgICAgICAgICBzdHlsZSA9IHRoaXMuX2dldFN0eWxlRGVjbGFyYXRpb24obGluZUluZGV4LCBpKSB8fCB7IH07XG4gICAgICAgICAgdGV4dFNwYW5zLnB1c2godGhpcy5fY3JlYXRlVGV4dENoYXJTcGFuKGNoYXJzVG9SZW5kZXIsIHN0eWxlLCB0ZXh0TGVmdE9mZnNldCwgdGV4dFRvcE9mZnNldCkpO1xuICAgICAgICAgIGNoYXJzVG9SZW5kZXIgPSAnJztcbiAgICAgICAgICBhY3R1YWxTdHlsZSA9IG5leHRTdHlsZTtcbiAgICAgICAgICB0ZXh0TGVmdE9mZnNldCArPSBib3hXaWR0aDtcbiAgICAgICAgICBib3hXaWR0aCA9IDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgX3B1c2hUZXh0QmdSZWN0OiBmdW5jdGlvbih0ZXh0QmdSZWN0cywgY29sb3IsIGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgdmFyIE5VTV9GUkFDVElPTl9ESUdJVFMgPSBmYWJyaWMuT2JqZWN0Lk5VTV9GUkFDVElPTl9ESUdJVFM7XG4gICAgICB0ZXh0QmdSZWN0cy5wdXNoKFxuICAgICAgICAnXFx0XFx0PHJlY3QgJyxcbiAgICAgICAgdGhpcy5fZ2V0RmlsbEF0dHJpYnV0ZXMoY29sb3IpLFxuICAgICAgICAnIHg9XCInLFxuICAgICAgICB0b0ZpeGVkKGxlZnQsIE5VTV9GUkFDVElPTl9ESUdJVFMpLFxuICAgICAgICAnXCIgeT1cIicsXG4gICAgICAgIHRvRml4ZWQodG9wLCBOVU1fRlJBQ1RJT05fRElHSVRTKSxcbiAgICAgICAgJ1wiIHdpZHRoPVwiJyxcbiAgICAgICAgdG9GaXhlZCh3aWR0aCwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgICdcIiBoZWlnaHQ9XCInLFxuICAgICAgICB0b0ZpeGVkKGhlaWdodCwgTlVNX0ZSQUNUSU9OX0RJR0lUUyksXG4gICAgICAgICdcIj48L3JlY3Q+XFxuJyk7XG4gICAgfSxcblxuICAgIF9zZXRTVkdUZXh0TGluZUJnOiBmdW5jdGlvbih0ZXh0QmdSZWN0cywgaSwgbGVmdE9mZnNldCwgdGV4dFRvcE9mZnNldCkge1xuICAgICAgdmFyIGxpbmUgPSB0aGlzLl90ZXh0TGluZXNbaV0sXG4gICAgICAgICAgaGVpZ2h0T2ZMaW5lID0gdGhpcy5nZXRIZWlnaHRPZkxpbmUoaSkgLyB0aGlzLmxpbmVIZWlnaHQsXG4gICAgICAgICAgYm94V2lkdGggPSAwLFxuICAgICAgICAgIGJveFN0YXJ0ID0gMCxcbiAgICAgICAgICBjaGFyQm94LCBjdXJyZW50Q29sb3IsXG4gICAgICAgICAgbGFzdENvbG9yID0gdGhpcy5nZXRWYWx1ZU9mUHJvcGVydHlBdChpLCAwLCAndGV4dEJhY2tncm91bmRDb2xvcicpO1xuICAgICAgZm9yICh2YXIgaiA9IDAsIGpsZW4gPSBsaW5lLmxlbmd0aDsgaiA8IGpsZW47IGorKykge1xuICAgICAgICBjaGFyQm94ID0gdGhpcy5fX2NoYXJCb3VuZHNbaV1bal07XG4gICAgICAgIGN1cnJlbnRDb2xvciA9IHRoaXMuZ2V0VmFsdWVPZlByb3BlcnR5QXQoaSwgaiwgJ3RleHRCYWNrZ3JvdW5kQ29sb3InKTtcbiAgICAgICAgaWYgKGN1cnJlbnRDb2xvciAhPT0gbGFzdENvbG9yKSB7XG4gICAgICAgICAgbGFzdENvbG9yICYmIHRoaXMuX3B1c2hUZXh0QmdSZWN0KHRleHRCZ1JlY3RzLCBsYXN0Q29sb3IsIGxlZnRPZmZzZXQgKyBib3hTdGFydCxcbiAgICAgICAgICAgIHRleHRUb3BPZmZzZXQsIGJveFdpZHRoLCBoZWlnaHRPZkxpbmUpO1xuICAgICAgICAgIGJveFN0YXJ0ID0gY2hhckJveC5sZWZ0O1xuICAgICAgICAgIGJveFdpZHRoID0gY2hhckJveC53aWR0aDtcbiAgICAgICAgICBsYXN0Q29sb3IgPSBjdXJyZW50Q29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgYm94V2lkdGggKz0gY2hhckJveC5rZXJuZWRXaWR0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY3VycmVudENvbG9yICYmIHRoaXMuX3B1c2hUZXh0QmdSZWN0KHRleHRCZ1JlY3RzLCBjdXJyZW50Q29sb3IsIGxlZnRPZmZzZXQgKyBib3hTdGFydCxcbiAgICAgICAgdGV4dFRvcE9mZnNldCwgYm94V2lkdGgsIGhlaWdodE9mTGluZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEFkb2JlIElsbHVzdHJhdG9yIChhdCBsZWFzdCBDUzUpIGlzIHVuYWJsZSB0byByZW5kZXIgcmdiYSgpLWJhc2VkIGZpbGwgdmFsdWVzXG4gICAgICogd2Ugd29yayBhcm91bmQgaXQgYnkgXCJtb3ZpbmdcIiBhbHBoYSBjaGFubmVsIGludG8gb3BhY2l0eSBhdHRyaWJ1dGUgYW5kIHNldHRpbmcgZmlsbCdzIGFscGhhIHRvIDFcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgKi9cbiAgICBfZ2V0RmlsbEF0dHJpYnV0ZXM6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YXIgZmlsbENvbG9yID0gKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpID8gbmV3IGZhYnJpYy5Db2xvcih2YWx1ZSkgOiAnJztcbiAgICAgIGlmICghZmlsbENvbG9yIHx8ICFmaWxsQ29sb3IuZ2V0U291cmNlKCkgfHwgZmlsbENvbG9yLmdldEFscGhhKCkgPT09IDEpIHtcbiAgICAgICAgcmV0dXJuICdmaWxsPVwiJyArIHZhbHVlICsgJ1wiJztcbiAgICAgIH1cbiAgICAgIHJldHVybiAnb3BhY2l0eT1cIicgKyBmaWxsQ29sb3IuZ2V0QWxwaGEoKSArICdcIiBmaWxsPVwiJyArIGZpbGxDb2xvci5zZXRBbHBoYSgxKS50b1JnYigpICsgJ1wiJztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2V0U1ZHTGluZVRvcE9mZnNldDogZnVuY3Rpb24obGluZUluZGV4KSB7XG4gICAgICB2YXIgbGluZVRvcE9mZnNldCA9IDAsIGxhc3RIZWlnaHQgPSAwO1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsaW5lSW5kZXg7IGorKykge1xuICAgICAgICBsaW5lVG9wT2Zmc2V0ICs9IHRoaXMuZ2V0SGVpZ2h0T2ZMaW5lKGopO1xuICAgICAgfVxuICAgICAgbGFzdEhlaWdodCA9IHRoaXMuZ2V0SGVpZ2h0T2ZMaW5lKGopO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGluZVRvcDogbGluZVRvcE9mZnNldCxcbiAgICAgICAgb2Zmc2V0OiAodGhpcy5fZm9udFNpemVNdWx0IC0gdGhpcy5fZm9udFNpemVGcmFjdGlvbikgKiBsYXN0SGVpZ2h0IC8gKHRoaXMubGluZUhlaWdodCAqIHRoaXMuX2ZvbnRTaXplTXVsdClcbiAgICAgIH07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgc3R5bGVzLXN0cmluZyBmb3Igc3ZnLWV4cG9ydFxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gc2tpcFNoYWRvdyBhIGJvb2xlYW4gdG8gc2tpcCBzaGFkb3cgZmlsdGVyIG91dHB1dFxuICAgICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRTdmdTdHlsZXM6IGZ1bmN0aW9uKHNraXBTaGFkb3cpIHtcbiAgICAgIHZhciBzdmdTdHlsZSA9IGZhYnJpYy5PYmplY3QucHJvdG90eXBlLmdldFN2Z1N0eWxlcy5jYWxsKHRoaXMsIHNraXBTaGFkb3cpO1xuICAgICAgcmV0dXJuIHN2Z1N0eWxlICsgJyB3aGl0ZS1zcGFjZTogcHJlOyc7XG4gICAgfSxcbiAgfSk7XG59KSgpO1xuLyogX1RPX1NWR19FTkRfICovXG5cblxuKGZ1bmN0aW9uKGdsb2JhbCkge1xuXG4gICd1c2Ugc3RyaWN0JztcblxuICB2YXIgZmFicmljID0gZ2xvYmFsLmZhYnJpYyB8fCAoZ2xvYmFsLmZhYnJpYyA9IHt9KTtcblxuICAvKipcbiAgICogVGV4dGJveCBjbGFzcywgYmFzZWQgb24gSVRleHQsIGFsbG93cyB0aGUgdXNlciB0byByZXNpemUgdGhlIHRleHQgcmVjdGFuZ2xlXG4gICAqIGFuZCB3cmFwcyBsaW5lcyBhdXRvbWF0aWNhbGx5LiBUZXh0Ym94ZXMgaGF2ZSB0aGVpciBZIHNjYWxpbmcgbG9ja2VkLCB0aGVcbiAgICogdXNlciBjYW4gb25seSBjaGFuZ2Ugd2lkdGguIEhlaWdodCBpcyBhZGp1c3RlZCBhdXRvbWF0aWNhbGx5IGJhc2VkIG9uIHRoZVxuICAgKiB3cmFwcGluZyBvZiBsaW5lcy5cbiAgICogQGNsYXNzIGZhYnJpYy5UZXh0Ym94XG4gICAqIEBleHRlbmRzIGZhYnJpYy5JVGV4dFxuICAgKiBAbWl4ZXMgZmFicmljLk9ic2VydmFibGVcbiAgICogQHJldHVybiB7ZmFicmljLlRleHRib3h9IHRoaXNBcmdcbiAgICogQHNlZSB7QGxpbmsgZmFicmljLlRleHRib3gjaW5pdGlhbGl6ZX0gZm9yIGNvbnN0cnVjdG9yIGRlZmluaXRpb25cbiAgICovXG4gIGZhYnJpYy5UZXh0Ym94ID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoZmFicmljLklUZXh0LCBmYWJyaWMuT2JzZXJ2YWJsZSwge1xuXG4gICAgLyoqXG4gICAgICogVHlwZSBvZiBhbiBvYmplY3RcbiAgICAgKiBAdHlwZSBTdHJpbmdcbiAgICAgKiBAZGVmYXVsdFxuICAgICAqL1xuICAgIHR5cGU6ICd0ZXh0Ym94JyxcblxuICAgIC8qKlxuICAgICAqIE1pbmltdW0gd2lkdGggb2YgdGV4dGJveCwgaW4gcGl4ZWxzLlxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgbWluV2lkdGg6IDIwLFxuXG4gICAgLyoqXG4gICAgICogTWluaW11bSBjYWxjdWxhdGVkIHdpZHRoIG9mIGEgdGV4dGJveCwgaW4gcGl4ZWxzLlxuICAgICAqIGZpeGVkIHRvIDIgc28gdGhhdCBhbiBlbXB0eSB0ZXh0Ym94IGNhbm5vdCBnbyB0byAwXG4gICAgICogYW5kIGlzIHN0aWxsIHNlbGVjdGFibGUgd2l0aG91dCB0ZXh0LlxuICAgICAqIEB0eXBlIE51bWJlclxuICAgICAqIEBkZWZhdWx0XG4gICAgICovXG4gICAgZHluYW1pY01pbldpZHRoOiAyLFxuXG4gICAgLyoqXG4gICAgICogQ2FjaGVkIGFycmF5IG9mIHRleHQgd3JhcHBpbmcuXG4gICAgICogQHR5cGUgQXJyYXlcbiAgICAgKi9cbiAgICBfX2NhY2hlZExpbmVzOiBudWxsLFxuXG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgc3RhbmRhcmQgT2JqZWN0IGNsYXNzIHZhbHVlc1xuICAgICAqL1xuICAgIGxvY2tTY2FsaW5nRmxpcDogdHJ1ZSxcblxuICAgIC8qKlxuICAgICAqIE92ZXJyaWRlIHN0YW5kYXJkIE9iamVjdCBjbGFzcyB2YWx1ZXNcbiAgICAgKiBUZXh0Ym94IG5lZWRzIHRoaXMgb24gZmFsc2VcbiAgICAgKi9cbiAgICBub1NjYWxlQ2FjaGU6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogUHJvcGVydGllcyB3aGljaCB3aGVuIHNldCBjYXVzZSBvYmplY3QgdG8gY2hhbmdlIGRpbWVuc2lvbnNcbiAgICAgKiBAdHlwZSBPYmplY3RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9kaW1lbnNpb25BZmZlY3RpbmdQcm9wczogZmFicmljLlRleHQucHJvdG90eXBlLl9kaW1lbnNpb25BZmZlY3RpbmdQcm9wcy5jb25jYXQoJ3dpZHRoJyksXG5cbiAgICAvKipcbiAgICAgKiBVc2UgdGhpcyByZWd1bGFyIGV4cHJlc3Npb24gdG8gc3BsaXQgc3RyaW5ncyBpbiBicmVha2FibGUgbGluZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF93b3JkSm9pbmVyczogL1sgXFx0XFxyXS8sXG5cbiAgICAvKipcbiAgICAgKiBVc2UgdGhpcyBib29sZWFuIHByb3BlcnR5IGluIG9yZGVyIHRvIHNwbGl0IHN0cmluZ3MgdGhhdCBoYXZlIG5vIHdoaXRlIHNwYWNlIGNvbmNlcHQuXG4gICAgICogdGhpcyBpcyBhIGNoZWFwIHdheSB0byBoZWxwIHdpdGggY2hpbmVzZS9qYXBhZW5zZVxuICAgICAqIEB0eXBlIEJvb2xlYW5cbiAgICAgKiBAc2luY2UgMi42LjBcbiAgICAgKi9cbiAgICBzcGxpdEJ5R3JhcGhlbWU6IGZhbHNlLFxuXG4gICAgLyoqXG4gICAgICogVW5saWtlIHN1cGVyY2xhc3MncyB2ZXJzaW9uIG9mIHRoaXMgZnVuY3Rpb24sIFRleHRib3ggZG9lcyBub3QgdXBkYXRlXG4gICAgICogaXRzIHdpZHRoLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgaW5pdERpbWVuc2lvbnM6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuX19za2lwRGltZW5zaW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuaXNFZGl0aW5nICYmIHRoaXMuaW5pdERlbGF5ZWRDdXJzb3IoKTtcbiAgICAgIHRoaXMuY2xlYXJDb250ZXh0VG9wKCk7XG4gICAgICB0aGlzLl9jbGVhckNhY2hlKCk7XG4gICAgICAvLyBjbGVhciBkeW5hbWljTWluV2lkdGggYXMgaXQgd2lsbCBiZSBkaWZmZXJlbnQgYWZ0ZXIgd2UgcmUtd3JhcCBsaW5lXG4gICAgICB0aGlzLmR5bmFtaWNNaW5XaWR0aCA9IDA7XG4gICAgICAvLyB3cmFwIGxpbmVzXG4gICAgICB0aGlzLl9zdHlsZU1hcCA9IHRoaXMuX2dlbmVyYXRlU3R5bGVNYXAodGhpcy5fc3BsaXRUZXh0KCkpO1xuICAgICAgLy8gaWYgYWZ0ZXIgd3JhcHBpbmcsIHRoZSB3aWR0aCBpcyBzbWFsbGVyIHRoYW4gZHluYW1pY01pbldpZHRoLCBjaGFuZ2UgdGhlIHdpZHRoIGFuZCByZS13cmFwXG4gICAgICBpZiAodGhpcy5keW5hbWljTWluV2lkdGggPiB0aGlzLndpZHRoKSB7XG4gICAgICAgIHRoaXMuX3NldCgnd2lkdGgnLCB0aGlzLmR5bmFtaWNNaW5XaWR0aCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy50ZXh0QWxpZ24uaW5kZXhPZignanVzdGlmeScpICE9PSAtMSkge1xuICAgICAgICAvLyBvbmNlIHRleHQgaXMgbWVhc3VyZWQgd2UgbmVlZCB0byBtYWtlIHNwYWNlIGZhdHRlciB0byBtYWtlIGp1c3RpZmllZCB0ZXh0LlxuICAgICAgICB0aGlzLmVubGFyZ2VTcGFjZXMoKTtcbiAgICAgIH1cbiAgICAgIC8vIGNsZWFyIGNhY2hlIGFuZCByZS1jYWxjdWxhdGUgaGVpZ2h0XG4gICAgICB0aGlzLmhlaWdodCA9IHRoaXMuY2FsY1RleHRIZWlnaHQoKTtcbiAgICAgIHRoaXMuc2F2ZVN0YXRlKHsgcHJvcGVydHlTZXQ6ICdfZGltZW5zaW9uQWZmZWN0aW5nUHJvcHMnIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBhbiBvYmplY3QgdGhhdCB0cmFuc2xhdGVzIHRoZSBzdHlsZSBvYmplY3Qgc28gdGhhdCBpdCBpc1xuICAgICAqIGJyb2tlbiB1cCBieSB2aXN1YWwgbGluZXMgKG5ldyBsaW5lcyBhbmQgYXV0b21hdGljIHdyYXBwaW5nKS5cbiAgICAgKiBUaGUgb3JpZ2luYWwgdGV4dCBzdHlsZXMgb2JqZWN0IGlzIGJyb2tlbiB1cCBieSBhY3R1YWwgbGluZXMgKG5ldyBsaW5lcyBvbmx5KSxcbiAgICAgKiB3aGljaCBpcyBvbmx5IHN1ZmZpY2llbnQgZm9yIFRleHQgLyBJVGV4dFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2dlbmVyYXRlU3R5bGVNYXA6IGZ1bmN0aW9uKHRleHRJbmZvKSB7XG4gICAgICB2YXIgcmVhbExpbmVDb3VudCAgICAgPSAwLFxuICAgICAgICAgIHJlYWxMaW5lQ2hhckNvdW50ID0gMCxcbiAgICAgICAgICBjaGFyQ291bnQgICAgICAgICA9IDAsXG4gICAgICAgICAgbWFwICAgICAgICAgICAgICAgPSB7fTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0SW5mby5ncmFwaGVtZUxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh0ZXh0SW5mby5ncmFwaGVtZVRleHRbY2hhckNvdW50XSA9PT0gJ1xcbicgJiYgaSA+IDApIHtcbiAgICAgICAgICByZWFsTGluZUNoYXJDb3VudCA9IDA7XG4gICAgICAgICAgY2hhckNvdW50Kys7XG4gICAgICAgICAgcmVhbExpbmVDb3VudCsrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCF0aGlzLnNwbGl0QnlHcmFwaGVtZSAmJiB0aGlzLl9yZVNwYWNlQW5kVGFiLnRlc3QodGV4dEluZm8uZ3JhcGhlbWVUZXh0W2NoYXJDb3VudF0pICYmIGkgPiAwKSB7XG4gICAgICAgICAgLy8gdGhpcyBjYXNlIGRlYWxzIHdpdGggc3BhY2UncyB0aGF0IGFyZSByZW1vdmVkIGZyb20gZW5kIG9mIGxpbmVzIHdoZW4gd3JhcHBpbmdcbiAgICAgICAgICByZWFsTGluZUNoYXJDb3VudCsrO1xuICAgICAgICAgIGNoYXJDb3VudCsrO1xuICAgICAgICB9XG5cbiAgICAgICAgbWFwW2ldID0geyBsaW5lOiByZWFsTGluZUNvdW50LCBvZmZzZXQ6IHJlYWxMaW5lQ2hhckNvdW50IH07XG5cbiAgICAgICAgY2hhckNvdW50ICs9IHRleHRJbmZvLmdyYXBoZW1lTGluZXNbaV0ubGVuZ3RoO1xuICAgICAgICByZWFsTGluZUNoYXJDb3VudCArPSB0ZXh0SW5mby5ncmFwaGVtZUxpbmVzW2ldLmxlbmd0aDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1hcDtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIG9iamVjdCBoYXMgYSBzdHlsZSBwcm9wZXJ0eSBvciBoYXMgaXQgb24gYSBzcGVjaWZpZWQgbGluZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXhcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIHN0eWxlSGFzOiBmdW5jdGlvbihwcm9wZXJ0eSwgbGluZUluZGV4KSB7XG4gICAgICBpZiAodGhpcy5fc3R5bGVNYXAgJiYgIXRoaXMuaXNXcmFwcGluZykge1xuICAgICAgICB2YXIgbWFwID0gdGhpcy5fc3R5bGVNYXBbbGluZUluZGV4XTtcbiAgICAgICAgaWYgKG1hcCkge1xuICAgICAgICAgIGxpbmVJbmRleCA9IG1hcC5saW5lO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFicmljLlRleHQucHJvdG90eXBlLnN0eWxlSGFzLmNhbGwodGhpcywgcHJvcGVydHksIGxpbmVJbmRleCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBvYmplY3QgaGFzIG5vIHN0eWxpbmcgb3Igbm8gc3R5bGluZyBpbiBhIGxpbmVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4ICwgbGluZUluZGV4IGlzIG9uIHdyYXBwZWQgbGluZXMuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBpc0VtcHR5U3R5bGVzOiBmdW5jdGlvbihsaW5lSW5kZXgpIHtcbiAgICAgIGlmICghdGhpcy5zdHlsZXMpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgb2Zmc2V0ID0gMCwgbmV4dExpbmVJbmRleCA9IGxpbmVJbmRleCArIDEsIG5leHRPZmZzZXQsIG9iaiwgc2hvdWxkTGltaXQgPSBmYWxzZSxcbiAgICAgICAgICBtYXAgPSB0aGlzLl9zdHlsZU1hcFtsaW5lSW5kZXhdLCBtYXBOZXh0TGluZSA9IHRoaXMuX3N0eWxlTWFwW2xpbmVJbmRleCArIDFdO1xuICAgICAgaWYgKG1hcCkge1xuICAgICAgICBsaW5lSW5kZXggPSBtYXAubGluZTtcbiAgICAgICAgb2Zmc2V0ID0gbWFwLm9mZnNldDtcbiAgICAgIH1cbiAgICAgIGlmIChtYXBOZXh0TGluZSkge1xuICAgICAgICBuZXh0TGluZUluZGV4ID0gbWFwTmV4dExpbmUubGluZTtcbiAgICAgICAgc2hvdWxkTGltaXQgPSBuZXh0TGluZUluZGV4ID09PSBsaW5lSW5kZXg7XG4gICAgICAgIG5leHRPZmZzZXQgPSBtYXBOZXh0TGluZS5vZmZzZXQ7XG4gICAgICB9XG4gICAgICBvYmogPSB0eXBlb2YgbGluZUluZGV4ID09PSAndW5kZWZpbmVkJyA/IHRoaXMuc3R5bGVzIDogeyBsaW5lOiB0aGlzLnN0eWxlc1tsaW5lSW5kZXhdIH07XG4gICAgICBmb3IgKHZhciBwMSBpbiBvYmopIHtcbiAgICAgICAgZm9yICh2YXIgcDIgaW4gb2JqW3AxXSkge1xuICAgICAgICAgIGlmIChwMiA+PSBvZmZzZXQgJiYgKCFzaG91bGRMaW1pdCB8fCBwMiA8IG5leHRPZmZzZXQpKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgICAgICAgIGZvciAodmFyIHAzIGluIG9ialtwMV1bcDJdKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYXJJbmRleFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2dldFN0eWxlRGVjbGFyYXRpb246IGZ1bmN0aW9uKGxpbmVJbmRleCwgY2hhckluZGV4KSB7XG4gICAgICBpZiAodGhpcy5fc3R5bGVNYXAgJiYgIXRoaXMuaXNXcmFwcGluZykge1xuICAgICAgICB2YXIgbWFwID0gdGhpcy5fc3R5bGVNYXBbbGluZUluZGV4XTtcbiAgICAgICAgaWYgKCFtYXApIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBsaW5lSW5kZXggPSBtYXAubGluZTtcbiAgICAgICAgY2hhckluZGV4ID0gbWFwLm9mZnNldCArIGNoYXJJbmRleDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmNhbGxTdXBlcignX2dldFN0eWxlRGVjbGFyYXRpb24nLCBsaW5lSW5kZXgsIGNoYXJJbmRleCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY2hhckluZGV4XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0eWxlXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfc2V0U3R5bGVEZWNsYXJhdGlvbjogZnVuY3Rpb24obGluZUluZGV4LCBjaGFySW5kZXgsIHN0eWxlKSB7XG4gICAgICB2YXIgbWFwID0gdGhpcy5fc3R5bGVNYXBbbGluZUluZGV4XTtcbiAgICAgIGxpbmVJbmRleCA9IG1hcC5saW5lO1xuICAgICAgY2hhckluZGV4ID0gbWFwLm9mZnNldCArIGNoYXJJbmRleDtcblxuICAgICAgdGhpcy5zdHlsZXNbbGluZUluZGV4XVtjaGFySW5kZXhdID0gc3R5bGU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY2hhckluZGV4XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZGVsZXRlU3R5bGVEZWNsYXJhdGlvbjogZnVuY3Rpb24obGluZUluZGV4LCBjaGFySW5kZXgpIHtcbiAgICAgIHZhciBtYXAgPSB0aGlzLl9zdHlsZU1hcFtsaW5lSW5kZXhdO1xuICAgICAgbGluZUluZGV4ID0gbWFwLmxpbmU7XG4gICAgICBjaGFySW5kZXggPSBtYXAub2Zmc2V0ICsgY2hhckluZGV4O1xuICAgICAgZGVsZXRlIHRoaXMuc3R5bGVzW2xpbmVJbmRleF1bY2hhckluZGV4XTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcHJvYmFibHkgYnJva2VuIG5lZWQgYSBmaXhcbiAgICAgKiBSZXR1cm5zIHRoZSByZWFsIHN0eWxlIGxpbmUgdGhhdCBjb3JyZXNwb25kIHRvIHRoZSB3cmFwcGVkIGxpbmVJbmRleCBsaW5lXG4gICAgICogVXNlZCBqdXN0IHRvIHZlcmlmeSBpZiB0aGUgbGluZSBkb2VzIGV4aXN0IG9yIG5vdC5cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGluZUluZGV4XG4gICAgICogQHJldHVybnMge0Jvb2xlYW59IGlmIHRoZSBsaW5lIGV4aXN0cyBvciBub3RcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRMaW5lU3R5bGU6IGZ1bmN0aW9uKGxpbmVJbmRleCkge1xuICAgICAgdmFyIG1hcCA9IHRoaXMuX3N0eWxlTWFwW2xpbmVJbmRleF07XG4gICAgICByZXR1cm4gISF0aGlzLnN0eWxlc1ttYXAubGluZV07XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgbGluZSBzdHlsZSB0byBhbiBlbXB0eSBvYmplY3Qgc28gdGhhdCBpcyBpbml0aWFsaXplZFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXhcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3R5bGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9zZXRMaW5lU3R5bGU6IGZ1bmN0aW9uKGxpbmVJbmRleCkge1xuICAgICAgdmFyIG1hcCA9IHRoaXMuX3N0eWxlTWFwW2xpbmVJbmRleF07XG4gICAgICB0aGlzLnN0eWxlc1ttYXAubGluZV0gPSB7fTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogV3JhcHMgdGV4dCB1c2luZyB0aGUgJ3dpZHRoJyBwcm9wZXJ0eSBvZiBUZXh0Ym94LiBGaXJzdCB0aGlzIGZ1bmN0aW9uXG4gICAgICogc3BsaXRzIHRleHQgb24gbmV3bGluZXMsIHNvIHdlIHByZXNlcnZlIG5ld2xpbmVzIGVudGVyZWQgYnkgdGhlIHVzZXIuXG4gICAgICogVGhlbiBpdCB3cmFwcyBlYWNoIGxpbmUgdXNpbmcgdGhlIHdpZHRoIG9mIHRoZSBUZXh0Ym94IGJ5IGNhbGxpbmdcbiAgICAgKiBfd3JhcExpbmUoKS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBsaW5lcyBUaGUgc3RyaW5nIGFycmF5IG9mIHRleHQgdGhhdCBpcyBzcGxpdCBpbnRvIGxpbmVzXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGRlc2lyZWRXaWR0aCB3aWR0aCB5b3Ugd2FudCB0byB3cmFwIHRvXG4gICAgICogQHJldHVybnMge0FycmF5fSBBcnJheSBvZiBsaW5lc1xuICAgICAqL1xuICAgIF93cmFwVGV4dDogZnVuY3Rpb24obGluZXMsIGRlc2lyZWRXaWR0aCkge1xuICAgICAgdmFyIHdyYXBwZWQgPSBbXSwgaTtcbiAgICAgIHRoaXMuaXNXcmFwcGluZyA9IHRydWU7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgd3JhcHBlZCA9IHdyYXBwZWQuY29uY2F0KHRoaXMuX3dyYXBMaW5lKGxpbmVzW2ldLCBpLCBkZXNpcmVkV2lkdGgpKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuaXNXcmFwcGluZyA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHdyYXBwZWQ7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0byBtZWFzdXJlIGEgc3RyaW5nIG9mIHRleHQsIGdpdmVuIGl0cyBsaW5lSW5kZXggYW5kIGNoYXJJbmRleCBvZmZzZXRcbiAgICAgKiBpdCBnZXRzIGNhbGxlZCB3aGVuIGNoYXJCb3VuZHMgYXJlIG5vdCBhdmFpbGFibGUgeWV0LlxuICAgICAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjdHhcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsaW5lSW5kZXhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY2hhck9mZnNldFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfbWVhc3VyZVdvcmQ6IGZ1bmN0aW9uKHdvcmQsIGxpbmVJbmRleCwgY2hhck9mZnNldCkge1xuICAgICAgdmFyIHdpZHRoID0gMCwgcHJldkdyYXBoZW1lLCBza2lwTGVmdCA9IHRydWU7XG4gICAgICBjaGFyT2Zmc2V0ID0gY2hhck9mZnNldCB8fCAwO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHdvcmQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGJveCA9IHRoaXMuX2dldEdyYXBoZW1lQm94KHdvcmRbaV0sIGxpbmVJbmRleCwgaSArIGNoYXJPZmZzZXQsIHByZXZHcmFwaGVtZSwgc2tpcExlZnQpO1xuICAgICAgICB3aWR0aCArPSBib3gua2VybmVkV2lkdGg7XG4gICAgICAgIHByZXZHcmFwaGVtZSA9IHdvcmRbaV07XG4gICAgICB9XG4gICAgICByZXR1cm4gd2lkdGg7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFdyYXBzIGEgbGluZSBvZiB0ZXh0IHVzaW5nIHRoZSB3aWR0aCBvZiB0aGUgVGV4dGJveCBhbmQgYSBjb250ZXh0LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGxpbmUgVGhlIGdyYXBoZW1lIGFycmF5IHRoYXQgcmVwcmVzZW50IHRoZSBsaW5lXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxpbmVJbmRleFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBkZXNpcmVkV2lkdGggd2lkdGggeW91IHdhbnQgdG8gd3JhcCB0aGUgbGluZSB0b1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByZXNlcnZlZFNwYWNlIHNwYWNlIHRvIHJlbW92ZSBmcm9tIHdyYXBwaW5nIGZvciBjdXN0b20gZnVuY3Rpb25hbGl0aWVzXG4gICAgICogQHJldHVybnMge0FycmF5fSBBcnJheSBvZiBsaW5lKHMpIGludG8gd2hpY2ggdGhlIGdpdmVuIHRleHQgaXMgd3JhcHBlZFxuICAgICAqIHRvLlxuICAgICAqL1xuICAgIF93cmFwTGluZTogZnVuY3Rpb24oX2xpbmUsIGxpbmVJbmRleCwgZGVzaXJlZFdpZHRoLCByZXNlcnZlZFNwYWNlKSB7XG4gICAgICB2YXIgbGluZVdpZHRoID0gMCxcbiAgICAgICAgICBzcGxpdEJ5R3JhcGhlbWUgPSB0aGlzLnNwbGl0QnlHcmFwaGVtZSxcbiAgICAgICAgICBncmFwaGVtZUxpbmVzID0gW10sXG4gICAgICAgICAgbGluZSA9IFtdLFxuICAgICAgICAgIC8vIHNwYWNlcyBpbiBkaWZmZXJlbnQgbGFuZ3VnZXM/XG4gICAgICAgICAgd29yZHMgPSBzcGxpdEJ5R3JhcGhlbWUgPyBmYWJyaWMudXRpbC5zdHJpbmcuZ3JhcGhlbWVTcGxpdChfbGluZSkgOiBfbGluZS5zcGxpdCh0aGlzLl93b3JkSm9pbmVycyksXG4gICAgICAgICAgd29yZCA9ICcnLFxuICAgICAgICAgIG9mZnNldCA9IDAsXG4gICAgICAgICAgaW5maXggPSBzcGxpdEJ5R3JhcGhlbWUgPyAnJyA6ICcgJyxcbiAgICAgICAgICB3b3JkV2lkdGggPSAwLFxuICAgICAgICAgIGluZml4V2lkdGggPSAwLFxuICAgICAgICAgIGxhcmdlc3RXb3JkV2lkdGggPSAwLFxuICAgICAgICAgIGxpbmVKdXN0U3RhcnRlZCA9IHRydWUsXG4gICAgICAgICAgYWRkaXRpb25hbFNwYWNlID0gc3BsaXRCeUdyYXBoZW1lID8gMCA6IHRoaXMuX2dldFdpZHRoT2ZDaGFyU3BhY2luZygpLFxuICAgICAgICAgIHJlc2VydmVkU3BhY2UgPSByZXNlcnZlZFNwYWNlIHx8IDA7XG4gICAgICAvLyBmaXggYSBkaWZmZXJlbmNlIGJldHdlZW4gc3BsaXQgYW5kIGdyYXBoZW1lU3BsaXRcbiAgICAgIGlmICh3b3Jkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgd29yZHMucHVzaChbXSk7XG4gICAgICB9XG4gICAgICBkZXNpcmVkV2lkdGggLT0gcmVzZXJ2ZWRTcGFjZTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd29yZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gaWYgdXNpbmcgc3BsaXRCeUdyYXBoZW1lIHdvcmRzIGFyZSBhbHJlYWR5IGluIGdyYXBoZW1lcy5cbiAgICAgICAgd29yZCA9IHNwbGl0QnlHcmFwaGVtZSA/IHdvcmRzW2ldIDogZmFicmljLnV0aWwuc3RyaW5nLmdyYXBoZW1lU3BsaXQod29yZHNbaV0pO1xuICAgICAgICB3b3JkV2lkdGggPSB0aGlzLl9tZWFzdXJlV29yZCh3b3JkLCBsaW5lSW5kZXgsIG9mZnNldCk7XG4gICAgICAgIG9mZnNldCArPSB3b3JkLmxlbmd0aDtcblxuICAgICAgICBsaW5lV2lkdGggKz0gaW5maXhXaWR0aCArIHdvcmRXaWR0aCAtIGFkZGl0aW9uYWxTcGFjZTtcblxuICAgICAgICBpZiAobGluZVdpZHRoID49IGRlc2lyZWRXaWR0aCAmJiAhbGluZUp1c3RTdGFydGVkKSB7XG4gICAgICAgICAgZ3JhcGhlbWVMaW5lcy5wdXNoKGxpbmUpO1xuICAgICAgICAgIGxpbmUgPSBbXTtcbiAgICAgICAgICBsaW5lV2lkdGggPSB3b3JkV2lkdGg7XG4gICAgICAgICAgbGluZUp1c3RTdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBsaW5lV2lkdGggKz0gYWRkaXRpb25hbFNwYWNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFsaW5lSnVzdFN0YXJ0ZWQgJiYgIXNwbGl0QnlHcmFwaGVtZSkge1xuICAgICAgICAgIGxpbmUucHVzaChpbmZpeCk7XG4gICAgICAgIH1cbiAgICAgICAgbGluZSA9IGxpbmUuY29uY2F0KHdvcmQpO1xuXG4gICAgICAgIGluZml4V2lkdGggPSB0aGlzLl9tZWFzdXJlV29yZChbaW5maXhdLCBsaW5lSW5kZXgsIG9mZnNldCk7XG4gICAgICAgIG9mZnNldCsrO1xuICAgICAgICBsaW5lSnVzdFN0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgLy8ga2VlcCB0cmFjayBvZiBsYXJnZXN0IHdvcmRcbiAgICAgICAgaWYgKHdvcmRXaWR0aCA+IGxhcmdlc3RXb3JkV2lkdGgpIHtcbiAgICAgICAgICBsYXJnZXN0V29yZFdpZHRoID0gd29yZFdpZHRoO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGkgJiYgZ3JhcGhlbWVMaW5lcy5wdXNoKGxpbmUpO1xuXG4gICAgICBpZiAobGFyZ2VzdFdvcmRXaWR0aCArIHJlc2VydmVkU3BhY2UgPiB0aGlzLmR5bmFtaWNNaW5XaWR0aCkge1xuICAgICAgICB0aGlzLmR5bmFtaWNNaW5XaWR0aCA9IGxhcmdlc3RXb3JkV2lkdGggLSBhZGRpdGlvbmFsU3BhY2UgKyByZXNlcnZlZFNwYWNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ3JhcGhlbWVMaW5lcztcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGV0ZWN0IGlmIHRoZSB0ZXh0IGxpbmUgaXMgZW5kZWQgd2l0aCBhbiBoYXJkIGJyZWFrXG4gICAgICogdGV4dCBhbmQgaXRleHQgZG8gbm90IGhhdmUgd3JhcHBpbmcsIHJldHVybiBmYWxzZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lSW5kZXggdGV4dCB0byBzcGxpdFxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG4gICAgaXNFbmRPZldyYXBwaW5nOiBmdW5jdGlvbihsaW5lSW5kZXgpIHtcbiAgICAgIGlmICghdGhpcy5fc3R5bGVNYXBbbGluZUluZGV4ICsgMV0pIHtcbiAgICAgICAgLy8gaXMgbGFzdCBsaW5lLCByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5fc3R5bGVNYXBbbGluZUluZGV4ICsgMV0ubGluZSAhPT0gdGhpcy5fc3R5bGVNYXBbbGluZUluZGV4XS5saW5lKSB7XG4gICAgICAgIC8vIHRoaXMgaXMgbGFzdCBsaW5lIGJlZm9yZSBhIGxpbmUgYnJlYWssIHJldHVybiB0cnVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogRGV0ZWN0IGlmIGEgbGluZSBoYXMgYSBsaW5lYnJlYWsgYW5kIHNvIHdlIG5lZWQgdG8gYWNjb3VudCBmb3IgaXQgd2hlbiBtb3ZpbmdcbiAgICAgKiBhbmQgY291bnRpbmcgc3R5bGUuXG4gICAgICogQHJldHVybiBOdW1iZXJcbiAgICAgKi9cbiAgICBtaXNzaW5nTmV3bGluZU9mZnNldDogZnVuY3Rpb24obGluZUluZGV4KSB7XG4gICAgICBpZiAodGhpcy5zcGxpdEJ5R3JhcGhlbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNFbmRPZldyYXBwaW5nKGxpbmVJbmRleCkgPyAxIDogMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAxO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAqIEdldHMgbGluZXMgb2YgdGV4dCB0byByZW5kZXIgaW4gdGhlIFRleHRib3guIFRoaXMgZnVuY3Rpb24gY2FsY3VsYXRlc1xuICAgICogdGV4dCB3cmFwcGluZyBvbiB0aGUgZmx5IGV2ZXJ5IHRpbWUgaXQgaXMgY2FsbGVkLlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHRleHQgdGV4dCB0byBzcGxpdFxuICAgICogQHJldHVybnMge0FycmF5fSBBcnJheSBvZiBsaW5lcyBpbiB0aGUgVGV4dGJveC5cbiAgICAqIEBvdmVycmlkZVxuICAgICovXG4gICAgX3NwbGl0VGV4dEludG9MaW5lczogZnVuY3Rpb24odGV4dCkge1xuICAgICAgdmFyIG5ld1RleHQgPSBmYWJyaWMuVGV4dC5wcm90b3R5cGUuX3NwbGl0VGV4dEludG9MaW5lcy5jYWxsKHRoaXMsIHRleHQpLFxuICAgICAgICAgIGdyYXBoZW1lTGluZXMgPSB0aGlzLl93cmFwVGV4dChuZXdUZXh0LmxpbmVzLCB0aGlzLndpZHRoKSxcbiAgICAgICAgICBsaW5lcyA9IG5ldyBBcnJheShncmFwaGVtZUxpbmVzLmxlbmd0aCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyYXBoZW1lTGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGluZXNbaV0gPSBncmFwaGVtZUxpbmVzW2ldLmpvaW4oJycpO1xuICAgICAgfVxuICAgICAgbmV3VGV4dC5saW5lcyA9IGxpbmVzO1xuICAgICAgbmV3VGV4dC5ncmFwaGVtZUxpbmVzID0gZ3JhcGhlbWVMaW5lcztcbiAgICAgIHJldHVybiBuZXdUZXh0O1xuICAgIH0sXG5cbiAgICBnZXRNaW5XaWR0aDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gTWF0aC5tYXgodGhpcy5taW5XaWR0aCwgdGhpcy5keW5hbWljTWluV2lkdGgpO1xuICAgIH0sXG5cbiAgICBfcmVtb3ZlRXh0cmFuZW91c1N0eWxlczogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgbGluZXNUb0tlZXAgPSB7fTtcbiAgICAgIGZvciAodmFyIHByb3AgaW4gdGhpcy5fc3R5bGVNYXApIHtcbiAgICAgICAgaWYgKHRoaXMuX3RleHRMaW5lc1twcm9wXSkge1xuICAgICAgICAgIGxpbmVzVG9LZWVwW3RoaXMuX3N0eWxlTWFwW3Byb3BdLmxpbmVdID0gMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yICh2YXIgcHJvcCBpbiB0aGlzLnN0eWxlcykge1xuICAgICAgICBpZiAoIWxpbmVzVG9LZWVwW3Byb3BdKSB7XG4gICAgICAgICAgZGVsZXRlIHRoaXMuc3R5bGVzW3Byb3BdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGFuIGluc3RhbmNlXG4gICAgICogQG1ldGhvZCB0b09iamVjdFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wZXJ0aWVzVG9JbmNsdWRlXSBBbnkgcHJvcGVydGllcyB0aGF0IHlvdSBtaWdodCB3YW50IHRvIGFkZGl0aW9uYWxseSBpbmNsdWRlIGluIHRoZSBvdXRwdXRcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiBhbiBpbnN0YW5jZVxuICAgICAqL1xuICAgIHRvT2JqZWN0OiBmdW5jdGlvbihwcm9wZXJ0aWVzVG9JbmNsdWRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxsU3VwZXIoJ3RvT2JqZWN0JywgWydtaW5XaWR0aCcsICdzcGxpdEJ5R3JhcGhlbWUnXS5jb25jYXQocHJvcGVydGllc1RvSW5jbHVkZSkpO1xuICAgIH1cbiAgfSk7XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZmFicmljLlRleHRib3ggaW5zdGFuY2UgZnJvbSBhbiBvYmplY3QgcmVwcmVzZW50YXRpb25cbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgZmFicmljLlRleHRib3hcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBPYmplY3QgdG8gY3JlYXRlIGFuIGluc3RhbmNlIGZyb21cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NhbGxiYWNrXSBDYWxsYmFjayB0byBpbnZva2Ugd2hlbiBhbiBmYWJyaWMuVGV4dGJveCBpbnN0YW5jZSBpcyBjcmVhdGVkXG4gICAqL1xuICBmYWJyaWMuVGV4dGJveC5mcm9tT2JqZWN0ID0gZnVuY3Rpb24ob2JqZWN0LCBjYWxsYmFjaykge1xuICAgIHJldHVybiBmYWJyaWMuT2JqZWN0Ll9mcm9tT2JqZWN0KCdUZXh0Ym94Jywgb2JqZWN0LCBjYWxsYmFjaywgJ3RleHQnKTtcbiAgfTtcbn0pKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyA/IGV4cG9ydHMgOiB0aGlzKTtcblxuIiwiaW1wb3J0IHtmYWJyaWN9IGZyb20gJ2ZhYnJpYydcbmltcG9ydCB7Q29uc3RhbnRzfSBmcm9tICcuL2NvbnN0YW50cydcblxuZXhwb3J0IGNvbnN0IExpbmUgPSBmYWJyaWMudXRpbC5jcmVhdGVDbGFzcyhmYWJyaWMuUmVjdCwge1xuXG4gICAgdHlwZTogJ2xpbmUnLFxuICAgIGNvbXBvbmVudHM6IFtdLFxuICAgIGhhc0NvbnRyb2xzOiB0cnVlLFxuXG4gICAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHsgfSk7XG4gICAgICAgIHRoaXMuY2FsbFN1cGVyKCdpbml0aWFsaXplJywgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5ib2R5RmlsbCA9IG9wdGlvbnMuZmlsbCB8fCAnJ1xuICAgICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnYm9keUZpbGwnKSkge1xuICAgICAgICAgICAgdGhpcy5ib2R5RmlsbCA9IG9wdGlvbnMuYm9keUZpbGxcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJvZHlUZXh0ID0gb3B0aW9ucy50ZXh0IHx8ICcnXG4gICAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KCdib2R5VGV4dCcpKSB7XG4gICAgICAgICAgICB0aGlzLmJvZHlUZXh0ID0gb3B0aW9ucy5ib2R5VGV4dFxuICAgICAgICB9XG4gICAgICAgIENvbnN0YW50cy5SRUNUX0RJU0FCTEVEX0NPTlRST0xTLmZvckVhY2goKGNvbnRyb2wpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q29udHJvbFZpc2libGUoY29udHJvbCwgZmFsc2UpXG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMuc2V0KCdmaWxsJywgJ3RyYW5zcGFyZW50JylcblxuICAgICAgICB0aGlzLm9uKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICdhZGRlZCc6IHRoaXMuX2luaXRDb21wb25lbnRzLFxuICAgICAgICAgICAgICAgICdtb2RpZmllZCc6IHRoaXMuX3NldENvbXBvbmVudHNQb3NpdGlvbixcbiAgICAgICAgICAgICAgICAnc2NhbGluZyc6IHRoaXMuX3NldENvbXBvbmVudHNQb3NpdGlvbixcbiAgICAgICAgICAgICAgICAnbW92aW5nJzogdGhpcy5fc2V0Q29tcG9uZW50c1Bvc2l0aW9uLFxuICAgICAgICAgICAgICAgICdyb3RhdGluZyc6IHRoaXMuX3NldENvbXBvbmVudHNQb3NpdGlvblxuICAgICAgICAgICAgfVxuICAgICAgICApXG4gICAgfSxcblxuICAgIF9pbml0Q29tcG9uZW50czogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRleHQgPSBuZXcgZmFicmljLlRleHQoJycsIHt2aXNpYmxlOiBmYWxzZX0pXG4gICAgICAgIHRoaXMuYm9keSA9IG5ldyBmYWJyaWMuUmVjdCh7XG4gICAgICAgICAgICB3aWR0aDogdGhpcy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHQsXG4gICAgICAgICAgICB0b3A6IHRoaXMudG9wLFxuICAgICAgICAgICAgbGVmdDogdGhpcy5sZWZ0LFxuICAgICAgICAgICAgZmlsbDogdGhpcy5ib2R5RmlsbFxuICAgICAgICB9KVxuICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSBbdGhpcy50ZXh0LCB0aGlzLmJvZHldXG5cbiAgICAgICAgdGhpcy5fc2V0dXBDb21wb25lbnRzKClcbiAgICAgICAgdGhpcy5zZXRUZXh0KHRoaXMuYm9keVRleHQpXG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIF9zZXR1cENvbXBvbmVudHM6IGFkZCB0aGUgY29tcG9uZW50IHRvIHRoZSBjYW52YXMgYW5kIHNldCBzb21lIG9wdGlvbnNcbiAgICAgKiB0byBhdm9pZCB0aGVtIGZyb20gYmVpbmcgZXhwb3J0ZWQvc2VsZWN0ZWRcbiAgICAgKi9cbiAgICBfc2V0dXBDb21wb25lbnRzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY29tcG9uZW50cy5mb3JFYWNoKChjb21wb25lbnQpID0+IHtcbiAgICAgICAgICAgIGNvbXBvbmVudC5zZXQoe1xuICAgICAgICAgICAgICAgIGV4Y2x1ZGVGcm9tRXhwb3J0OiB0cnVlLFxuICAgICAgICAgICAgICAgIGhhc0NvbnRyb2xzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzZWxlY3RhYmxlOiBmYWxzZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLmFkZChjb21wb25lbnQpXG4gICAgICAgICAgICBjb21wb25lbnQuc2VuZEJhY2t3YXJkcygpXG4gICAgICAgIH0pXG4gICAgfSxcblxuICAgIF9zZXRDb21wb25lbnRzUG9zaXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKiB0aGlzLnNjYWxlWSxcbiAgICAgICAgICAgIHdpZHRoID0gdGhpcy53aWR0aCAqIHRoaXMuc2NhbGVYLFxuICAgICAgICAgICAgYm91bmRpbmdSZWN0ID0gdGhpcy5nZXRCb3VuZGluZ1JlY3QoKVxuXG4gICAgICAgIGlmICh0aGlzLnRleHQpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dC5zZXQoe1xuICAgICAgICAgICAgICAgIHRvcDogYm91bmRpbmdSZWN0LnRvcCArIDAuNSAqIChib3VuZGluZ1JlY3QuaGVpZ2h0IC0gdGhpcy50ZXh0LmhlaWdodCksXG4gICAgICAgICAgICAgICAgbGVmdDogYm91bmRpbmdSZWN0LmxlZnQgKyAwLjUgKiAoYm91bmRpbmdSZWN0LndpZHRoIC0gdGhpcy50ZXh0LndpZHRoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYm9keS5zZXQoe1xuICAgICAgICAgICAgdG9wOiB0aGlzLnRvcCxcbiAgICAgICAgICAgIGxlZnQ6IHRoaXMubGVmdCxcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgYW5nbGU6IHRoaXMuYW5nbGVcbiAgICAgICAgfSlcblxuICAgIH0sXG5cbiAgICBnZXRDb21wb25lbnRzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudHNcbiAgICB9LFxuXG4gICAgc2V0VGV4dDogZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgdGhpcy5ib2R5VGV4dCA9IHRleHRcbiAgICAgICAgaWYgKHRleHQuc2xpY2UoLTEpICE9PSAnbScpIHtcbiAgICAgICAgICAgIHRleHQgKz0gJ20nXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50ZXh0LnNldCh7XG4gICAgICAgICAgICB0ZXh0OiB0ZXh0XG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMuX3NldENvbXBvbmVudHNQb3NpdGlvbigpXG4gICAgfSxcblxuICAgIF9yZW5kZXI6IGZ1bmN0aW9uIChjdHgpIHtcbiAgICAgICAgdGhpcy5jYWxsU3VwZXIoJ19yZW5kZXInLCBjdHgpXG4gICAgfSxcblxuICAgIGNsZWFyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2FudmFzLnJlbW92ZSh0aGlzLmNvbXBvbmVudHMpXG4gICAgfSxcblxuICAgIHRvT2JqZWN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmYWJyaWMudXRpbC5vYmplY3QuZXh0ZW5kKHRoaXMuY2FsbFN1cGVyKCd0b09iamVjdCcpLCB7XG4gICAgICAgICAgICBib2R5RmlsbDogdGhpcy5nZXQoJ2JvZHlGaWxsJyksXG4gICAgICAgICAgICBib2R5VGV4dDogdGhpcy5nZXQoJ2JvZHlUZXh0JylcbiAgICAgICAgfSk7XG4gICAgfVxuXG59KVxuXG5mYWJyaWMuTGluZSA9IExpbmVcblxuZmFicmljLkxpbmUuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIChvYmplY3QsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGZhYnJpYy5PYmplY3QuX2Zyb21PYmplY3QoJ0xpbmUnLCBvYmplY3QsIGNhbGxiYWNrKTtcbn07XG4iLCIvLyBjb250cm9sczogJ3RsJywgJ3RyJywgJ2JyJywgJ2JsJywgJ21sJywgJ210JywgJ21yJywgJ21iJywgJ210cidcbmV4cG9ydCBjb25zdCBDb25zdGFudHMgPSB7XG4gICAgUkVDVF9ESVNBQkxFRF9DT05UUk9MUzogWyAndGwnLCAndHInLCAnYmwnLCAnYnInLCAnbXQnLCAnbWInIF1cbn1cbiIsImltcG9ydCB7QXJyb3dsaW5lfSBmcm9tICcuL2Fycm93bGluZS5qcyc7XG5pbXBvcnQge0NhbnZhc30gZnJvbSAnLi9jYW52YXMuanMnO1xuaW1wb3J0IHtMaW5lfSBmcm9tICcuL2xpbmUuanMnO1xuaW1wb3J0IHtDb25zdGFudHN9IGZyb20gJy4vY29uc3RhbnRzLmpzJztcbmV4cG9ydCB7QXJyb3dsaW5lLCBDYW52YXMsIExpbmUsIENvbnN0YW50c307XG4iLCJpbXBvcnQge2ZhYnJpY30gZnJvbSAnZmFicmljJ1xuaW1wb3J0IHtMaW5lfSBmcm9tICcuL2xpbmUnXG5cbi8qKlxuICogQW4gQXJyb3dsaW5lIGlzIGEgZ3JvdXAgdGhhdCBsb29rcyBsaWtlIGEgZG91YmxlIGFycm93ZWQgbGluZTpcbiAqICAgICAgIDwtLS0tLS0tPlxuICovXG5leHBvcnQgY29uc3QgQXJyb3dsaW5lID0gZmFicmljLnV0aWwuY3JlYXRlQ2xhc3MoTGluZSwge1xuXG4gICAgdHlwZTogJ2Fycm93bGluZScsXG5cbiAgICBfaW5pdENvbXBvbmVudHM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50ZXh0ID0gbmV3IGZhYnJpYy5UZXh0KHRoaXMuYm9keVRleHQsIHtiYWNrZ3JvdW5kQ29sb3I6ICd3aGl0ZSd9KVxuICAgICAgICB0aGlzLmJvZHkgPSBuZXcgZmFicmljLlJlY3Qoe2ZpbGw6IHRoaXMuYm9keUZpbGx9KVxuICAgICAgICB0aGlzLmxlZnRUcmlhbmdsZSA9IG5ldyBmYWJyaWMuVHJpYW5nbGUoe2ZpbGw6IHRoaXMuYm9keUZpbGx9KVxuICAgICAgICB0aGlzLnJpZ2h0VHJpYW5nbGUgPSBuZXcgZmFicmljLlRyaWFuZ2xlKHtmaWxsOiB0aGlzLmJvZHlGaWxsfSlcblxuICAgICAgICB0aGlzLl9zZXRDb21wb25lbnRzUG9zaXRpb24oKVxuXG4gICAgICAgIHRoaXMuY29tcG9uZW50cyA9IFt0aGlzLmJvZHksIHRoaXMubGVmdFRyaWFuZ2xlLCB0aGlzLnJpZ2h0VHJpYW5nbGUsIHRoaXMudGV4dF1cblxuICAgICAgICB0aGlzLl9zZXR1cENvbXBvbmVudHMoKVxuICAgICAgICB0aGlzLnNldFRleHQodGhpcy5ib2R5VGV4dClcbiAgICB9LFxuXG4gICAgX3NldENvbXBvbmVudHNQb3NpdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBkZWdyZWVzVG9SYWRpYW5zUmF0aW8gPSBNYXRoLlBJIC8gMTgwLFxuICAgICAgICAgICAgaGVpZ2h0ID0gdGhpcy5oZWlnaHQgKiB0aGlzLnNjYWxlWSxcbiAgICAgICAgICAgIHdpZHRoID0gdGhpcy53aWR0aCAqIHRoaXMuc2NhbGVYLFxuICAgICAgICAgICAgY29zVGV0YSA9IE1hdGguY29zKHRoaXMuYW5nbGUgKiBkZWdyZWVzVG9SYWRpYW5zUmF0aW8pLFxuICAgICAgICAgICAgc2luVGV0YSA9IE1hdGguc2luKHRoaXMuYW5nbGUgKiBkZWdyZWVzVG9SYWRpYW5zUmF0aW8pLFxuICAgICAgICAgICAgYm91bmRpbmdSZWN0ID0gdGhpcy5nZXRCb3VuZGluZ1JlY3QoKVxuXG4gICAgICAgIHRoaXMudGV4dC5zZXQoe1xuICAgICAgICAgICAgdG9wOiBib3VuZGluZ1JlY3QudG9wICsgMC41ICogKGJvdW5kaW5nUmVjdC5oZWlnaHQgLSB0aGlzLnRleHQuaGVpZ2h0KSxcbiAgICAgICAgICAgIGxlZnQ6IGJvdW5kaW5nUmVjdC5sZWZ0ICsgMC41ICogKGJvdW5kaW5nUmVjdC53aWR0aCAtIHRoaXMudGV4dC53aWR0aCksXG4gICAgICAgICAgICBmb250U2l6ZTogMThcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmJvZHkuc2V0KHtcbiAgICAgICAgICAgIHRvcDogdGhpcy50b3AgKyBoZWlnaHQgKiBzaW5UZXRhICsgKGhlaWdodCAvIDQpICogY29zVGV0YSxcbiAgICAgICAgICAgIGxlZnQ6IHRoaXMubGVmdCArIGhlaWdodCAqIGNvc1RldGEgLSAoaGVpZ2h0IC8gNCkgKiBzaW5UZXRhLFxuICAgICAgICAgICAgd2lkdGg6IHdpZHRoIC0gMiAqIGhlaWdodCxcbiAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0IC8gMixcbiAgICAgICAgICAgIGFuZ2xlOiB0aGlzLmFuZ2xlXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5sZWZ0VHJpYW5nbGUuc2V0KHtcbiAgICAgICAgICAgIHRvcDogdGhpcy50b3AgKyBoZWlnaHQgKiBjb3NUZXRhLFxuICAgICAgICAgICAgbGVmdDogdGhpcy5sZWZ0IC0gaGVpZ2h0ICogc2luVGV0YSxcbiAgICAgICAgICAgIHdpZHRoOiBoZWlnaHQsXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgIGFuZ2xlOiB0aGlzLmFuZ2xlIC0gOTBcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLnJpZ2h0VHJpYW5nbGUuc2V0KHtcbiAgICAgICAgICAgIHRvcDogdGhpcy50b3AgKyB3aWR0aCAqIHNpblRldGEsXG4gICAgICAgICAgICBsZWZ0OiB0aGlzLmxlZnQgKyB3aWR0aCAqIGNvc1RldGEsXG4gICAgICAgICAgICB3aWR0aDogaGVpZ2h0LFxuICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgICBhbmdsZTogdGhpcy5hbmdsZSArIDkwXG4gICAgICAgIH0pXG4gICAgfVxuXG59KVxuXG5mYWJyaWMuQXJyb3dsaW5lID0gQXJyb3dsaW5lXG5cbmZhYnJpYy5BcnJvd2xpbmUuZnJvbU9iamVjdCA9IGZ1bmN0aW9uIChvYmplY3QsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGZhYnJpYy5PYmplY3QuX2Zyb21PYmplY3QoJ0Fycm93bGluZScsIG9iamVjdCwgY2FsbGJhY2spO1xufTtcbiIsIi8qIVxuICogVGhlIGJ1ZmZlciBtb2R1bGUgZnJvbSBub2RlLmpzLCBmb3IgdGhlIGJyb3dzZXIuXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHA6Ly9mZXJvc3Mub3JnPlxuICogQGxpY2Vuc2UgIE1JVFxuICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqL1xuXG4ndXNlIHN0cmljdCdcblxudmFyIGJhc2U2NCA9IHJlcXVpcmUoJ2Jhc2U2NC1qcycpXG52YXIgaWVlZTc1NCA9IHJlcXVpcmUoJ2llZWU3NTQnKVxudmFyIGlzQXJyYXkgPSByZXF1aXJlKCdpc2FycmF5JylcblxuZXhwb3J0cy5CdWZmZXIgPSBCdWZmZXJcbmV4cG9ydHMuU2xvd0J1ZmZlciA9IFNsb3dCdWZmZXJcbmV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVMgPSA1MFxuXG4vKipcbiAqIElmIGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGA6XG4gKiAgID09PSB0cnVlICAgIFVzZSBVaW50OEFycmF5IGltcGxlbWVudGF0aW9uIChmYXN0ZXN0KVxuICogICA9PT0gZmFsc2UgICBVc2UgT2JqZWN0IGltcGxlbWVudGF0aW9uIChtb3N0IGNvbXBhdGlibGUsIGV2ZW4gSUU2KVxuICpcbiAqIEJyb3dzZXJzIHRoYXQgc3VwcG9ydCB0eXBlZCBhcnJheXMgYXJlIElFIDEwKywgRmlyZWZveCA0KywgQ2hyb21lIDcrLCBTYWZhcmkgNS4xKyxcbiAqIE9wZXJhIDExLjYrLCBpT1MgNC4yKy5cbiAqXG4gKiBEdWUgdG8gdmFyaW91cyBicm93c2VyIGJ1Z3MsIHNvbWV0aW1lcyB0aGUgT2JqZWN0IGltcGxlbWVudGF0aW9uIHdpbGwgYmUgdXNlZCBldmVuXG4gKiB3aGVuIHRoZSBicm93c2VyIHN1cHBvcnRzIHR5cGVkIGFycmF5cy5cbiAqXG4gKiBOb3RlOlxuICpcbiAqICAgLSBGaXJlZm94IDQtMjkgbGFja3Mgc3VwcG9ydCBmb3IgYWRkaW5nIG5ldyBwcm9wZXJ0aWVzIHRvIGBVaW50OEFycmF5YCBpbnN0YW5jZXMsXG4gKiAgICAgU2VlOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02OTU0MzguXG4gKlxuICogICAtIENocm9tZSA5LTEwIGlzIG1pc3NpbmcgdGhlIGBUeXBlZEFycmF5LnByb3RvdHlwZS5zdWJhcnJheWAgZnVuY3Rpb24uXG4gKlxuICogICAtIElFMTAgaGFzIGEgYnJva2VuIGBUeXBlZEFycmF5LnByb3RvdHlwZS5zdWJhcnJheWAgZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhcnJheXMgb2ZcbiAqICAgICBpbmNvcnJlY3QgbGVuZ3RoIGluIHNvbWUgc2l0dWF0aW9ucy5cblxuICogV2UgZGV0ZWN0IHRoZXNlIGJ1Z2d5IGJyb3dzZXJzIGFuZCBzZXQgYEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUYCB0byBgZmFsc2VgIHNvIHRoZXlcbiAqIGdldCB0aGUgT2JqZWN0IGltcGxlbWVudGF0aW9uLCB3aGljaCBpcyBzbG93ZXIgYnV0IGJlaGF2ZXMgY29ycmVjdGx5LlxuICovXG5CdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCA9IGdsb2JhbC5UWVBFRF9BUlJBWV9TVVBQT1JUICE9PSB1bmRlZmluZWRcbiAgPyBnbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVFxuICA6IHR5cGVkQXJyYXlTdXBwb3J0KClcblxuLypcbiAqIEV4cG9ydCBrTWF4TGVuZ3RoIGFmdGVyIHR5cGVkIGFycmF5IHN1cHBvcnQgaXMgZGV0ZXJtaW5lZC5cbiAqL1xuZXhwb3J0cy5rTWF4TGVuZ3RoID0ga01heExlbmd0aCgpXG5cbmZ1bmN0aW9uIHR5cGVkQXJyYXlTdXBwb3J0ICgpIHtcbiAgdHJ5IHtcbiAgICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoMSlcbiAgICBhcnIuX19wcm90b19fID0ge19fcHJvdG9fXzogVWludDhBcnJheS5wcm90b3R5cGUsIGZvbzogZnVuY3Rpb24gKCkgeyByZXR1cm4gNDIgfX1cbiAgICByZXR1cm4gYXJyLmZvbygpID09PSA0MiAmJiAvLyB0eXBlZCBhcnJheSBpbnN0YW5jZXMgY2FuIGJlIGF1Z21lbnRlZFxuICAgICAgICB0eXBlb2YgYXJyLnN1YmFycmF5ID09PSAnZnVuY3Rpb24nICYmIC8vIGNocm9tZSA5LTEwIGxhY2sgYHN1YmFycmF5YFxuICAgICAgICBhcnIuc3ViYXJyYXkoMSwgMSkuYnl0ZUxlbmd0aCA9PT0gMCAvLyBpZTEwIGhhcyBicm9rZW4gYHN1YmFycmF5YFxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuZnVuY3Rpb24ga01heExlbmd0aCAoKSB7XG4gIHJldHVybiBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVFxuICAgID8gMHg3ZmZmZmZmZlxuICAgIDogMHgzZmZmZmZmZlxufVxuXG5mdW5jdGlvbiBjcmVhdGVCdWZmZXIgKHRoYXQsIGxlbmd0aCkge1xuICBpZiAoa01heExlbmd0aCgpIDwgbGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgdHlwZWQgYXJyYXkgbGVuZ3RoJylcbiAgfVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZSwgZm9yIGJlc3QgcGVyZm9ybWFuY2VcbiAgICB0aGF0ID0gbmV3IFVpbnQ4QXJyYXkobGVuZ3RoKVxuICAgIHRoYXQuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICB9IGVsc2Uge1xuICAgIC8vIEZhbGxiYWNrOiBSZXR1cm4gYW4gb2JqZWN0IGluc3RhbmNlIG9mIHRoZSBCdWZmZXIgY2xhc3NcbiAgICBpZiAodGhhdCA9PT0gbnVsbCkge1xuICAgICAgdGhhdCA9IG5ldyBCdWZmZXIobGVuZ3RoKVxuICAgIH1cbiAgICB0aGF0Lmxlbmd0aCA9IGxlbmd0aFxuICB9XG5cbiAgcmV0dXJuIHRoYXRcbn1cblxuLyoqXG4gKiBUaGUgQnVmZmVyIGNvbnN0cnVjdG9yIHJldHVybnMgaW5zdGFuY2VzIG9mIGBVaW50OEFycmF5YCB0aGF0IGhhdmUgdGhlaXJcbiAqIHByb3RvdHlwZSBjaGFuZ2VkIHRvIGBCdWZmZXIucHJvdG90eXBlYC4gRnVydGhlcm1vcmUsIGBCdWZmZXJgIGlzIGEgc3ViY2xhc3Mgb2ZcbiAqIGBVaW50OEFycmF5YCwgc28gdGhlIHJldHVybmVkIGluc3RhbmNlcyB3aWxsIGhhdmUgYWxsIHRoZSBub2RlIGBCdWZmZXJgIG1ldGhvZHNcbiAqIGFuZCB0aGUgYFVpbnQ4QXJyYXlgIG1ldGhvZHMuIFNxdWFyZSBicmFja2V0IG5vdGF0aW9uIHdvcmtzIGFzIGV4cGVjdGVkIC0tIGl0XG4gKiByZXR1cm5zIGEgc2luZ2xlIG9jdGV0LlxuICpcbiAqIFRoZSBgVWludDhBcnJheWAgcHJvdG90eXBlIHJlbWFpbnMgdW5tb2RpZmllZC5cbiAqL1xuXG5mdW5jdGlvbiBCdWZmZXIgKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgJiYgISh0aGlzIGluc3RhbmNlb2YgQnVmZmVyKSkge1xuICAgIHJldHVybiBuZXcgQnVmZmVyKGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgLy8gQ29tbW9uIGNhc2UuXG4gIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJykge1xuICAgIGlmICh0eXBlb2YgZW5jb2RpbmdPck9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0lmIGVuY29kaW5nIGlzIHNwZWNpZmllZCB0aGVuIHRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nJ1xuICAgICAgKVxuICAgIH1cbiAgICByZXR1cm4gYWxsb2NVbnNhZmUodGhpcywgYXJnKVxuICB9XG4gIHJldHVybiBmcm9tKHRoaXMsIGFyZywgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxufVxuXG5CdWZmZXIucG9vbFNpemUgPSA4MTkyIC8vIG5vdCB1c2VkIGJ5IHRoaXMgaW1wbGVtZW50YXRpb25cblxuLy8gVE9ETzogTGVnYWN5LCBub3QgbmVlZGVkIGFueW1vcmUuIFJlbW92ZSBpbiBuZXh0IG1ham9yIHZlcnNpb24uXG5CdWZmZXIuX2F1Z21lbnQgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIGFyci5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlXG4gIHJldHVybiBhcnJcbn1cblxuZnVuY3Rpb24gZnJvbSAodGhhdCwgdmFsdWUsIGVuY29kaW5nT3JPZmZzZXQsIGxlbmd0aCkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1widmFsdWVcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlcicpXG4gIH1cblxuICBpZiAodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgcmV0dXJuIGZyb21BcnJheUJ1ZmZlcih0aGF0LCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKVxuICB9XG5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZnJvbVN0cmluZyh0aGF0LCB2YWx1ZSwgZW5jb2RpbmdPck9mZnNldClcbiAgfVxuXG4gIHJldHVybiBmcm9tT2JqZWN0KHRoYXQsIHZhbHVlKVxufVxuXG4vKipcbiAqIEZ1bmN0aW9uYWxseSBlcXVpdmFsZW50IHRvIEJ1ZmZlcihhcmcsIGVuY29kaW5nKSBidXQgdGhyb3dzIGEgVHlwZUVycm9yXG4gKiBpZiB2YWx1ZSBpcyBhIG51bWJlci5cbiAqIEJ1ZmZlci5mcm9tKHN0clssIGVuY29kaW5nXSlcbiAqIEJ1ZmZlci5mcm9tKGFycmF5KVxuICogQnVmZmVyLmZyb20oYnVmZmVyKVxuICogQnVmZmVyLmZyb20oYXJyYXlCdWZmZXJbLCBieXRlT2Zmc2V0WywgbGVuZ3RoXV0pXG4gKiovXG5CdWZmZXIuZnJvbSA9IGZ1bmN0aW9uICh2YWx1ZSwgZW5jb2RpbmdPck9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBmcm9tKG51bGwsIHZhbHVlLCBlbmNvZGluZ09yT2Zmc2V0LCBsZW5ndGgpXG59XG5cbmlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICBCdWZmZXIucHJvdG90eXBlLl9fcHJvdG9fXyA9IFVpbnQ4QXJyYXkucHJvdG90eXBlXG4gIEJ1ZmZlci5fX3Byb3RvX18gPSBVaW50OEFycmF5XG4gIGlmICh0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wuc3BlY2llcyAmJlxuICAgICAgQnVmZmVyW1N5bWJvbC5zcGVjaWVzXSA9PT0gQnVmZmVyKSB7XG4gICAgLy8gRml4IHN1YmFycmF5KCkgaW4gRVMyMDE2LiBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL3B1bGwvOTdcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQnVmZmVyLCBTeW1ib2wuc3BlY2llcywge1xuICAgICAgdmFsdWU6IG51bGwsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KVxuICB9XG59XG5cbmZ1bmN0aW9uIGFzc2VydFNpemUgKHNpemUpIHtcbiAgaWYgKHR5cGVvZiBzaXplICE9PSAnbnVtYmVyJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXInKVxuICB9IGVsc2UgaWYgKHNpemUgPCAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIG5lZ2F0aXZlJylcbiAgfVxufVxuXG5mdW5jdGlvbiBhbGxvYyAodGhhdCwgc2l6ZSwgZmlsbCwgZW5jb2RpbmcpIHtcbiAgYXNzZXJ0U2l6ZShzaXplKVxuICBpZiAoc2l6ZSA8PSAwKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKVxuICB9XG4gIGlmIChmaWxsICE9PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPbmx5IHBheSBhdHRlbnRpb24gdG8gZW5jb2RpbmcgaWYgaXQncyBhIHN0cmluZy4gVGhpc1xuICAgIC8vIHByZXZlbnRzIGFjY2lkZW50YWxseSBzZW5kaW5nIGluIGEgbnVtYmVyIHRoYXQgd291bGRcbiAgICAvLyBiZSBpbnRlcnByZXR0ZWQgYXMgYSBzdGFydCBvZmZzZXQuXG4gICAgcmV0dXJuIHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZydcbiAgICAgID8gY3JlYXRlQnVmZmVyKHRoYXQsIHNpemUpLmZpbGwoZmlsbCwgZW5jb2RpbmcpXG4gICAgICA6IGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKS5maWxsKGZpbGwpXG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplKVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgZmlsbGVkIEJ1ZmZlciBpbnN0YW5jZS5cbiAqIGFsbG9jKHNpemVbLCBmaWxsWywgZW5jb2RpbmddXSlcbiAqKi9cbkJ1ZmZlci5hbGxvYyA9IGZ1bmN0aW9uIChzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICByZXR1cm4gYWxsb2MobnVsbCwgc2l6ZSwgZmlsbCwgZW5jb2RpbmcpXG59XG5cbmZ1bmN0aW9uIGFsbG9jVW5zYWZlICh0aGF0LCBzaXplKSB7XG4gIGFzc2VydFNpemUoc2l6ZSlcbiAgdGhhdCA9IGNyZWF0ZUJ1ZmZlcih0aGF0LCBzaXplIDwgMCA/IDAgOiBjaGVja2VkKHNpemUpIHwgMClcbiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgKytpKSB7XG4gICAgICB0aGF0W2ldID0gMFxuICAgIH1cbiAgfVxuICByZXR1cm4gdGhhdFxufVxuXG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gQnVmZmVyKG51bSksIGJ5IGRlZmF1bHQgY3JlYXRlcyBhIG5vbi16ZXJvLWZpbGxlZCBCdWZmZXIgaW5zdGFuY2UuXG4gKiAqL1xuQnVmZmVyLmFsbG9jVW5zYWZlID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKG51bGwsIHNpemUpXG59XG4vKipcbiAqIEVxdWl2YWxlbnQgdG8gU2xvd0J1ZmZlcihudW0pLCBieSBkZWZhdWx0IGNyZWF0ZXMgYSBub24temVyby1maWxsZWQgQnVmZmVyIGluc3RhbmNlLlxuICovXG5CdWZmZXIuYWxsb2NVbnNhZmVTbG93ID0gZnVuY3Rpb24gKHNpemUpIHtcbiAgcmV0dXJuIGFsbG9jVW5zYWZlKG51bGwsIHNpemUpXG59XG5cbmZ1bmN0aW9uIGZyb21TdHJpbmcgKHRoYXQsIHN0cmluZywgZW5jb2RpbmcpIHtcbiAgaWYgKHR5cGVvZiBlbmNvZGluZyAhPT0gJ3N0cmluZycgfHwgZW5jb2RpbmcgPT09ICcnKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgfVxuXG4gIGlmICghQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignXCJlbmNvZGluZ1wiIG11c3QgYmUgYSB2YWxpZCBzdHJpbmcgZW5jb2RpbmcnKVxuICB9XG5cbiAgdmFyIGxlbmd0aCA9IGJ5dGVMZW5ndGgoc3RyaW5nLCBlbmNvZGluZykgfCAwXG4gIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgbGVuZ3RoKVxuXG4gIHZhciBhY3R1YWwgPSB0aGF0LndyaXRlKHN0cmluZywgZW5jb2RpbmcpXG5cbiAgaWYgKGFjdHVhbCAhPT0gbGVuZ3RoKSB7XG4gICAgLy8gV3JpdGluZyBhIGhleCBzdHJpbmcsIGZvciBleGFtcGxlLCB0aGF0IGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVycyB3aWxsXG4gICAgLy8gY2F1c2UgZXZlcnl0aGluZyBhZnRlciB0aGUgZmlyc3QgaW52YWxpZCBjaGFyYWN0ZXIgdG8gYmUgaWdub3JlZC4gKGUuZy5cbiAgICAvLyAnYWJ4eGNkJyB3aWxsIGJlIHRyZWF0ZWQgYXMgJ2FiJylcbiAgICB0aGF0ID0gdGhhdC5zbGljZSgwLCBhY3R1YWwpXG4gIH1cblxuICByZXR1cm4gdGhhdFxufVxuXG5mdW5jdGlvbiBmcm9tQXJyYXlMaWtlICh0aGF0LCBhcnJheSkge1xuICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoIDwgMCA/IDAgOiBjaGVja2VkKGFycmF5Lmxlbmd0aCkgfCAwXG4gIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgbGVuZ3RoKVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgdGhhdFtpXSA9IGFycmF5W2ldICYgMjU1XG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbUFycmF5QnVmZmVyICh0aGF0LCBhcnJheSwgYnl0ZU9mZnNldCwgbGVuZ3RoKSB7XG4gIGFycmF5LmJ5dGVMZW5ndGggLy8gdGhpcyB0aHJvd3MgaWYgYGFycmF5YCBpcyBub3QgYSB2YWxpZCBBcnJheUJ1ZmZlclxuXG4gIGlmIChieXRlT2Zmc2V0IDwgMCB8fCBhcnJheS5ieXRlTGVuZ3RoIDwgYnl0ZU9mZnNldCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdcXCdvZmZzZXRcXCcgaXMgb3V0IG9mIGJvdW5kcycpXG4gIH1cblxuICBpZiAoYXJyYXkuYnl0ZUxlbmd0aCA8IGJ5dGVPZmZzZXQgKyAobGVuZ3RoIHx8IDApKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1xcJ2xlbmd0aFxcJyBpcyBvdXQgb2YgYm91bmRzJylcbiAgfVxuXG4gIGlmIChieXRlT2Zmc2V0ID09PSB1bmRlZmluZWQgJiYgbGVuZ3RoID09PSB1bmRlZmluZWQpIHtcbiAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5KVxuICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheSwgYnl0ZU9mZnNldClcbiAgfSBlbHNlIHtcbiAgICBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5LCBieXRlT2Zmc2V0LCBsZW5ndGgpXG4gIH1cblxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZSwgZm9yIGJlc3QgcGVyZm9ybWFuY2VcbiAgICB0aGF0ID0gYXJyYXlcbiAgICB0aGF0Ll9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGVcbiAgfSBlbHNlIHtcbiAgICAvLyBGYWxsYmFjazogUmV0dXJuIGFuIG9iamVjdCBpbnN0YW5jZSBvZiB0aGUgQnVmZmVyIGNsYXNzXG4gICAgdGhhdCA9IGZyb21BcnJheUxpa2UodGhhdCwgYXJyYXkpXG4gIH1cbiAgcmV0dXJuIHRoYXRcbn1cblxuZnVuY3Rpb24gZnJvbU9iamVjdCAodGhhdCwgb2JqKSB7XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIob2JqKSkge1xuICAgIHZhciBsZW4gPSBjaGVja2VkKG9iai5sZW5ndGgpIHwgMFxuICAgIHRoYXQgPSBjcmVhdGVCdWZmZXIodGhhdCwgbGVuKVxuXG4gICAgaWYgKHRoYXQubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhhdFxuICAgIH1cblxuICAgIG9iai5jb3B5KHRoYXQsIDAsIDAsIGxlbilcbiAgICByZXR1cm4gdGhhdFxuICB9XG5cbiAgaWYgKG9iaikge1xuICAgIGlmICgodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICBvYmouYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHx8ICdsZW5ndGgnIGluIG9iaikge1xuICAgICAgaWYgKHR5cGVvZiBvYmoubGVuZ3RoICE9PSAnbnVtYmVyJyB8fCBpc25hbihvYmoubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gY3JlYXRlQnVmZmVyKHRoYXQsIDApXG4gICAgICB9XG4gICAgICByZXR1cm4gZnJvbUFycmF5TGlrZSh0aGF0LCBvYmopXG4gICAgfVxuXG4gICAgaWYgKG9iai50eXBlID09PSAnQnVmZmVyJyAmJiBpc0FycmF5KG9iai5kYXRhKSkge1xuICAgICAgcmV0dXJuIGZyb21BcnJheUxpa2UodGhhdCwgb2JqLmRhdGEpXG4gICAgfVxuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcignRmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZywgQnVmZmVyLCBBcnJheUJ1ZmZlciwgQXJyYXksIG9yIGFycmF5LWxpa2Ugb2JqZWN0LicpXG59XG5cbmZ1bmN0aW9uIGNoZWNrZWQgKGxlbmd0aCkge1xuICAvLyBOb3RlOiBjYW5ub3QgdXNlIGBsZW5ndGggPCBrTWF4TGVuZ3RoKClgIGhlcmUgYmVjYXVzZSB0aGF0IGZhaWxzIHdoZW5cbiAgLy8gbGVuZ3RoIGlzIE5hTiAod2hpY2ggaXMgb3RoZXJ3aXNlIGNvZXJjZWQgdG8gemVyby4pXG4gIGlmIChsZW5ndGggPj0ga01heExlbmd0aCgpKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0F0dGVtcHQgdG8gYWxsb2NhdGUgQnVmZmVyIGxhcmdlciB0aGFuIG1heGltdW0gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgJ3NpemU6IDB4JyArIGtNYXhMZW5ndGgoKS50b1N0cmluZygxNikgKyAnIGJ5dGVzJylcbiAgfVxuICByZXR1cm4gbGVuZ3RoIHwgMFxufVxuXG5mdW5jdGlvbiBTbG93QnVmZmVyIChsZW5ndGgpIHtcbiAgaWYgKCtsZW5ndGggIT0gbGVuZ3RoKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgZXFlcWVxXG4gICAgbGVuZ3RoID0gMFxuICB9XG4gIHJldHVybiBCdWZmZXIuYWxsb2MoK2xlbmd0aClcbn1cblxuQnVmZmVyLmlzQnVmZmVyID0gZnVuY3Rpb24gaXNCdWZmZXIgKGIpIHtcbiAgcmV0dXJuICEhKGIgIT0gbnVsbCAmJiBiLl9pc0J1ZmZlcilcbn1cblxuQnVmZmVyLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlIChhLCBiKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGEpIHx8ICFCdWZmZXIuaXNCdWZmZXIoYikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudHMgbXVzdCBiZSBCdWZmZXJzJylcbiAgfVxuXG4gIGlmIChhID09PSBiKSByZXR1cm4gMFxuXG4gIHZhciB4ID0gYS5sZW5ndGhcbiAgdmFyIHkgPSBiLmxlbmd0aFxuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBNYXRoLm1pbih4LCB5KTsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKGFbaV0gIT09IGJbaV0pIHtcbiAgICAgIHggPSBhW2ldXG4gICAgICB5ID0gYltpXVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICBpZiAoeCA8IHkpIHJldHVybiAtMVxuICBpZiAoeSA8IHgpIHJldHVybiAxXG4gIHJldHVybiAwXG59XG5cbkJ1ZmZlci5pc0VuY29kaW5nID0gZnVuY3Rpb24gaXNFbmNvZGluZyAoZW5jb2RpbmcpIHtcbiAgc3dpdGNoIChTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKCkpIHtcbiAgICBjYXNlICdoZXgnOlxuICAgIGNhc2UgJ3V0ZjgnOlxuICAgIGNhc2UgJ3V0Zi04JzpcbiAgICBjYXNlICdhc2NpaSc6XG4gICAgY2FzZSAnbGF0aW4xJzpcbiAgICBjYXNlICdiaW5hcnknOlxuICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgY2FzZSAndWNzMic6XG4gICAgY2FzZSAndWNzLTInOlxuICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgIHJldHVybiB0cnVlXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbkJ1ZmZlci5jb25jYXQgPSBmdW5jdGlvbiBjb25jYXQgKGxpc3QsIGxlbmd0aCkge1xuICBpZiAoIWlzQXJyYXkobGlzdCkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKVxuICB9XG5cbiAgaWYgKGxpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIEJ1ZmZlci5hbGxvYygwKVxuICB9XG5cbiAgdmFyIGlcbiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbGVuZ3RoID0gMFxuICAgIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgKytpKSB7XG4gICAgICBsZW5ndGggKz0gbGlzdFtpXS5sZW5ndGhcbiAgICB9XG4gIH1cblxuICB2YXIgYnVmZmVyID0gQnVmZmVyLmFsbG9jVW5zYWZlKGxlbmd0aClcbiAgdmFyIHBvcyA9IDBcbiAgZm9yIChpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyArK2kpIHtcbiAgICB2YXIgYnVmID0gbGlzdFtpXVxuICAgIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1wibGlzdFwiIGFyZ3VtZW50IG11c3QgYmUgYW4gQXJyYXkgb2YgQnVmZmVycycpXG4gICAgfVxuICAgIGJ1Zi5jb3B5KGJ1ZmZlciwgcG9zKVxuICAgIHBvcyArPSBidWYubGVuZ3RoXG4gIH1cbiAgcmV0dXJuIGJ1ZmZlclxufVxuXG5mdW5jdGlvbiBieXRlTGVuZ3RoIChzdHJpbmcsIGVuY29kaW5nKSB7XG4gIGlmIChCdWZmZXIuaXNCdWZmZXIoc3RyaW5nKSkge1xuICAgIHJldHVybiBzdHJpbmcubGVuZ3RoXG4gIH1cbiAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldyA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgKEFycmF5QnVmZmVyLmlzVmlldyhzdHJpbmcpIHx8IHN0cmluZyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSkge1xuICAgIHJldHVybiBzdHJpbmcuYnl0ZUxlbmd0aFxuICB9XG4gIGlmICh0eXBlb2Ygc3RyaW5nICE9PSAnc3RyaW5nJykge1xuICAgIHN0cmluZyA9ICcnICsgc3RyaW5nXG4gIH1cblxuICB2YXIgbGVuID0gc3RyaW5nLmxlbmd0aFxuICBpZiAobGVuID09PSAwKSByZXR1cm4gMFxuXG4gIC8vIFVzZSBhIGZvciBsb29wIHRvIGF2b2lkIHJlY3Vyc2lvblxuICB2YXIgbG93ZXJlZENhc2UgPSBmYWxzZVxuICBmb3IgKDs7KSB7XG4gICAgc3dpdGNoIChlbmNvZGluZykge1xuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgY2FzZSAnbGF0aW4xJzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiBsZW5cbiAgICAgIGNhc2UgJ3V0ZjgnOlxuICAgICAgY2FzZSAndXRmLTgnOlxuICAgICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgICAgIHJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aFxuICAgICAgY2FzZSAndWNzMic6XG4gICAgICBjYXNlICd1Y3MtMic6XG4gICAgICBjYXNlICd1dGYxNmxlJzpcbiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzpcbiAgICAgICAgcmV0dXJuIGxlbiAqIDJcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBsZW4gPj4+IDFcbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIHJldHVybiBiYXNlNjRUb0J5dGVzKHN0cmluZykubGVuZ3RoXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAobG93ZXJlZENhc2UpIHJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aCAvLyBhc3N1bWUgdXRmOFxuICAgICAgICBlbmNvZGluZyA9ICgnJyArIGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuQnVmZmVyLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoXG5cbmZ1bmN0aW9uIHNsb3dUb1N0cmluZyAoZW5jb2RpbmcsIHN0YXJ0LCBlbmQpIHtcbiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2VcblxuICAvLyBObyBuZWVkIHRvIHZlcmlmeSB0aGF0IFwidGhpcy5sZW5ndGggPD0gTUFYX1VJTlQzMlwiIHNpbmNlIGl0J3MgYSByZWFkLW9ubHlcbiAgLy8gcHJvcGVydHkgb2YgYSB0eXBlZCBhcnJheS5cblxuICAvLyBUaGlzIGJlaGF2ZXMgbmVpdGhlciBsaWtlIFN0cmluZyBub3IgVWludDhBcnJheSBpbiB0aGF0IHdlIHNldCBzdGFydC9lbmRcbiAgLy8gdG8gdGhlaXIgdXBwZXIvbG93ZXIgYm91bmRzIGlmIHRoZSB2YWx1ZSBwYXNzZWQgaXMgb3V0IG9mIHJhbmdlLlxuICAvLyB1bmRlZmluZWQgaXMgaGFuZGxlZCBzcGVjaWFsbHkgYXMgcGVyIEVDTUEtMjYyIDZ0aCBFZGl0aW9uLFxuICAvLyBTZWN0aW9uIDEzLjMuMy43IFJ1bnRpbWUgU2VtYW50aWNzOiBLZXllZEJpbmRpbmdJbml0aWFsaXphdGlvbi5cbiAgaWYgKHN0YXJ0ID09PSB1bmRlZmluZWQgfHwgc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgPSAwXG4gIH1cbiAgLy8gUmV0dXJuIGVhcmx5IGlmIHN0YXJ0ID4gdGhpcy5sZW5ndGguIERvbmUgaGVyZSB0byBwcmV2ZW50IHBvdGVudGlhbCB1aW50MzJcbiAgLy8gY29lcmNpb24gZmFpbCBiZWxvdy5cbiAgaWYgKHN0YXJ0ID4gdGhpcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIGlmIChlbmQgPT09IHVuZGVmaW5lZCB8fCBlbmQgPiB0aGlzLmxlbmd0aCkge1xuICAgIGVuZCA9IHRoaXMubGVuZ3RoXG4gIH1cblxuICBpZiAoZW5kIDw9IDApIHtcbiAgICByZXR1cm4gJydcbiAgfVxuXG4gIC8vIEZvcmNlIGNvZXJzaW9uIHRvIHVpbnQzMi4gVGhpcyB3aWxsIGFsc28gY29lcmNlIGZhbHNleS9OYU4gdmFsdWVzIHRvIDAuXG4gIGVuZCA+Pj49IDBcbiAgc3RhcnQgPj4+PSAwXG5cbiAgaWYgKGVuZCA8PSBzdGFydCkge1xuICAgIHJldHVybiAnJ1xuICB9XG5cbiAgaWYgKCFlbmNvZGluZykgZW5jb2RpbmcgPSAndXRmOCdcblxuICB3aGlsZSAodHJ1ZSkge1xuICAgIHN3aXRjaCAoZW5jb2RpbmcpIHtcbiAgICAgIGNhc2UgJ2hleCc6XG4gICAgICAgIHJldHVybiBoZXhTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICd1dGY4JzpcbiAgICAgIGNhc2UgJ3V0Zi04JzpcbiAgICAgICAgcmV0dXJuIHV0ZjhTbGljZSh0aGlzLCBzdGFydCwgZW5kKVxuXG4gICAgICBjYXNlICdhc2NpaSc6XG4gICAgICAgIHJldHVybiBhc2NpaVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ2xhdGluMSc6XG4gICAgICBjYXNlICdiaW5hcnknOlxuICAgICAgICByZXR1cm4gbGF0aW4xU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgICAgcmV0dXJuIGJhc2U2NFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpXG5cbiAgICAgIGNhc2UgJ3VjczInOlxuICAgICAgY2FzZSAndWNzLTInOlxuICAgICAgY2FzZSAndXRmMTZsZSc6XG4gICAgICBjYXNlICd1dGYtMTZsZSc6XG4gICAgICAgIHJldHVybiB1dGYxNmxlU2xpY2UodGhpcywgc3RhcnQsIGVuZClcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpXG4gICAgICAgIGVuY29kaW5nID0gKGVuY29kaW5nICsgJycpLnRvTG93ZXJDYXNlKClcbiAgICAgICAgbG93ZXJlZENhc2UgPSB0cnVlXG4gICAgfVxuICB9XG59XG5cbi8vIFRoZSBwcm9wZXJ0eSBpcyB1c2VkIGJ5IGBCdWZmZXIuaXNCdWZmZXJgIGFuZCBgaXMtYnVmZmVyYCAoaW4gU2FmYXJpIDUtNykgdG8gZGV0ZWN0XG4vLyBCdWZmZXIgaW5zdGFuY2VzLlxuQnVmZmVyLnByb3RvdHlwZS5faXNCdWZmZXIgPSB0cnVlXG5cbmZ1bmN0aW9uIHN3YXAgKGIsIG4sIG0pIHtcbiAgdmFyIGkgPSBiW25dXG4gIGJbbl0gPSBiW21dXG4gIGJbbV0gPSBpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc3dhcDE2ID0gZnVuY3Rpb24gc3dhcDE2ICgpIHtcbiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoXG4gIGlmIChsZW4gJSAyICE9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0J1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAxNi1iaXRzJylcbiAgfVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSAyKSB7XG4gICAgc3dhcCh0aGlzLCBpLCBpICsgMSlcbiAgfVxuICByZXR1cm4gdGhpc1xufVxuXG5CdWZmZXIucHJvdG90eXBlLnN3YXAzMiA9IGZ1bmN0aW9uIHN3YXAzMiAoKSB7XG4gIHZhciBsZW4gPSB0aGlzLmxlbmd0aFxuICBpZiAobGVuICUgNCAhPT0gMCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzItYml0cycpXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgIHN3YXAodGhpcywgaSwgaSArIDMpXG4gICAgc3dhcCh0aGlzLCBpICsgMSwgaSArIDIpXG4gIH1cbiAgcmV0dXJuIHRoaXNcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5zd2FwNjQgPSBmdW5jdGlvbiBzd2FwNjQgKCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgaWYgKGxlbiAlIDggIT09IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDY0LWJpdHMnKVxuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICs9IDgpIHtcbiAgICBzd2FwKHRoaXMsIGksIGkgKyA3KVxuICAgIHN3YXAodGhpcywgaSArIDEsIGkgKyA2KVxuICAgIHN3YXAodGhpcywgaSArIDIsIGkgKyA1KVxuICAgIHN3YXAodGhpcywgaSArIDMsIGkgKyA0KVxuICB9XG4gIHJldHVybiB0aGlzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gIHZhciBsZW5ndGggPSB0aGlzLmxlbmd0aCB8IDBcbiAgaWYgKGxlbmd0aCA9PT0gMCkgcmV0dXJuICcnXG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIDAsIGxlbmd0aClcbiAgcmV0dXJuIHNsb3dUb1N0cmluZy5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzIChiKSB7XG4gIGlmICghQnVmZmVyLmlzQnVmZmVyKGIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJylcbiAgaWYgKHRoaXMgPT09IGIpIHJldHVybiB0cnVlXG4gIHJldHVybiBCdWZmZXIuY29tcGFyZSh0aGlzLCBiKSA9PT0gMFxufVxuXG5CdWZmZXIucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbiBpbnNwZWN0ICgpIHtcbiAgdmFyIHN0ciA9ICcnXG4gIHZhciBtYXggPSBleHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTXG4gIGlmICh0aGlzLmxlbmd0aCA+IDApIHtcbiAgICBzdHIgPSB0aGlzLnRvU3RyaW5nKCdoZXgnLCAwLCBtYXgpLm1hdGNoKC8uezJ9L2cpLmpvaW4oJyAnKVxuICAgIGlmICh0aGlzLmxlbmd0aCA+IG1heCkgc3RyICs9ICcgLi4uICdcbiAgfVxuICByZXR1cm4gJzxCdWZmZXIgJyArIHN0ciArICc+J1xufVxuXG5CdWZmZXIucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlICh0YXJnZXQsIHN0YXJ0LCBlbmQsIHRoaXNTdGFydCwgdGhpc0VuZCkge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcih0YXJnZXQpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlcicpXG4gIH1cblxuICBpZiAoc3RhcnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHN0YXJ0ID0gMFxuICB9XG4gIGlmIChlbmQgPT09IHVuZGVmaW5lZCkge1xuICAgIGVuZCA9IHRhcmdldCA/IHRhcmdldC5sZW5ndGggOiAwXG4gIH1cbiAgaWYgKHRoaXNTdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpc1N0YXJ0ID0gMFxuICB9XG4gIGlmICh0aGlzRW5kID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzRW5kID0gdGhpcy5sZW5ndGhcbiAgfVxuXG4gIGlmIChzdGFydCA8IDAgfHwgZW5kID4gdGFyZ2V0Lmxlbmd0aCB8fCB0aGlzU3RhcnQgPCAwIHx8IHRoaXNFbmQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdvdXQgb2YgcmFuZ2UgaW5kZXgnKVxuICB9XG5cbiAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kICYmIHN0YXJ0ID49IGVuZCkge1xuICAgIHJldHVybiAwXG4gIH1cbiAgaWYgKHRoaXNTdGFydCA+PSB0aGlzRW5kKSB7XG4gICAgcmV0dXJuIC0xXG4gIH1cbiAgaWYgKHN0YXJ0ID49IGVuZCkge1xuICAgIHJldHVybiAxXG4gIH1cblxuICBzdGFydCA+Pj49IDBcbiAgZW5kID4+Pj0gMFxuICB0aGlzU3RhcnQgPj4+PSAwXG4gIHRoaXNFbmQgPj4+PSAwXG5cbiAgaWYgKHRoaXMgPT09IHRhcmdldCkgcmV0dXJuIDBcblxuICB2YXIgeCA9IHRoaXNFbmQgLSB0aGlzU3RhcnRcbiAgdmFyIHkgPSBlbmQgLSBzdGFydFxuICB2YXIgbGVuID0gTWF0aC5taW4oeCwgeSlcblxuICB2YXIgdGhpc0NvcHkgPSB0aGlzLnNsaWNlKHRoaXNTdGFydCwgdGhpc0VuZClcbiAgdmFyIHRhcmdldENvcHkgPSB0YXJnZXQuc2xpY2Uoc3RhcnQsIGVuZClcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKHRoaXNDb3B5W2ldICE9PSB0YXJnZXRDb3B5W2ldKSB7XG4gICAgICB4ID0gdGhpc0NvcHlbaV1cbiAgICAgIHkgPSB0YXJnZXRDb3B5W2ldXG4gICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIGlmICh4IDwgeSkgcmV0dXJuIC0xXG4gIGlmICh5IDwgeCkgcmV0dXJuIDFcbiAgcmV0dXJuIDBcbn1cblxuLy8gRmluZHMgZWl0aGVyIHRoZSBmaXJzdCBpbmRleCBvZiBgdmFsYCBpbiBgYnVmZmVyYCBhdCBvZmZzZXQgPj0gYGJ5dGVPZmZzZXRgLFxuLy8gT1IgdGhlIGxhc3QgaW5kZXggb2YgYHZhbGAgaW4gYGJ1ZmZlcmAgYXQgb2Zmc2V0IDw9IGBieXRlT2Zmc2V0YC5cbi8vXG4vLyBBcmd1bWVudHM6XG4vLyAtIGJ1ZmZlciAtIGEgQnVmZmVyIHRvIHNlYXJjaFxuLy8gLSB2YWwgLSBhIHN0cmluZywgQnVmZmVyLCBvciBudW1iZXJcbi8vIC0gYnl0ZU9mZnNldCAtIGFuIGluZGV4IGludG8gYGJ1ZmZlcmA7IHdpbGwgYmUgY2xhbXBlZCB0byBhbiBpbnQzMlxuLy8gLSBlbmNvZGluZyAtIGFuIG9wdGlvbmFsIGVuY29kaW5nLCByZWxldmFudCBpcyB2YWwgaXMgYSBzdHJpbmdcbi8vIC0gZGlyIC0gdHJ1ZSBmb3IgaW5kZXhPZiwgZmFsc2UgZm9yIGxhc3RJbmRleE9mXG5mdW5jdGlvbiBiaWRpcmVjdGlvbmFsSW5kZXhPZiAoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nLCBkaXIpIHtcbiAgLy8gRW1wdHkgYnVmZmVyIG1lYW5zIG5vIG1hdGNoXG4gIGlmIChidWZmZXIubGVuZ3RoID09PSAwKSByZXR1cm4gLTFcblxuICAvLyBOb3JtYWxpemUgYnl0ZU9mZnNldFxuICBpZiAodHlwZW9mIGJ5dGVPZmZzZXQgPT09ICdzdHJpbmcnKSB7XG4gICAgZW5jb2RpbmcgPSBieXRlT2Zmc2V0XG4gICAgYnl0ZU9mZnNldCA9IDBcbiAgfSBlbHNlIGlmIChieXRlT2Zmc2V0ID4gMHg3ZmZmZmZmZikge1xuICAgIGJ5dGVPZmZzZXQgPSAweDdmZmZmZmZmXG4gIH0gZWxzZSBpZiAoYnl0ZU9mZnNldCA8IC0weDgwMDAwMDAwKSB7XG4gICAgYnl0ZU9mZnNldCA9IC0weDgwMDAwMDAwXG4gIH1cbiAgYnl0ZU9mZnNldCA9ICtieXRlT2Zmc2V0ICAvLyBDb2VyY2UgdG8gTnVtYmVyLlxuICBpZiAoaXNOYU4oYnl0ZU9mZnNldCkpIHtcbiAgICAvLyBieXRlT2Zmc2V0OiBpdCBpdCdzIHVuZGVmaW5lZCwgbnVsbCwgTmFOLCBcImZvb1wiLCBldGMsIHNlYXJjaCB3aG9sZSBidWZmZXJcbiAgICBieXRlT2Zmc2V0ID0gZGlyID8gMCA6IChidWZmZXIubGVuZ3RoIC0gMSlcbiAgfVxuXG4gIC8vIE5vcm1hbGl6ZSBieXRlT2Zmc2V0OiBuZWdhdGl2ZSBvZmZzZXRzIHN0YXJ0IGZyb20gdGhlIGVuZCBvZiB0aGUgYnVmZmVyXG4gIGlmIChieXRlT2Zmc2V0IDwgMCkgYnl0ZU9mZnNldCA9IGJ1ZmZlci5sZW5ndGggKyBieXRlT2Zmc2V0XG4gIGlmIChieXRlT2Zmc2V0ID49IGJ1ZmZlci5sZW5ndGgpIHtcbiAgICBpZiAoZGlyKSByZXR1cm4gLTFcbiAgICBlbHNlIGJ5dGVPZmZzZXQgPSBidWZmZXIubGVuZ3RoIC0gMVxuICB9IGVsc2UgaWYgKGJ5dGVPZmZzZXQgPCAwKSB7XG4gICAgaWYgKGRpcikgYnl0ZU9mZnNldCA9IDBcbiAgICBlbHNlIHJldHVybiAtMVxuICB9XG5cbiAgLy8gTm9ybWFsaXplIHZhbFxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICB2YWwgPSBCdWZmZXIuZnJvbSh2YWwsIGVuY29kaW5nKVxuICB9XG5cbiAgLy8gRmluYWxseSwgc2VhcmNoIGVpdGhlciBpbmRleE9mIChpZiBkaXIgaXMgdHJ1ZSkgb3IgbGFzdEluZGV4T2ZcbiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcih2YWwpKSB7XG4gICAgLy8gU3BlY2lhbCBjYXNlOiBsb29raW5nIGZvciBlbXB0eSBzdHJpbmcvYnVmZmVyIGFsd2F5cyBmYWlsc1xuICAgIGlmICh2YWwubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gLTFcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5SW5kZXhPZihidWZmZXIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcilcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHZhbCA9IHZhbCAmIDB4RkYgLy8gU2VhcmNoIGZvciBhIGJ5dGUgdmFsdWUgWzAtMjU1XVxuICAgIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCAmJlxuICAgICAgICB0eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgaWYgKGRpcikge1xuICAgICAgICByZXR1cm4gVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGJ1ZmZlciwgdmFsLCBieXRlT2Zmc2V0KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkucHJvdG90eXBlLmxhc3RJbmRleE9mLmNhbGwoYnVmZmVyLCB2YWwsIGJ5dGVPZmZzZXQpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheUluZGV4T2YoYnVmZmVyLCBbIHZhbCBdLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZGlyKVxuICB9XG5cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmFsIG11c3QgYmUgc3RyaW5nLCBudW1iZXIgb3IgQnVmZmVyJylcbn1cblxuZnVuY3Rpb24gYXJyYXlJbmRleE9mIChhcnIsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIGRpcikge1xuICB2YXIgaW5kZXhTaXplID0gMVxuICB2YXIgYXJyTGVuZ3RoID0gYXJyLmxlbmd0aFxuICB2YXIgdmFsTGVuZ3RoID0gdmFsLmxlbmd0aFxuXG4gIGlmIChlbmNvZGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSBTdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKClcbiAgICBpZiAoZW5jb2RpbmcgPT09ICd1Y3MyJyB8fCBlbmNvZGluZyA9PT0gJ3Vjcy0yJyB8fFxuICAgICAgICBlbmNvZGluZyA9PT0gJ3V0ZjE2bGUnIHx8IGVuY29kaW5nID09PSAndXRmLTE2bGUnKSB7XG4gICAgICBpZiAoYXJyLmxlbmd0aCA8IDIgfHwgdmFsLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIC0xXG4gICAgICB9XG4gICAgICBpbmRleFNpemUgPSAyXG4gICAgICBhcnJMZW5ndGggLz0gMlxuICAgICAgdmFsTGVuZ3RoIC89IDJcbiAgICAgIGJ5dGVPZmZzZXQgLz0gMlxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWQgKGJ1ZiwgaSkge1xuICAgIGlmIChpbmRleFNpemUgPT09IDEpIHtcbiAgICAgIHJldHVybiBidWZbaV1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGJ1Zi5yZWFkVUludDE2QkUoaSAqIGluZGV4U2l6ZSlcbiAgICB9XG4gIH1cblxuICB2YXIgaVxuICBpZiAoZGlyKSB7XG4gICAgdmFyIGZvdW5kSW5kZXggPSAtMVxuICAgIGZvciAoaSA9IGJ5dGVPZmZzZXQ7IGkgPCBhcnJMZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHJlYWQoYXJyLCBpKSA9PT0gcmVhZCh2YWwsIGZvdW5kSW5kZXggPT09IC0xID8gMCA6IGkgLSBmb3VuZEluZGV4KSkge1xuICAgICAgICBpZiAoZm91bmRJbmRleCA9PT0gLTEpIGZvdW5kSW5kZXggPSBpXG4gICAgICAgIGlmIChpIC0gZm91bmRJbmRleCArIDEgPT09IHZhbExlbmd0aCkgcmV0dXJuIGZvdW5kSW5kZXggKiBpbmRleFNpemVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChmb3VuZEluZGV4ICE9PSAtMSkgaSAtPSBpIC0gZm91bmRJbmRleFxuICAgICAgICBmb3VuZEluZGV4ID0gLTFcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGJ5dGVPZmZzZXQgKyB2YWxMZW5ndGggPiBhcnJMZW5ndGgpIGJ5dGVPZmZzZXQgPSBhcnJMZW5ndGggLSB2YWxMZW5ndGhcbiAgICBmb3IgKGkgPSBieXRlT2Zmc2V0OyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIGZvdW5kID0gdHJ1ZVxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB2YWxMZW5ndGg7IGorKykge1xuICAgICAgICBpZiAocmVhZChhcnIsIGkgKyBqKSAhPT0gcmVhZCh2YWwsIGopKSB7XG4gICAgICAgICAgZm91bmQgPSBmYWxzZVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChmb3VuZCkgcmV0dXJuIGlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gLTFcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uIGluY2x1ZGVzICh2YWwsIGJ5dGVPZmZzZXQsIGVuY29kaW5nKSB7XG4gIHJldHVybiB0aGlzLmluZGV4T2YodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykgIT09IC0xXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2YgKHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcpIHtcbiAgcmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsIHZhbCwgYnl0ZU9mZnNldCwgZW5jb2RpbmcsIHRydWUpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUubGFzdEluZGV4T2YgPSBmdW5jdGlvbiBsYXN0SW5kZXhPZiAodmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZykge1xuICByZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0LCBlbmNvZGluZywgZmFsc2UpXG59XG5cbmZ1bmN0aW9uIGhleFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgb2Zmc2V0ID0gTnVtYmVyKG9mZnNldCkgfHwgMFxuICB2YXIgcmVtYWluaW5nID0gYnVmLmxlbmd0aCAtIG9mZnNldFxuICBpZiAoIWxlbmd0aCkge1xuICAgIGxlbmd0aCA9IHJlbWFpbmluZ1xuICB9IGVsc2Uge1xuICAgIGxlbmd0aCA9IE51bWJlcihsZW5ndGgpXG4gICAgaWYgKGxlbmd0aCA+IHJlbWFpbmluZykge1xuICAgICAgbGVuZ3RoID0gcmVtYWluaW5nXG4gICAgfVxuICB9XG5cbiAgLy8gbXVzdCBiZSBhbiBldmVuIG51bWJlciBvZiBkaWdpdHNcbiAgdmFyIHN0ckxlbiA9IHN0cmluZy5sZW5ndGhcbiAgaWYgKHN0ckxlbiAlIDIgIT09IDApIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgaGV4IHN0cmluZycpXG5cbiAgaWYgKGxlbmd0aCA+IHN0ckxlbiAvIDIpIHtcbiAgICBsZW5ndGggPSBzdHJMZW4gLyAyXG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7ICsraSkge1xuICAgIHZhciBwYXJzZWQgPSBwYXJzZUludChzdHJpbmcuc3Vic3RyKGkgKiAyLCAyKSwgMTYpXG4gICAgaWYgKGlzTmFOKHBhcnNlZCkpIHJldHVybiBpXG4gICAgYnVmW29mZnNldCArIGldID0gcGFyc2VkXG4gIH1cbiAgcmV0dXJuIGlcbn1cblxuZnVuY3Rpb24gdXRmOFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgcmV0dXJuIGJsaXRCdWZmZXIodXRmOFRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gYXNjaWlXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKGFzY2lpVG9CeXRlcyhzdHJpbmcpLCBidWYsIG9mZnNldCwgbGVuZ3RoKVxufVxuXG5mdW5jdGlvbiBsYXRpbjFXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBhc2NpaVdyaXRlKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcbn1cblxuZnVuY3Rpb24gYmFzZTY0V3JpdGUgKGJ1Ziwgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkge1xuICByZXR1cm4gYmxpdEJ1ZmZlcihiYXNlNjRUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbmZ1bmN0aW9uIHVjczJXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7XG4gIHJldHVybiBibGl0QnVmZmVyKHV0ZjE2bGVUb0J5dGVzKHN0cmluZywgYnVmLmxlbmd0aCAtIG9mZnNldCksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiB3cml0ZSAoc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCwgZW5jb2RpbmcpIHtcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZylcbiAgaWYgKG9mZnNldCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZW5jb2RpbmcgPSAndXRmOCdcbiAgICBsZW5ndGggPSB0aGlzLmxlbmd0aFxuICAgIG9mZnNldCA9IDBcbiAgLy8gQnVmZmVyI3dyaXRlKHN0cmluZywgZW5jb2RpbmcpXG4gIH0gZWxzZSBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9mZnNldCA9PT0gJ3N0cmluZycpIHtcbiAgICBlbmNvZGluZyA9IG9mZnNldFxuICAgIGxlbmd0aCA9IHRoaXMubGVuZ3RoXG4gICAgb2Zmc2V0ID0gMFxuICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBvZmZzZXRbLCBsZW5ndGhdWywgZW5jb2RpbmddKVxuICB9IGVsc2UgaWYgKGlzRmluaXRlKG9mZnNldCkpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gICAgaWYgKGlzRmluaXRlKGxlbmd0aCkpIHtcbiAgICAgIGxlbmd0aCA9IGxlbmd0aCB8IDBcbiAgICAgIGlmIChlbmNvZGluZyA9PT0gdW5kZWZpbmVkKSBlbmNvZGluZyA9ICd1dGY4J1xuICAgIH0gZWxzZSB7XG4gICAgICBlbmNvZGluZyA9IGxlbmd0aFxuICAgICAgbGVuZ3RoID0gdW5kZWZpbmVkXG4gICAgfVxuICAvLyBsZWdhY3kgd3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0LCBsZW5ndGgpIC0gcmVtb3ZlIGluIHYwLjEzXG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgJ0J1ZmZlci53cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXRbLCBsZW5ndGhdKSBpcyBubyBsb25nZXIgc3VwcG9ydGVkJ1xuICAgIClcbiAgfVxuXG4gIHZhciByZW1haW5pbmcgPSB0aGlzLmxlbmd0aCAtIG9mZnNldFxuICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQgfHwgbGVuZ3RoID4gcmVtYWluaW5nKSBsZW5ndGggPSByZW1haW5pbmdcblxuICBpZiAoKHN0cmluZy5sZW5ndGggPiAwICYmIChsZW5ndGggPCAwIHx8IG9mZnNldCA8IDApKSB8fCBvZmZzZXQgPiB0aGlzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdBdHRlbXB0IHRvIHdyaXRlIG91dHNpZGUgYnVmZmVyIGJvdW5kcycpXG4gIH1cblxuICBpZiAoIWVuY29kaW5nKSBlbmNvZGluZyA9ICd1dGY4J1xuXG4gIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlXG4gIGZvciAoOzspIHtcbiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7XG4gICAgICBjYXNlICdoZXgnOlxuICAgICAgICByZXR1cm4gaGV4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAndXRmOCc6XG4gICAgICBjYXNlICd1dGYtOCc6XG4gICAgICAgIHJldHVybiB1dGY4V3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aClcblxuICAgICAgY2FzZSAnYXNjaWknOlxuICAgICAgICByZXR1cm4gYXNjaWlXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICdsYXRpbjEnOlxuICAgICAgY2FzZSAnYmluYXJ5JzpcbiAgICAgICAgcmV0dXJuIGxhdGluMVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGNhc2UgJ2Jhc2U2NCc6XG4gICAgICAgIC8vIFdhcm5pbmc6IG1heExlbmd0aCBub3QgdGFrZW4gaW50byBhY2NvdW50IGluIGJhc2U2NFdyaXRlXG4gICAgICAgIHJldHVybiBiYXNlNjRXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKVxuXG4gICAgICBjYXNlICd1Y3MyJzpcbiAgICAgIGNhc2UgJ3Vjcy0yJzpcbiAgICAgIGNhc2UgJ3V0ZjE2bGUnOlxuICAgICAgY2FzZSAndXRmLTE2bGUnOlxuICAgICAgICByZXR1cm4gdWNzMldyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKVxuICAgICAgICBlbmNvZGluZyA9ICgnJyArIGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZVxuICAgIH1cbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uIHRvSlNPTiAoKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogJ0J1ZmZlcicsXG4gICAgZGF0YTogQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyIHx8IHRoaXMsIDApXG4gIH1cbn1cblxuZnVuY3Rpb24gYmFzZTY0U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICBpZiAoc3RhcnQgPT09IDAgJiYgZW5kID09PSBidWYubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1ZilcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmLnNsaWNlKHN0YXJ0LCBlbmQpKVxuICB9XG59XG5cbmZ1bmN0aW9uIHV0ZjhTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZClcbiAgdmFyIHJlcyA9IFtdXG5cbiAgdmFyIGkgPSBzdGFydFxuICB3aGlsZSAoaSA8IGVuZCkge1xuICAgIHZhciBmaXJzdEJ5dGUgPSBidWZbaV1cbiAgICB2YXIgY29kZVBvaW50ID0gbnVsbFxuICAgIHZhciBieXRlc1BlclNlcXVlbmNlID0gKGZpcnN0Qnl0ZSA+IDB4RUYpID8gNFxuICAgICAgOiAoZmlyc3RCeXRlID4gMHhERikgPyAzXG4gICAgICA6IChmaXJzdEJ5dGUgPiAweEJGKSA/IDJcbiAgICAgIDogMVxuXG4gICAgaWYgKGkgKyBieXRlc1BlclNlcXVlbmNlIDw9IGVuZCkge1xuICAgICAgdmFyIHNlY29uZEJ5dGUsIHRoaXJkQnl0ZSwgZm91cnRoQnl0ZSwgdGVtcENvZGVQb2ludFxuXG4gICAgICBzd2l0Y2ggKGJ5dGVzUGVyU2VxdWVuY2UpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGlmIChmaXJzdEJ5dGUgPCAweDgwKSB7XG4gICAgICAgICAgICBjb2RlUG9pbnQgPSBmaXJzdEJ5dGVcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHgxRikgPDwgMHg2IHwgKHNlY29uZEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXVxuICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkge1xuICAgICAgICAgICAgdGVtcENvZGVQb2ludCA9IChmaXJzdEJ5dGUgJiAweEYpIDw8IDB4QyB8IChzZWNvbmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKHRoaXJkQnl0ZSAmIDB4M0YpXG4gICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0ZGICYmICh0ZW1wQ29kZVBvaW50IDwgMHhEODAwIHx8IHRlbXBDb2RlUG9pbnQgPiAweERGRkYpKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHNlY29uZEJ5dGUgPSBidWZbaSArIDFdXG4gICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXVxuICAgICAgICAgIGZvdXJ0aEJ5dGUgPSBidWZbaSArIDNdXG4gICAgICAgICAgaWYgKChzZWNvbmRCeXRlICYgMHhDMCkgPT09IDB4ODAgJiYgKHRoaXJkQnl0ZSAmIDB4QzApID09PSAweDgwICYmIChmb3VydGhCeXRlICYgMHhDMCkgPT09IDB4ODApIHtcbiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweDEyIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweEMgfCAodGhpcmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKGZvdXJ0aEJ5dGUgJiAweDNGKVxuICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweEZGRkYgJiYgdGVtcENvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG4gICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGNvZGVQb2ludCA9PT0gbnVsbCkge1xuICAgICAgLy8gd2UgZGlkIG5vdCBnZW5lcmF0ZSBhIHZhbGlkIGNvZGVQb2ludCBzbyBpbnNlcnQgYVxuICAgICAgLy8gcmVwbGFjZW1lbnQgY2hhciAoVStGRkZEKSBhbmQgYWR2YW5jZSBvbmx5IDEgYnl0ZVxuICAgICAgY29kZVBvaW50ID0gMHhGRkZEXG4gICAgICBieXRlc1BlclNlcXVlbmNlID0gMVxuICAgIH0gZWxzZSBpZiAoY29kZVBvaW50ID4gMHhGRkZGKSB7XG4gICAgICAvLyBlbmNvZGUgdG8gdXRmMTYgKHN1cnJvZ2F0ZSBwYWlyIGRhbmNlKVxuICAgICAgY29kZVBvaW50IC09IDB4MTAwMDBcbiAgICAgIHJlcy5wdXNoKGNvZGVQb2ludCA+Pj4gMTAgJiAweDNGRiB8IDB4RDgwMClcbiAgICAgIGNvZGVQb2ludCA9IDB4REMwMCB8IGNvZGVQb2ludCAmIDB4M0ZGXG4gICAgfVxuXG4gICAgcmVzLnB1c2goY29kZVBvaW50KVxuICAgIGkgKz0gYnl0ZXNQZXJTZXF1ZW5jZVxuICB9XG5cbiAgcmV0dXJuIGRlY29kZUNvZGVQb2ludHNBcnJheShyZXMpXG59XG5cbi8vIEJhc2VkIG9uIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIyNzQ3MjcyLzY4MDc0MiwgdGhlIGJyb3dzZXIgd2l0aFxuLy8gdGhlIGxvd2VzdCBsaW1pdCBpcyBDaHJvbWUsIHdpdGggMHgxMDAwMCBhcmdzLlxuLy8gV2UgZ28gMSBtYWduaXR1ZGUgbGVzcywgZm9yIHNhZmV0eVxudmFyIE1BWF9BUkdVTUVOVFNfTEVOR1RIID0gMHgxMDAwXG5cbmZ1bmN0aW9uIGRlY29kZUNvZGVQb2ludHNBcnJheSAoY29kZVBvaW50cykge1xuICB2YXIgbGVuID0gY29kZVBvaW50cy5sZW5ndGhcbiAgaWYgKGxlbiA8PSBNQVhfQVJHVU1FTlRTX0xFTkdUSCkge1xuICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgY29kZVBvaW50cykgLy8gYXZvaWQgZXh0cmEgc2xpY2UoKVxuICB9XG5cbiAgLy8gRGVjb2RlIGluIGNodW5rcyB0byBhdm9pZCBcImNhbGwgc3RhY2sgc2l6ZSBleGNlZWRlZFwiLlxuICB2YXIgcmVzID0gJydcbiAgdmFyIGkgPSAwXG4gIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoXG4gICAgICBTdHJpbmcsXG4gICAgICBjb2RlUG9pbnRzLnNsaWNlKGksIGkgKz0gTUFYX0FSR1VNRU5UU19MRU5HVEgpXG4gICAgKVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuZnVuY3Rpb24gYXNjaWlTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7XG4gIHZhciByZXQgPSAnJ1xuICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpXG5cbiAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgZW5kOyArK2kpIHtcbiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0gJiAweDdGKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gbGF0aW4xU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgcmV0ID0gJydcbiAgZW5kID0gTWF0aC5taW4oYnVmLmxlbmd0aCwgZW5kKVxuXG4gIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgcmV0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldKVxuICB9XG4gIHJldHVybiByZXRcbn1cblxuZnVuY3Rpb24gaGV4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgbGVuID0gYnVmLmxlbmd0aFxuXG4gIGlmICghc3RhcnQgfHwgc3RhcnQgPCAwKSBzdGFydCA9IDBcbiAgaWYgKCFlbmQgfHwgZW5kIDwgMCB8fCBlbmQgPiBsZW4pIGVuZCA9IGxlblxuXG4gIHZhciBvdXQgPSAnJ1xuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSkge1xuICAgIG91dCArPSB0b0hleChidWZbaV0pXG4gIH1cbiAgcmV0dXJuIG91dFxufVxuXG5mdW5jdGlvbiB1dGYxNmxlU2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkge1xuICB2YXIgYnl0ZXMgPSBidWYuc2xpY2Uoc3RhcnQsIGVuZClcbiAgdmFyIHJlcyA9ICcnXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICByZXMgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSArIGJ5dGVzW2kgKyAxXSAqIDI1NilcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiBzbGljZSAoc3RhcnQsIGVuZCkge1xuICB2YXIgbGVuID0gdGhpcy5sZW5ndGhcbiAgc3RhcnQgPSB+fnN0YXJ0XG4gIGVuZCA9IGVuZCA9PT0gdW5kZWZpbmVkID8gbGVuIDogfn5lbmRcblxuICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgc3RhcnQgKz0gbGVuXG4gICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSAwXG4gIH0gZWxzZSBpZiAoc3RhcnQgPiBsZW4pIHtcbiAgICBzdGFydCA9IGxlblxuICB9XG5cbiAgaWYgKGVuZCA8IDApIHtcbiAgICBlbmQgKz0gbGVuXG4gICAgaWYgKGVuZCA8IDApIGVuZCA9IDBcbiAgfSBlbHNlIGlmIChlbmQgPiBsZW4pIHtcbiAgICBlbmQgPSBsZW5cbiAgfVxuXG4gIGlmIChlbmQgPCBzdGFydCkgZW5kID0gc3RhcnRcblxuICB2YXIgbmV3QnVmXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIG5ld0J1ZiA9IHRoaXMuc3ViYXJyYXkoc3RhcnQsIGVuZClcbiAgICBuZXdCdWYuX19wcm90b19fID0gQnVmZmVyLnByb3RvdHlwZVxuICB9IGVsc2Uge1xuICAgIHZhciBzbGljZUxlbiA9IGVuZCAtIHN0YXJ0XG4gICAgbmV3QnVmID0gbmV3IEJ1ZmZlcihzbGljZUxlbiwgdW5kZWZpbmVkKVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpY2VMZW47ICsraSkge1xuICAgICAgbmV3QnVmW2ldID0gdGhpc1tpICsgc3RhcnRdXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ld0J1ZlxufVxuXG4vKlxuICogTmVlZCB0byBtYWtlIHN1cmUgdGhhdCBidWZmZXIgaXNuJ3QgdHJ5aW5nIHRvIHdyaXRlIG91dCBvZiBib3VuZHMuXG4gKi9cbmZ1bmN0aW9uIGNoZWNrT2Zmc2V0IChvZmZzZXQsIGV4dCwgbGVuZ3RoKSB7XG4gIGlmICgob2Zmc2V0ICUgMSkgIT09IDAgfHwgb2Zmc2V0IDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ29mZnNldCBpcyBub3QgdWludCcpXG4gIGlmIChvZmZzZXQgKyBleHQgPiBsZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoJylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludExFID0gZnVuY3Rpb24gcmVhZFVJbnRMRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIGJ5dGVMZW5ndGgsIHRoaXMubGVuZ3RoKVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldF1cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgaV0gKiBtdWxcbiAgfVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludEJFID0gZnVuY3Rpb24gcmVhZFVJbnRCRSAob2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcbiAgfVxuXG4gIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF1cbiAgdmFyIG11bCA9IDFcbiAgd2hpbGUgKGJ5dGVMZW5ndGggPiAwICYmIChtdWwgKj0gMHgxMDApKSB7XG4gICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXSAqIG11bFxuICB9XG5cbiAgcmV0dXJuIHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50OCA9IGZ1bmN0aW9uIHJlYWRVSW50OCAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDEsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gdGhpc1tvZmZzZXRdXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkxFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiB0aGlzW29mZnNldF0gfCAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZCRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZCRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCA4KSB8IHRoaXNbb2Zmc2V0ICsgMV1cbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyTEUgPSBmdW5jdGlvbiByZWFkVUludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aClcblxuICByZXR1cm4gKCh0aGlzW29mZnNldF0pIHxcbiAgICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHxcbiAgICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSkgK1xuICAgICAgKHRoaXNbb2Zmc2V0ICsgM10gKiAweDEwMDAwMDApXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkJFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0gKiAweDEwMDAwMDApICtcbiAgICAoKHRoaXNbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8XG4gICAgdGhpc1tvZmZzZXQgKyAzXSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50TEUgPSBmdW5jdGlvbiByZWFkSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdXG4gIHZhciBtdWwgPSAxXG4gIHZhciBpID0gMFxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsXG4gIH1cbiAgbXVsICo9IDB4ODBcblxuICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50QkUgPSBmdW5jdGlvbiByZWFkSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHtcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aClcblxuICB2YXIgaSA9IGJ5dGVMZW5ndGhcbiAgdmFyIG11bCA9IDFcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgLS1pXVxuICB3aGlsZSAoaSA+IDAgJiYgKG11bCAqPSAweDEwMCkpIHtcbiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyAtLWldICogbXVsXG4gIH1cbiAgbXVsICo9IDB4ODBcblxuICBpZiAodmFsID49IG11bCkgdmFsIC09IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoKVxuXG4gIHJldHVybiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50OCA9IGZ1bmN0aW9uIHJlYWRJbnQ4IChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpXG4gIGlmICghKHRoaXNbb2Zmc2V0XSAmIDB4ODApKSByZXR1cm4gKHRoaXNbb2Zmc2V0XSlcbiAgcmV0dXJuICgoMHhmZiAtIHRoaXNbb2Zmc2V0XSArIDEpICogLTEpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2TEUgPSBmdW5jdGlvbiByZWFkSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkge1xuICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKVxuICB2YXIgdmFsID0gdGhpc1tvZmZzZXRdIHwgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOClcbiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbFxufVxuXG5CdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkJFID0gZnVuY3Rpb24gcmVhZEludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aClcbiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0ICsgMV0gfCAodGhpc1tvZmZzZXRdIDw8IDgpXG4gIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWxcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJMRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0pIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCA4KSB8XG4gICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgMTYpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSA8PCAyNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG5cbiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgMjQpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfFxuICAgICh0aGlzW29mZnNldCArIDJdIDw8IDgpIHxcbiAgICAodGhpc1tvZmZzZXQgKyAzXSlcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRMRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdExFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCB0cnVlLCAyMywgNClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRCRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdEJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgMjMsIDQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUxFID0gZnVuY3Rpb24gcmVhZERvdWJsZUxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgOCwgdGhpcy5sZW5ndGgpXG4gIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCB0cnVlLCA1MiwgOClcbn1cblxuQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlQkUgPSBmdW5jdGlvbiByZWFkRG91YmxlQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA4LCB0aGlzLmxlbmd0aClcbiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCA1MiwgOClcbn1cblxuZnVuY3Rpb24gY2hlY2tJbnQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImJ1ZmZlclwiIGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIgaW5zdGFuY2UnKVxuICBpZiAodmFsdWUgPiBtYXggfHwgdmFsdWUgPCBtaW4pIHRocm93IG5ldyBSYW5nZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgaXMgb3V0IG9mIGJvdW5kcycpXG4gIGlmIChvZmZzZXQgKyBleHQgPiBidWYubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlVUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIG1heEJ5dGVzID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpIC0gMVxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG1heEJ5dGVzLCAwKVxuICB9XG5cbiAgdmFyIG11bCA9IDFcbiAgdmFyIGkgPSAwXG4gIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlVUludEJFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoIHwgMFxuICBpZiAoIW5vQXNzZXJ0KSB7XG4gICAgdmFyIG1heEJ5dGVzID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpIC0gMVxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG1heEJ5dGVzLCAwKVxuICB9XG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoIC0gMVxuICB2YXIgbXVsID0gMVxuICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRlxuICB9XG5cbiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGhcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVVSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweGZmLCAwKVxuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB2YWx1ZSA9IE1hdGguZmxvb3IodmFsdWUpXG4gIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gIHJldHVybiBvZmZzZXQgKyAxXG59XG5cbmZ1bmN0aW9uIG9iamVjdFdyaXRlVUludDE2IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZiArIHZhbHVlICsgMVxuICBmb3IgKHZhciBpID0gMCwgaiA9IE1hdGgubWluKGJ1Zi5sZW5ndGggLSBvZmZzZXQsIDIpOyBpIDwgajsgKytpKSB7XG4gICAgYnVmW29mZnNldCArIGldID0gKHZhbHVlICYgKDB4ZmYgPDwgKDggKiAobGl0dGxlRW5kaWFuID8gaSA6IDEgLSBpKSkpKSA+Pj5cbiAgICAgIChsaXR0bGVFbmRpYW4gPyBpIDogMSAtIGkpICogOFxuICB9XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlVUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHhmZmZmLCAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MTYodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgMlxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbmZ1bmN0aW9uIG9iamVjdFdyaXRlVUludDMyIChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbikge1xuICBpZiAodmFsdWUgPCAwKSB2YWx1ZSA9IDB4ZmZmZmZmZmYgKyB2YWx1ZSArIDFcbiAgZm9yICh2YXIgaSA9IDAsIGogPSBNYXRoLm1pbihidWYubGVuZ3RoIC0gb2Zmc2V0LCA0KTsgaSA8IGo7ICsraSkge1xuICAgIGJ1ZltvZmZzZXQgKyBpXSA9ICh2YWx1ZSA+Pj4gKGxpdHRsZUVuZGlhbiA/IGkgOiAzIC0gaSkgKiA4KSAmIDB4ZmZcbiAgfVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgPj4+IDI0KVxuICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlVUludDMyQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHhmZmZmZmZmZiwgMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNClcbiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiAxNilcbiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyA0XG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRMRSA9IGZ1bmN0aW9uIHdyaXRlSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBsaW1pdCA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoIC0gMSlcblxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KVxuICB9XG5cbiAgdmFyIGkgPSAwXG4gIHZhciBtdWwgPSAxXG4gIHZhciBzdWIgPSAwXG4gIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhGRlxuICB3aGlsZSAoKytpIDwgYnl0ZUxlbmd0aCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIGlmICh2YWx1ZSA8IDAgJiYgc3ViID09PSAwICYmIHRoaXNbb2Zmc2V0ICsgaSAtIDFdICE9PSAwKSB7XG4gICAgICBzdWIgPSAxXG4gICAgfVxuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlSW50QkUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7XG4gIHZhbHVlID0gK3ZhbHVlXG4gIG9mZnNldCA9IG9mZnNldCB8IDBcbiAgaWYgKCFub0Fzc2VydCkge1xuICAgIHZhciBsaW1pdCA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoIC0gMSlcblxuICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KVxuICB9XG5cbiAgdmFyIGkgPSBieXRlTGVuZ3RoIC0gMVxuICB2YXIgbXVsID0gMVxuICB2YXIgc3ViID0gMFxuICB0aGlzW29mZnNldCArIGldID0gdmFsdWUgJiAweEZGXG4gIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkge1xuICAgIGlmICh2YWx1ZSA8IDAgJiYgc3ViID09PSAwICYmIHRoaXNbb2Zmc2V0ICsgaSArIDFdICE9PSAwKSB7XG4gICAgICBzdWIgPSAxXG4gICAgfVxuICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVJbnQ4ICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDEsIDB4N2YsIC0weDgwKVxuICBpZiAoIUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB2YWx1ZSA9IE1hdGguZmxvb3IodmFsdWUpXG4gIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZiArIHZhbHVlICsgMVxuICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICByZXR1cm4gb2Zmc2V0ICsgMVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZMRSA9IGZ1bmN0aW9uIHdyaXRlSW50MTZMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAyLCAweDdmZmYsIC0weDgwMDApXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOClcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMClcbiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7XG4gICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiA4KVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKVxuICB9IGVsc2Uge1xuICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKVxuICB9XG4gIHJldHVybiBvZmZzZXQgKyAyXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICB2YWx1ZSA9ICt2YWx1ZVxuICBvZmZzZXQgPSBvZmZzZXQgfCAwXG4gIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKVxuICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKVxuICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpXG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0V3JpdGVVSW50MzIodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJCRSA9IGZ1bmN0aW9uIHdyaXRlSW50MzJCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgdmFsdWUgPSArdmFsdWVcbiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMFxuICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweDdmZmZmZmZmLCAtMHg4MDAwMDAwMClcbiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxXG4gIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkge1xuICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gMjQpXG4gICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpXG4gICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOClcbiAgICB0aGlzW29mZnNldCArIDNdID0gKHZhbHVlICYgMHhmZilcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSlcbiAgfVxuICByZXR1cm4gb2Zmc2V0ICsgNFxufVxuXG5mdW5jdGlvbiBjaGVja0lFRUU3NTQgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgZXh0LCBtYXgsIG1pbikge1xuICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0luZGV4IG91dCBvZiByYW5nZScpXG4gIGlmIChvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignSW5kZXggb3V0IG9mIHJhbmdlJylcbn1cblxuZnVuY3Rpb24gd3JpdGVGbG9hdCAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA0LCAzLjQwMjgyMzQ2NjM4NTI4ODZlKzM4LCAtMy40MDI4MjM0NjYzODUyODg2ZSszOClcbiAgfVxuICBpZWVlNzU0LndyaXRlKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCAyMywgNClcbiAgcmV0dXJuIG9mZnNldCArIDRcbn1cblxuQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0TEUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KVxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRCRSA9IGZ1bmN0aW9uIHdyaXRlRmxvYXRCRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHtcbiAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgZmFsc2UsIG5vQXNzZXJ0KVxufVxuXG5mdW5jdGlvbiB3cml0ZURvdWJsZSAoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIG5vQXNzZXJ0KSB7XG4gIGlmICghbm9Bc3NlcnQpIHtcbiAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA4LCAxLjc5NzY5MzEzNDg2MjMxNTdFKzMwOCwgLTEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4KVxuICB9XG4gIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDUyLCA4KVxuICByZXR1cm4gb2Zmc2V0ICsgOFxufVxuXG5CdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlTEUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkge1xuICByZXR1cm4gd3JpdGVEb3VibGUodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpXG59XG5cbkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVCRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlQkUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7XG4gIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpXG59XG5cbi8vIGNvcHkodGFyZ2V0QnVmZmVyLCB0YXJnZXRTdGFydD0wLCBzb3VyY2VTdGFydD0wLCBzb3VyY2VFbmQ9YnVmZmVyLmxlbmd0aClcbkJ1ZmZlci5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkgKHRhcmdldCwgdGFyZ2V0U3RhcnQsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKCFzdGFydCkgc3RhcnQgPSAwXG4gIGlmICghZW5kICYmIGVuZCAhPT0gMCkgZW5kID0gdGhpcy5sZW5ndGhcbiAgaWYgKHRhcmdldFN0YXJ0ID49IHRhcmdldC5sZW5ndGgpIHRhcmdldFN0YXJ0ID0gdGFyZ2V0Lmxlbmd0aFxuICBpZiAoIXRhcmdldFN0YXJ0KSB0YXJnZXRTdGFydCA9IDBcbiAgaWYgKGVuZCA+IDAgJiYgZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0XG5cbiAgLy8gQ29weSAwIGJ5dGVzOyB3ZSdyZSBkb25lXG4gIGlmIChlbmQgPT09IHN0YXJ0KSByZXR1cm4gMFxuICBpZiAodGFyZ2V0Lmxlbmd0aCA9PT0gMCB8fCB0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDBcblxuICAvLyBGYXRhbCBlcnJvciBjb25kaXRpb25zXG4gIGlmICh0YXJnZXRTdGFydCA8IDApIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigndGFyZ2V0U3RhcnQgb3V0IG9mIGJvdW5kcycpXG4gIH1cbiAgaWYgKHN0YXJ0IDwgMCB8fCBzdGFydCA+PSB0aGlzLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3NvdXJjZVN0YXJ0IG91dCBvZiBib3VuZHMnKVxuICBpZiAoZW5kIDwgMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3NvdXJjZUVuZCBvdXQgb2YgYm91bmRzJylcblxuICAvLyBBcmUgd2Ugb29iP1xuICBpZiAoZW5kID4gdGhpcy5sZW5ndGgpIGVuZCA9IHRoaXMubGVuZ3RoXG4gIGlmICh0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgPCBlbmQgLSBzdGFydCkge1xuICAgIGVuZCA9IHRhcmdldC5sZW5ndGggLSB0YXJnZXRTdGFydCArIHN0YXJ0XG4gIH1cblxuICB2YXIgbGVuID0gZW5kIC0gc3RhcnRcbiAgdmFyIGlcblxuICBpZiAodGhpcyA9PT0gdGFyZ2V0ICYmIHN0YXJ0IDwgdGFyZ2V0U3RhcnQgJiYgdGFyZ2V0U3RhcnQgPCBlbmQpIHtcbiAgICAvLyBkZXNjZW5kaW5nIGNvcHkgZnJvbSBlbmRcbiAgICBmb3IgKGkgPSBsZW4gLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgdGFyZ2V0W2kgKyB0YXJnZXRTdGFydF0gPSB0aGlzW2kgKyBzdGFydF1cbiAgICB9XG4gIH0gZWxzZSBpZiAobGVuIDwgMTAwMCB8fCAhQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHtcbiAgICAvLyBhc2NlbmRpbmcgY29weSBmcm9tIHN0YXJ0XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICB0YXJnZXRbaSArIHRhcmdldFN0YXJ0XSA9IHRoaXNbaSArIHN0YXJ0XVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbChcbiAgICAgIHRhcmdldCxcbiAgICAgIHRoaXMuc3ViYXJyYXkoc3RhcnQsIHN0YXJ0ICsgbGVuKSxcbiAgICAgIHRhcmdldFN0YXJ0XG4gICAgKVxuICB9XG5cbiAgcmV0dXJuIGxlblxufVxuXG4vLyBVc2FnZTpcbi8vICAgIGJ1ZmZlci5maWxsKG51bWJlclssIG9mZnNldFssIGVuZF1dKVxuLy8gICAgYnVmZmVyLmZpbGwoYnVmZmVyWywgb2Zmc2V0WywgZW5kXV0pXG4vLyAgICBidWZmZXIuZmlsbChzdHJpbmdbLCBvZmZzZXRbLCBlbmRdXVssIGVuY29kaW5nXSlcbkJ1ZmZlci5wcm90b3R5cGUuZmlsbCA9IGZ1bmN0aW9uIGZpbGwgKHZhbCwgc3RhcnQsIGVuZCwgZW5jb2RpbmcpIHtcbiAgLy8gSGFuZGxlIHN0cmluZyBjYXNlczpcbiAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKHR5cGVvZiBzdGFydCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGVuY29kaW5nID0gc3RhcnRcbiAgICAgIHN0YXJ0ID0gMFxuICAgICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbmQgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlbmNvZGluZyA9IGVuZFxuICAgICAgZW5kID0gdGhpcy5sZW5ndGhcbiAgICB9XG4gICAgaWYgKHZhbC5sZW5ndGggPT09IDEpIHtcbiAgICAgIHZhciBjb2RlID0gdmFsLmNoYXJDb2RlQXQoMClcbiAgICAgIGlmIChjb2RlIDwgMjU2KSB7XG4gICAgICAgIHZhbCA9IGNvZGVcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVuY29kaW5nICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGVuY29kaW5nICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZycpXG4gICAgfVxuICAgIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnICYmICFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZylcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICB2YWwgPSB2YWwgJiAyNTVcbiAgfVxuXG4gIC8vIEludmFsaWQgcmFuZ2VzIGFyZSBub3Qgc2V0IHRvIGEgZGVmYXVsdCwgc28gY2FuIHJhbmdlIGNoZWNrIGVhcmx5LlxuICBpZiAoc3RhcnQgPCAwIHx8IHRoaXMubGVuZ3RoIDwgc3RhcnQgfHwgdGhpcy5sZW5ndGggPCBlbmQpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignT3V0IG9mIHJhbmdlIGluZGV4JylcbiAgfVxuXG4gIGlmIChlbmQgPD0gc3RhcnQpIHtcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgc3RhcnQgPSBzdGFydCA+Pj4gMFxuICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IHRoaXMubGVuZ3RoIDogZW5kID4+PiAwXG5cbiAgaWYgKCF2YWwpIHZhbCA9IDBcblxuICB2YXIgaVxuICBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHtcbiAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgKytpKSB7XG4gICAgICB0aGlzW2ldID0gdmFsXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBieXRlcyA9IEJ1ZmZlci5pc0J1ZmZlcih2YWwpXG4gICAgICA/IHZhbFxuICAgICAgOiB1dGY4VG9CeXRlcyhuZXcgQnVmZmVyKHZhbCwgZW5jb2RpbmcpLnRvU3RyaW5nKCkpXG4gICAgdmFyIGxlbiA9IGJ5dGVzLmxlbmd0aFxuICAgIGZvciAoaSA9IDA7IGkgPCBlbmQgLSBzdGFydDsgKytpKSB7XG4gICAgICB0aGlzW2kgKyBzdGFydF0gPSBieXRlc1tpICUgbGVuXVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzXG59XG5cbi8vIEhFTFBFUiBGVU5DVElPTlNcbi8vID09PT09PT09PT09PT09PT1cblxudmFyIElOVkFMSURfQkFTRTY0X1JFID0gL1teK1xcLzAtOUEtWmEtei1fXS9nXG5cbmZ1bmN0aW9uIGJhc2U2NGNsZWFuIChzdHIpIHtcbiAgLy8gTm9kZSBzdHJpcHMgb3V0IGludmFsaWQgY2hhcmFjdGVycyBsaWtlIFxcbiBhbmQgXFx0IGZyb20gdGhlIHN0cmluZywgYmFzZTY0LWpzIGRvZXMgbm90XG4gIHN0ciA9IHN0cmluZ3RyaW0oc3RyKS5yZXBsYWNlKElOVkFMSURfQkFTRTY0X1JFLCAnJylcbiAgLy8gTm9kZSBjb252ZXJ0cyBzdHJpbmdzIHdpdGggbGVuZ3RoIDwgMiB0byAnJ1xuICBpZiAoc3RyLmxlbmd0aCA8IDIpIHJldHVybiAnJ1xuICAvLyBOb2RlIGFsbG93cyBmb3Igbm9uLXBhZGRlZCBiYXNlNjQgc3RyaW5ncyAobWlzc2luZyB0cmFpbGluZyA9PT0pLCBiYXNlNjQtanMgZG9lcyBub3RcbiAgd2hpbGUgKHN0ci5sZW5ndGggJSA0ICE9PSAwKSB7XG4gICAgc3RyID0gc3RyICsgJz0nXG4gIH1cbiAgcmV0dXJuIHN0clxufVxuXG5mdW5jdGlvbiBzdHJpbmd0cmltIChzdHIpIHtcbiAgaWYgKHN0ci50cmltKSByZXR1cm4gc3RyLnRyaW0oKVxuICByZXR1cm4gc3RyLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKVxufVxuXG5mdW5jdGlvbiB0b0hleCAobikge1xuICBpZiAobiA8IDE2KSByZXR1cm4gJzAnICsgbi50b1N0cmluZygxNilcbiAgcmV0dXJuIG4udG9TdHJpbmcoMTYpXG59XG5cbmZ1bmN0aW9uIHV0ZjhUb0J5dGVzIChzdHJpbmcsIHVuaXRzKSB7XG4gIHVuaXRzID0gdW5pdHMgfHwgSW5maW5pdHlcbiAgdmFyIGNvZGVQb2ludFxuICB2YXIgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aFxuICB2YXIgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcbiAgdmFyIGJ5dGVzID0gW11cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgY29kZVBvaW50ID0gc3RyaW5nLmNoYXJDb2RlQXQoaSlcblxuICAgIC8vIGlzIHN1cnJvZ2F0ZSBjb21wb25lbnRcbiAgICBpZiAoY29kZVBvaW50ID4gMHhEN0ZGICYmIGNvZGVQb2ludCA8IDB4RTAwMCkge1xuICAgICAgLy8gbGFzdCBjaGFyIHdhcyBhIGxlYWRcbiAgICAgIGlmICghbGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgICAvLyBubyBsZWFkIHlldFxuICAgICAgICBpZiAoY29kZVBvaW50ID4gMHhEQkZGKSB7XG4gICAgICAgICAgLy8gdW5leHBlY3RlZCB0cmFpbFxuICAgICAgICAgIGlmICgodW5pdHMgLT0gMykgPiAtMSkgYnl0ZXMucHVzaCgweEVGLCAweEJGLCAweEJEKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH0gZWxzZSBpZiAoaSArIDEgPT09IGxlbmd0aCkge1xuICAgICAgICAgIC8vIHVucGFpcmVkIGxlYWRcbiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdmFsaWQgbGVhZFxuICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50XG5cbiAgICAgICAgY29udGludWVcbiAgICAgIH1cblxuICAgICAgLy8gMiBsZWFkcyBpbiBhIHJvd1xuICAgICAgaWYgKGNvZGVQb2ludCA8IDB4REMwMCkge1xuICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRClcbiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludFxuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuXG4gICAgICAvLyB2YWxpZCBzdXJyb2dhdGUgcGFpclxuICAgICAgY29kZVBvaW50ID0gKGxlYWRTdXJyb2dhdGUgLSAweEQ4MDAgPDwgMTAgfCBjb2RlUG9pbnQgLSAweERDMDApICsgMHgxMDAwMFxuICAgIH0gZWxzZSBpZiAobGVhZFN1cnJvZ2F0ZSkge1xuICAgICAgLy8gdmFsaWQgYm1wIGNoYXIsIGJ1dCBsYXN0IGNoYXIgd2FzIGEgbGVhZFxuICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpXG4gICAgfVxuXG4gICAgbGVhZFN1cnJvZ2F0ZSA9IG51bGxcblxuICAgIC8vIGVuY29kZSB1dGY4XG4gICAgaWYgKGNvZGVQb2ludCA8IDB4ODApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMSkgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChjb2RlUG9pbnQpXG4gICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDgwMCkge1xuICAgICAgaWYgKCh1bml0cyAtPSAyKSA8IDApIGJyZWFrXG4gICAgICBieXRlcy5wdXNoKFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2IHwgMHhDMCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTAwMDApIHtcbiAgICAgIGlmICgodW5pdHMgLT0gMykgPCAwKSBicmVha1xuICAgICAgYnl0ZXMucHVzaChcbiAgICAgICAgY29kZVBvaW50ID4+IDB4QyB8IDB4RTAsXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDYgJiAweDNGIHwgMHg4MCxcbiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODBcbiAgICAgIClcbiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTEwMDAwKSB7XG4gICAgICBpZiAoKHVuaXRzIC09IDQpIDwgMCkgYnJlYWtcbiAgICAgIGJ5dGVzLnB1c2goXG4gICAgICAgIGNvZGVQb2ludCA+PiAweDEyIHwgMHhGMCxcbiAgICAgICAgY29kZVBvaW50ID4+IDB4QyAmIDB4M0YgfCAweDgwLFxuICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsXG4gICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjb2RlIHBvaW50JylcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnl0ZXNcbn1cblxuZnVuY3Rpb24gYXNjaWlUb0J5dGVzIChzdHIpIHtcbiAgdmFyIGJ5dGVBcnJheSA9IFtdXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgLy8gTm9kZSdzIGNvZGUgc2VlbXMgdG8gYmUgZG9pbmcgdGhpcyBhbmQgbm90ICYgMHg3Ri4uXG4gICAgYnl0ZUFycmF5LnB1c2goc3RyLmNoYXJDb2RlQXQoaSkgJiAweEZGKVxuICB9XG4gIHJldHVybiBieXRlQXJyYXlcbn1cblxuZnVuY3Rpb24gdXRmMTZsZVRvQnl0ZXMgKHN0ciwgdW5pdHMpIHtcbiAgdmFyIGMsIGhpLCBsb1xuICB2YXIgYnl0ZUFycmF5ID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWtcblxuICAgIGMgPSBzdHIuY2hhckNvZGVBdChpKVxuICAgIGhpID0gYyA+PiA4XG4gICAgbG8gPSBjICUgMjU2XG4gICAgYnl0ZUFycmF5LnB1c2gobG8pXG4gICAgYnl0ZUFycmF5LnB1c2goaGkpXG4gIH1cblxuICByZXR1cm4gYnl0ZUFycmF5XG59XG5cbmZ1bmN0aW9uIGJhc2U2NFRvQnl0ZXMgKHN0cikge1xuICByZXR1cm4gYmFzZTY0LnRvQnl0ZUFycmF5KGJhc2U2NGNsZWFuKHN0cikpXG59XG5cbmZ1bmN0aW9uIGJsaXRCdWZmZXIgKHNyYywgZHN0LCBvZmZzZXQsIGxlbmd0aCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7XG4gICAgaWYgKChpICsgb2Zmc2V0ID49IGRzdC5sZW5ndGgpIHx8IChpID49IHNyYy5sZW5ndGgpKSBicmVha1xuICAgIGRzdFtpICsgb2Zmc2V0XSA9IHNyY1tpXVxuICB9XG4gIHJldHVybiBpXG59XG5cbmZ1bmN0aW9uIGlzbmFuICh2YWwpIHtcbiAgcmV0dXJuIHZhbCAhPT0gdmFsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2VsZi1jb21wYXJlXG59XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCIndXNlIHN0cmljdCdcblxuZXhwb3J0cy5ieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aFxuZXhwb3J0cy50b0J5dGVBcnJheSA9IHRvQnl0ZUFycmF5XG5leHBvcnRzLmZyb21CeXRlQXJyYXkgPSBmcm9tQnl0ZUFycmF5XG5cbnZhciBsb29rdXAgPSBbXVxudmFyIHJldkxvb2t1cCA9IFtdXG52YXIgQXJyID0gdHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnID8gVWludDhBcnJheSA6IEFycmF5XG5cbnZhciBjb2RlID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nXG5mb3IgKHZhciBpID0gMCwgbGVuID0gY29kZS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICBsb29rdXBbaV0gPSBjb2RlW2ldXG4gIHJldkxvb2t1cFtjb2RlLmNoYXJDb2RlQXQoaSldID0gaVxufVxuXG4vLyBTdXBwb3J0IGRlY29kaW5nIFVSTC1zYWZlIGJhc2U2NCBzdHJpbmdzLCBhcyBOb2RlLmpzIGRvZXMuXG4vLyBTZWU6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Jhc2U2NCNVUkxfYXBwbGljYXRpb25zXG5yZXZMb29rdXBbJy0nLmNoYXJDb2RlQXQoMCldID0gNjJcbnJldkxvb2t1cFsnXycuY2hhckNvZGVBdCgwKV0gPSA2M1xuXG5mdW5jdGlvbiBnZXRMZW5zIChiNjQpIHtcbiAgdmFyIGxlbiA9IGI2NC5sZW5ndGhcblxuICBpZiAobGVuICUgNCA+IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc3RyaW5nLiBMZW5ndGggbXVzdCBiZSBhIG11bHRpcGxlIG9mIDQnKVxuICB9XG5cbiAgLy8gVHJpbSBvZmYgZXh0cmEgYnl0ZXMgYWZ0ZXIgcGxhY2Vob2xkZXIgYnl0ZXMgYXJlIGZvdW5kXG4gIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2JlYXRnYW1taXQvYmFzZTY0LWpzL2lzc3Vlcy80MlxuICB2YXIgdmFsaWRMZW4gPSBiNjQuaW5kZXhPZignPScpXG4gIGlmICh2YWxpZExlbiA9PT0gLTEpIHZhbGlkTGVuID0gbGVuXG5cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IHZhbGlkTGVuID09PSBsZW5cbiAgICA/IDBcbiAgICA6IDQgLSAodmFsaWRMZW4gJSA0KVxuXG4gIHJldHVybiBbdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbl1cbn1cblxuLy8gYmFzZTY0IGlzIDQvMyArIHVwIHRvIHR3byBjaGFyYWN0ZXJzIG9mIHRoZSBvcmlnaW5hbCBkYXRhXG5mdW5jdGlvbiBieXRlTGVuZ3RoIChiNjQpIHtcbiAgdmFyIGxlbnMgPSBnZXRMZW5zKGI2NClcbiAgdmFyIHZhbGlkTGVuID0gbGVuc1swXVxuICB2YXIgcGxhY2VIb2xkZXJzTGVuID0gbGVuc1sxXVxuICByZXR1cm4gKCh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCkgLSBwbGFjZUhvbGRlcnNMZW5cbn1cblxuZnVuY3Rpb24gX2J5dGVMZW5ndGggKGI2NCwgdmFsaWRMZW4sIHBsYWNlSG9sZGVyc0xlbikge1xuICByZXR1cm4gKCh2YWxpZExlbiArIHBsYWNlSG9sZGVyc0xlbikgKiAzIC8gNCkgLSBwbGFjZUhvbGRlcnNMZW5cbn1cblxuZnVuY3Rpb24gdG9CeXRlQXJyYXkgKGI2NCkge1xuICB2YXIgdG1wXG4gIHZhciBsZW5zID0gZ2V0TGVucyhiNjQpXG4gIHZhciB2YWxpZExlbiA9IGxlbnNbMF1cbiAgdmFyIHBsYWNlSG9sZGVyc0xlbiA9IGxlbnNbMV1cblxuICB2YXIgYXJyID0gbmV3IEFycihfYnl0ZUxlbmd0aChiNjQsIHZhbGlkTGVuLCBwbGFjZUhvbGRlcnNMZW4pKVxuXG4gIHZhciBjdXJCeXRlID0gMFxuXG4gIC8vIGlmIHRoZXJlIGFyZSBwbGFjZWhvbGRlcnMsIG9ubHkgZ2V0IHVwIHRvIHRoZSBsYXN0IGNvbXBsZXRlIDQgY2hhcnNcbiAgdmFyIGxlbiA9IHBsYWNlSG9sZGVyc0xlbiA+IDBcbiAgICA/IHZhbGlkTGVuIC0gNFxuICAgIDogdmFsaWRMZW5cblxuICB2YXIgaVxuICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpICs9IDQpIHtcbiAgICB0bXAgPVxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTgpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA8PCAxMikgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildIDw8IDYpIHxcbiAgICAgIHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMyldXG4gICAgYXJyW2N1ckJ5dGUrK10gPSAodG1wID4+IDE2KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9ICh0bXAgPj4gOCkgJiAweEZGXG4gICAgYXJyW2N1ckJ5dGUrK10gPSB0bXAgJiAweEZGXG4gIH1cblxuICBpZiAocGxhY2VIb2xkZXJzTGVuID09PSAyKSB7XG4gICAgdG1wID1cbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDIpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDEpXSA+PiA0KVxuICAgIGFycltjdXJCeXRlKytdID0gdG1wICYgMHhGRlxuICB9XG5cbiAgaWYgKHBsYWNlSG9sZGVyc0xlbiA9PT0gMSkge1xuICAgIHRtcCA9XG4gICAgICAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxMCkgfFxuICAgICAgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDQpIHxcbiAgICAgIChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSArIDIpXSA+PiAyKVxuICAgIGFycltjdXJCeXRlKytdID0gKHRtcCA+PiA4KSAmIDB4RkZcbiAgICBhcnJbY3VyQnl0ZSsrXSA9IHRtcCAmIDB4RkZcbiAgfVxuXG4gIHJldHVybiBhcnJcbn1cblxuZnVuY3Rpb24gdHJpcGxldFRvQmFzZTY0IChudW0pIHtcbiAgcmV0dXJuIGxvb2t1cFtudW0gPj4gMTggJiAweDNGXSArXG4gICAgbG9va3VwW251bSA+PiAxMiAmIDB4M0ZdICtcbiAgICBsb29rdXBbbnVtID4+IDYgJiAweDNGXSArXG4gICAgbG9va3VwW251bSAmIDB4M0ZdXG59XG5cbmZ1bmN0aW9uIGVuY29kZUNodW5rICh1aW50OCwgc3RhcnQsIGVuZCkge1xuICB2YXIgdG1wXG4gIHZhciBvdXRwdXQgPSBbXVxuICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkgKz0gMykge1xuICAgIHRtcCA9XG4gICAgICAoKHVpbnQ4W2ldIDw8IDE2KSAmIDB4RkYwMDAwKSArXG4gICAgICAoKHVpbnQ4W2kgKyAxXSA8PCA4KSAmIDB4RkYwMCkgK1xuICAgICAgKHVpbnQ4W2kgKyAyXSAmIDB4RkYpXG4gICAgb3V0cHV0LnB1c2godHJpcGxldFRvQmFzZTY0KHRtcCkpXG4gIH1cbiAgcmV0dXJuIG91dHB1dC5qb2luKCcnKVxufVxuXG5mdW5jdGlvbiBmcm9tQnl0ZUFycmF5ICh1aW50OCkge1xuICB2YXIgdG1wXG4gIHZhciBsZW4gPSB1aW50OC5sZW5ndGhcbiAgdmFyIGV4dHJhQnl0ZXMgPSBsZW4gJSAzIC8vIGlmIHdlIGhhdmUgMSBieXRlIGxlZnQsIHBhZCAyIGJ5dGVzXG4gIHZhciBwYXJ0cyA9IFtdXG4gIHZhciBtYXhDaHVua0xlbmd0aCA9IDE2MzgzIC8vIG11c3QgYmUgbXVsdGlwbGUgb2YgM1xuXG4gIC8vIGdvIHRocm91Z2ggdGhlIGFycmF5IGV2ZXJ5IHRocmVlIGJ5dGVzLCB3ZSdsbCBkZWFsIHdpdGggdHJhaWxpbmcgc3R1ZmYgbGF0ZXJcbiAgZm9yICh2YXIgaSA9IDAsIGxlbjIgPSBsZW4gLSBleHRyYUJ5dGVzOyBpIDwgbGVuMjsgaSArPSBtYXhDaHVua0xlbmd0aCkge1xuICAgIHBhcnRzLnB1c2goZW5jb2RlQ2h1bmsoXG4gICAgICB1aW50OCwgaSwgKGkgKyBtYXhDaHVua0xlbmd0aCkgPiBsZW4yID8gbGVuMiA6IChpICsgbWF4Q2h1bmtMZW5ndGgpXG4gICAgKSlcbiAgfVxuXG4gIC8vIHBhZCB0aGUgZW5kIHdpdGggemVyb3MsIGJ1dCBtYWtlIHN1cmUgdG8gbm90IGZvcmdldCB0aGUgZXh0cmEgYnl0ZXNcbiAgaWYgKGV4dHJhQnl0ZXMgPT09IDEpIHtcbiAgICB0bXAgPSB1aW50OFtsZW4gLSAxXVxuICAgIHBhcnRzLnB1c2goXG4gICAgICBsb29rdXBbdG1wID4+IDJdICtcbiAgICAgIGxvb2t1cFsodG1wIDw8IDQpICYgMHgzRl0gK1xuICAgICAgJz09J1xuICAgIClcbiAgfSBlbHNlIGlmIChleHRyYUJ5dGVzID09PSAyKSB7XG4gICAgdG1wID0gKHVpbnQ4W2xlbiAtIDJdIDw8IDgpICsgdWludDhbbGVuIC0gMV1cbiAgICBwYXJ0cy5wdXNoKFxuICAgICAgbG9va3VwW3RtcCA+PiAxMF0gK1xuICAgICAgbG9va3VwWyh0bXAgPj4gNCkgJiAweDNGXSArXG4gICAgICBsb29rdXBbKHRtcCA8PCAyKSAmIDB4M0ZdICtcbiAgICAgICc9J1xuICAgIClcbiAgfVxuXG4gIHJldHVybiBwYXJ0cy5qb2luKCcnKVxufVxuIiwiZXhwb3J0cy5yZWFkID0gZnVuY3Rpb24gKGJ1ZmZlciwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHtcbiAgdmFyIGUsIG1cbiAgdmFyIGVMZW4gPSAobkJ5dGVzICogOCkgLSBtTGVuIC0gMVxuICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMVxuICB2YXIgZUJpYXMgPSBlTWF4ID4+IDFcbiAgdmFyIG5CaXRzID0gLTdcbiAgdmFyIGkgPSBpc0xFID8gKG5CeXRlcyAtIDEpIDogMFxuICB2YXIgZCA9IGlzTEUgPyAtMSA6IDFcbiAgdmFyIHMgPSBidWZmZXJbb2Zmc2V0ICsgaV1cblxuICBpICs9IGRcblxuICBlID0gcyAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKVxuICBzID4+PSAoLW5CaXRzKVxuICBuQml0cyArPSBlTGVuXG4gIGZvciAoOyBuQml0cyA+IDA7IGUgPSAoZSAqIDI1NikgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblxuICBtID0gZSAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKVxuICBlID4+PSAoLW5CaXRzKVxuICBuQml0cyArPSBtTGVuXG4gIGZvciAoOyBuQml0cyA+IDA7IG0gPSAobSAqIDI1NikgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge31cblxuICBpZiAoZSA9PT0gMCkge1xuICAgIGUgPSAxIC0gZUJpYXNcbiAgfSBlbHNlIGlmIChlID09PSBlTWF4KSB7XG4gICAgcmV0dXJuIG0gPyBOYU4gOiAoKHMgPyAtMSA6IDEpICogSW5maW5pdHkpXG4gIH0gZWxzZSB7XG4gICAgbSA9IG0gKyBNYXRoLnBvdygyLCBtTGVuKVxuICAgIGUgPSBlIC0gZUJpYXNcbiAgfVxuICByZXR1cm4gKHMgPyAtMSA6IDEpICogbSAqIE1hdGgucG93KDIsIGUgLSBtTGVuKVxufVxuXG5leHBvcnRzLndyaXRlID0gZnVuY3Rpb24gKGJ1ZmZlciwgdmFsdWUsIG9mZnNldCwgaXNMRSwgbUxlbiwgbkJ5dGVzKSB7XG4gIHZhciBlLCBtLCBjXG4gIHZhciBlTGVuID0gKG5CeXRlcyAqIDgpIC0gbUxlbiAtIDFcbiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDFcbiAgdmFyIGVCaWFzID0gZU1heCA+PiAxXG4gIHZhciBydCA9IChtTGVuID09PSAyMyA/IE1hdGgucG93KDIsIC0yNCkgLSBNYXRoLnBvdygyLCAtNzcpIDogMClcbiAgdmFyIGkgPSBpc0xFID8gMCA6IChuQnl0ZXMgLSAxKVxuICB2YXIgZCA9IGlzTEUgPyAxIDogLTFcbiAgdmFyIHMgPSB2YWx1ZSA8IDAgfHwgKHZhbHVlID09PSAwICYmIDEgLyB2YWx1ZSA8IDApID8gMSA6IDBcblxuICB2YWx1ZSA9IE1hdGguYWJzKHZhbHVlKVxuXG4gIGlmIChpc05hTih2YWx1ZSkgfHwgdmFsdWUgPT09IEluZmluaXR5KSB7XG4gICAgbSA9IGlzTmFOKHZhbHVlKSA/IDEgOiAwXG4gICAgZSA9IGVNYXhcbiAgfSBlbHNlIHtcbiAgICBlID0gTWF0aC5mbG9vcihNYXRoLmxvZyh2YWx1ZSkgLyBNYXRoLkxOMilcbiAgICBpZiAodmFsdWUgKiAoYyA9IE1hdGgucG93KDIsIC1lKSkgPCAxKSB7XG4gICAgICBlLS1cbiAgICAgIGMgKj0gMlxuICAgIH1cbiAgICBpZiAoZSArIGVCaWFzID49IDEpIHtcbiAgICAgIHZhbHVlICs9IHJ0IC8gY1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZSArPSBydCAqIE1hdGgucG93KDIsIDEgLSBlQmlhcylcbiAgICB9XG4gICAgaWYgKHZhbHVlICogYyA+PSAyKSB7XG4gICAgICBlKytcbiAgICAgIGMgLz0gMlxuICAgIH1cblxuICAgIGlmIChlICsgZUJpYXMgPj0gZU1heCkge1xuICAgICAgbSA9IDBcbiAgICAgIGUgPSBlTWF4XG4gICAgfSBlbHNlIGlmIChlICsgZUJpYXMgPj0gMSkge1xuICAgICAgbSA9ICgodmFsdWUgKiBjKSAtIDEpICogTWF0aC5wb3coMiwgbUxlbilcbiAgICAgIGUgPSBlICsgZUJpYXNcbiAgICB9IGVsc2Uge1xuICAgICAgbSA9IHZhbHVlICogTWF0aC5wb3coMiwgZUJpYXMgLSAxKSAqIE1hdGgucG93KDIsIG1MZW4pXG4gICAgICBlID0gMFxuICAgIH1cbiAgfVxuXG4gIGZvciAoOyBtTGVuID49IDg7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IG0gJiAweGZmLCBpICs9IGQsIG0gLz0gMjU2LCBtTGVuIC09IDgpIHt9XG5cbiAgZSA9IChlIDw8IG1MZW4pIHwgbVxuICBlTGVuICs9IG1MZW5cbiAgZm9yICg7IGVMZW4gPiAwOyBidWZmZXJbb2Zmc2V0ICsgaV0gPSBlICYgMHhmZiwgaSArPSBkLCBlIC89IDI1NiwgZUxlbiAtPSA4KSB7fVxuXG4gIGJ1ZmZlcltvZmZzZXQgKyBpIC0gZF0gfD0gcyAqIDEyOFxufVxuIiwidmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoYXJyKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGFycikgPT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG4iLCJpbXBvcnQge2ZhYnJpY30gZnJvbSAnZmFicmljJ1xuaW1wb3J0IHtMaW5lfSBmcm9tICcuL2xpbmUnXG5cbmV4cG9ydCBjbGFzcyBDYW52YXMgZXh0ZW5kcyBmYWJyaWMuQ2FudmFzIHtcblxuICAgIGNvbnN0cnVjdG9yKGRvbUVsZW1lbmRJZCkge1xuICAgICAgICBzdXBlcihkb21FbGVtZW5kSWQpXG4gICAgICAgIHRoaXMuZG9tRWxlbWVuZElkID0gZG9tRWxlbWVuZElkXG4gICAgICAgIHRoaXMuc2NhbGUgPSB7dmFsdWU6IG51bGwsIHNoYXBlOiBudWxsfVxuICAgICAgICB0aGlzLmN1c3RvbUJhY2tncm91bmRJbWFnZSA9IG51bGxcbiAgICAgICAgLy8gdGhpcy5fbG9ja09iamVjdHNUb0JvdW5kYXJpZXMoKVxuICAgIH1cblxuICAgIGdldEltYWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXN0b21CYWNrZ3JvdW5kSW1hZ2VcbiAgICB9XG5cbiAgICBzZXRJbWFnZShpbWFnZSkge1xuICAgICAgICB0aGlzLmN1c3RvbUJhY2tncm91bmRJbWFnZSA9IGltYWdlXG4gICAgfVxuXG4gICAgc2V0SW1hZ2VGcm9tRmlsZShpbWFnZUZpbGUpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuXG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKVxuXG4gICAgICAgICAgICBpbWcuc3JjID0gcmVhZGVyLnJlc3VsdFxuXG4gICAgICAgICAgICB0aGlzLmN1c3RvbUJhY2tncm91bmRJbWFnZSA9IG5ldyBmYWJyaWMuSW1hZ2UoaW1nKVxuICAgICAgICAgICAgdGhpcy5jdXN0b21CYWNrZ3JvdW5kSW1hZ2Uuc2NhbGUodGhpcy5oZWlnaHQgLyB0aGlzLmN1c3RvbUJhY2tncm91bmRJbWFnZS5oZWlnaHQpXG4gICAgICAgICAgICB0aGlzLmFkZCh0aGlzLmN1c3RvbUJhY2tncm91bmRJbWFnZSlcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQWxsKClcbiAgICAgICAgfTtcblxuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChpbWFnZUZpbGUpO1xuICAgIH1cblxuICAgIGxvY2tJbWFnZSgpIHtcbiAgICAgICAgdGhpcy5zZW5kVG9CYWNrKHRoaXMuY3VzdG9tQmFja2dyb3VuZEltYWdlKVxuICAgICAgICB0aGlzLmN1c3RvbUJhY2tncm91bmRJbWFnZS5oYXNDb250cm9scyA9IGZhbHNlXG4gICAgICAgIHRoaXMuY3VzdG9tQmFja2dyb3VuZEltYWdlLnNlbGVjdGFibGUgPSBmYWxzZVxuICAgICAgICB0aGlzLmN1c3RvbUJhY2tncm91bmRJbWFnZS5ob3ZlckN1cnNvciA9ICdkZWZhdWx0J1xuICAgICAgICB0aGlzLmRpc2NhcmRBY3RpdmVPYmplY3QoKTtcbiAgICAgICAgdGhpcy5yZW5kZXJBbGwoKVxuICAgIH1cblxuICAgIF9sb2NrT2JqZWN0c1RvQm91bmRhcmllcygpIHtcbiAgICAgICAgdGhpcy5vbignb2JqZWN0Om1vdmluZycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgb2JqID0gZS50YXJnZXQ7XG5cbiAgICAgICAgICAgIC8vIGlmIG9iamVjdCBpcyB0b28gYmlnIGlnbm9yZVxuICAgICAgICAgICAgaWYgKG9iai5jdXJyZW50SGVpZ2h0ID4gdGhpcy5oZWlnaHQgfHwgb2JqLmN1cnJlbnRXaWR0aCA+IHRoaXMud2lkdGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvYmouc2V0Q29vcmRzKCk7XG4gICAgICAgICAgICAvLyB0b3AtbGVmdCAgY29ybmVyXG4gICAgICAgICAgICBpZiAob2JqLmdldEJvdW5kaW5nUmVjdCgpLnRvcCA8IDAgfHwgb2JqLmdldEJvdW5kaW5nUmVjdCgpLmxlZnQgPCAwKSB7XG4gICAgICAgICAgICAgICAgb2JqLnRvcCA9IE1hdGgubWF4KG9iai50b3AsIG9iai50b3AgLSBvYmouZ2V0Qm91bmRpbmdSZWN0KCkudG9wKTtcbiAgICAgICAgICAgICAgICBvYmoubGVmdCA9IE1hdGgubWF4KG9iai5sZWZ0LCBvYmoubGVmdCAtIG9iai5nZXRCb3VuZGluZ1JlY3QoKS5sZWZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGJvdC1yaWdodCBjb3JuZXJcbiAgICAgICAgICAgIGlmIChvYmouZ2V0Qm91bmRpbmdSZWN0KCkudG9wICsgb2JqLmdldEJvdW5kaW5nUmVjdCgpLmhlaWdodCA+IHRoaXMuaGVpZ2h0IHx8XG4gICAgICAgICAgICAgICAgICAgIG9iai5nZXRCb3VuZGluZ1JlY3QoKS5sZWZ0ICsgb2JqLmdldEJvdW5kaW5nUmVjdCgpLndpZHRoID4gdGhpcy53aWR0aCkge1xuICAgICAgICAgICAgICAgIG9iai50b3AgPSBNYXRoLm1pbihvYmoudG9wLCB0aGlzLmhlaWdodCAtIG9iai5nZXRCb3VuZGluZ1JlY3QoKS5oZWlnaHQgK1xuICAgICAgICAgICAgICAgICAgICBvYmoudG9wIC0gb2JqLmdldEJvdW5kaW5nUmVjdCgpLnRvcCk7XG4gICAgICAgICAgICAgICAgb2JqLmxlZnQgPSBNYXRoLm1pbihvYmoubGVmdCwgdGhpcy53aWR0aCAtIG9iai5nZXRCb3VuZGluZ1JlY3QoKS53aWR0aCArXG4gICAgICAgICAgICAgICAgICAgIG9iai5sZWZ0IC0gb2JqLmdldEJvdW5kaW5nUmVjdCgpLmxlZnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZXRTY2FsZShzY2FsZURlZmluaXRpb24pIHtcbiAgICAgICAgaWYgKHNjYWxlRGVmaW5pdGlvbi5zaGFwZSkge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS5zaGFwZSA9IHNjYWxlRGVmaW5pdGlvbi5zaGFwZVxuICAgICAgICAgICAgdGhpcy5zY2FsZS5zaGFwZS5oYXNDb250cm9scyA9IGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjYWxlRGVmaW5pdGlvbi52YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5zY2FsZS52YWx1ZSA9IHNjYWxlRGVmaW5pdGlvbi52YWx1ZVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0U2NhbGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjYWxlXG4gICAgfVxuXG4gICAgbG9ja1NjYWxlKCkge1xuICAgICAgICB0aGlzLnNjYWxlLnNoYXBlLmhhc0NvbnRyb2xzID0gZmFsc2VcbiAgICB9XG5cbiAgICByZW1vdmUob2JqZWN0cykge1xuICAgICAgICBjb25zb2xlLmxvZygnYmljaGUnKVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmplY3RzKSkge1xuICAgICAgICAgICAgb2JqZWN0cy5mb3JFYWNoKChvYmplY3QpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAob2JqZWN0Lmhhc093blByb3BlcnR5KCdjbGVhcicpKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5jbGVhcigpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChvYmplY3RzLmhhc093blByb3BlcnR5KCdjbGVhcicpKSB7XG4gICAgICAgICAgICAgICAgb2JqZWN0cy5jbGVhcigpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYWxsU3VwZXIoJ3JlbW92ZScsIG9iamVjdHMpXG4gICAgfVxuXG4gICAgY2xlYXJTY2FsZSgpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2NsZWFyIHNjYWxlcyB1amJqZycpXG4gICAgICAgIGlmICh0aGlzLnNjYWxlLnNoYXBlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnY2xlYXIgc2NhbGUnKVxuICAgICAgICAgICAgdGhpcy5jbGVhcigpXG4gICAgICAgICAgICB0aGlzLnJlbW92ZSh0aGlzLnNjYWxlLnNoYXBlKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGxpbmUgdXNlciBjYW4gY2xpY2sgb24gdG8gZHVwbGljYXRlIGl0IGFuZCB1c2UgdGhlIGR1cGxpY2F0ZSBpbnRvIHRoZSBzY2VuZS5cbiAgICAgKi9cbiAgICBjcmVhdGVTY2FsZWRMaW5lKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSAodGhpcy5zY2FsZS5zaGFwZS53aWR0aCAqIHRoaXMuc2NhbGUuc2hhcGUuc2NhbGVYKSAvIHRoaXMuc2NhbGUudmFsdWVcblxuICAgICAgICBvcHRpb25zLnRvcCA9IG9wdGlvbnMudG9wICogc2NhbGVcbiAgICAgICAgb3B0aW9ucy5sZWZ0ID0gb3B0aW9ucy5sZWZ0ICogc2NhbGVcbiAgICAgICAgb3B0aW9ucy53aWR0aCA9IG9wdGlvbnMud2lkdGggKiBzY2FsZVxuICAgICAgICBvcHRpb25zLmhlaWdodCA9IG9wdGlvbnMuc3Ryb2tlICogc2NhbGVcblxuICAgICAgICByZXR1cm4gbmV3IExpbmUob3B0aW9ucylcbiAgICB9XG5cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=